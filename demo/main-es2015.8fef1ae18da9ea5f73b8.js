(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"5WJX":function(t,e,n){!function(e){"use strict";var n=function(){},r=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(null,n))}},i=function(t){return function(){return t}},o=function(t){return t};function s(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.concat(n);return t.apply(null,i)}}var a=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}},u=i(!1),l=i(!0),c=function(){return d},d=function(){var t=function(t){return t.isNone()},e=function(t){return t()},r=function(t){return t},o={fold:function(t,e){return t()},is:u,isSome:u,isNone:l,getOr:r,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:r,orThunk:e,map:c,each:n,bind:c,exists:u,forall:l,filter:c,equals:t,equals_:t,toArray:function(){return[]},toString:i("none()")};return Object.freeze&&Object.freeze(o),o}(),f=function(t){var e=i(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:l,isNone:u,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return f(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:d},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(u,(function(e){return n(t,e)}))}};return o},h={some:f,none:c,from:function(t){return null==t?d:f(t)}},m=function(t){return function(e){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(e)===t}},p=m("string"),g=m("object"),v=m("array"),b=m("null"),y=m("boolean"),_=m("function"),w=m("number"),x=Array.prototype.slice,C=Array.prototype.indexOf,S=Array.prototype.push,k=function(t,e){return C.call(t,e)},E=function(t,e){return k(t,e)>-1},O=function(t,e){for(var n=0,r=t.length;n<r;n++)if(e(t[n],n))return!0;return!1},T=function(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;i++)r[i]=e(t[i],i);return r},A=function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)},D=function(t,e){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];e(o,r)&&n.push(o)}return n},M=function(t,e,n){return function(t,e){for(var n=t.length-1;n>=0;n--)e(t[n])}(t,(function(t){n=e(n,t)})),n},R=function(t,e,n){return A(t,(function(t){n=e(n,t)})),n},I=function(t,e){for(var n=0,r=t.length;n<r;n++){var i=t[n];if(e(i,n))return h.some(i)}return h.none()},N=function(t,e){for(var n=0,r=t.length;n<r;n++)if(e(t[n],n))return h.some(n);return h.none()},z=function(t,e){return function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!v(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);S.apply(e,t[n])}return e}(T(t,e))},P=function(t,e){for(var n=0,r=t.length;n<r;++n)if(!0!==e(t[n],n))return!1;return!0},F=function(t){var e=x.call(t,0);return e.reverse(),e},B=function(t,e){return D(t,(function(t){return!E(e,t)}))},L=function(t){return 0===t.length?h.none():h.some(t[0])},H=function(t){return 0===t.length?h.none():h.some(t[t.length-1])},V=_(Array.from)?Array.from:function(t){return x.call(t)},j=Object.keys,U=Object.hasOwnProperty,$=function(t,e){for(var n=j(t),r=0,i=n.length;r<i;r++){var o=n[r];e(t[o],o)}},W=function(t,e){return q(t,(function(t,n){return{k:n,v:e(t,n)}}))},q=function(t,e){var n={};return $(t,(function(t,r){var i=e(t,r);n[i.k]=i.v})),n},G=function(t){return function(e,n){t[n]=e}},Y=function(t,e,n,r){return $(t,(function(t,i){(e(t,i)?n:r)(t,i)})),{}},K=function(t,e){var n={},r={};return Y(t,e,G(n),G(r)),{t:n,f:r}},X=function(t,e){return Z(t,e)?h.from(t[e]):h.none()},Z=function(t,e){return U.call(t,e)},Q=function(){return(Q=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},J=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:i(t)}},tt=function(t,n){var r=(n||e.document).createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return J(r.childNodes[0])},et=function(t,n){var r=(n||e.document).createElement(t);return J(r)},nt=function(t,n){var r=(n||e.document).createTextNode(t);return J(r)},rt=J,it=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return it(n())}}},ot=function(){return st(0,0)},st=function(t,e){return{major:t,minor:e}},at=function(t,e){var n=String(e).toLowerCase();return 0===t.length?ot():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}}(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return st(r(1),r(2))}(t,n)},ut=ot,lt=function(t,e){return function(){return e===t}},ct=function(t){var e=t.current;return{current:e,version:t.version,isEdge:lt("Edge",e),isChrome:lt("Chrome",e),isIE:lt("IE",e),isOpera:lt("Opera",e),isFirefox:lt("Firefox",e),isSafari:lt("Safari",e)}},dt=function(){return ct({current:void 0,version:ut()})},ft=ct,ht=(i("Edge"),i("Chrome"),i("IE"),i("Opera"),i("Firefox"),i("Safari"),function(t,e){return function(){return e===t}}),mt=function(t){var e=t.current;return{current:e,version:t.version,isWindows:ht("Windows",e),isiOS:ht("iOS",e),isAndroid:ht("Android",e),isOSX:ht("OSX",e),isLinux:ht("Linux",e),isSolaris:ht("Solaris",e),isFreeBSD:ht("FreeBSD",e),isChromeOS:ht("ChromeOS",e)}},pt=function(){return mt({current:void 0,version:ut()})},gt=mt,vt=(i("Windows"),i("iOS"),i("Android"),i("Linux"),i("OSX"),i("Solaris"),i("FreeBSD"),i("ChromeOS"),function(t,e){var n=String(e).toLowerCase();return I(t,(function(t){return t.search(n)}))}),bt=function(t,e){return-1!==t.indexOf(e)},yt=function(t,e){return function(t,e,n){return""===e||!(t.length<e.length)&&t.substr(0,0+e.length)===e}(t,e)},_t=function(t){return t.replace(/^\s+|\s+$/g,"")},wt=function(t){return t.replace(/\s+$/g,"")},xt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ct=function(t){return function(e){return bt(e,t)}},St=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return bt(t,"edge/")&&bt(t,"chrome")&&bt(t,"safari")&&bt(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,xt],search:function(t){return bt(t,"chrome")&&!bt(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return bt(t,"msie")||bt(t,"trident")}},{name:"Opera",versionRegexes:[xt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ct("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ct("firefox")},{name:"Safari",versionRegexes:[xt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(bt(t,"safari")||bt(t,"mobile/"))&&bt(t,"applewebkit")}}],kt=[{name:"Windows",search:Ct("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return bt(t,"iphone")||bt(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ct("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ct("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ct("linux"),versionRegexes:[]},{name:"Solaris",search:Ct("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ct("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ct("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Et={browsers:i(St),oses:i(kt)},Ot=it(function(t,n){var r=Et.browsers(),o=Et.oses(),s=function(t,e){return vt(t,e).map((function(t){var n=at(t.versionRegexes,e);return{current:t.name,version:n}}))}(r,t).fold(dt,ft),a=function(t,e){return vt(t,e).map((function(t){var n=at(t.versionRegexes,e);return{current:t.name,version:n}}))}(o,t).fold(pt,gt),u=function(t,e,n,r){var o=t.isiOS()&&!0===/ipad/i.test(n),s=t.isiOS()&&!o,a=t.isiOS()||t.isAndroid(),u=a||r("(pointer:coarse)"),l=o||!s&&a&&r("(min-device-width:768px)"),c=s||a&&!l,d=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),f=!c&&!l&&!d;return{isiPad:i(o),isiPhone:i(s),isTablet:i(l),isPhone:i(c),isTouch:i(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:i(d),isDesktop:i(f)}}(a,s,t,(function(t){return e.window.matchMedia(t).matches}));return{browser:s,os:a,deviceType:u}}(e.navigator.userAgent)),Tt=function(){return Ot.get()},At=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t.length!==e.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+e.length+" arguments");var r={};return A(t,(function(t,n){r[t]=i(e[n])})),r}},Dt=function(t,e){var n=[],r=function(t){return n.push(t),e(t)},i=e(t);do{i=i.bind(r)}while(i.isSome());return n},Mt=e.Node.ELEMENT_NODE,Rt=e.Node.TEXT_NODE,It=Mt,Nt=e.Node.DOCUMENT_NODE,zt=function(t,e){var n=t.dom();if(n.nodeType!==It)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},Pt=function(t){return t.nodeType!==It&&t.nodeType!==Nt||0===t.childElementCount},Ft=function(t,e){return t.dom()===e.dom()},Bt=Tt().browser.isIE()?function(t,n){return function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)}(t.dom(),n.dom(),e.Node.DOCUMENT_POSITION_CONTAINED_BY)}:function(t,e){var n=t.dom(),r=e.dom();return n!==r&&n.contains(r)},Lt=function(t){return rt(t.dom().ownerDocument)},Ht=function(t){return rt(t.dom().ownerDocument.defaultView)},Vt=function(t){return h.from(t.dom().parentNode).map(rt)},jt=function(t){return h.from(t.dom().previousSibling).map(rt)},Ut=function(t){return h.from(t.dom().nextSibling).map(rt)},$t=function(t){return F(Dt(t,jt))},Wt=function(t){return Dt(t,Ut)},qt=function(t){return T(t.dom().childNodes,rt)},Gt=function(t,e){var n=t.dom().childNodes;return h.from(n[e]).map(rt)},Yt=function(t){return Gt(t,0)},Kt=function(t){return Gt(t,t.dom().childNodes.length-1)},Xt=(At("element","offset"),function(t,e){Vt(t).each((function(n){n.dom().insertBefore(e.dom(),t.dom())}))}),Zt=function(t,e){Ut(t).fold((function(){Vt(t).each((function(t){Jt(t,e)}))}),(function(t){Xt(t,e)}))},Qt=function(t,e){Yt(t).fold((function(){Jt(t,e)}),(function(n){t.dom().insertBefore(e.dom(),n.dom())}))},Jt=function(t,e){t.dom().appendChild(e.dom())},te=function(t,e){A(e,(function(e){Jt(t,e)}))},ee=function(t){t.dom().textContent="",A(qt(t),(function(t){ne(t)}))},ne=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},re=function(t){var e,n=qt(t);n.length>0&&(e=t,A(n,(function(t){Xt(e,t)}))),ne(t)},ie=(void 0!==e.window||Function("return this;")(),function(t){return t.dom().nodeName.toLowerCase()}),oe=function(t){return function(e){return function(t){return t.dom().nodeType}(e)===t}},se=oe(Mt),ae=oe(Rt),ue=function(t){var e=ae(t)?t.dom().parentNode:t.dom();return null!=e&&e.ownerDocument.body.contains(e)},le=function(t,e){return{left:i(t),top:i(e),translate:function(n,r){return le(t+n,e+r)}}},ce=le,de=function(t,e){return void 0!==t?t:void 0!==e?e:0},fe=function(t){var e=t.dom(),n=e.ownerDocument.body;return n===e?ce(n.offsetLeft,n.offsetTop):ue(t)?function(t){var e=t.getBoundingClientRect();return ce(e.left,e.top)}(e):ce(0,0)},he=Tt().browser.isSafari(),me=function(t){var n=void 0!==t?t.dom():e.document;return ce(n.body.scrollLeft||n.documentElement.scrollLeft,n.body.scrollTop||n.documentElement.scrollTop)},pe=function(t,n,r){(void 0!==r?r.dom():e.document).defaultView.scrollTo(t,n)},ge=function(t,e){he&&_(t.dom().scrollIntoViewIfNeeded)?t.dom().scrollIntoViewIfNeeded(!1):t.dom().scrollIntoView(e)},ve=function(t,e,n,r){return{x:i(t),y:i(e),width:i(n),height:i(r),right:i(t+n),bottom:i(e+r)}},be=function(t){var n=void 0===t?e.window:t,r=me(rt(n.document));return function(t){return h.from((void 0===t?e.window:t).visualViewport)}(n).fold((function(){var t=n.document.documentElement,e=t.clientWidth,i=t.clientHeight;return ve(r.left(),r.top(),e,i)}),(function(t){return ve(Math.max(t.pageLeft,r.left()),Math.max(t.pageTop,r.top()),t.width,t.height)}))},ye=function(t){return function(e){return!!e&&e.nodeType===t}},_e=ye(1),we=function(t){var e=t.map((function(t){return t.toLowerCase()}));return function(t){if(t&&t.nodeName){var n=t.nodeName.toLowerCase();return E(e,n)}return!1}},xe=function(t){return function(e){if(_e(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},Ce=we(["textarea","input"]),Se=ye(3),ke=ye(8),Ee=ye(9),Oe=ye(11),Te=we(["br"]),Ae=xe("true"),De=xe("false"),Me={isText:Se,isElement:_e,isComment:ke,isDocument:Ee,isDocumentFragment:Oe,isBr:Te,isContentEditableTrue:Ae,isContentEditableFalse:De,isRestrictedNode:function(t){return!!t&&!Object.getPrototypeOf(t)},matchNodeNames:we,hasPropValue:function(t,e){return function(n){return _e(n)&&n[t]===e}},hasAttribute:function(t,e){return function(e){return _e(e)&&e.hasAttribute(t)}},hasAttributeValue:function(t,e){return function(n){return _e(n)&&n.getAttribute(t)===e}},matchStyleValues:function(t,e){var n=e.toLowerCase().split(" ");return function(e){var r;if(_e(e))for(r=0;r<n.length;r++){var i=e.ownerDocument.defaultView.getComputedStyle(e,null);if((i?i.getPropertyValue(t):null)===n[r])return!0}return!1}},isBogus:function(t){return _e(t)&&t.hasAttribute("data-mce-bogus")},isBogusAll:function(t){return _e(t)&&"all"===t.getAttribute("data-mce-bogus")},isTable:function(t){return _e(t)&&"TABLE"===t.tagName},isTextareaOrInput:Ce},Re=function(t){return void 0!==t.style&&_(t.style.getPropertyValue)},Ie=function(t,n,r){if(!(p(r)||y(r)||w(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},Ne=function(t,e,n){Ie(t.dom(),e,n)},ze=function(t,e){var n=t.dom();$(e,(function(t,e){Ie(n,e,t)}))},Pe=function(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n},Fe=function(t,e){t.dom().removeAttribute(e)},Be=function(t,n){var r=t.dom(),i=e.window.getComputedStyle(r).getPropertyValue(n),o=""!==i||ue(t)?i:Le(r,n);return null===o?void 0:o},Le=function(t,e){return Re(t)?t.style.getPropertyValue(e):""},He=function(t,e){var n=t.dom(),r=Le(n,e);return h.from(r).filter((function(t){return t.length>0}))},Ve=Tt().browser,je=function(t){return I(t,se)},Ue=function(t,e){return t.children&&E(t.children,e)},$e={},We={exports:$e};!function(t,e,n,r){!function(t){"object"==typeof e&&void 0!==n?n.exports=t():("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=t()}((function(){return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};e[s][0].call(l.exports,(function(t){return i(e[s][1][t]||t)}),l,l.exports,t,e,n,r)}return n[s].exports}for(var o=!1,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){var r,i,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(t){r=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,c=[],d=!1,f=-1;function h(){d&&l&&(d=!1,l.length?c=l.concat(c):f=-1,c.length&&m())}function m(){if(!d){var t=u(h);d=!0;for(var e=c.length;e;){for(l=c,c=[];++f<e;)l&&l[f].run();f=-1,e=c.length}l=null,d=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||d||u(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){!function(n){var r=setTimeout;function i(){}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function s(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(i){return void u(e.promise,i)}a(e.promise,r)}else(1===t._state?a:u)(e.promise,t._value)}))):t._deferreds.push(e)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void d((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(s){u(t,s)}var r,i}function u(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&o._immediateFn((function(){t._handled||o._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)s(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function d(t,e){var n=!1;try{t((function(t){n||(n=!0,a(e,t))}),(function(t){n||(n=!0,u(e,t))}))}catch(r){if(n)return;n=!0,u(e,r)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(i);return s(this,new c(t,e,n)),n},o.all=function(t){var e=Array.prototype.slice.call(t);return new o((function(t,n){if(0===e.length)return t([]);var r=e.length;function i(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){i(o,t)}),n)}e[o]=s,0==--r&&t(e)}catch(u){n(u)}}for(var o=0;o<e.length;o++)i(o,e[o])}))},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o((function(e){e(t)}))},o.reject=function(t){return new o((function(e,n){n(t)}))},o.race=function(t){return new o((function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)}))},o._immediateFn="function"==typeof t?function(e){t(e)}:function(t){r(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},o._setImmediateFn=function(t){o._immediateFn=t},o._setUnhandledRejectionFn=function(t){o._unhandledRejectionFn=t},void 0!==e&&e.exports?e.exports=o:n.Promise||(n.Promise=o)}(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,r){var i=t("process/browser.js").nextTick,o=Function.prototype.apply,s=Array.prototype.slice,a={},u=0;function l(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new l(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new l(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=u++,r=!(arguments.length<2)&&s.call(arguments,1);return a[e]=!0,i((function(){a[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof r?r:function(t){delete a[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var r=t("promise-polyfill"),i="undefined"!=typeof window?window:Function("return this;")();e.exports={boltExport:i.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))}(0,$e,We);var qe,Ge=We.exports.boltExport,Ye=function(t){var n=h.none(),r=[],i=function(t){o()?s(t):r.push(t)},o=function(){return n.isSome()},s=function(t){n.each((function(n){e.setTimeout((function(){t(n)}),0)}))};return t((function(t){n=h.some(t),A(r,s),r=[]})),{get:i,map:function(t){return Ye((function(e){i((function(n){e(t(n))}))}))},isReady:o}},Ke={nu:Ye,pure:function(t){return Ye((function(e){e(t)}))}},Xe=function(t){e.setTimeout((function(){throw t}),0)},Ze=function(t){var e=function(e){t().then(e,Xe)};return{map:function(e){return Ze((function(){return t().then(e)}))},bind:function(e){return Ze((function(){return t().then((function(t){return e(t).toPromise()}))}))},anonBind:function(e){return Ze((function(){return t().then((function(){return e.toPromise()}))}))},toLazy:function(){return Ke.nu(e)},toCached:function(){var e=null;return Ze((function(){return null===e&&(e=t()),e}))},toPromise:t,get:e}},Qe=function(t){return Ze((function(){return new Ge(t)}))},Je=function(t){return{is:function(e){return t===e},isValue:l,isError:u,getOr:i(t),getOrThunk:i(t),getOrDie:i(t),or:function(e){return Je(t)},orThunk:function(e){return Je(t)},fold:function(e,n){return n(t)},map:function(e){return Je(e(t))},mapError:function(e){return Je(t)},each:function(e){e(t)},bind:function(e){return e(t)},exists:function(e){return e(t)},forall:function(e){return e(t)},toOption:function(){return h.some(t)}}},tn=function(t){return{is:u,isValue:u,isError:l,getOr:o,getOrThunk:function(t){return t()},getOrDie:function(){return(e=String(t),function(){throw new Error(e)})();var e},or:function(t){return t},orThunk:function(t){return t()},fold:function(e,n){return e(t)},map:function(e){return tn(t)},mapError:function(e){return tn(e(t))},each:n,bind:function(e){return tn(t)},exists:u,forall:l,toOption:h.none}},en={value:Je,error:tn,fromOption:function(t,e){return t.fold((function(){return tn(e)}),Je)}},nn=window.Promise?window.Promise:function(){function t(t,e){return function(){t.apply(e,arguments)}}var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=function(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(e,t(s,this),t(a,this))},i=r.immediateFn||"function"==typeof e.setImmediate&&e.setImmediate||function(t){e.setTimeout(t,1)};function o(t){var e=this;null!==this._state?i((function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(i){return void t.reject(i)}t.resolve(r)}else(e._state?t.resolve:t.reject)(e._value)})):this._deferreds.push(t)}function s(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void c(t(n,e),t(s,this),t(a,this))}this._state=!0,this._value=e,u.call(this)}catch(r){a.call(this,r)}}function a(t){this._state=!1,this._value=t,u.call(this)}function u(){for(var t=0,e=this._deferreds.length;t<e;t++)o.call(this,this._deferreds[t]);this._deferreds=null}function l(t,e,n,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r}function c(t,e,n){var r=!1;try{t((function(t){r||(r=!0,e(t))}),(function(t){r||(r=!0,n(t))}))}catch(i){if(r)return;r=!0,n(i)}}return r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var n=this;return new r((function(r,i){o.call(n,new l(t,e,r,i))}))},r.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&n(arguments[0])?arguments[0]:arguments);return new r((function(e,n){if(0===t.length)return e([]);var r=t.length;function i(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){i(o,t)}),n)}t[o]=s,0==--r&&e(t)}catch(u){n(u)}}for(var o=0;o<t.length;o++)i(o,t[o])}))},r.resolve=function(t){return t&&"object"==typeof t&&t.constructor===r?t:new r((function(e){e(t)}))},r.reject=function(t){return new r((function(e,n){n(t)}))},r.race=function(t){return new r((function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)}))},r}(),rn=function(t,n){return"number"!=typeof n&&(n=0),e.setTimeout(t,n)},on=function(t,n){return"number"!=typeof n&&(n=1),e.setInterval(t,n)},sn=function(t,n){var r,i;return(i=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];e.clearTimeout(r),r=rn((function(){t.apply(this,i)}),n)}).stop=function(){e.clearTimeout(r)},i},an={requestAnimationFrame:function(t,n){qe?qe.then(t):qe=new nn((function(t){n||(n=e.document.body),function(t,n){var r,i=e.window.requestAnimationFrame,o=["ms","moz","webkit"];for(r=0;r<o.length&&!i;r++)i=e.window[o[r]+"RequestAnimationFrame"];i||(i=function(t){e.window.setTimeout(t,0)}),i(t,n)}(t,n)})).then(t)},setTimeout:rn,setInterval:on,setEditorTimeout:function(t,e,n){return rn((function(){t.removed||e()}),n)},setEditorInterval:function(t,n,r){var i;return i=on((function(){t.removed?e.clearInterval(i):n()}),r)},debounce:sn,throttle:sn,clearInterval:function(t){return e.clearInterval(t)},clearTimeout:function(t){return e.clearTimeout(t)}},un=e.navigator.userAgent,ln=Tt(),cn=ln.browser,dn=ln.os,fn=ln.deviceType,hn=/WebKit/.test(un)&&!cn.isEdge(),mn="FormData"in e.window&&"FileReader"in e.window&&"URL"in e.window&&!!e.URL.createObjectURL,pn=-1!==un.indexOf("Windows Phone"),gn={opera:cn.isOpera(),webkit:hn,ie:!(!cn.isIE()&&!cn.isEdge())&&cn.version.major,gecko:cn.isFirefox(),mac:dn.isOSX()||dn.isiOS(),iOS:fn.isiPad()||fn.isiPhone(),android:dn.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:e.window.getSelection&&"Range"in e.window,documentMode:cn.isIE()?e.document.documentMode||7:10,fileApi:mn,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!cn.isIE(),desktop:fn.isDesktop(),windowsPhone:pn,browser:{current:cn.current,version:cn.version,isChrome:cn.isChrome,isEdge:cn.isEdge,isFirefox:cn.isFirefox,isIE:cn.isIE,isOpera:cn.isOpera,isSafari:cn.isSafari},os:{current:dn.current,version:dn.version,isAndroid:dn.isAndroid,isChromeOS:dn.isChromeOS,isFreeBSD:dn.isFreeBSD,isiOS:dn.isiOS,isLinux:dn.isLinux,isOSX:dn.isOSX,isSolaris:dn.isSolaris,isWindows:dn.isWindows},deviceType:{isDesktop:fn.isDesktop,isiPad:fn.isiPad,isiPhone:fn.isiPhone,isPhone:fn.isPhone,isTablet:fn.isTablet,isTouch:fn.isTouch,isWebView:fn.isWebView}},vn=Array.isArray,bn=function(t,e,n){var r,i;if(!t)return 0;if(n=n||t,void 0!==t.length){for(r=0,i=t.length;r<i;r++)if(!1===e.call(n,t[r],r,t))return 0}else for(r in t)if(t.hasOwnProperty(r)&&!1===e.call(n,t[r],r,t))return 0;return 1},yn=function(t,e,n){var r,i;for(r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return r;return-1},_n={isArray:vn,toArray:function(t){var e,n,r=t;if(!vn(t))for(r=[],e=0,n=t.length;e<n;e++)r[e]=t[e];return r},each:bn,map:function(t,e){var n=[];return bn(t,(function(r,i){n.push(e(r,i,t))})),n},filter:function(t,e){var n=[];return bn(t,(function(r,i){e&&!e(r,i,t)||n.push(r)})),n},indexOf:function(t,e){var n,r;if(t)for(n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},reduce:function(t,e,n,r){var i=0;for(arguments.length<3&&(n=t[0]);i<t.length;i++)n=e.call(r,n,t[i],i);return n},findIndex:yn,find:function(t,e,n){var r=yn(t,e,n);if(-1!==r)return t[r]},last:function(t){return t[t.length-1]}},wn=/^\s*|\s*$/g,xn=function(t){return null==t?"":(""+t).replace(wn,"")},Cn=function(t,e){return e?!("array"!==e||!_n.isArray(t))||typeof t===e:void 0!==t},Sn=function(t,e,n,r){r=r||this,t&&(n&&(t=t[n]),_n.each(t,(function(t,i){if(!1===e.call(r,t,i,n))return!1;Sn(t,e,n,r)})))},kn={trim:xn,isArray:_n.isArray,is:Cn,toArray:_n.toArray,makeMap:function(t,e,n){var r;for(e=e||",","string"==typeof(t=t||[])&&(t=t.split(e)),n=n||{},r=t.length;r--;)n[t[r]]={};return n},each:_n.each,map:_n.map,grep:_n.filter,inArray:_n.indexOf,hasOwn:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},extend:function(t,e){for(var n,r,i,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var a,u=arguments;for(n=1,r=u.length;n<r;n++)for(i in e=u[n])e.hasOwnProperty(i)&&void 0!==(a=e[i])&&(t[i]=a);return t},create:function(t,e,n){var r,i,o,s,a,u=0;if(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t),o=t[3].match(/(^|\.)(\w+)$/i)[2],!(i=this.createNS(t[3].replace(/\.\w+$/,""),n))[o]){if("static"===t[2])return i[o]=e,void(this.onCreate&&this.onCreate(t[2],t[3],i[o]));e[o]||(e[o]=function(){},u=1),i[o]=e[o],this.extend(i[o].prototype,e),t[5]&&(r=this.resolve(t[5]).prototype,s=t[5].match(/\.(\w+)$/i)[1],a=i[o],i[o]=u?function(){return r[s].apply(this,arguments)}:function(){return this.parent=r[s],a.apply(this,arguments)},i[o].prototype[o]=i[o],this.each(r,(function(t,e){i[o].prototype[e]=r[e]})),this.each(e,(function(t,e){r[e]?i[o].prototype[e]=function(){return this.parent=r[e],t.apply(this,arguments)}:e!==o&&(i[o].prototype[e]=t)}))),this.each(e.static,(function(t,e){i[o][e]=t}))}},walk:Sn,createNS:function(t,n){var r,i;for(n=n||e.window,t=t.split("."),r=0;r<t.length;r++)n[i=t[r]]||(n[i]={}),n=n[i];return n},resolve:function(t,n){var r,i;for(n=n||e.window,r=0,i=(t=t.split(".")).length;r<i&&(n=n[t[r]]);r++);return n},explode:function(t,e){return!t||Cn(t,"array")?t:_n.map(t.split(e||","),xn)},_addCacheSuffix:function(t){var e=gn.cacheSuffix;return e&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}};var En,On,Tn,An=function(t){var e;return function(n){return(e=e||function(t,e){for(var n={},r=0,i=t.length;r<i;r++){var o=t[r];n[String(o)]=e(o,r)}return n}(t,i(!0))).hasOwnProperty(ie(n))}},Dn=An(["h1","h2","h3","h4","h5","h6"]),Mn=An(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),Rn=function(t){return se(t)&&!Mn(t)},In=function(t){return se(t)&&"br"===ie(t)},Nn=An(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),zn=An(["ul","ol","dl"]),Pn=An(["li","dd","dt"]),Fn=An(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),Bn=An(["thead","tbody","tfoot"]),Ln=An(["td","th"]),Hn=An(["pre","script","textarea","style"]),Vn=function(t){return t&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},jn=function(t,e){var n,r=e.childNodes;if(!Me.isElement(e)||!Vn(e)){for(n=r.length-1;n>=0;n--)jn(t,r[n]);if(!1===Me.isDocument(e)){if(Me.isText(e)&&e.nodeValue.length>0){var i=kn.trim(e.nodeValue).length;if(t.isBlock(e.parentNode)||i>0)return;if(0===i&&function(t){return t.previousSibling&&"SPAN"===t.previousSibling.nodeName&&t.nextSibling&&"SPAN"===t.nextSibling.nodeName}(e))return}else if(Me.isElement(e)&&(1===(r=e.childNodes).length&&Vn(r[0])&&e.parentNode.insertBefore(r[0],e),r.length||Fn(rt(e))))return;t.remove(e)}return e}},Un={trimNode:jn},$n=kn.makeMap,Wn=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qn=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Gn=/[<>&\"\']/g,Yn=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Kn={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};On={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Tn={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var Xn=function(t,e){var n,r,i,o={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)r=String.fromCharCode(parseInt(t[n],e)),On[r]||(o[r]=i="&"+t[n+1]+";",o[i]=r);return o}};En=Xn("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var Zn=function(t,e){return t.replace(e?Wn:qn,(function(t){return On[t]||t}))},Qn=function(t,e){return t.replace(e?Wn:qn,(function(t){return t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":On[t]||"&#"+t.charCodeAt(0)+";"}))},Jn=function(t,e,n){return n=n||En,t.replace(e?Wn:qn,(function(t){return On[t]||n[t]||t}))},tr={encodeRaw:Zn,encodeAllRaw:function(t){return(""+t).replace(Gn,(function(t){return On[t]||t}))},encodeNumeric:Qn,encodeNamed:Jn,getEncodeFunc:function(t,e){var n=Xn(e)||En,r=$n(t.replace(/\+/g,","));return r.named&&r.numeric?function(t,e){return t.replace(e?Wn:qn,(function(t){return void 0!==On[t]?On[t]:void 0!==n[t]?n[t]:t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":"&#"+t.charCodeAt(0)+";"}))}:r.named?e?function(t,e){return Jn(t,e,n)}:Jn:r.numeric?Qn:Zn},decode:function(t){return t.replace(Yn,(function(t,e){return e?(e="x"===e.charAt(0).toLowerCase()?parseInt(e.substr(1),16):parseInt(e,10))>65535?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):Kn[e]||String.fromCharCode(e):Tn[t]||En[t]||function(t){var e;return(e=et("div").dom()).innerHTML=t,e.textContent||e.innerText||t}(t)}))}},er={},nr={},rr=kn.makeMap,ir=kn.each,or=kn.extend,sr=kn.explode,ar=kn.inArray,ur=function(t,e){return(t=kn.trim(t))?t.split(e||" "):[]},lr=function(t,e){var n;return t&&(n={},"string"==typeof t&&(t={"*":t}),ir(t,(function(t,r){n[r]=n[r.toUpperCase()]="map"===e?rr(t,/[, ]/):sr(t,/[, ]/)}))),n};function cr(t){var e,n,r,i,o,s,a,u,l,c,d,f,h,m,p,g,v,b,y,_,w,x,C,S={},k={},E=[],O={},T={},A=function(e,n,r){var i=t[e];return i?i=rr(i,/[, ]/,rr(i.toUpperCase(),/[, ]/)):(i=er[e])||(i=rr(n," ",rr(n.toUpperCase()," ")),i=or(i,r),er[e]=i),i};m=(t=t||{}).schema,w={},x=function(t,e,n){var r,i,o,s=function(t,e){var n,r,i={};for(n=0,r=t.length;n<r;n++)i[t[n]]=e||{};return i};for(e=e||"","string"==typeof(n=n||[])&&(n=ur(n)),r=(t=ur(t)).length;r--;)o={attributes:s(i=ur([p,e].join(" "))),attributesOrder:i,children:s(n,nr)},w[t[r]]=o},C=function(t,e){var n,r,i,o;for(n=(t=ur(t)).length,e=ur(e);n--;)for(r=w[t[n]],i=0,o=e.length;i<o;i++)r.attributes[e[i]]={},r.attributesOrder.push(e[i])},r=er[m]?er[m]:(p="id accesskey class dir lang style tabindex title role",g="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",v="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==m&&(p+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",g+=" article aside details dialog figure main header footer hgroup section nav",v+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==m&&(p+=" xml:lang",v=[v,_="acronym applet basefont big font strike tt"].join(" "),ir(ur(_),(function(t){x(t,"",v)})),g=[g,y="center dir isindex noframes"].join(" "),b=[g,v].join(" "),ir(ur(y),(function(t){x(t,"",b)}))),b=b||[g,v].join(" "),x("html","manifest","head body"),x("head","","base command link meta noscript script style title"),x("title hr noscript br"),x("base","href target"),x("link","href rel media hreflang type sizes hreflang"),x("meta","name http-equiv content charset"),x("style","media type scoped"),x("script","src async defer type charset"),x("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",b),x("address dt dd div caption","",b),x("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",v),x("blockquote","cite",b),x("ol","reversed start type","li"),x("ul","","li"),x("li","value",b),x("dl","","dt dd"),x("a","href target rel media hreflang type",v),x("q","cite",v),x("ins del","cite datetime",b),x("img","src sizes srcset alt usemap ismap width height"),x("iframe","src name width height",b),x("embed","src type width height"),x("object","data type typemustmatch name usemap form width height",[b,"param"].join(" ")),x("param","name value"),x("map","name",[b,"area"].join(" ")),x("area","alt coords shape href target rel media hreflang type"),x("table","border","caption colgroup thead tfoot tbody tr"+("html4"===m?" col":"")),x("colgroup","span","col"),x("col","span"),x("tbody thead tfoot","","tr"),x("tr","","td th"),x("td","colspan rowspan headers",b),x("th","colspan rowspan headers scope abbr",b),x("form","accept-charset action autocomplete enctype method name novalidate target",b),x("fieldset","disabled form name",[b,"legend"].join(" ")),x("label","form for",v),x("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),x("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===m?b:v),x("select","disabled form multiple name required size","option optgroup"),x("optgroup","disabled label","option"),x("option","disabled label selected value"),x("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),x("menu","type label",[b,"li"].join(" ")),x("noscript","",b),"html4"!==m&&(x("wbr"),x("ruby","",[v,"rt rp"].join(" ")),x("figcaption","",b),x("mark rt rp summary bdi","",v),x("canvas","width height",b),x("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[b,"track source"].join(" ")),x("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[b,"track source"].join(" ")),x("picture","","img source"),x("source","src srcset type media sizes"),x("track","kind src srclang label default"),x("datalist","",[v,"option"].join(" ")),x("article section nav aside main header footer","",b),x("hgroup","","h1 h2 h3 h4 h5 h6"),x("figure","",[b,"figcaption"].join(" ")),x("time","datetime",v),x("dialog","open",b),x("command","type label icon disabled checked radiogroup command"),x("output","for form name",v),x("progress","value max",v),x("meter","value min max low high optimum",v),x("details","open",[b,"summary"].join(" ")),x("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==m&&(C("script","language xml:space"),C("style","xml:space"),C("object","declare classid code codebase codetype archive standby align border hspace vspace"),C("embed","align name hspace vspace"),C("param","valuetype type"),C("a","charset name rev shape coords"),C("br","clear"),C("applet","codebase archive code object alt name width height align hspace vspace"),C("img","name longdesc align border hspace vspace"),C("iframe","longdesc frameborder marginwidth marginheight scrolling align"),C("font basefont","size color face"),C("input","usemap align"),C("select"),C("textarea"),C("h1 h2 h3 h4 h5 h6 div p legend caption","align"),C("ul","type compact"),C("li","type"),C("ol dl menu dir","compact"),C("pre","width xml:space"),C("hr","align noshade size width"),C("isindex","prompt"),C("table","summary width frame rules cellspacing cellpadding align bgcolor"),C("col","width align char charoff valign"),C("colgroup","width align char charoff valign"),C("thead","align char charoff valign"),C("tr","align char charoff valign bgcolor"),C("th","axis align char charoff valign nowrap bgcolor width height"),C("form","accept"),C("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),C("tfoot","align char charoff valign"),C("tbody","align char charoff valign"),C("area","nohref"),C("body","background bgcolor text link vlink alink")),"html4"!==m&&(C("input button select textarea","autofocus"),C("input textarea","placeholder"),C("a","download"),C("link script img","crossorigin"),C("img","loading"),C("iframe","sandbox seamless allowfullscreen loading")),ir(ur("a form meter progress dfn"),(function(t){w[t]&&delete w[t].children[t]})),delete w.caption.children.table,delete w.script,er[m]=w,w),!1===t.verify_html&&(t.valid_elements="*[*]"),e=lr(t.valid_styles),n=lr(t.invalid_styles,"map"),u=lr(t.valid_classes,"map"),i=A("whitespace_elements","pre script noscript style textarea video audio iframe object code"),o=A("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),s=A("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),a=A("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),c=A("non_empty_elements","td th iframe video audio object script pre code",s),d=A("move_caret_before_on_enter_elements","table",c),f=A("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),l=A("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",f),h=A("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),ir((t.special||"script noscript noframes noembed title style textarea xmp").split(" "),(function(t){T[t]=new RegExp("</"+t+"[^>]*>","gi")}));var D=function(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")},M=function(t){var e,n,r,i,o,s,a,u,l,c,d,f,h,m,p,g,v,b,y,_=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,w=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,x=/[*?+]/;if(t)for(t=ur(t,","),S["@"]&&(g=S["@"].attributes,v=S["@"].attributesOrder),e=0,n=t.length;e<n;e++)if(o=_.exec(t[e])){if(l=o[2],p=o[3],u=o[5],s={attributes:f={},attributesOrder:h=[]},"#"===(m=o[1])&&(s.paddEmpty=!0),"-"===m&&(s.removeEmpty=!0),"!"===o[4]&&(s.removeEmptyAttrs=!0),g){for(b in g)f[b]=g[b];h.push.apply(h,v)}if(u)for(r=0,i=(u=ur(u,"|")).length;r<i;r++)if(o=w.exec(u[r])){if(a={},d=o[1],c=o[2].replace(/[\\:]:/g,":"),m=o[3],y=o[4],"!"===d&&(s.attributesRequired=s.attributesRequired||[],s.attributesRequired.push(c),a.required=!0),"-"===d){delete f[c],h.splice(ar(h,c),1);continue}m&&("="===m&&(s.attributesDefault=s.attributesDefault||[],s.attributesDefault.push({name:c,value:y}),a.defaultValue=y),":"===m&&(s.attributesForced=s.attributesForced||[],s.attributesForced.push({name:c,value:y}),a.forcedValue=y),"<"===m&&(a.validValues=rr(y,"?"))),x.test(c)?(s.attributePatterns=s.attributePatterns||[],a.pattern=D(c),s.attributePatterns.push(a)):(f[c]||h.push(c),f[c]=a)}g||"@"!==l||(g=f,v=h),p&&(s.outputName=l,S[p]=s),x.test(l)?(s.pattern=D(l),E.push(s)):S[l]=s}},R=function(t){S={},E=[],M(t),ir(r,(function(t,e){k[e]=t.children}))},I=function(t){var e=/^(~)?(.+)$/;t&&(er.text_block_elements=er.block_elements=null,ir(ur(t,","),(function(t){var n=e.exec(t),r="~"===n[1],i=r?"span":"div",o=n[2];if(k[o]=k[i],O[o]=i,r||(l[o.toUpperCase()]={},l[o]={}),!S[o]){var s=S[i];delete(s=or({},s)).removeEmptyAttrs,delete s.removeEmpty,S[o]=s}ir(k,(function(t,e){t[i]&&(k[e]=t=or({},k[e]),t[o]=t[i])}))})))},N=function(e){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;er[t.schema]=null,e&&ir(ur(e,","),(function(t){var e,r,i=n.exec(t);i&&(e=(r=i[1])?k[i[2]]:k[i[2]]={"#comment":{}},e=k[i[2]],ir(ur(i[3],"|"),(function(t){"-"===r?delete e[t]:e[t]={}})))}))},z=function(t){var e,n=S[t];if(n)return n;for(e=E.length;e--;)if((n=E[e]).pattern.test(t))return n};return t.valid_elements?R(t.valid_elements):(ir(r,(function(t,e){S[e]={attributes:t.attributes,attributesOrder:t.attributesOrder},k[e]=t.children})),"html5"!==t.schema&&ir(ur("strong/b em/i"),(function(t){t=ur(t,"/"),S[t[1]].outputName=t[0]})),ir(ur("ol ul sub sup blockquote span font a table tbody tr strong em b i"),(function(t){S[t]&&(S[t].removeEmpty=!0)})),ir(ur("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(t){S[t].paddEmpty=!0})),ir(ur("span"),(function(t){S[t].removeEmptyAttrs=!0}))),I(t.custom_elements),N(t.valid_children),M(t.extended_valid_elements),N("+ol[ul|ol],+ul[ul|ol]"),ir({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(t,e){S[e]&&(S[e].parentsRequired=ur(t))})),t.invalid_elements&&ir(sr(t.invalid_elements),(function(t){S[t]&&delete S[t]})),z("span")||M("span[!data-mce-type|*]"),{children:k,elements:S,getValidStyles:function(){return e},getValidClasses:function(){return u},getBlockElements:function(){return l},getInvalidStyles:function(){return n},getShortEndedElements:function(){return s},getTextBlockElements:function(){return f},getTextInlineElements:function(){return h},getBoolAttrs:function(){return a},getElementRule:z,getSelfClosingElements:function(){return o},getNonEmptyElements:function(){return c},getMoveCaretBeforeOnEnterElements:function(){return d},getWhiteSpaceElements:function(){return i},getSpecialElements:function(){return T},isValidChild:function(t,e){var n=k[t.toLowerCase()];return!(!n||!n[e.toLowerCase()])},isValid:function(t,e){var n,r,i=z(t);if(i){if(!e)return!0;if(i.attributes[e])return!0;if(n=i.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(t))return!0}return!1},getCustomElements:function(){return O},addValidElements:M,setValidElements:R,addCustomElements:I,addValidChildren:N}}var dr,fr,hr,mr,pr,gr,vr,br,yr,_r,wr,xr,Cr,Sr,kr,Er,Or,Tr,Ar=function(t,e,n,r){var i=function(t){return(t=parseInt(t,10).toString(16)).length>1?t:"0"+t};return"#"+i(e)+i(n)+i(r)},Dr=function(t,e){var n,r,i,o,s=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,c={};for(t=t||{},e&&(i=e.getValidStyles(),o=e.getInvalidStyles()),r="\\\" \\' \\; \\: ; : \ufeff".split(" "),n=0;n<r.length;n++)c[r[n]]="\ufeff"+n,c["\ufeff"+n]=r[n];return{toHex:function(t){return t.replace(s,Ar)},parse:function(e){var r,i,o,d,f,h,m,p={},g=t.url_converter,v=t.url_converter_scope||this,b=function(t,e,r){var i,o,s,a;if((i=p[t+"-top"+e])&&(o=p[t+"-right"+e])&&(s=p[t+"-bottom"+e])&&(a=p[t+"-left"+e])){var u=[i,o,s,a];for(n=u.length-1;n--&&u[n]===u[n+1];);n>-1&&r||(p[t+e]=-1===n?u[0]:u.join(" "),delete p[t+"-top"+e],delete p[t+"-right"+e],delete p[t+"-bottom"+e],delete p[t+"-left"+e])}},y=function(t){var e,n=p[t];if(n){for(e=(n=n.split(" ")).length;e--;)if(n[e]!==n[0])return!1;return p[t]=n[0],!0}},_=function(t){return d=!0,c[t]},w=function(t,e){return d&&(t=t.replace(/\uFEFF[0-9]/g,(function(t){return c[t]}))),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t},x=function(t){return String.fromCharCode(parseInt(t.slice(1),16))},C=function(t){return t.replace(/\\[0-9a-f]+/gi,x)},S=function(e,n,r,i,o,s){if(o=o||s)return"'"+(o=w(o)).replace(/\'/g,"\\'")+"'";if(n=w(n||r||i),!t.allow_script_urls){var a=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(a))return"";if(!t.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return""}return g&&(n=g.call(v,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,_).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(t){return t.replace(/[;:]/g,_)}));r=u.exec(e);)if(u.lastIndex=r.index+r[0].length,i=r[1].replace(l,"").toLowerCase(),o=r[2].replace(l,""),i&&o){if(i=C(i),o=C(o),-1!==i.indexOf("\ufeff")||-1!==i.indexOf('"'))continue;if(!t.allow_script_urls&&("behavior"===i||/expression\s*\(|\/\*|\*\//.test(o)))continue;"font-weight"===i&&"700"===o?o="bold":"color"!==i&&"background-color"!==i||(o=o.toLowerCase()),o=(o=o.replace(s,Ar)).replace(a,S),p[i]=d?w(o,!0):o}b("border","",!0),b("border","-width"),b("border","-color"),b("border","-style"),b("padding",""),b("margin",""),h="border-style",m="border-color",y(f="border-width")&&y(h)&&y(m)&&(p.border=p[f]+" "+p[h]+" "+p[m],delete p[f],delete p[h],delete p[m]),"medium none"===p.border&&delete p.border,"none"===p["border-image"]&&delete p["border-image"]}return p},serialize:function(t,e){var n,r,s="",a=function(e){var n,r,o,a;if(n=i[e])for(r=0,o=n.length;r<o;r++)(a=t[e=n[r]])&&(s+=(s.length>0?" ":"")+e+": "+a+";")},u=function(t,e){var n;return!((n=o["*"])&&n[t]||(n=o[e])&&n[t])};if(e&&i)a("*"),a(e);else for(n in t)!(r=t[n])||o&&!u(n,e)||(s+=(s.length>0?" ":"")+n+": "+r+";");return s}}},Mr=/^(?:mouse|contextmenu)|click/,Rr={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},Ir=function(){return!1},Nr=function(){return!0},zr=function(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r||!1):t.attachEvent&&t.attachEvent("on"+e,n)},Pr=function(t,e,n,r){t.removeEventListener?t.removeEventListener(e,n,r||!1):t.detachEvent&&t.detachEvent("on"+e,n)},Fr=function(t,n){var r,i=n||{};for(r in t)Rr[r]||(i[r]=t[r]);if(i.target||(i.target=i.srcElement||e.document),gn.experimentalShadowDom&&(i.target=function(t,e){if(t.composedPath){var n=t.composedPath();if(n&&n.length>0)return n[0]}return e}(t,i.target)),t&&Mr.test(t.type)&&void 0===t.pageX&&void 0!==t.clientX){var o=i.target.ownerDocument||e.document,s=o.documentElement,a=o.body;i.pageX=t.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),i.pageY=t.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}return i.preventDefault=function(){i.isDefaultPrevented=Nr,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},i.stopPropagation=function(){i.isPropagationStopped=Nr,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=Nr,i.stopPropagation()},!1===function(t){return t.isDefaultPrevented===Nr||t.isDefaultPrevented===Ir}(i)&&(i.isDefaultPrevented=Ir,i.isPropagationStopped=Ir,i.isImmediatePropagationStopped=Ir),void 0===i.metaKey&&(i.metaKey=!1),i},Br=function(t,e,n){var r=t.document,i={type:"ready"};if(n.domLoaded)e(i);else{var o=function(){Pr(t,"DOMContentLoaded",o),Pr(t,"load",o),n.domLoaded||(n.domLoaded=!0,e(i))};"complete"===r.readyState||"interactive"===r.readyState&&r.body?o():zr(t,"DOMContentLoaded",o),zr(t,"load",o)}},Lr=function(){function t(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in e.document.documentElement,this.hasFocusIn="onfocusin"in e.document.documentElement,this.count=1}return t.prototype.bind=function(t,n,r,i){var o,s,a,u,l,c,d,f=this,h=e.window,m=function(t){f.executeHandlers(Fr(t||h.event),o)};if(t&&3!==t.nodeType&&8!==t.nodeType){t[f.expando]?o=t[f.expando]:(o=f.count++,t[f.expando]=o,f.events[o]={}),i=i||t;var p=n.split(" ");for(a=p.length;a--;)c=m,l=d=!1,"DOMContentLoaded"===(u=p[a])&&(u="ready"),f.domLoaded&&"ready"===u&&"complete"===t.readyState?r.call(i,Fr({type:u})):(f.hasMouseEnterLeave||(l=f.mouseEnterLeave[u])&&(c=function(t){var e,n;if(e=t.currentTarget,(n=t.relatedTarget)&&e.contains)n=e.contains(n);else for(;n&&n!==e;)n=n.parentNode;n||((t=Fr(t||h.event)).type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=e,f.executeHandlers(t,o))}),f.hasFocusIn||"focusin"!==u&&"focusout"!==u||(d=!0,l="focusin"===u?"focus":"blur",c=function(t){(t=Fr(t||h.event)).type="focus"===t.type?"focusin":"focusout",f.executeHandlers(t,o)}),(s=f.events[o][u])?"ready"===u&&f.domLoaded?r(Fr({type:u})):s.push({func:r,scope:i}):(f.events[o][u]=s=[{func:r,scope:i}],s.fakeName=l,s.capture=d,s.nativeHandler=c,"ready"===u?Br(t,c,f):zr(t,l||u,c,d)));return t=s=0,r}},t.prototype.unbind=function(t,e,n){var r,i,o,s,a,u;if(!t||3===t.nodeType||8===t.nodeType)return this;if(r=t[this.expando]){if(u=this.events[r],e){var l=e.split(" ");for(o=l.length;o--;)if(i=u[a=l[o]]){if(n)for(s=i.length;s--;)if(i[s].func===n){var c=i.nativeHandler,d=i.fakeName,f=i.capture;(i=i.slice(0,s).concat(i.slice(s+1))).nativeHandler=c,i.fakeName=d,i.capture=f,u[a]=i}n&&0!==i.length||(delete u[a],Pr(t,i.fakeName||a,i.nativeHandler,i.capture))}}else{for(a in u)Pr(t,(i=u[a]).fakeName||a,i.nativeHandler,i.capture);u={}}for(a in u)return this;delete this.events[r];try{delete t[this.expando]}catch(h){t[this.expando]=null}}return this},t.prototype.fire=function(t,e,n){var r;if(!t||3===t.nodeType||8===t.nodeType)return this;var i=Fr(null,n);i.type=e,i.target=t;do{(r=t[this.expando])&&this.executeHandlers(i,r),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!i.isPropagationStopped());return this},t.prototype.clean=function(t){var e,n;if(!t||3===t.nodeType||8===t.nodeType)return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(this.unbind(t),e=(n=t.getElementsByTagName("*")).length;e--;)(t=n[e])[this.expando]&&this.unbind(t);return this},t.prototype.destroy=function(){this.events={}},t.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1},t.prototype.executeHandlers=function(t,e){var n,r,i,o,s=this.events[e];if(n=s&&s[t.type])for(r=0,i=n.length;r<i;r++)if((o=n[r])&&!1===o.func.call(o.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return},t.Event=new t,t}(),Hr="sizzle"+-new Date,Vr=e.window.document,jr=0,Ur=0,$r=wi(),Wr=wi(),qr=wi(),Gr=function(t,e){return t===e&&(wr=!0),0},Yr={}.hasOwnProperty,Kr=[],Xr=Kr.pop,Zr=Kr.push,Qr=Kr.push,Jr=Kr.slice,ti=Kr.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},ei="[\\x20\\t\\r\\n\\f]",ni="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ri="\\["+ei+"*("+ni+")(?:"+ei+"*([*^$|!~]?=)"+ei+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ni+"))|)"+ei+"*\\]",ii=":("+ni+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ri+")*)|.*)\\)|)",oi=new RegExp("^"+ei+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ei+"+$","g"),si=new RegExp("^"+ei+"*,"+ei+"*"),ai=new RegExp("^"+ei+"*([>+~]|"+ei+")"+ei+"*"),ui=new RegExp("="+ei+"*([^\\]'\"]*?)"+ei+"*\\]","g"),li=new RegExp(ii),ci=new RegExp("^"+ni+"$"),di={ID:new RegExp("^#("+ni+")"),CLASS:new RegExp("^\\.("+ni+")"),TAG:new RegExp("^("+ni+"|[*])"),ATTR:new RegExp("^"+ri),PSEUDO:new RegExp("^"+ii),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ei+"*(even|odd|(([+-]|)(\\d*)n|)"+ei+"*(?:([+-]|)"+ei+"*(\\d+)|))"+ei+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+ei+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ei+"*((?:-\\d)?\\d*)"+ei+"*\\)|)(?=[^-]|$)","i")},fi=/^(?:input|select|textarea|button)$/i,hi=/^h\d$/i,mi=/^[^{]+\{\s*\[native \w/,pi=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gi=/[+~]/,vi=/'|\\/g,bi=new RegExp("\\\\([\\da-f]{1,6}"+ei+"?|("+ei+")|.)","ig"),yi=function(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Qr.apply(Kr=Jr.call(Vr.childNodes),Vr.childNodes)}catch(ow){Qr={apply:Kr.length?function(t,e){Zr.apply(t,Jr.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}var _i=function(t,e,n,r){var i,o,s,a,u,l,c,d,f,h;if((e?e.ownerDocument||e:Vr)!==Cr&&xr(e),n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=(e=e||Cr).nodeType)&&9!==a)return[];if(kr&&!r){if(i=pi.exec(t))if(s=i[1]){if(9===a){if(!(o=e.getElementById(s))||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&Tr(e,o)&&o.id===s)return n.push(o),n}else{if(i[2])return Qr.apply(n,e.getElementsByTagName(t)),n;if((s=i[3])&&fr.getElementsByClassName)return Qr.apply(n,e.getElementsByClassName(s)),n}if(fr.qsa&&(!Er||!Er.test(t))){if(d=c=Hr,f=e,h=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(l=gr(t),(c=e.getAttribute("id"))?d=c.replace(vi,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+Ai(l[u]);f=gi.test(t)&&Oi(e.parentNode)||e,h=l.join(",")}if(h)try{return Qr.apply(n,f.querySelectorAll(h)),n}catch(m){}finally{c||e.removeAttribute("id")}}}return br(t.replace(oi,"$1"),e,n,r)};function wi(){var t=[];return function e(n,r){return t.push(n+" ")>hr.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function xi(t){return t[Hr]=!0,t}function Ci(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function Si(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ki(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function Ei(t){return xi((function(e){return e=+e,xi((function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))}))}))}function Oi(t){return t&&void 0!==t.getElementsByTagName&&t}for(dr in fr=_i.support={},pr=_i.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},xr=_i.setDocument=function(t){var e,n=t?t.ownerDocument||t:Vr,r=n.defaultView;return n!==Cr&&9===n.nodeType&&n.documentElement?(Cr=n,Sr=n.documentElement,kr=!pr(n),r&&r!==function(t){try{return t.top}catch(e){}return null}(r)&&(r.addEventListener?r.addEventListener("unload",(function(){xr()}),!1):r.attachEvent&&r.attachEvent("onunload",(function(){xr()}))),fr.attributes=!0,fr.getElementsByTagName=!0,fr.getElementsByClassName=mi.test(n.getElementsByClassName),fr.getById=!0,hr.find.ID=function(t,e){if(void 0!==e.getElementById&&kr){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},hr.filter.ID=function(t){var e=t.replace(bi,yi);return function(t){return t.getAttribute("id")===e}},hr.find.TAG=fr.getElementsByTagName?function(t,e){if(void 0!==e.getElementsByTagName)return e.getElementsByTagName(t)}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},hr.find.CLASS=fr.getElementsByClassName&&function(t,e){if(kr)return e.getElementsByClassName(t)},Or=[],Er=[],fr.disconnectedMatch=!0,Er=Er.length&&new RegExp(Er.join("|")),Or=Or.length&&new RegExp(Or.join("|")),e=mi.test(Sr.compareDocumentPosition),Tr=e||mi.test(Sr.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Gr=e?function(t,e){if(t===e)return wr=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!fr.sortDetached&&e.compareDocumentPosition(t)===r?t===n||t.ownerDocument===Vr&&Tr(Vr,t)?-1:e===n||e.ownerDocument===Vr&&Tr(Vr,e)?1:_r?ti.call(_r,t)-ti.call(_r,e):0:4&r?-1:1)}:function(t,e){if(t===e)return wr=!0,0;var r,i=0,o=t.parentNode,s=e.parentNode,a=[t],u=[e];if(!o||!s)return t===n?-1:e===n?1:o?-1:s?1:_r?ti.call(_r,t)-ti.call(_r,e):0;if(o===s)return Ci(t,e);for(r=t;r=r.parentNode;)a.unshift(r);for(r=e;r=r.parentNode;)u.unshift(r);for(;a[i]===u[i];)i++;return i?Ci(a[i],u[i]):a[i]===Vr?-1:u[i]===Vr?1:0},n):Cr},_i.matches=function(t,e){return _i(t,null,null,e)},_i.matchesSelector=function(t,e){if((t.ownerDocument||t)!==Cr&&xr(t),e=e.replace(ui,"='$1']"),fr.matchesSelector&&kr&&(!Or||!Or.test(e))&&(!Er||!Er.test(e)))try{var n=(void 0).call(t,e);if(n||fr.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(ow){}return _i(e,Cr,null,[t]).length>0},_i.contains=function(t,e){return(t.ownerDocument||t)!==Cr&&xr(t),Tr(t,e)},_i.attr=function(t,e){(t.ownerDocument||t)!==Cr&&xr(t);var n=hr.attrHandle[e.toLowerCase()],r=n&&Yr.call(hr.attrHandle,e.toLowerCase())?n(t,e,!kr):void 0;return void 0!==r?r:fr.attributes||!kr?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},_i.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},_i.uniqueSort=function(t){var e,n=[],r=0,i=0;if(wr=!fr.detectDuplicates,_r=!fr.sortStable&&t.slice(0),t.sort(Gr),wr){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return _r=null,t},mr=_i.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=mr(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=mr(e);return n},(hr=_i.selectors={cacheLength:50,createPseudo:xi,match:di,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bi,yi),t[3]=(t[3]||t[4]||t[5]||"").replace(bi,yi),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||_i.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&_i.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return di.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&li.test(n)&&(e=gr(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bi,yi).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=$r[t+" "];return e||(e=new RegExp("(^|"+ei+")"+t+"("+ei+"|$)"))&&$r(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(r){var i=_i.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var l,c,d,f,h,m,p=o!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),b=!u&&!a;if(g){if(o){for(;p;){for(d=e;d=d[p];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;m=p="only"===t&&!m&&"nextSibling"}return!0}if(m=[s?g.firstChild:g.lastChild],s&&b){for(f=(l=(c=g[Hr]||(g[Hr]={}))[t]||[])[0]===jr&&l[2],d=(h=l[0]===jr&&l[1])&&g.childNodes[h];d=++h&&d&&d[p]||(f=h=0)||m.pop();)if(1===d.nodeType&&++f&&d===e){c[t]=[jr,h,f];break}}else if(b&&(l=(e[Hr]||(e[Hr]={}))[t])&&l[0]===jr)f=l[1];else for(;(d=++h&&d&&d[p]||(f=h=0)||m.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(b&&((d[Hr]||(d[Hr]={}))[t]=[jr,f]),d!==e)););return(f-=i)===r||f%r==0&&f/r>=0}}},PSEUDO:function(t,e){var n,r=hr.pseudos[t]||hr.setFilters[t.toLowerCase()]||_i.error("unsupported pseudo: "+t);return r[Hr]?r(e):r.length>1?(n=[t,t,"",e],hr.setFilters.hasOwnProperty(t.toLowerCase())?xi((function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=ti.call(t,o[s])]=!(n[i]=o[s])})):function(t){return r(t,0,n)}):r}},pseudos:{not:xi((function(t){var e=[],n=[],r=vr(t.replace(oi,"$1"));return r[Hr]?xi((function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))})):function(t,i,o){return e[0]=t,r(e,null,o,n),!n.pop()}})),has:xi((function(t){return function(e){return _i(t,e).length>0}})),contains:xi((function(t){return t=t.replace(bi,yi),function(e){return(e.textContent||e.innerText||mr(e)).indexOf(t)>-1}})),lang:xi((function(t){return ci.test(t||"")||_i.error("unsupported lang: "+t),t=t.replace(bi,yi).toLowerCase(),function(e){var n;do{if(n=kr?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(t){var n=e.window.location&&e.window.location.hash;return n&&n.slice(1)===t.id},root:function(t){return t===Sr},focus:function(t){return t===Cr.activeElement&&(!Cr.hasFocus||Cr.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!hr.pseudos.empty(t)},header:function(t){return hi.test(t.nodeName)},input:function(t){return fi.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:Ei((function(){return[0]})),last:Ei((function(t,e){return[e-1]})),eq:Ei((function(t,e,n){return[n<0?n+e:n]})),even:Ei((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:Ei((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:Ei((function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t})),gt:Ei((function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t}))}}).pseudos.nth=hr.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})hr.pseudos[dr]=Si(dr);for(dr in{submit:!0,reset:!0})hr.pseudos[dr]=ki(dr);function Ti(){}function Ai(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function Di(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=Ur++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,s){var a,u,l=[jr,o];if(s){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,s))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if((a=(u=e[Hr]||(e[Hr]={}))[r])&&a[0]===jr&&a[1]===o)return l[2]=a[2];if(u[r]=l,l[2]=t(e,n,s))return!0}}}function Mi(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function Ri(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,l=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,r,i)||(s.push(o),l&&e.push(a)));return s}function Ii(t,e,n,r,i,o){return r&&!r[Hr]&&(r=Ii(r)),i&&!i[Hr]&&(i=Ii(i,o)),xi((function(o,s,a,u){var l,c,d,f=[],h=[],m=s.length,p=o||function(t,e,n){for(var r=0,i=e.length;r<i;r++)_i(t,e[r],n);return n}(e||"*",a.nodeType?[a]:a,[]),g=!t||!o&&e?p:Ri(p,f,t,a,u),v=n?i||(o?t:m||r)?[]:s:g;if(n&&n(g,v,a,u),r)for(l=Ri(v,h),r(l,[],a,u),c=l.length;c--;)(d=l[c])&&(v[h[c]]=!(g[h[c]]=d));if(o){if(i||t){if(i){for(l=[],c=v.length;c--;)(d=v[c])&&l.push(g[c]=d);i(null,v=[],l,u)}for(c=v.length;c--;)(d=v[c])&&(l=i?ti.call(o,d):f[c])>-1&&(o[l]=!(s[l]=d))}}else v=Ri(v===s?v.splice(m,v.length):v),i?i(null,s,v,u):Qr.apply(s,v)}))}function Ni(t){for(var e,n,r,i=t.length,o=hr.relative[t[0].type],s=o||hr.relative[" "],a=o?1:0,u=Di((function(t){return t===e}),s,!0),l=Di((function(t){return ti.call(e,t)>-1}),s,!0),c=[function(t,n,r){return!o&&(r||n!==yr)||((e=n).nodeType?u(t,n,r):l(t,n,r))}];a<i;a++)if(n=hr.relative[t[a].type])c=[Di(Mi(c),n)];else{if((n=hr.filter[t[a].type].apply(null,t[a].matches))[Hr]){for(r=++a;r<i&&!hr.relative[t[r].type];r++);return Ii(a>1&&Mi(c),a>1&&Ai(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(oi,"$1"),n,a<r&&Ni(t.slice(a,r)),r<i&&Ni(t=t.slice(r)),r<i&&Ai(t))}c.push(n)}return Mi(c)}Ti.prototype=hr.filters=hr.pseudos,hr.setFilters=new Ti,gr=_i.tokenize=function(t,e){var n,r,i,o,s,a,u,l=Wr[t+" "];if(l)return e?0:l.slice(0);for(s=t,a=[],u=hr.preFilter;s;){for(o in n&&!(r=si.exec(s))||(r&&(s=s.slice(r[0].length)||s),a.push(i=[])),n=!1,(r=ai.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(oi," ")}),s=s.slice(n.length)),hr.filter)hr.filter.hasOwnProperty(o)&&(!(r=di[o].exec(s))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),s=s.slice(n.length)));if(!n)break}return e?s.length:s?_i.error(t):Wr(t,a).slice(0)},vr=_i.compile=function(t,e){var n,r=[],i=[],o=qr[t+" "];if(!o){for(e||(e=gr(t)),n=e.length;n--;)(o=Ni(e[n]))[Hr]?r.push(o):i.push(o);(o=qr(t,function(t,e){var n=e.length>0,r=t.length>0,i=function(i,o,s,a,u){var l,c,d,f=0,h="0",m=i&&[],p=[],g=yr,v=i||r&&hr.find.TAG("*",u),b=jr+=null==g?1:Math.random()||.1,y=v.length;for(u&&(yr=o!==Cr&&o);h!==y&&null!=(l=v[h]);h++){if(r&&l){for(c=0;d=t[c++];)if(d(l,o,s)){a.push(l);break}u&&(jr=b)}n&&((l=!d&&l)&&f--,i&&m.push(l))}if(f+=h,n&&h!==f){for(c=0;d=e[c++];)d(m,p,o,s);if(i){if(f>0)for(;h--;)m[h]||p[h]||(p[h]=Xr.call(a));p=Ri(p)}Qr.apply(a,p),u&&!i&&p.length>0&&f+e.length>1&&_i.uniqueSort(a)}return u&&(jr=b,yr=g),m};return n?xi(i):i}(i,r))).selector=t}return o},br=_i.select=function(t,e,n,r){var i,o,s,a,u,l="function"==typeof t&&t,c=!r&&gr(t=l.selector||t);if(n=n||[],1===c.length){if((o=c[0]=c[0].slice(0)).length>2&&"ID"===(s=o[0]).type&&fr.getById&&9===e.nodeType&&kr&&hr.relative[o[1].type]){if(!(e=(hr.find.ID(s.matches[0].replace(bi,yi),e)||[])[0]))return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=di.needsContext.test(t)?0:o.length;i--&&!hr.relative[a=(s=o[i]).type];)if((u=hr.find[a])&&(r=u(s.matches[0].replace(bi,yi),gi.test(o[0].type)&&Oi(e.parentNode)||e))){if(o.splice(i,1),!(t=r.length&&Ai(o)))return Qr.apply(n,r),n;break}}return(l||vr(t,c))(r,e,!kr,n,gi.test(t)&&Oi(e.parentNode)||e),n},fr.sortStable=Hr.split("").sort(Gr).join("")===Hr,fr.detectDuplicates=!!wr,xr(),fr.sortDetached=!0;var zi=e.document,Pi=Array.prototype.push,Fi=Array.prototype.slice,Bi=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Li=Lr.Event,Hi=kn.makeMap("children,contents,next,prev"),Vi=function(t){return void 0!==t},ji=function(t){return"string"==typeof t},Ui=function(t,e){var n,r,i;for(i=(e=e||zi).createElement("div"),n=e.createDocumentFragment(),i.innerHTML=t;r=i.firstChild;)n.appendChild(r);return n},$i=function(t,e,n,r){var i;if(ji(e))e=Ui(e,io(t[0]));else if(e.length&&!e.nodeType){if(e=uo.makeArray(e),r)for(i=e.length-1;i>=0;i--)$i(t,e[i],n,r);else for(i=0;i<e.length;i++)$i(t,e[i],n,r);return t}if(e.nodeType)for(i=t.length;i--;)n.call(t[i],e);return t},Wi=function(t,e){return t&&e&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")},qi=function(t,e,n){var r,i;return e=uo(e)[0],t.each((function(){n&&r===this.parentNode||(r=this.parentNode,i=e.cloneNode(!1),this.parentNode.insertBefore(i,this)),i.appendChild(this)})),t},Gi=kn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Yi=kn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Ki={for:"htmlFor",class:"className",readonly:"readOnly"},Xi={float:"cssFloat"},Zi={},Qi={},Ji=function(t,e){return new uo.fn.init(t,e)},to=/^\s*|\s*$/g,eo=function(t){return null==t?"":(""+t).replace(to,"")},no=function(t,e){var n,r,i,o;if(t)if(void 0===(n=t.length)){for(r in t)if(t.hasOwnProperty(r)&&!1===e.call(o=t[r],r,o))break}else for(i=0;i<n&&!1!==e.call(o=t[i],i,o);i++);return t},ro=function(t,e){var n=[];return no(t,(function(t,r){e(r,t)&&n.push(r)})),n},io=function(t){return t?9===t.nodeType?t:t.ownerDocument:zi};Ji.fn=Ji.prototype={constructor:Ji,selector:"",context:null,length:0,init:function(t,n){var r,i;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if(n&&n.nodeType)this.context=n;else{if(n)return uo(t).attr(n);this.context=n=e.document}if(ji(t)){if(this.selector=t,!(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:Bi.exec(t)))return uo(n).find(t);if(r[1])for(i=Ui(t,io(n)).firstChild;i;)Pi.call(this,i),i=i.nextSibling;else{if(!(i=io(n).getElementById(r[2])))return this;if(i.id!==r[2])return this.find(t);this.length=1,this[0]=i}}else this.add(t,!1);return this},toArray:function(){return kn.toArray(this)},add:function(t,e){var n,r;if(ji(t))return this.add(uo(t));if(!1!==e)for(n=uo.unique(this.toArray().concat(uo.makeArray(t))),this.length=n.length,r=0;r<n.length;r++)this[r]=n[r];else Pi.apply(this,uo.makeArray(t));return this},attr:function(t,e){var n,r=this;if("object"==typeof t)no(t,(function(t,e){r.attr(t,e)}));else{if(!Vi(e)){if(r[0]&&1===r[0].nodeType){if((n=Zi[t])&&n.get)return n.get(r[0],t);if(Yi[t])return r.prop(t)?t:void 0;null===(e=r[0].getAttribute(t,2))&&(e=void 0)}return e}this.each((function(){var n;if(1===this.nodeType){if((n=Zi[t])&&n.set)return void n.set(this,e);null===e?this.removeAttribute(t,2):this.setAttribute(t,e,2)}}))}return r},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var n=this;if("object"==typeof(t=Ki[t]||t))no(t,(function(t,e){n.prop(t,e)}));else{if(!Vi(e))return n[0]&&n[0].nodeType&&t in n[0]?n[0][t]:e;this.each((function(){1===this.nodeType&&(this[t]=e)}))}return n},css:function(t,e){var n,r,i=this,o=function(t){return t.replace(/-(\D)/g,(function(t,e){return e.toUpperCase()}))},s=function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t}))};if("object"==typeof t)no(t,(function(t,e){i.css(t,e)}));else if(Vi(e))t=o(t),"number"!=typeof e||Gi[t]||(e=e.toString()+"px"),i.each((function(){var n=this.style;if((r=Qi[t])&&r.set)r.set(this,e);else{try{this.style[Xi[t]||t]=e}catch(i){}null!==e&&""!==e||(n.removeProperty?n.removeProperty(s(t)):n.removeAttribute(t))}}));else{if(n=i[0],(r=Qi[t])&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[o(t)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(s(t))}catch(a){return}}return i},remove:function(){for(var t,e=this.length;e--;)Li.clean(t=this[e]),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,e=this.length;e--;)for(t=this[e];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var e;if(Vi(t)){e=this.length;try{for(;e--;)this[e].innerHTML=t}catch(n){uo(this[e]).empty().append(t)}return this}return this[0]?this[0].innerHTML:""},text:function(t){var e;if(Vi(t)){for(e=this.length;e--;)"innerText"in this[e]?this[e].innerText=t:this[0].textContent=t;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return $i(this,arguments,(function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)}))},prepend:function(){return $i(this,arguments,(function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)}),!0)},before:function(){var t=this;return t[0]&&t[0].parentNode?$i(t,arguments,(function(t){this.parentNode.insertBefore(t,this)})):t},after:function(){var t=this;return t[0]&&t[0].parentNode?$i(t,arguments,(function(t){this.parentNode.insertBefore(t,this.nextSibling)}),!0):t},appendTo:function(t){return uo(t).append(this),this},prependTo:function(t){return uo(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return qi(this,t)},wrapAll:function(t){return qi(this,t,!0)},wrapInner:function(t){return this.each((function(){uo(this).contents().wrapAll(t)})),this},unwrap:function(){return this.parent().each((function(){uo(this).replaceWith(this.childNodes)}))},clone:function(){var t=[];return this.each((function(){t.push(this.cloneNode(!0))})),uo(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var n=this;return"string"!=typeof t||(-1!==t.indexOf(" ")?no(t.split(" "),(function(){n.toggleClass(this,e)})):n.each((function(n,r){var i,o;(o=Wi(r,t))!==e&&(i=r.className,o?r.className=eo((" "+i+" ").replace(" "+t+" "," ")):r.className+=i?" "+t:t)}))),n},hasClass:function(t){return Wi(this[0],t)},each:function(t){return no(this,t)},on:function(t,e){return this.each((function(){Li.bind(this,t,e)}))},off:function(t,e){return this.each((function(){Li.unbind(this,t,e)}))},trigger:function(t){return this.each((function(){"object"==typeof t?Li.fire(this,t.type,t):Li.fire(this,t)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new uo(Fi.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,n,r=[];for(e=0,n=this.length;e<n;e++)uo.find(t,this[e],r);return uo(r)},filter:function(t){return uo("function"==typeof t?ro(this.toArray(),(function(e,n){return t(n,e)})):uo.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof uo&&(t=t[0]),this.each((function(n,r){for(;r;){if("string"==typeof t&&uo(r).is(t)){e.push(r);break}if(r===t){e.push(r);break}r=r.parentNode}})),uo(e)},offset:function(t){var e,n,r,i,o=0,s=0;return t?this.css(t):((e=this[0])&&(r=(n=e.ownerDocument).documentElement,e.getBoundingClientRect&&(o=(i=e.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,s=i.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:o,top:s})},push:Pi,sort:Array.prototype.sort,splice:Array.prototype.splice},kn.extend(Ji,{extend:kn.extend,makeArray:function(t){return(e=t)&&e===e.window||t.nodeType?[t]:kn.toArray(t);var e},inArray:function(t,e){var n;if(e.indexOf)return e.indexOf(t);for(n=e.length;n--;)if(e[n]===t)return n;return-1},isArray:kn.isArray,each:no,trim:eo,grep:ro,find:_i,expr:_i.selectors,unique:_i.uniqueSort,text:_i.getText,contains:_i.contains,filter:function(t,e,n){var r=e.length;for(n&&(t=":not("+t+")");r--;)1!==e[r].nodeType&&e.splice(r,1);return 1===e.length?uo.find.matchesSelector(e[0],t)?[e[0]]:[]:uo.find.matches(t,e)}});var oo=function(t,e,n){var r=[],i=t[e];for("string"!=typeof n&&n instanceof uo&&(n=n[0]);i&&9!==i.nodeType;){if(void 0!==n){if(i===n)break;if("string"==typeof n&&uo(i).is(n))break}1===i.nodeType&&r.push(i),i=i[e]}return r},so=function(t,e,n,r){var i=[];for(r instanceof uo&&(r=r[0]);t;t=t[e])if(!n||t.nodeType===n){if(void 0!==r){if(t===r)break;if("string"==typeof r&&uo(t).is(r))break}i.push(t)}return i},ao=function(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType===n)return t;return null};no({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return oo(t,"parentNode")},next:function(t){return ao(t,"nextSibling",1)},prev:function(t){return ao(t,"previousSibling",1)},children:function(t){return so(t.firstChild,"nextSibling",1)},contents:function(t){return kn.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},(function(t,e){Ji.fn[t]=function(n){var r=[];this.each((function(){var t=e.call(r,this,n,r);t&&(uo.isArray(t)?r.push.apply(r,t):r.push(t))})),this.length>1&&(Hi[t]||(r=uo.unique(r)),0===t.indexOf("parents")&&(r=r.reverse()));var i=uo(r);return n?i.filter(n):i}})),no({parentsUntil:function(t,e){return oo(t,"parentNode",e)},nextUntil:function(t,e){return so(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return so(t,"previousSibling",1,e).slice(1)}},(function(t,e){Ji.fn[t]=function(n,r){var i=[];this.each((function(){var t=e.call(i,this,n,i);t&&(uo.isArray(t)?i.push.apply(i,t):i.push(t))})),this.length>1&&(i=uo.unique(i),0!==t.indexOf("parents")&&"prevUntil"!==t||(i=i.reverse()));var o=uo(i);return r?o.filter(r):o}})),Ji.fn.is=function(t){return!!t&&this.filter(t).length>0},Ji.fn.init.prototype=Ji.fn,Ji.overrideDefaults=function(t){var e,n=function(r,i){return e=e||t(),0===arguments.length&&(r=e.element),i||(i=e.context),new n.fn.init(r,i)};return uo.extend(n,this),n},Ji.attrHooks=Zi,Ji.cssHooks=Qi;var uo=Ji,lo=function(){function t(t,e){this.node=t,this.rootNode=e,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return t.prototype.current=function(){return this.node},t.prototype.next=function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node},t.prototype.prev=function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node},t.prototype.prev2=function(t){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",t),this.node},t.prototype.findSibling=function(t,e,n,r){var i,o;if(t){if(!r&&t[e])return t[e];if(t!==this.rootNode){if(i=t[n])return i;for(o=t.parentNode;o&&o!==this.rootNode;o=o.parentNode)if(i=o[n])return i}}},t.prototype.findPreviousNode=function(t,e,n,r){var i,o,s;if(t){if(i=t[n],this.rootNode&&i===this.rootNode)return;if(i){if(!r)for(s=i[e];s;s=s[e])if(!s[e])return s;return i}if((o=t.parentNode)&&o!==this.rootNode)return o}},t}(),co=kn.each,fo=kn.grep,ho=gn.ie,mo=/^([a-z0-9],?)+$/i,po=/^[ \t\r\n]*$/,go=function(t,e){var n=e.attr("style"),r=t.serialize(t.parse(n),e[0].nodeName);r||(r=null),e.attr("data-mce-style",r)},vo=function(t,e){var n,r,i=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)r=t.nodeType,(!e||3!==r||r!==n&&t.nodeValue.length)&&(i++,n=r);return i};function bo(t,n){var s,a=this;void 0===n&&(n={});var u={},l=e.window,c={},d=0,f=function(t,n){void 0===n&&(n={});var s,a=0,u={};s=n.maxLoadTime||5e3;var l=function(e){t.getElementsByTagName("head")[0].appendChild(e)},c=function(r,i,o){var c,d,f,h,m=function(t){h.status=t,h.passed=[],h.failed=[],c&&(c.onload=null,c.onerror=null,c=null)},p=function(){for(var t=h.passed,e=t.length;e--;)t[e]();m(2)},g=function(){for(var t=h.failed,e=t.length;e--;)t[e]();m(3)},v=function(t,e){t()||((new Date).getTime()-f<s?an.setTimeout(e):g())},b=function(){v((function(){for(var e,n,r=t.styleSheets,i=r.length;i--;)if((n=(e=r[i]).ownerNode?e.ownerNode:e.owningElement)&&n.id===c.id)return p(),!0}),b)},y=function(){v((function(){try{var t=d.sheet.cssRules;return p(),!!t}catch(e){}}),y)};if(r=kn._addCacheSuffix(r),u[r]?h=u[r]:u[r]=h={passed:[],failed:[]},i&&h.passed.push(i),o&&h.failed.push(o),1!==h.status)if(2!==h.status)if(3!==h.status){if(h.status=1,(c=t.createElement("link")).rel="stylesheet",c.type="text/css",c.id="u"+a++,c.async=!1,c.defer=!1,f=(new Date).getTime(),n.contentCssCors&&(c.crossOrigin="anonymous"),n.referrerPolicy&&Ne(rt(c),"referrerpolicy",n.referrerPolicy),!("onload"in c)||(_=e.navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(_[1],10)<536){if(e.navigator.userAgent.indexOf("Firefox")>0)return(d=t.createElement("style")).textContent='@import "'+r+'"',y(),void l(d);b()}else c.onload=b,c.onerror=g;var _;l(c),c.href=r}else g();else p()},d=function(t){return Qe((function(e){c(t,r(e,i(en.value(t))),r(e,i(en.error(t))))}))},f=function(t){return t.fold(o,o)};return{load:c,loadAll:function(t,e,n){var r;(r=T(t,d),function(t,e){return e((function(e){var n=[],r=0;0===t.length?e([]):A(t,(function(i,o){i.get(function(i){return function(o){n[i]=o,++r>=t.length&&e(n)}}(o))}))}))}(r,Qe)).get((function(t){var r=function(t,e){for(var n=[],r=[],i=0,o=t.length;i<o;i++){var s=t[i];(e(s)?n:r).push(s)}return{pass:n,fail:r}}(t,(function(t){return t.isValue()}));r.fail.length>0?n(r.fail.map(f)):e(r.pass.map(f))}))},_setReferrerPolicy:function(t){n.referrerPolicy=t}}}(t,{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),h=[],m=n.schema?n.schema:cr({}),g=Dr({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),v=n.ownEvents?new Lr:Lr.Event,b=m.getBlockElements(),y=uo.overrideDefaults((function(){return{context:t,element:Y.getRoot()}})),_=function(e){if(e&&t&&"string"==typeof e){var n=t.getElementById(e);return n&&n.id!==e?t.getElementsByName(e)[1]:n}return e},w=function(t){return"string"==typeof t&&(t=_(t)),y(t)},x=function(t,e,n){var r,i,o=w(t);return o.length&&(i=(r=s[e])&&r.get?r.get(o,e):o.attr(e)),void 0===i&&(i=n||""),i},C=function(t){var e=_(t);return e?e.attributes:[]},S=function(t,e,r){var i,o;""===r&&(r=null);var a=w(t);i=a.attr(e),a.length&&((o=s[e])&&o.set?o.set(a,r,e):a.attr(e,r),i!==r&&n.onSetAttrib&&n.onSetAttrib({attrElm:a,attrName:e,attrValue:r}))},k=function(){return n.root_element||t.body},E=function(e,n){return function(t,e,n){var r,i,o=0,s=0,a=t.ownerDocument;if(n=n||t,e){if(n===t&&e.getBoundingClientRect&&"static"===Be(rt(t),"position"))return{x:o=(i=e.getBoundingClientRect()).left+(a.documentElement.scrollLeft||t.scrollLeft)-a.documentElement.clientLeft,y:s=i.top+(a.documentElement.scrollTop||t.scrollTop)-a.documentElement.clientTop};for(r=e;r&&r!==n&&r.nodeType&&!Ue(r,n);)o+=r.offsetLeft||0,s+=r.offsetTop||0,r=r.offsetParent;for(r=e.parentNode;r&&r!==n&&r.nodeType&&!Ue(r,n);)o-=r.scrollLeft||0,s-=r.scrollTop||0,r=r.parentNode;s+=function(t){return Ve.isFirefox()&&"table"===ie(t)?je(qt(t)).filter((function(t){return"caption"===ie(t)})).bind((function(t){return je(Wt(t)).map((function(e){var n=e.dom().offsetTop,r=t.dom().offsetTop,i=t.dom().offsetHeight;return n<=r?-i:0}))})).getOr(0):0}(rt(e))}return{x:o,y:s}}(t.body,_(e),n)},O=function(t,e,n){var r=w(t);return n?r.css(e):("float"===(e=e.replace(/-(\D)/g,(function(t,e){return e.toUpperCase()})))&&(e=gn.browser.isIE()?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[e]:void 0)},D=function(t){var e,n;return t=_(t),e=O(t,"width"),n=O(t,"height"),-1===e.indexOf("px")&&(e=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},M=function(t,e){var n;if(!t)return!1;if(!Array.isArray(t)){if("*"===e)return 1===t.nodeType;if(mo.test(e)){var r=e.toLowerCase().split(/,/),i=t.nodeName.toLowerCase();for(n=r.length-1;n>=0;n--)if(r[n]===i)return!0;return!1}if(t.nodeType&&1!==t.nodeType)return!1}var o=Array.isArray(t)?t:[t];return _i(e,o[0].ownerDocument||o[0],null,o).length>0},R=function(t,e,n,r){var i,o=[],s=_(t);for(r=void 0===r,n=n||("BODY"!==k().nodeName?k().parentNode:null),kn.is(e,"string")&&(i=e,e="*"===e?function(t){return 1===t.nodeType}:function(t){return M(t,i)});s&&s!==n&&s.nodeType&&9!==s.nodeType;){if(!e||"function"==typeof e&&e(s)){if(!r)return[s];o.push(s)}s=s.parentNode}return r?o:null},I=function(t,e,n){var r=e;if(t)for("string"==typeof e&&(r=function(t){return M(t,e)}),t=t[n];t;t=t[n])if("function"==typeof r&&r(t))return t;return null},N=function(t,e,n){var r,i="string"==typeof t?_(t):t;return!!i&&(kn.isArray(i)&&(i.length||0===i.length)?(r=[],co(i,(function(t,i){t&&("string"==typeof t&&(t=_(t)),r.push(e.call(n,t,i)))})),r):e.call(n||a,i))},z=function(t,e){w(t).each((function(t,n){co(e,(function(t,e){S(n,e,t)}))}))},P=function(t,e){var n=w(t);ho?n.each((function(t,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+e,n.removeChild(n.firstChild)}catch(r){uo("<div></div>").html("<br>"+e).contents().slice(1).appendTo(n)}return e}})):n.html(e)},F=function(e,n,r,i,o){return N(e,(function(e){var s="string"==typeof n?t.createElement(n):n;return z(s,r),i&&("string"!=typeof i&&i.nodeType?s.appendChild(i):"string"==typeof i&&P(s,i)),o?s:e.appendChild(s)}))},B=function(e,n,r){return F(t.createElement(e),e,n,r,!0)},L=tr.encodeAllRaw,H=function(t,e){var n=w(t);return e?n.each((function(){for(var t;t=this.firstChild;)3===t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)})).remove():n.remove(),n.length>1?n.toArray():n[0]},V=function(t,e,n){w(t).toggleClass(e,n).each((function(){""===this.className&&uo(this).attr("class",null)}))},j=function(t,e,n){return N(e,(function(e){return kn.is(e,"array")&&(t=t.cloneNode(!0)),n&&co(fo(e.childNodes),(function(e){t.appendChild(e)})),e.parentNode.replaceChild(t,e)}))},U=function(t){if(Me.isElement(t)){var e="a"===t.nodeName.toLowerCase()&&!x(t,"href")&&x(t,"id");if(x(t,"name")||x(t,"data-mce-bookmark")||e)return!0}return!1},$=function(){return t.createRange()},W=function(e,r,i,o){if(kn.isArray(e)){for(var s=e.length,a=[];s--;)a[s]=W(e[s],r,i,o);return a}return!n.collect||e!==t&&e!==l||h.push([e,r,i,o]),v.bind(e,r,i,o||Y)},q=function(e,n,r){var i;if(kn.isArray(e)){i=e.length;for(var o=[];i--;)o[i]=q(e[i],n,r);return o}if(h&&(e===t||e===l))for(i=h.length;i--;){var s=h[i];e!==s[0]||n&&n!==s[1]||r&&r!==s[2]||v.unbind(s[0],s[1],s[2])}return v.unbind(e,n,r)},G=function(t){if(t&&Me.isElement(t)){var e=t.getAttribute("data-mce-contenteditable");return e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null}return null},Y={doc:t,settings:n,win:l,files:c,stdMode:!0,boxModel:!0,styleSheetLoader:f,boundEvents:h,styles:g,schema:m,events:v,isBlock:function(t){if("string"==typeof t)return!!b[t];if(t){var e=t.nodeType;if(e)return!(1!==e||!b[t.nodeName])}return!1},$:y,$$:w,root:null,clone:function(e,n){if(!ho||1!==e.nodeType||n)return e.cloneNode(n);if(!n){var r=t.createElement(e.nodeName);return co(C(e),(function(t){S(r,t.nodeName,x(e,t.nodeName))})),r}return null},getRoot:k,getViewPort:function(t){var e=be(t);return{x:e.x(),y:e.y(),w:e.width(),h:e.height()}},getRect:function(t){var e,n;return t=_(t),e=E(t),n=D(t),{x:e.x,y:e.y,w:n.w,h:n.h}},getSize:D,getParent:function(t,e,n){var r=R(t,e,n,!1);return r&&r.length>0?r[0]:null},getParents:R,get:_,getNext:function(t,e){return I(t,e,"nextSibling")},getPrev:function(t,e){return I(t,e,"previousSibling")},select:function(e,r){return _i(e,_(r)||n.root_element||t,[])},is:M,add:F,create:B,createHTML:function(t,e,n){var r,i="";for(r in i+="<"+t,e)e.hasOwnProperty(r)&&null!=e[r]&&(i+=" "+r+'="'+L(e[r])+'"');return void 0!==n?i+">"+n+"</"+t+">":i+" />"},createFragment:function(e){var n,r=t.createElement("div"),i=t.createDocumentFragment();for(i.appendChild(r),e&&(r.innerHTML=e);n=r.firstChild;)i.appendChild(n);return i.removeChild(r),i},remove:H,setStyle:function(t,e,r){var i=p(e)?w(t).css(e,r):w(t).css(e);n.update_styles&&go(g,i)},getStyle:O,setStyles:function(t,e){var r=w(t).css(e);n.update_styles&&go(g,r)},removeAllAttribs:function(t){return N(t,(function(t){var e,n=t.attributes;for(e=n.length-1;e>=0;e--)t.removeAttributeNode(n.item(e))}))},setAttrib:S,setAttribs:z,getAttrib:x,getPos:E,parseStyle:function(t){return g.parse(t)},serializeStyle:function(t,e){return g.serialize(t,e)},addStyle:function(n){var r,i;if(Y!==bo.DOM&&t===e.document){if(u[n])return;u[n]=!0}(i=t.getElementById("mceDefaultStyles"))||((i=t.createElement("style")).id="mceDefaultStyles",i.type="text/css",(r=t.getElementsByTagName("head")[0]).firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=n:i.appendChild(t.createTextNode(n))},loadCSS:function(r){var i;Y===bo.DOM||t!==e.document?(r||(r=""),i=t.getElementsByTagName("head")[0],co(r.split(","),(function(t){var e;t=kn._addCacheSuffix(t),c[t]||(c[t]=!0,e=B("link",Q(Q({rel:"stylesheet",type:"text/css",href:t},n.contentCssCors?{crossOrigin:"anonymous"}:{}),n.referrerPolicy?{referrerPolicy:n.referrerPolicy}:{})),i.appendChild(e))}))):bo.DOM.loadCSS(r)},addClass:function(t,e){w(t).addClass(e)},removeClass:function(t,e){V(t,e,!1)},hasClass:function(t,e){return w(t).hasClass(e)},toggleClass:V,show:function(t){w(t).show()},hide:function(t){w(t).hide()},isHidden:function(t){return"none"===w(t).css("display")},uniqueId:function(t){return(t||"mce_")+d++},setHTML:P,getOuterHTML:function(t){var e="string"==typeof t?_(t):t;return Me.isElement(e)?e.outerHTML:uo("<div></div>").append(uo(e).clone()).html()},setOuterHTML:function(t,e){w(t).each((function(){try{if("outerHTML"in this)return void(this.outerHTML=e)}catch(t){}H(uo(this).html(e),!0)}))},decode:tr.decode,encode:L,insertAfter:function(t,e){var n=_(e);return N(t,(function(t){var e,r;return e=n.parentNode,(r=n.nextSibling)?e.insertBefore(t,r):e.appendChild(t),t}))},replace:j,rename:function(t,e){var n;return t.nodeName!==e.toUpperCase()&&(n=B(e),co(C(t),(function(e){S(n,e.nodeName,x(t,e.nodeName))})),j(n,t,!0)),n||t},findCommonAncestor:function(t,e){for(var n,r=t;r;){for(n=e;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&t.ownerDocument?t.ownerDocument.documentElement:r},toHex:function(t){return g.toHex(kn.trim(t))},run:N,getAttribs:C,isEmpty:function(t,e){var n,r,i=0;if(U(t))return!1;if(t=t.firstChild){var o=new lo(t,t.parentNode),s=m?m.getWhiteSpaceElements():{};e=e||(m?m.getNonEmptyElements():null);do{if(n=t.nodeType,Me.isElement(t)){var a=t.getAttribute("data-mce-bogus");if(a){t=o.next("all"===a);continue}if(r=t.nodeName.toLowerCase(),e&&e[r]){if("br"===r){i++,t=o.next();continue}return!1}if(U(t))return!1}if(8===n)return!1;if(3===n&&!po.test(t.nodeValue))return!1;if(3===n&&t.parentNode&&s[t.parentNode.nodeName]&&po.test(t.nodeValue))return!1;t=o.next()}while(t)}return i<=1},createRng:$,nodeIndex:vo,split:function(t,e,n){var r,i,o,s=$();if(t&&e)return s.setStart(t.parentNode,vo(t)),s.setEnd(e.parentNode,vo(e)),r=s.extractContents(),(s=$()).setStart(e.parentNode,vo(e)+1),s.setEnd(t.parentNode,vo(t)+1),i=s.extractContents(),(o=t.parentNode).insertBefore(Un.trimNode(Y,r),t),o.insertBefore(n||e,t),o.insertBefore(Un.trimNode(Y,i),t),H(t),n||e},bind:W,unbind:q,fire:function(t,e,n){return v.fire(t,e,n)},getContentEditable:G,getContentEditableParent:function(t){for(var e=k(),n=null;t&&t!==e&&null===(n=G(t));t=t.parentNode);return n},destroy:function(){if(h)for(var t=h.length;t--;){var e=h[t];v.unbind(e[0],e[1],e[2])}_i.setDocument&&_i.setDocument()},isChildOf:function(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset}};return s=function(t,e,n){var r=e.keep_values,i={style:{set:function(e,n){null===n||"object"!=typeof n?(r&&e.attr("data-mce-style",n),null!==n&&"string"==typeof n?(e.removeAttr("style"),e.css(t.parse(n))):e.attr("style",n)):e.css(n)},get:function(e){var n=e.attr("data-mce-style")||e.attr("style");return t.serialize(t.parse(n),e[0].nodeName)}}};return r&&(i.href=i.src={set:function(t,n,r){e.url_converter&&(n=e.url_converter.call(e.url_converter_scope||Y,n,r,t[0])),t.attr("data-mce-"+r,n).attr(r,n)},get:function(t,e){return t.attr("data-mce-"+e)||t.attr(e)}}),i}(g,n),Y}!function(t){t.DOM=t(e.document),t.nodeIndex=vo}(bo||(bo={}));var yo=bo,_o=yo.DOM,wo=kn.each,xo=kn.grep,Co=function(){function t(t){void 0===t&&(t={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=t}return t.prototype._setReferrerPolicy=function(t){this.settings.referrerPolicy=t},t.prototype.loadScript=function(t,n,r){var i,o,s=_o;o=s.uniqueId(),(i=e.document.createElement("script")).id=o,i.type="text/javascript",i.src=kn._addCacheSuffix(t),this.settings.referrerPolicy&&s.setAttrib(i,"referrerpolicy",this.settings.referrerPolicy),i.onload=function(){s.remove(o),i&&(i.onreadystatechange=i.onload=i=null),n()},i.onerror=function(){_(r)?r():void 0!==e.console&&e.console.log&&e.console.log("Failed to load script: "+t)},(e.document.getElementsByTagName("head")[0]||e.document.body).appendChild(i)},t.prototype.isDone=function(t){return 2===this.states[t]},t.prototype.markDone=function(t){this.states[t]=2},t.prototype.add=function(t,e,n,r){void 0===this.states[t]&&(this.queue.push(t),this.states[t]=0),e&&(this.scriptLoadedCallbacks[t]||(this.scriptLoadedCallbacks[t]=[]),this.scriptLoadedCallbacks[t].push({success:e,failure:r,scope:n||this}))},t.prototype.load=function(t,e,n,r){return this.add(t,e,n,r)},t.prototype.remove=function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]},t.prototype.loadQueue=function(t,e,n){this.loadScripts(this.queue,t,e,n)},t.prototype.loadScripts=function(t,e,n,r){var i,o=this,s=[],a=function(t,e){wo(o.scriptLoadedCallbacks[e],(function(e){_(e[t])&&e[t].call(e.scope)})),o.scriptLoadedCallbacks[e]=void 0};o.queueLoadedCallbacks.push({success:e,failure:r,scope:n||this}),(i=function(){var e=xo(t);if(t.length=0,wo(e,(function(t){2!==o.states[t]?3!==o.states[t]?1!==o.states[t]&&(o.states[t]=1,o.loading++,o.loadScript(t,(function(){o.states[t]=2,o.loading--,a("success",t),i()}),(function(){o.states[t]=3,o.loading--,s.push(t),a("failure",t),i()}))):a("failure",t):a("success",t)})),!o.loading){var n=o.queueLoadedCallbacks.slice(0);o.queueLoadedCallbacks.length=0,wo(n,(function(t){0===s.length?_(t.success)&&t.success.call(t.scope):_(t.failure)&&t.failure.call(t.scope,s)}))}})()},t.ScriptLoader=new t,t}(),So={},ko=it("en"),Eo=function(){return X(So,ko.get())},Oo={getData:function(){return W(So,(function(t){return Q({},t)}))},setCode:function(t){t&&ko.set(t)},getCode:function(){return ko.get()},add:function(t,e){var n=So[t];n||(So[t]=n={}),$(e,(function(t,e){n[e.toLowerCase()]=t}))},translate:function(t){var e,n=Eo().getOr({}),r=function(t){return _(t)?Object.prototype.toString.call(t):i(t)?"":""+t},i=function(t){return""===t||null==t},o=function(t){var e=r(t);return X(n,e.toLowerCase()).map(r).getOr(e)},s=function(t){return t.replace(/{context:\w+}$/,"")};if(i(t))return"";if(g(e=t)&&Z(e,"raw"))return r(t.raw);if(function(t){return v(t)&&t.length>1}(t)){var a=t.slice(1);return s(o(t[0]).replace(/\{([0-9]+)\}/g,(function(t,e){return Z(a,e)?r(a[e]):t})))}return s(o(t))},isRtl:function(){return Eo().bind((function(t){return X(t,"_dir")})).exists((function(t){return"rtl"===t}))},hasCode:function(t){return Z(So,t)}};function To(){var t=this,e=[],n={},r={},i=[],o=function(t,e){var n=D(i,(function(n){return n.name===t&&n.state===e}));A(n,(function(t){return t.callback()}))},s=function(t){var e;return r[t]&&(e=r[t].dependencies),e||[]},a=function(t,e){return"object"==typeof e?e:"string"==typeof t?{prefix:"",resource:e,suffix:""}:{prefix:t.prefix,resource:e,suffix:t.suffix}},u=function(t,e,i,l,c){if(!n[t]){var d="string"==typeof e?e:e.prefix+e.resource+e.suffix;0!==d.indexOf("/")&&-1===d.indexOf("://")&&(d=To.baseURL+"/"+d),n[t]=d.substring(0,d.lastIndexOf("/"));var f=function(){o(t,"loaded"),function(t,e,n,r){var i=s(t);A(i,(function(t){var n=a(e,t);u(n.resource,n,void 0,void 0)})),n&&n.call(r||Co)}(t,e,i,l)};r[t]?f():Co.ScriptLoader.add(d,f,l,c)}},l=function(t,e,o){void 0===o&&(o="added"),Z(r,t)&&"added"===o||Z(n,t)&&"loaded"===o?e():i.push({name:t,state:o,callback:e})};return{items:e,urls:n,lookup:r,_listeners:i,get:function(t){if(r[t])return r[t].instance},dependencies:s,requireLangPack:function(t,e){!1!==To.languageLoad&&l(t,(function(){var r=Oo.getCode();!r||e&&-1===(","+(e||"")+",").indexOf(","+r+",")||Co.ScriptLoader.add(n[t]+"/langs/"+r+".js")}),"loaded")},add:function(t,n,i){var s=n;return e.push(s),r[t]={instance:s,dependencies:i},o(t,"added"),s},remove:function(t){delete n[t],delete r[t]},createUrl:a,addComponents:function(e,n){var r=t.urls[e];A(n,(function(t){Co.ScriptLoader.add(r+"/"+t)}))},load:u,waitFor:l}}!function(t){t.PluginManager=t(),t.ThemeManager=t()}(To||(To={}));var Ao=To,Do=function(t,n){var r=null;return{cancel:function(){null!==r&&(e.clearTimeout(r),r=null)},throttle:function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];null===r&&(r=e.setTimeout((function(){t.apply(null,i),r=null}),n))}}},Mo=function(t,n){var r=null;return{cancel:function(){null!==r&&(e.clearTimeout(r),r=null)},throttle:function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];null!==r&&e.clearTimeout(r),r=e.setTimeout((function(){t.apply(null,i),r=null}),n)}}},Ro=function(t,e){var n=Pe(t,e);return void 0===n||""===n?[]:n.split(" ")},Io=function(t){return void 0!==t.dom().classList},No=function(t,e){Io(t)?t.dom().classList.add(e):function(t,e){!function(t,e,n){var r=Ro(t,"class").concat([n]);Ne(t,"class",r.join(" "))}(t,0,e)}(t,e)},zo=function(t,e){return Io(t)&&t.dom().classList.contains(e)},Po=function(t,e){var n=[];return A(qt(t),(function(t){e(t)&&(n=n.concat([t])),n=n.concat(Po(t,e))})),n},Fo=function(t,n){return function(t,n){var r=void 0===n?e.document:n.dom();return Pt(r)?[]:T(r.querySelectorAll(t),rt)}(n,t)};function Bo(t,e,n,r,i){return t(n,r)?h.some(n):_(i)&&i(n)?h.none():e(n,r,i)}var Lo=function(t,e,n){for(var r=t.dom(),o=_(n)?n:i(!1);r.parentNode;){var s=rt(r=r.parentNode);if(e(s))return h.some(s);if(o(s))break}return h.none()},Ho=function(t,e,n){return Bo((function(t,e){return e(t)}),Lo,t,e,n)},Vo=function(t,e,n){return Lo(t,(function(t){return zt(t,e)}),n)},jo=function(t,n){return function(t,n){var r=void 0===n?e.document:n.dom();return Pt(r)?h.none():h.from(r.querySelector(t)).map(rt)}(n,t)},Uo=function(t,e,n){return Bo(zt,Vo,t,e,n)},$o=i("mce-annotation"),Wo=i("data-mce-annotation"),qo=i("data-mce-annotation-uid"),Go=function(t,e){var n=t.selection.getRng(),r=rt(n.startContainer),i=rt(t.getBody()),o=e.fold((function(){return"."+$o()}),(function(t){return"["+Wo()+'="'+t+'"]'})),s=Gt(r,n.startOffset).getOr(r),a=Uo(s,o,(function(t){return Ft(t,i)})),u=function(t,e){return function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)}(t,e)?h.some(Pe(t,e)):h.none()};return a.bind((function(e){return u(e,""+qo()).bind((function(n){return u(e,""+Wo()).map((function(e){var r=Yo(t,n);return{uid:n,name:e,elements:r}}))}))}))},Yo=function(t,e){var n=rt(t.getBody());return Fo(n,"["+qo()+'="'+e+'"]')},Ko=0,Xo=function(t,n){var r,i,o=Lt(t).dom(),s=rt(o.createDocumentFragment()),a=(r=n,(i=(o||e.document).createElement("div")).innerHTML=r,qt(rt(i)));te(s,a),ee(t),Jt(t,s)},Zo=function(t,e){return rt(t.dom().cloneNode(e))},Qo=function(t){return Zo(t,!1)},Jo=function(t){return Zo(t,!0)},ts=function(t){return"\ufeff"===t},es=function(t){return t.replace(new RegExp("\ufeff","g"),"")},ns=Me.isElement,rs=Me.isText,is=function(t){return rs(t)&&(t=t.parentNode),ns(t)&&t.hasAttribute("data-mce-caret")},os=function(t){return rs(t)&&ts(t.data)},ss=function(t){return is(t)||os(t)},as=function(t){return t.firstChild!==t.lastChild||!Me.isBr(t.firstChild)},us=function(t){var e=t.container();return!(!t||!Me.isText(e))&&("\ufeff"===e.data.charAt(t.offset())||t.isAtStart()&&os(e.previousSibling))},ls=function(t){var e=t.container();return!(!t||!Me.isText(e))&&("\ufeff"===e.data.charAt(t.offset()-1)||t.isAtEnd()&&os(e.nextSibling))},cs=function(t){return rs(t)&&"\ufeff"===t.data[0]},ds=function(t){return rs(t)&&"\ufeff"===t.data[t.data.length-1]},fs=function(t){return t&&t.hasAttribute("data-mce-caret")?(e=t.getElementsByTagName("br"),Me.isBogus(n=e[e.length-1])&&n.parentNode.removeChild(n),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null;var e,n},hs=Me.isContentEditableTrue,ms=Me.isContentEditableFalse,ps=Me.isBr,gs=Me.isText,vs=Me.matchNodeNames(["script","style","textarea"]),bs=Me.matchNodeNames(["img","input","textarea","hr","iframe","video","audio","object"]),ys=Me.matchNodeNames(["table"]),_s=ss,ws=function(t){return!_s(t)&&(gs(t)?!vs(t.parentNode):bs(t)||ps(t)||ys(t)||xs(t))},xs=function(t){return!1===function(t){return Me.isElement(t)&&"true"===t.getAttribute("unselectable")}(t)&&ms(t)},Cs=function(t,e){return ws(t)&&function(t,e){for(t=t.parentNode;t&&t!==e;t=t.parentNode){if(xs(t))return!1;if(hs(t))return!0}return!0}(t,e)},Ss=Math.round,ks=function(t){return t?{left:Ss(t.left),top:Ss(t.top),bottom:Ss(t.bottom),right:Ss(t.right),width:Ss(t.width),height:Ss(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Es=function(t,e){return t=ks(t),e||(t.left=t.left+t.width),t.right=t.left,t.width=0,t},Os=function(t,e,n){return t>=0&&t<=Math.min(e.height,n.height)/2},Ts=function(t,e){return t.bottom-t.height/2<e.top||!(t.top>e.bottom)&&Os(e.top-t.bottom,t,e)},As=function(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&Os(e.bottom-t.top,t,e)},Ds=function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom},Ms=function(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset===n+1?e.childNodes[n]:null},Rs=function(t,e){return 1===t.nodeType&&t.hasChildNodes()&&(e>=t.childNodes.length&&(e=t.childNodes.length-1),t=t.childNodes[e]),t},Is=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),Ns=function(t){return"string"==typeof t&&t.charCodeAt(0)>=768&&Is.test(t)},zs=function(t,e,n){return t.isSome()&&e.isSome()?h.some(n(t.getOrDie(),e.getOrDie())):h.none()},Ps=[].slice,Fs=Me.isElement,Bs=ws,Ls=Me.matchStyleValues("display","block table"),Hs=Me.matchStyleValues("float","left right"),Vs=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ps.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(!n[e](t))return!1;return!0}}(Fs,Bs,a(Hs)),js=a(Me.matchStyleValues("white-space","pre pre-line pre-wrap")),Us=Me.isText,$s=Me.isBr,Ws=yo.nodeIndex,qs=Rs,Gs=function(t){return"createRange"in t?t.createRange():yo.DOM.createRng()},Ys=function(t){return t&&/[\r\n\t ]/.test(t)},Ks=function(t){return!!t.setStart&&!!t.setEnd},Xs=function(t){var e,n=t.startContainer,r=t.startOffset;return!!(Ys(t.toString())&&js(n.parentNode)&&Me.isText(n)&&(Ys((e=n.data)[r-1])||Ys(e[r+1])))},Zs=function(t){return 0===t.left&&0===t.right&&0===t.top&&0===t.bottom},Qs=function(t){var e,n;return n=t.getClientRects(),e=ks(n.length>0?n[0]:t.getBoundingClientRect()),!Ks(t)&&$s(t)&&Zs(e)?function(t){var e,n=t.ownerDocument,r=Gs(n),i=n.createTextNode("\xa0"),o=t.parentNode;return o.insertBefore(i,t),r.setStart(i,0),r.setEnd(i,1),e=ks(r.getBoundingClientRect()),o.removeChild(i),e}(t):Zs(e)&&Ks(t)?function(t){var e=t.endContainer,n=t.startOffset,r=t.endOffset;if(t.startContainer===e&&Me.isText(e)&&0===n&&1===r){var i=t.cloneRange();return i.setEndAfter(e),Qs(i)}return null}(t):e},Js=function(t,e){var n=Es(t,e);return n.width=1,n.right=n.left+1,n};function ta(t,e,n){var r=function(){return n||(n=function(t){var e,n,r=[],i=function(t){var e,n;0!==t.height&&(r.length>0&&(e=t).left===(n=r[r.length-1]).left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right||r.push(t))},o=function(t,e){var n=Gs(t.ownerDocument);if(e<t.data.length){if(Ns(t.data[e]))return r;if(Ns(t.data[e-1])&&(n.setStart(t,e),n.setEnd(t,e+1),!Xs(n)))return i(Js(Qs(n),!1)),r}e>0&&(n.setStart(t,e-1),n.setEnd(t,e),Xs(n)||i(Js(Qs(n),!1))),e<t.data.length&&(n.setStart(t,e),n.setEnd(t,e+1),Xs(n)||i(Js(Qs(n),!0)))};if(Us(t.container()))return o(t.container(),t.offset()),r;if(Fs(t.container()))if(t.isAtEnd())n=qs(t.container(),t.offset()),Us(n)&&o(n,n.data.length),Vs(n)&&!$s(n)&&i(Js(Qs(n),!1));else{if(n=qs(t.container(),t.offset()),Us(n)&&o(n,0),Vs(n)&&t.isAtEnd())return i(Js(Qs(n),!1)),r;e=qs(t.container(),t.offset()-1),Vs(e)&&!$s(e)&&(Ls(e)||Ls(n)||!Vs(n))&&i(Js(Qs(e),!1)),Vs(n)&&i(Js(Qs(n),!0))}return r}(ta(t,e))),n};return{container:i(t),offset:i(e),toRange:function(){var n;return(n=Gs(t.ownerDocument)).setStart(t,e),n.setEnd(t,e),n},getClientRects:r,isVisible:function(){return r().length>0},isAtStart:function(){return Us(t),0===e},isAtEnd:function(){return Us(t)?e>=t.data.length:e>=t.childNodes.length},isEqual:function(n){return n&&t===n.container()&&e===n.offset()},getNode:function(n){return qs(t,n?e-1:e)}}}!function(t){t.fromRangeStart=function(e){return t(e.startContainer,e.startOffset)},t.fromRangeEnd=function(e){return t(e.endContainer,e.endOffset)},t.after=function(e){return t(e.parentNode,Ws(e)+1)},t.before=function(e){return t(e.parentNode,Ws(e))},t.isAbove=function(t,e){return zs(L(e.getClientRects()),H(t.getClientRects()),Ts).getOr(!1)},t.isBelow=function(t,e){return zs(H(e.getClientRects()),L(t.getClientRects()),As).getOr(!1)},t.isAtStart=function(t){return!!t&&t.isAtStart()},t.isAtEnd=function(t){return!!t&&t.isAtEnd()},t.isTextPosition=function(t){return!!t&&Me.isText(t.container())},t.isElementPosition=function(e){return!1===t.isTextPosition(e)}}(ta||(ta={}));var ea,na=ta,ra=Me.isText,ia=Me.isBogus,oa=yo.nodeIndex,sa=function(t){var e=t.parentNode;return ia(e)?sa(e):e},aa=function(t){return t?_n.reduce(t.childNodes,(function(t,e){return ia(e)&&"BR"!==e.nodeName?t=t.concat(aa(e)):t.push(e),t}),[]):[]},ua=function(t){return function(e){return t===e}},la=function(t){return(ra(t)?"text()":t.nodeName.toLowerCase())+"["+function(t){var e,n,r;return e=aa(sa(t)),n=_n.findIndex(e,ua(t),t),e=e.slice(0,n+1),r=_n.reduce(e,(function(t,n,r){return ra(n)&&ra(e[r-1])&&t++,t}),0),e=_n.filter(e,Me.matchNodeNames([t.nodeName])),(n=_n.findIndex(e,ua(t),t))-r}(t)+"]"},ca=function(t,e){var n,r,i,o,s,u=[];return n=e.container(),r=e.offset(),ra(n)?i=function(t,e){for(;(t=t.previousSibling)&&ra(t);)e+=t.data.length;return e}(n,r):(r>=(o=n.childNodes).length?(i="after",r=o.length-1):i="before",n=o[r]),u.push(la(n)),s=function(t,e,n){var r=[];for(e=e.parentNode;e!==t;e=e.parentNode)r.push(e);return r}(t,n),s=_n.filter(s,a(Me.isBogus)),(u=u.concat(_n.map(s,(function(t){return la(t)})))).reverse().join("/")+","+i},da=function(t,e){var n,r,i;return e?(n=e.split(","),e=n[0].split("/"),i=n.length>1?n[1]:"before",(r=_n.reduce(e,(function(t,e){return(e=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e))?("text()"===e[1]&&(e[1]="#text"),function(t,e,n){var r=aa(t);return r=_n.filter(r,(function(t,e){return!ra(t)||!ra(r[e-1])})),(r=_n.filter(r,Me.matchNodeNames([e])))[n]}(t,e[1],parseInt(e[2],10))):null}),t))?ra(r)?function(t,e){for(var n,r=t,i=0;ra(r);){if(n=r.data.length,e>=i&&e<=i+n){t=r,e-=i;break}if(!ra(r.nextSibling)){t=r,e=n;break}i+=n,r=r.nextSibling}return ra(t)&&e>t.data.length&&(e=t.data.length),na(t,e)}(r,parseInt(i,10)):(i="after"===i?oa(r)+1:oa(r),na(r.parentNode,i)):null):null},fa=function(t,e){Me.isText(e)&&0===e.data.length&&t.remove(e)},ha=function(t,e,n){Me.isDocumentFragment(n)?function(t,e,n){var r=h.from(n.firstChild),i=h.from(n.lastChild);e.insertNode(n),r.each((function(e){return fa(t,e.previousSibling)})),i.each((function(e){return fa(t,e.nextSibling)}))}(t,e,n):function(t,e,n){e.insertNode(n),fa(t,n.previousSibling),fa(t,n.nextSibling)}(t,e,n)},ma=Me.isContentEditableFalse,pa=function(t,e,n,r,i){var o,s=r[i?"startContainer":"endContainer"],a=r[i?"startOffset":"endOffset"],u=[],l=0,c=t.getRoot();for(Me.isText(s)?u.push(n?function(t,e,n){var r,i;for(i=t(e.data.slice(0,n)).length,r=e.previousSibling;r&&Me.isText(r);r=r.previousSibling)i+=t(r.data).length;return i}(e,s,a):a):(a>=(o=s.childNodes).length&&o.length&&(l=1,a=Math.max(0,o.length-1)),u.push(t.nodeIndex(o[a],n)+l));s&&s!==c;s=s.parentNode)u.push(t.nodeIndex(s,n));return u},ga=function(t,e,n){var r=0;return kn.each(t.select(e),(function(t){if("all"!==t.getAttribute("data-mce-bogus"))return t!==n&&void r++})),r},va=function(t,e){var n,r,i,o=e?"start":"end";r=t[o+"Offset"],Me.isElement(n=t[o+"Container"])&&"TR"===n.nodeName&&(n=(i=n.childNodes)[Math.min(e?r:r-1,i.length-1)])&&t["set"+(e?"Start":"End")](n,r=e?0:n.childNodes.length)},ba=function(t){return va(t,!0),va(t,!1),t},ya=function(t,e){var n;if(Me.isElement(t)&&(t=Rs(t,e),ma(t)))return t;if(ss(t)){if(Me.isText(t)&&is(t)&&(t=t.parentNode),ma(n=t.previousSibling))return n;if(ma(n=t.nextSibling))return n}},_a=function(t,e,n){var r=n.getNode(),i=r?r.nodeName:null,o=n.getRng();if(ma(r)||"IMG"===i)return{name:i,index:ga(n.dom,i,r)};var s=function(t){return ya(t.startContainer,t.startOffset)||ya(t.endContainer,t.endOffset)}(o);return s?{name:i=s.tagName,index:ga(n.dom,i,s)}:function(t,e,n,r){var i=e.dom,o={};return o.start=pa(i,t,n,r,!0),e.isCollapsed()||(o.end=pa(i,t,n,r,!1)),o}(t,n,e,o)},wa=function(t,e,n){var r={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return n?t.create("span",r,"&#xFEFF;"):t.create("span",r)},xa=function(t,e){var n=t.dom,r=t.getRng(),i=n.uniqueId(),o=t.isCollapsed(),s=t.getNode(),a=s.nodeName;if("IMG"===a)return{name:a,index:ga(n,a,s)};var u=ba(r.cloneRange());if(!o){u.collapse(!1);var l=wa(n,i+"_end",e);ha(n,u,l)}(r=ba(r)).collapse(!0);var c=wa(n,i+"_start",e);return ha(n,r,c),t.moveToBookmark({id:i,keep:1}),{id:i}},Ca={getBookmark:function(t,e,n){return 2===e?_a(es,n,t):3===e?function(t){var e=t.getRng();return{start:ca(t.dom.getRoot(),na.fromRangeStart(e)),end:ca(t.dom.getRoot(),na.fromRangeEnd(e))}}(t):e?function(t){return{rng:t.getRng()}}(t):xa(t,!1)},getUndoBookmark:s(_a,o,!0),getPersistentBookmark:xa},Sa=function(t,e,n){void 0===n&&(n=u);var r=new lo(t,e),i=function(t){var e;do{e=r[t]()}while(e&&!Me.isText(e)&&!n(e));return h.from(e).filter(Me.isText)};return{current:function(){return h.from(r.current()).filter(Me.isText)},next:function(){return i("next")},prev:function(){return i("prev")},prev2:function(){return i("prev2")}}},ka=function(t,e){var n=e||function(e){return t.isBlock(e)||Me.isBr(e)||Me.isContentEditableFalse(e)},r=function(t,e,n,i){if(Me.isText(t)){var o=i(t,e,t.data);if(-1!==o)return h.some({container:t,offset:o})}return n().bind((function(t){return r(t.container,t.offset,n,i)}))};return{backwards:function(t,e,i,o){var s=Sa(t,o,n);return r(t,e,(function(){return s.prev().map((function(t){return{container:t,offset:t.length}}))}),i).getOrNull()},forwards:function(t,e,i,o){var s=Sa(t,o,n);return r(t,e,(function(){return s.next().map((function(t){return{container:t,offset:0}}))}),i).getOrNull()}}},Ea=function(t){return Me.isElement(t)&&"_mce_caret"===t.id},Oa=function(t,e){for(;e&&e!==t;){if("_mce_caret"===e.id)return e;e=e.parentNode}return null},Ta=Me.isElement,Aa=Me.isText,Da=function(t){var e=t.parentNode;e&&e.removeChild(t)},Ma=function(t,e){0===e.length?Da(t):t.nodeValue=e},Ra=function(t){var e=es(t);return{count:t.length-e.length,text:e}},Ia=function(t,e){return Na(t),e},Na=function(t){if(Ta(t)&&ss(t)&&(as(t)?t.removeAttribute("data-mce-caret"):Da(t)),Aa(t)){var e=es(function(t){try{return t.nodeValue}catch(e){return""}}(t));Ma(t,e)}},za={removeAndReposition:function(t,e){return na.isTextPosition(e)?function(t,e){return Aa(t)&&e.container()===t?function(t,e){var n=Ra(t.data.substr(0,e.offset())),r=Ra(t.data.substr(e.offset())),i=n.text+r.text;return i.length>0?(Ma(t,i),na(t,e.offset()-n.count)):e}(t,e):Ia(t,e)}(t,e):function(t,e){return e.container()===t.parentNode?function(t,e){var n=e.container(),r=function(t,e){var n=k(t,e);return-1===n?h.none():h.some(n)}(V(n.childNodes),t).map((function(t){return t<e.offset()?na(n,e.offset()-1):e})).getOr(e);return Na(t),r}(t,e):Ia(t,e)}(t,e)},remove:Na},Pa=yo.DOM,Fa=function(t,e,n){var r=t.getParam(e,n);if(-1!==r.indexOf("=")){var i=t.getParam(e,"","hash");return i.hasOwnProperty(t.id)?i[t.id]:n}return r},Ba=function(t){return t.getParam("content_security_policy","")},La=function(t){if(t.getParam("force_p_newlines",!1))return"p";var e=t.getParam("forced_root_block","p");return!1===e?"":!0===e?"p":e},Ha=function(t){return t.getParam("forced_root_block_attrs",{})},Va=function(t){return t.getParam("automatic_uploads",!0,"boolean")},ja=function(t){return t.getParam("images_reuse_filename",!1,"boolean")},Ua=function(t){return t.getParam("images_upload_url","","string")},$a=function(t){return t.getParam("images_upload_base_path","","string")},Wa=function(t){return t.getParam("images_upload_credentials",!1,"boolean")},qa=function(t){return t.getParam("images_upload_handler",null,"function")},Ga=function(t){return t.getParam("content_css_cors",!1,"boolean")},Ya=function(t){return t.getParam("referrer_policy","","string")},Ka=function(t){return t.getParam("language","en","string")},Xa=function(t){return t.getParam("indent_use_margin",!1)},Za=Tt().browser,Qa=Me.isContentEditableFalse,Ja=function(t,e,n){var r,i,o,s,a,u=Es(e.getBoundingClientRect(),n);return"BODY"===t.tagName?(r=t.ownerDocument.documentElement,i=t.scrollLeft||r.scrollLeft,o=t.scrollTop||r.scrollTop):(a=t.getBoundingClientRect(),i=t.scrollLeft-a.left,o=t.scrollTop-a.top),u.left+=i,u.right+=i,u.top+=o,u.bottom+=o,u.width=1,(s=e.offsetWidth-e.clientWidth)>0&&(n&&(s*=-1),u.left+=s,u.right+=s),u},tu=function(){return Za.isIE()||Za.isEdge()||Za.isFirefox()},eu=function(t){return Qa(t)||Me.isTable(t)&&tu()},nu=Me.isContentEditableFalse,ru=Me.matchStyleValues("display","block table table-cell table-caption list-item"),iu=ss,ou=is,su=Me.isElement,au=ws,uu=function(t){return t>0},lu=function(t){return t<0},cu=function(t,e){for(var n;n=t(e);)if(!ou(n))return n;return null},du=function(t,e,n,r,i){var o=new lo(t,r);if(lu(e)){if((nu(t)||ou(t))&&n(t=cu(o.prev,!0)))return t;for(;t=cu(o.prev,i);)if(n(t))return t}if(uu(e)){if((nu(t)||ou(t))&&n(t=cu(o.next,!0)))return t;for(;t=cu(o.next,i);)if(n(t))return t}return null},fu=function(t,e){for(;t&&t!==e;){if(ru(t))return t;t=t.parentNode}return null},hu=function(t,e,n){return fu(t.container(),n)===fu(e.container(),n)},mu=function(t,e){var n,r;return e?(n=e.container(),r=e.offset(),su(n)?n.childNodes[r+t]:null):null},pu=function(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n},gu=function(t,e,n){return fu(e,t)===fu(n,t)},vu=function(t,e,n){var r,i;for(i=t?"previousSibling":"nextSibling";n&&n!==e;){if(iu(r=n[i])&&(r=r[i]),nu(r)){if(gu(e,r,n))return r;break}if(au(r))break;n=n.parentNode}return null},bu=s(pu,!0),yu=s(pu,!1),_u=function(t,e,n){var r,i,o,a,u=s(vu,!0,e),l=s(vu,!1,e);if(o=n.startOffset,is(i=n.startContainer)){if(su(i)||(i=i.parentNode),"before"===(a=i.getAttribute("data-mce-caret"))&&eu(r=i.nextSibling))return bu(r);if("after"===a&&eu(r=i.previousSibling))return yu(r)}if(!n.collapsed)return n;if(Me.isText(i)){if(iu(i)){if(1===t){if(r=l(i))return bu(r);if(r=u(i))return yu(r)}if(-1===t){if(r=u(i))return yu(r);if(r=l(i))return bu(r)}return n}if(ds(i)&&o>=i.data.length-1)return 1===t&&(r=l(i))?bu(r):n;if(cs(i)&&o<=1)return-1===t&&(r=u(i))?yu(r):n;if(o===i.data.length)return(r=l(i))?bu(r):n;if(0===o)return(r=u(i))?yu(r):n}return n},wu=function(t,e){return h.from(mu(t?0:-1,e)).filter(nu)},xu=function(t,e,n){var r=_u(t,e,n);return-1===t?ta.fromRangeStart(r):ta.fromRangeEnd(r)},Cu=function(t){return h.from(t.getNode()).map(rt)},Su=function(t,e){for(;e=t(e);)if(e.isVisible())return e;return e},ku=function(t,e){var n=hu(t,e);return!(n||!Me.isBr(t.getNode()))||n};!function(t){t[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards"}(ea||(ea={}));var Eu=Me.isContentEditableFalse,Ou=Me.isText,Tu=Me.isElement,Au=Me.isBr,Du=ws,Mu=function(t){return bs(t)||function(t){return!!xs(t)&&!0!==R(V(t.getElementsByTagName("*")),(function(t,e){return t||hs(e)}),!1)}(t)},Ru=Cs,Iu=function(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null},Nu=function(t,e){if(uu(t)){if(Du(e.previousSibling)&&!Ou(e.previousSibling))return na.before(e);if(Ou(e))return na(e,0)}if(lu(t)){if(Du(e.nextSibling)&&!Ou(e.nextSibling))return na.after(e);if(Ou(e))return na(e,e.data.length)}return lu(t)?Au(e)?na.before(e):na.after(e):na.before(e)},zu=function(t,e,n){var r,o,s,a,u;if(!Tu(n)||!e)return null;if(e.isEqual(na.after(n))&&n.lastChild){if(u=na.after(n.lastChild),lu(t)&&Du(n.lastChild)&&Tu(n.lastChild))return Au(n.lastChild)?na.before(n.lastChild):u}else u=e;var l=u.container(),c=u.offset();if(Ou(l)){if(lu(t)&&c>0)return na(l,--c);if(uu(t)&&c<l.length)return na(l,++c);r=l}else{if(lu(t)&&c>0&&(o=Iu(l,c-1),Du(o)))return!Mu(o)&&(s=du(o,t,Ru,o))?Ou(s)?na(s,s.data.length):na.after(s):Ou(o)?na(o,o.data.length):na.before(o);if(uu(t)&&c<l.childNodes.length&&(o=Iu(l,c),Du(o)))return Au(o)?function(t,e){var n=e.nextSibling;return n&&Du(n)?Ou(n)?na(n,0):na.before(n):zu(ea.Forwards,na.after(e),t)}(n,o):!Mu(o)&&(s=du(o,t,Ru,o))?Ou(s)?na(s,0):na.before(s):Ou(o)?na(o,0):na.after(o);r=o||u.getNode()}return(uu(t)&&u.isAtEnd()||lu(t)&&u.isAtStart())&&(r=du(r,t,i(!0),n,!0),Ru(r,n))?Nu(t,r):(o=du(r,t,Ru,n),!(a=_n.last(D(function(t,e){for(var n=[];t&&t!==e;)n.push(t),t=t.parentNode;return n}(l,n),Eu)))||o&&a.contains(o)?o?Nu(t,o):null:u=uu(t)?na.after(a):na.before(a))},Pu=function(t){return{next:function(e){return zu(ea.Forwards,e,t)},prev:function(e){return zu(ea.Backwards,e,t)}}},Fu=function(t){return na.isTextPosition(t)?0===t.offset():ws(t.getNode())},Bu=function(t){if(na.isTextPosition(t)){var e=t.container();return t.offset()===e.data.length}return ws(t.getNode(!0))},Lu=function(t,e){return!na.isTextPosition(t)&&!na.isTextPosition(e)&&t.getNode()===e.getNode(!0)},Hu=function(t,e,n){var r=Pu(e);return h.from(t?r.next(n):r.prev(n))},Vu=function(t,e,n){return Hu(t,e,n).bind((function(r){return hu(n,r,e)&&function(t,e,n){return t?!Lu(e,n)&&!(!na.isTextPosition(r=e)&&Me.isBr(r.getNode()))&&Bu(e)&&Fu(n):!Lu(n,e)&&Fu(e)&&Bu(n);var r}(t,n,r)?Hu(t,e,r):h.some(r)}))},ju=function(t,e,n,r){return Vu(t,e,n).bind((function(n){return r(n)?ju(t,e,n,r):h.some(n)}))},Uu=function(t,e){var n,r=t?e.firstChild:e.lastChild;return Me.isText(r)?h.some(na(r,t?0:r.data.length)):r?ws(r)?h.some(t?na.before(r):Me.isBr(n=r)?na.before(n):na.after(n)):function(t,e,n){var r=t?na.before(n):na.after(n);return Hu(t,e,r)}(t,e,r):h.none()},$u=s(Hu,!0),Wu=s(Hu,!1),qu={fromPosition:Hu,nextPosition:$u,prevPosition:Wu,navigate:Vu,navigateIgnore:ju,positionIn:Uu,firstPositionIn:s(Uu,!0),lastPositionIn:s(Uu,!1)},Gu=function(t,e){return Me.isElement(e)&&t.isBlock(e)&&!e.innerHTML&&!gn.ie&&(e.innerHTML='<br data-mce-bogus="1" />'),e},Yu=function(t,e){return qu.lastPositionIn(t).fold((function(){return!1}),(function(t){return e.setStart(t.container(),t.offset()),e.setEnd(t.container(),t.offset()),!0}))},Ku=function(t,e,n){return!(!function(t){return!1===t.hasChildNodes()}(e)||!Oa(t,e)||(function(t,e){var n=t.ownerDocument.createTextNode("\ufeff");t.appendChild(n),e.setStart(n,0),e.setEnd(n,0)}(e,n),0))},Xu=function(t,e,n,r){var i,o,s,a,u=n[e?"start":"end"],l=t.getRoot();if(u){for(s=u[0],o=l,i=u.length-1;i>=1;i--){if(a=o.childNodes,Ku(l,o,r))return!0;if(u[i]>a.length-1)return!!Ku(l,o,r)||Yu(o,r);o=a[u[i]]}3===o.nodeType&&(s=Math.min(u[0],o.nodeValue.length)),1===o.nodeType&&(s=Math.min(u[0],o.childNodes.length)),e?r.setStart(o,s):r.setEnd(o,s)}return!0},Zu=function(t){return Me.isText(t)&&t.data.length>0},Qu=function(t,e,n){var r,i,o,s,a,u,l=t.get(n.id+"_"+e),c=n.keep;if(l){if(r=l.parentNode,"start"===e?(c?l.hasChildNodes()?(r=l.firstChild,i=1):Zu(l.nextSibling)?(r=l.nextSibling,i=0):Zu(l.previousSibling)?(r=l.previousSibling,i=l.previousSibling.data.length):(r=l.parentNode,i=t.nodeIndex(l)+1):i=t.nodeIndex(l),a=r,u=i):(c?l.hasChildNodes()?(r=l.firstChild,i=1):Zu(l.previousSibling)?(r=l.previousSibling,i=l.previousSibling.data.length):(r=l.parentNode,i=t.nodeIndex(l)):i=t.nodeIndex(l),a=r,u=i),!c){for(s=l.previousSibling,o=l.nextSibling,kn.each(kn.grep(l.childNodes),(function(t){Me.isText(t)&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))}));l=t.get(n.id+"_"+e);)t.remove(l,!0);s&&o&&s.nodeType===o.nodeType&&Me.isText(s)&&!gn.opera&&(i=s.nodeValue.length,s.appendData(o.nodeValue),t.remove(o),a=s,u=i)}return h.some(na(a,u))}return h.none()},Ju=function(t,e,n){return Ca.getBookmark(t,e,n)},tl=function(t,e){(function(t,e){var n=t.dom;if(e){if(function(t){return kn.isArray(t.start)}(e))return function(t,e){var n=t.createRng();return Xu(t,!0,e,n)&&Xu(t,!1,e,n)?h.some(n):h.none()}(n,e);if(function(t){return"string"==typeof t.start}(e))return h.some(function(t,e){var n,r;return n=t.createRng(),r=da(t.getRoot(),e.start),n.setStart(r.container(),r.offset()),r=da(t.getRoot(),e.end),n.setEnd(r.container(),r.offset()),n}(n,e));if(function(t){return t.hasOwnProperty("id")}(e))return function(t,e){var n=Qu(t,"start",e),r=Qu(t,"end",e);return zs(n,r.or(n),(function(e,n){var r=t.createRng();return r.setStart(Gu(t,e.container()),e.offset()),r.setEnd(Gu(t,n.container()),n.offset()),r}))}(n,e);if(function(t){return t.hasOwnProperty("name")}(e))return function(t,e){return h.from(t.select(e.name)[e.index]).map((function(e){var n=t.createRng();return n.selectNode(e),n}))}(n,e);if(function(t){return t.hasOwnProperty("rng")}(e))return h.some(e.rng)}return h.none()})(t,e).each((function(e){t.setRng(e)}))},el=function(t){return Me.isElement(t)&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},nl=function(t){return"\xa0"===t},rl=function(t){return""!==t&&-1!==" \f\n\r\t\v".indexOf(t)},il=function(t){return!rl(t)&&!nl(t)},ol=function(t){return!!t.nodeType},sl=function(t,e,n){var r,i,o,s=n.startOffset,a=n.startContainer;if((n.startContainer!==n.endContainer||!function(t){return t&&/^(IMG)$/.test(t.nodeName)}(n.startContainer.childNodes[n.startOffset]))&&1===a.nodeType)for(s<(o=a.childNodes).length?r=new lo(a=o[s],t.getParent(a,t.isBlock)):(r=new lo(a=o[o.length-1],t.getParent(a,t.isBlock))).next(!0),i=r.current();i;i=r.next())if(3===i.nodeType&&!cl(i))return n.setStart(i,0),void e.setRng(n)},al=function(t,e,n){if(t){var r=e?"nextSibling":"previousSibling";for(t=n?t:t[r];t;t=t[r])if(1===t.nodeType||!cl(t))return t}},ul=function(t,e){return ol(e)&&(e=e.nodeName),!!t.schema.getTextBlockElements()[e.toLowerCase()]},ll=function(t,e,n){return t.schema.isValidChild(e,n)},cl=function(t){return t&&Me.isText(t)&&/^([\t \r\n]+|)$/.test(t.nodeValue)},dl=function(t,e){return"string"!=typeof t?t=t(e):e&&(t=t.replace(/%(\w+)/g,(function(t,n){return e[n]||t}))),t},fl=function(t,e){return e=""+((e=e||"").nodeName||e),(t=""+((t=t||"").nodeName||t)).toLowerCase()===e.toLowerCase()},hl=function(t,e,n){return"color"!==n&&"backgroundColor"!==n||(e=t.toHex(e)),"fontWeight"===n&&700===e&&(e="bold"),"fontFamily"===n&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e},ml=function(t,e,n){return hl(t,t.getStyle(e,n),n)},pl=function(t,e){var n;return t.getParent(e,(function(e){return(n=t.getStyle(e,"text-decoration"))&&"none"!==n})),n},gl=function(t,e,n){return t.getParents(e,n,t.getRoot())},vl=el,bl=gl,yl=cl,_l=ul,wl=function(t,e){for(var n=e;n;){if(Me.isElement(n)&&t.getContentEditable(n))return"false"===t.getContentEditable(n)?n:e;n=n.parentNode}return e},xl=function(t,e,n,r){for(var i=e.data,o=n;t?o>=0:o<i.length;t?o--:o++)if(r(i.charAt(o)))return t?o+1:o;return-1},Cl=function(t,e,n){return xl(t,e,n,(function(t){return nl(t)||rl(t)}))},Sl=function(t,e,n){return xl(t,e,n,il)},kl=function(t,e,n,r,i,o){var s,a=t.getParent(n,t.isBlock)||e,u=function(e,n,r){var o=ka(t);return h.from((i?o.backwards:o.forwards)(e,n,(function(t,e){return vl(t.parentNode)?-1:(s=t,r(i,t,e))}),a))};return u(n,r,Cl).bind((function(t){return o?u(t.container,t.offset+(i?-1:0),Sl):h.some(t)})).orThunk((function(){return s?h.some({container:s,offset:i?0:s.length}):h.none()}))},El=function(t,e,n,r,i){Me.isText(r)&&0===r.nodeValue.length&&r[i]&&(r=r[i]);for(var o=bl(t,r),s=0;s<o.length;s++)for(var a=0;a<e.length;a++){var u=e[a];if((!("collapsed"in u)||u.collapsed===n.collapsed)&&t.is(o[s],u.selector))return o[s]}return r},Ol=function(t,e,n,r){var i,o=t.dom,s=o.getRoot();if(e[0].wrapper||(i=o.getParent(n,e[0].block,s)),!i){var a=o.getParent(n,"LI,TD,TH");i=o.getParent(Me.isText(n)?n.parentNode:n,(function(e){return e!==s&&_l(t,e)}),a)}if(i&&e[0].wrapper&&(i=bl(o,i,"ul,ol").reverse()[0]||i),!i)for(i=n;i[r]&&!o.isBlock(i[r])&&!fl(i=i[r],"br"););return i||n},Tl=function(t,e,n,r,i,o,s){var a,u,l,c,d,f;if(a=u=s?n:i,c=s?"previousSibling":"nextSibling",d=t.getRoot(),Me.isText(a)&&!yl(a)&&(s?r>0:o<a.nodeValue.length))return a;for(;;){if(!e[0].block_expand&&t.isBlock(u))return u;for(l=u[c];l;l=l[c])if(!vl(l)&&!yl(l)&&("BR"!==(f=l).nodeName||!f.getAttribute("data-mce-bogus")||f.nextSibling))return u;if(u===d||u.parentNode===d){a=u;break}u=u.parentNode}return a},Al=function(t,e,n,r){void 0===r&&(r=!1);var i=e.startContainer,o=e.startOffset,s=e.endContainer,a=e.endOffset,u=t.dom;return Me.isElement(i)&&i.hasChildNodes()&&(i=Rs(i,o),Me.isText(i)&&(o=0)),Me.isElement(s)&&s.hasChildNodes()&&(s=Rs(s,e.collapsed?a:a-1),Me.isText(s)&&(a=s.nodeValue.length)),i=wl(u,i),s=wl(u,s),(vl(i.parentNode)||vl(i))&&(i=vl(i)?i:i.parentNode,Me.isText(i=e.collapsed?i.previousSibling||i:i.nextSibling||i)&&(o=e.collapsed?i.length:0)),(vl(s.parentNode)||vl(s))&&(s=vl(s)?s:s.parentNode,Me.isText(s=e.collapsed?s.nextSibling||s:s.previousSibling||s)&&(a=e.collapsed?0:s.length)),e.collapsed&&(kl(u,t.getBody(),i,o,!0,r).each((function(t){i=t.container,o=t.offset})),kl(u,t.getBody(),s,a,!1,r).each((function(t){s=t.container,a=t.offset}))),(n[0].inline||n[0].block_expand)&&(n[0].inline&&Me.isText(i)&&0!==o||(i=Tl(u,n,i,o,s,a,!0)),n[0].inline&&Me.isText(s)&&a!==s.nodeValue.length||(s=Tl(u,n,i,o,s,a,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(i=El(u,n,e,i,"previousSibling"),s=El(u,n,e,s,"nextSibling")),(n[0].block||n[0].selector)&&(i=Ol(t,n,i,"previousSibling"),s=Ol(t,n,s,"nextSibling"),n[0].block&&(u.isBlock(i)||(i=Tl(u,n,i,o,s,a,!0)),u.isBlock(s)||(s=Tl(u,n,i,o,s,a,!1)))),Me.isElement(i)&&(o=u.nodeIndex(i),i=i.parentNode),Me.isElement(s)&&(a=u.nodeIndex(s)+1,s=s.parentNode),{startContainer:i,startOffset:o,endContainer:s,endOffset:a}},Dl=kn.each,Ml=function(t,e){var n=t.childNodes;return e>=n.length?e=n.length-1:e<0&&(e=0),n[e]||t},Rl=function(t,e,n){var r=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,a=t.select("td[data-mce-selected],th[data-mce-selected]");if(a.length>0)Dl(a,(function(t){n([t])}));else{var u=function(t){var e;return 3===(e=t[0]).nodeType&&e===r&&i>=e.nodeValue.length&&t.splice(0,1),e=t[t.length-1],0===s&&t.length>0&&e===o&&3===e.nodeType&&t.splice(t.length-1,1),t},l=function(t,e,n){for(var r=[];t&&t!==n;t=t[e])r.push(t);return r},c=function(t,e){do{if(t.parentNode===e)return t;t=t.parentNode}while(t)},d=function(t,e,r){for(var i=r?"nextSibling":"previousSibling",o=t,s=o.parentNode;o&&o!==e;o=s){s=o.parentNode;var a=l(o===t?o:o[i],i);a.length&&(r||a.reverse(),n(u(a)))}};if(1===r.nodeType&&r.hasChildNodes()&&(r=Ml(r,i)),1===o.nodeType&&o.hasChildNodes()&&(o=Ml(o,s-1)),r===o)return n(u([r]));for(var f=t.findCommonAncestor(r,o),h=r;h;h=h.parentNode){if(h===o)return d(r,f,!0);if(h===f)break}for(h=o;h;h=h.parentNode){if(h===r)return d(o,f);if(h===f)break}var m=c(r,f)||r,p=c(o,f)||o;d(r,m,!0);var g=l(m===r?m:m.nextSibling,"nextSibling",p===o?p.nextSibling:p);g.length&&n(u(g)),d(o,p)}},Il=function(t,e){var n=function(e){return t(e)?h.from(e.dom().nodeValue):h.none()};return{get:function(e){if(!t(e))throw new Error("Can only get text value of a text node");return n(e).getOr("")},getOption:n,set:function(e,n){if(!t(e))throw new Error("Can only set raw text value of a text node");e.dom().nodeValue=n}}}(ae),Nl=function(t){return Il.get(t)},zl=function(t,e,n,r){var i,o=e.uid,s=void 0===o?(i=(new Date).getTime(),"mce-annotation_"+Math.floor(1e9*Math.random())+ ++Ko+String(i)):o,a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(e,["uid"]),u=et("span",t);No(u,$o()),Ne(u,""+qo(),s),Ne(u,""+Wo(),n);var l=r(s,a),c=l.attributes,d=l.classes,f=void 0===d?[]:d;return ze(u,void 0===c?{}:c),function(t,e){A(e,(function(e){No(t,e)}))}(u,f),u},Pl=function(t,e,n,r,i){var o=[],s=zl(t.getDoc(),i,n,r),a=it(h.none()),u=function(){a.set(h.none())},l=function(t){A(t,c)},c=function(e){switch(function(t,e,n,r){return Vt(e).fold((function(){return"skipping"}),(function(n){return"br"===r||function(t){return ae(t)&&"\ufeff"===Nl(t)}(e)?"valid":function(t){return se(t)&&zo(t,$o())}(e)?"existing":Ea(e)?"caret":ll(t,"span",r)&&ll(t,ie(n),"span")?"valid":"invalid-child"}))}(t,e,0,ie(e))){case"invalid-child":u();var n=qt(e);l(n),u();break;case"valid":!function(t,e){Xt(t,e),Jt(e,t)}(e,a.get().getOrThunk((function(){var t=Qo(s);return o.push(t),a.set(h.some(t)),t})))}};return Rl(t.dom,e,(function(t){u(),function(t){var e=T(t,rt);l(e)}(t)})),o},Fl=function(t){var e,n=(e={},{register:function(t,n){e[t]={name:t,settings:n}},lookup:function(t){return e.hasOwnProperty(t)?h.from(e[t]).map((function(t){return t.settings})):h.none()}});!function(t,e){t.on("init",(function(){t.serializer.addNodeFilter("span",(function(t){A(t,(function(t){(function(t){return h.from(t.attr(Wo())).bind(e.lookup)})(t).each((function(e){!1===e.persistent&&t.unwrap()}))}))}))}))}(t,n);var r=function(t,e){var n=it({}),r=function(t,e){i(t,(function(t){return e(t),t}))},i=function(t,e){var r=n.get(),i=e(r.hasOwnProperty(t)?r[t]:{listeners:[],previous:it(h.none())});r[t]=i,n.set(r)},o=Mo((function(){var e,o,s=n.get(),a=(e=j(s),(o=x.call(e,0)).sort(void 0),o);A(a,(function(e){i(e,(function(n){var i=n.previous.get();return Go(t,h.some(e)).fold((function(){i.isSome()&&(function(t){r(t,(function(e){A(e.listeners,(function(e){return e(!1,t)}))}))}(e),n.previous.set(h.none()))}),(function(t){var e=t.uid,o=t.name,s=t.elements;i.is(e)||(function(t,e,n){r(t,(function(r){A(r.listeners,(function(r){return r(!0,t,{uid:e,nodes:T(n,(function(t){return t.dom()}))})}))}))}(o,e,s),n.previous.set(h.some(e)))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);return t.on("remove",(function(){o.cancel()})),t.on("NodeChange",(function(){o.throttle()})),{addListener:function(t,e){i(t,(function(t){return{previous:t.previous,listeners:t.listeners.concat([e])}}))}}}(t);return{register:function(t,e){n.register(t,e)},annotate:function(e,r){n.lookup(e).each((function(n){!function(t,e,n,r){t.undoManager.transact((function(){var i=t.selection.getRng();if(i.collapsed&&function(t,e){var n=Al(t,e,[{inline:!0}]);e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset),t.selection.setRng(e)}(t,i),t.selection.getRng().collapsed){var o=zl(t.getDoc(),r,e,n.decorate);Xo(o,"\xa0"),t.selection.getRng().insertNode(o.dom()),t.selection.select(o.dom())}else{var s=Ca.getPersistentBookmark(t.selection,!1),a=t.selection.getRng();Pl(t,a,e,n.decorate,r),t.selection.moveToBookmark(s)}}))}(t,e,n,r)}))},annotationChanged:function(t,e){r.addListener(t,e)},remove:function(e){Go(t,h.some(e)).each((function(t){A(t.elements,re)}))},getAll:function(e){var n=function(t,e){var n=rt(t.getBody()),r=Fo(n,"["+Wo()+'="'+e+'"]'),i={};return A(r,(function(t){var e=Pe(t,qo()),n=i.hasOwnProperty(e)?i[e]:[];i[e]=n.concat([t])})),i}(t,e);return W(n,(function(t){return T(t,(function(t){return t.dom()}))}))}}},Bl=/^[ \t\r\n]*$/,Ll={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Hl=function(t,e,n){var r=n?"lastChild":"firstChild",i=n?"prev":"next";if(t[r])return t[r];if(t!==e){var o=t[i];if(o)return o;for(var s=t.parent;s&&s!==e;s=s.parent)if(o=s[i])return o}},Vl=function(t){if(!Bl.test(t.value))return!1;var e=t.parent;return!e||"span"===e.name&&!e.attr("style")||!/^[ ]+$/.test(t.value)},jl=function(t){var e="a"===t.name&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||e},Ul=function(){function t(t,e){this.name=t,this.type=e,1===e&&(this.attributes=[],this.attributes.map={})}return t.create=function(e,n){var r=new t(e,Ll[e]||1);if(n)for(var i in n)r.attr(i,n[i]);return r},t.prototype.replace=function(t){return t.parent&&t.remove(),this.insert(t,this),this.remove(),this},t.prototype.attr=function(t,e){var n;if("string"!=typeof t){for(var r in t)this.attr(r,t[r]);return this}if(n=this.attributes){if(void 0!==e){if(null===e){if(t in n.map){delete n.map[t];for(var i=n.length;i--;)if(n[i].name===t)return n.splice(i,1),this}return this}if(t in n.map){for(i=n.length;i--;)if(n[i].name===t){n[i].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,this}return n.map[t]}},t.prototype.clone=function(){var e,n=new t(this.name,this.type);if(e=this.attributes){var r=[];r.map={};for(var i=0,o=e.length;i<o;i++){var s=e[i];"id"!==s.name&&(r[r.length]={name:s.name,value:s.value},r.map[s.name]=s.value)}n.attributes=r}return n.value=this.value,n.shortEnded=this.shortEnded,n},t.prototype.wrap=function(t){return this.parent.insert(t,this),t.append(this),this},t.prototype.unwrap=function(){for(var t=this.firstChild;t;){var e=t.next;this.insert(t,this,!0),t=e}this.remove()},t.prototype.remove=function(){var t=this.parent,e=this.next,n=this.prev;return t&&(t.firstChild===this?(t.firstChild=e,e&&(e.prev=null)):n.next=e,t.lastChild===this?(t.lastChild=n,n&&(n.next=null)):e.prev=n,this.parent=this.next=this.prev=null),this},t.prototype.append=function(t){t.parent&&t.remove();var e=this.lastChild;return e?(e.next=t,t.prev=e,this.lastChild=t):this.lastChild=this.firstChild=t,t.parent=this,t},t.prototype.insert=function(t,e,n){t.parent&&t.remove();var r=e.parent||this;return n?(e===r.firstChild?r.firstChild=t:e.prev.next=t,t.prev=e.prev,t.next=e,e.prev=t):(e===r.lastChild?r.lastChild=t:e.next.prev=t,t.next=e.next,t.prev=e,e.next=t),t.parent=r,t},t.prototype.getAll=function(t){for(var e=[],n=this.firstChild;n;n=Hl(n,this))n.name===t&&e.push(n);return e},t.prototype.empty=function(){if(this.firstChild){for(var t=[],e=this.firstChild;e;e=Hl(e,this))t.push(e);for(var n=t.length;n--;)(e=t[n]).parent=e.firstChild=e.lastChild=e.next=e.prev=null}return this.firstChild=this.lastChild=null,this},t.prototype.isEmpty=function(t,e,n){void 0===e&&(e={});var r=this.firstChild;if(jl(this))return!1;if(r)do{if(1===r.type){if(r.attr("data-mce-bogus"))continue;if(t[r.name])return!1;if(jl(r))return!1}if(8===r.type)return!1;if(3===r.type&&!Vl(r))return!1;if(3===r.type&&r.parent&&e[r.parent.name]&&Bl.test(r.value))return!1;if(n&&n(r))return!1}while(r=Hl(r,this));return!0},t.prototype.walk=function(t){return Hl(this,null,t)},t}(),$l=function(t,e,n){var r,i,o,s,a=1;for(s=t.getShortEndedElements(),(o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=r=n;i=o.exec(e);){if(r=o.lastIndex,"/"===i[1])a--;else if(!i[1]){if(i[2]in s)continue;a++}if(0===a)break}return r},Wl=function(t,e){var n=t.exec(e);if(n){var r=n[1],i=n[2];return"string"==typeof r&&"data-mce-bogus"===r.toLowerCase()?i:null}return null};function ql(t,e){void 0===e&&(e=cr());var n=function(){};!1!==(t=t||{}).fix_self_closing&&(t.fix_self_closing=!0);var r=t.comment?t.comment:n,i=t.cdata?t.cdata:n,o=t.text?t.text:n,s=t.start?t.start:n,a=t.end?t.end:n,u=t.pi?t.pi:n,l=t.doctype?t.doctype:n;return{parse:function(n,c){void 0===c&&(c="html");var d,f,h,m,p,g,v,b,y,_,w,x,C,S,k,E,O,T,A,D,M,R,I,N,z,P,F,B,L,H=0,V=[],j=0,U=tr.decode,$=kn.makeMap("src,href,data,background,formaction,poster,xlink:href"),W=/((java|vb)script|mhtml):/i,q="html"===c?0:1,G=function(t){var e,n;for(e=V.length;e--&&V[e].name!==t;);if(e>=0){for(n=V.length-1;n>=e;n--)(t=V[n]).valid&&a(t.name);V.length=e}},Y=function(e){""!==e&&(">"===e.charAt(0)&&(e=" "+e),t.allow_conditional_comments||"[if"!==e.substr(0,3).toLowerCase()||(e=" "+e),r(e))},K=function(t,e){var r=t||"",i=!yt(r,"--"),o=function(t,e,n){void 0===n&&(n=0);var r=t.toLowerCase();if(-1!==r.indexOf("[if ",n)&&function(t,e){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(t.substr(e))}(r,n)){var i=r.indexOf("[endif]",n);return r.indexOf(">",i)}if(e){var o=r.indexOf(">",n);return-1!==o?o:r.length}var s=/--!?>/;s.lastIndex=n;var a=s.exec(t);return a?a.index+a[0].length:r.length}(n,i,e);return t=n.substr(e,o-e),Y(i?r+t:t),o+1},X=function(e,n,r,i,o){var s,a;if(r=(n=n.toLowerCase())in w?n:U(r||i||o||""),C&&!b&&!1===function(t){return 0===t.indexOf("data-")||0===t.indexOf("aria-")}(n)){if(!(s=T[n])&&A){for(a=A.length;a--&&!(s=A[a]).pattern.test(n););-1===a&&(s=null)}if(!s)return;if(s.validValues&&!(r in s.validValues))return}if($[n]&&!t.allow_script_urls){var u=r.replace(/[\s\u0000-\u001F]+/g,"");try{u=decodeURIComponent(u)}catch(l){u=unescape(u)}if(W.test(u))return;if(function(t,e){return!t.allow_html_data_urls&&(/^data:image\//i.test(e)?!1===t.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(e):/^data:/i.test(e))}(t,u))return}b&&(n in $||0===n.indexOf("on"))||(m.map[n]=r,m.push({name:n,value:r}))};for(z=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),P=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,_=e.getShortEndedElements(),N=t.self_closing_elements||e.getSelfClosingElements(),w=e.getBoolAttrs(),C=t.validate,y=t.remove_internals,L=t.fix_self_closing,F=e.getSpecialElements(),I=n+">";d=z.exec(I);){var Z=d[0];if(H<d.index&&o(U(n.substr(H,d.index-H))),f=d[7])":"===(f=f.toLowerCase()).charAt(0)&&(f=f.substr(1)),G(f);else if(f=d[8]){if(d.index+Z.length>n.length){o(U(n.substr(d.index))),H=d.index+Z.length;continue}":"===(f=f.toLowerCase()).charAt(0)&&(f=f.substr(1)),x=f in _,L&&N[f]&&V.length>0&&V[V.length-1].name===f&&G(f);var Q=Wl(P,d[9]);if(null!==Q){if("all"===Q){H=$l(e,n,z.lastIndex),z.lastIndex=H;continue}k=!1}if(!C||(S=e.getElementRule(f))){if(k=!0,C&&(T=S.attributes,A=S.attributePatterns),(O=d[9])?((b=-1!==O.indexOf("data-mce-type"))&&y&&(k=!1),(m=[]).map={},O.replace(P,X)):(m=[]).map={},C&&!b){if(D=S.attributesRequired,M=S.attributesDefault,S.removeEmptyAttrs&&!m.length&&(k=!1),R=S.attributesForced)for(p=R.length;p--;)"{$uid}"===(B=(E=R[p]).value)&&(B="mce_"+j++),m.map[v=E.name]=B,m.push({name:v,value:B});if(M)for(p=M.length;p--;)(v=(E=M[p]).name)in m.map||("{$uid}"===(B=E.value)&&(B="mce_"+j++),m.map[v]=B,m.push({name:v,value:B}));if(D){for(p=D.length;p--&&!(D[p]in m.map););-1===p&&(k=!1)}if(E=m.map["data-mce-bogus"]){if("all"===E){H=$l(e,n,z.lastIndex),z.lastIndex=H;continue}k=!1}}k&&s(f,m,x)}else k=!1;if(h=F[f]){h.lastIndex=H=d.index+Z.length,(d=h.exec(n))?(k&&(g=n.substr(H,d.index-H)),H=d.index+d[0].length):(g=n.substr(H),H=n.length),k&&(g.length>0&&o(g,!0),a(f)),z.lastIndex=H;continue}x||(O&&O.indexOf("/")===O.length-1?k&&a(f):V.push({name:f,valid:k}))}else if(f=d[1])Y(f);else if(f=d[2]){if(!(1===q||t.preserve_cdata||V.length>0&&e.isValidChild(V[V.length-1].name,"#cdata"))){H=K("",d.index+2),z.lastIndex=H;continue}i(f)}else if(f=d[3])l(f);else{if((f=d[4])||"<!"===Z){H=K(f,d.index+Z.length),z.lastIndex=H;continue}if(f=d[5]){if(1!==q){H=K("?",d.index+2),z.lastIndex=H;continue}u(f,d[6])}}H=d.index+Z.length}for(H<n.length&&o(U(n.substr(H))),p=V.length-1;p>=0;p--)(f=V[p]).valid&&a(f.name)}}}!function(t){t.findEndTag=$l}(ql||(ql={}));var Gl,Yl,Kl,Xl=ql,Zl=function(t,e){var n,r,i,o,s,a=e,u=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,l=t.schema;for(a=function(t,e){var n=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return e.replace(n,"")}(t.getTempAttrs(),a),s=l.getShortEndedElements();o=u.exec(a);)r=u.lastIndex,i=o[0].length,n=s[o[1]]?r:Xl.findEndTag(l,a,r),a=a.substring(0,r-i)+a.substring(n),u.lastIndex=r-i;return es(a)},Ql=Zl,Jl=Zl,tc=kn.makeMap,ec=function(t){var e,n,r,i,o,s=[];return e=(t=t||{}).indent,n=tc(t.indent_before||""),r=tc(t.indent_after||""),i=tr.getEncodeFunc(t.entity_encoding||"raw",t.entities),o="html"===t.element_format,{start:function(t,a,u){var l,c,d,f;if(e&&n[t]&&s.length>0&&(f=s[s.length-1]).length>0&&"\n"!==f&&s.push("\n"),s.push("<",t),a)for(l=0,c=a.length;l<c;l++)s.push(" ",(d=a[l]).name,'="',i(d.value,!0),'"');s[s.length]=!u||o?">":" />",u&&e&&r[t]&&s.length>0&&(f=s[s.length-1]).length>0&&"\n"!==f&&s.push("\n")},end:function(t){var n;s.push("</",t,">"),e&&r[t]&&s.length>0&&(n=s[s.length-1]).length>0&&"\n"!==n&&s.push("\n")},text:function(t,e){t.length>0&&(s[s.length]=e?t:i(t))},cdata:function(t){s.push("<![CDATA[",t,"]]>")},comment:function(t){s.push("\x3c!--",t,"--\x3e")},pi:function(t,n){n?s.push("<?",t," ",i(n),"?>"):s.push("<?",t,"?>"),e&&s.push("\n")},doctype:function(t){s.push("<!DOCTYPE",t,">",e?"\n":"")},reset:function(){s.length=0},getContent:function(){return s.join("").replace(/\n$/,"")}}},nc=function(t,e){void 0===e&&(e=cr());var n=ec(t);return(t=t||{}).validate=!("validate"in t)||t.validate,{serialize:function(r){var i,o;o=t.validate,i={3:function(t){n.text(t.value,t.raw)},8:function(t){n.comment(t.value)},7:function(t){n.pi(t.name,t.value)},10:function(t){n.doctype(t.value)},4:function(t){n.cdata(t.value)},11:function(t){if(t=t.firstChild)do{s(t)}while(t=t.next)}},n.reset();var s=function(t){var r,a,u,l,c,d,f,h,m,p=i[t.type];if(p)p(t);else{if(r=t.name,a=t.shortEnded,u=t.attributes,o&&u&&u.length>1&&((d=[]).map={},m=e.getElementRule(t.name))){for(f=0,h=m.attributesOrder.length;f<h;f++)(l=m.attributesOrder[f])in u.map&&(d.map[l]=c=u.map[l],d.push({name:l,value:c}));for(f=0,h=u.length;f<h;f++)(l=u[f].name)in d.map||(d.map[l]=c=u.map[l],d.push({name:l,value:c}));u=d}if(n.start(t.name,u,a),!a){if(t=t.firstChild)do{s(t)}while(t=t.next);n.end(r)}}};return 1!==r.type||t.inner?i[11](r):s(r),n.getContent()}}},rc=function(t,e){e(t),t.firstChild&&rc(t.firstChild,e),t.next&&rc(t.next,e)},ic=function(t){var e=Lt(t).dom();return t.dom()===e.activeElement},oc=function(t){var n=void 0!==t?t.dom():e.document;return h.from(n.activeElement).map(rt)},sc=function(t){if(!v(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var n=[],r={};return A(t,(function(i,o){var s=j(i);if(1!==s.length)throw new Error("one and only one name per case");var a=s[0],u=i[a];if(void 0!==r[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!v(u))throw new Error("case arguments must be an array");n.push(a),r[a]=function(){var r=arguments.length;if(r!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+r);for(var i=new Array(r),s=0;s<i.length;s++)i[s]=arguments[s];var l=function(t){var e=j(t);if(n.length!==e.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+e.join(","));if(!P(n,(function(t){return E(e,t)})))throw new Error("Not all branches were specified when using match. Specified: "+e.join(", ")+"\nRequired: "+n.join(", "));return t[a].apply(null,i)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);var e=arguments[o];return e.apply(null,i)},match:l,log:function(t){e.console.log(t,{constructors:n,constructor:a,params:i})}}}})),r},ac={create:At("start","soffset","finish","foffset")},uc=(sc([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),function(t){return t.fold(o,o,o)}),lc=sc([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),cc={domRange:lc.domRange,relative:lc.relative,exact:lc.exact,exactFromRange:function(t){return lc.exact(t.start(),t.soffset(),t.finish(),t.foffset())},getWin:function(t){var e=function(t){return t.match({domRange:function(t){return rt(t.startContainer)},relative:function(t,e){return uc(t)},exact:function(t,e,n,r){return t}})}(t);return Ht(e)},range:ac.create},dc=Tt().browser,fc=function(t,e){var n=ae(e)?Nl(e).length:qt(e).length+1;return t>n?n:t<0?0:t},hc=function(t){return cc.range(t.start(),fc(t.soffset(),t.start()),t.finish(),fc(t.foffset(),t.finish()))},mc=function(t,e){return!Me.isRestrictedNode(e.dom())&&(Bt(t,e)||Ft(t,e))},pc=function(t){return function(e){return mc(t,e.start())&&mc(t,e.finish())}},gc=function(t){return!0===t.inline||dc.isIE()},vc=function(t){return cc.range(rt(t.startContainer),t.startOffset,rt(t.endContainer),t.endOffset)},bc=function(t){var n=e.document.createRange();try{return n.setStart(t.start().dom(),t.soffset()),n.setEnd(t.finish().dom(),t.foffset()),h.some(n)}catch(r){return h.none()}},yc=function(t){return(t.bookmark?t.bookmark:h.none()).bind((function(e){return n=rt(t.getBody()),h.from(e).filter(pc(n)).map(hc);var n})).bind(bc)},_c=function(t){var e,n,r,i=gc(t)?(e=rt(t.getBody()),(n=Ht(e).dom(),r=n.getSelection(),(r&&0!==r.rangeCount?h.from(r.getRangeAt(0)):h.none()).map(vc)).filter(pc(e))):h.none();t.bookmark=i.isSome()?i:t.bookmark},wc=yc,xc={isEditorUIElement:function(t){var e=t.className.toString();return-1!==e.indexOf("tox-")||-1!==e.indexOf("mce-")}},Cc=yo.DOM,Sc=function(t,e){var n=t?t.settings.custom_ui_selector:"";return null!==Cc.getParent(e,(function(e){return function(t){return xc.isEditorUIElement(t)}(e)||!!n&&t.dom.is(e,n)}))},kc=function(t,n){var r=n.editor;(function(t){var n=Do((function(){_c(t)}),0);t.on("init",(function(){t.inline&&function(t,n){var r=function(){n.throttle()};yo.DOM.bind(e.document,"mouseup",r),t.on("remove",(function(){yo.DOM.unbind(e.document,"mouseup",r)}))}(t,n),function(t,e){Tt().browser.isIE()?function(t){t.on("focusout",(function(){_c(t)}))}(t):function(t,e){t.on("mouseup touchend",(function(t){e.throttle()}))}(t,e),t.on("keyup NodeChange",(function(e){(function(t){return"nodechange"===t.type&&t.selectionChange})(e)||_c(t)}))}(t,n)})),t.on("remove",(function(){n.cancel()}))})(r),r.on("focusin",(function(){var e=t.focusedEditor;e!==this&&(e&&e.fire("blur",{focusedEditor:this}),t.setActive(this),t.focusedEditor=this,this.fire("focus",{blurredEditor:e}),this.focus(!0))})),r.on("focusout",(function(){var n=this;an.setEditorTimeout(n,(function(){var r=t.focusedEditor;Sc(n,function(){try{return e.document.activeElement}catch(t){return e.document.body}}())||r!==n||(n.fire("blur",{focusedEditor:null}),t.focusedEditor=null)}))})),Gl||Cc.bind(e.document,"focusin",Gl=function(n){var r,i=t.activeEditor;r=n.target,i&&r.ownerDocument===e.document&&(r===e.document.body||Sc(i,r)||t.focusedEditor!==i||(i.fire("blur",{focusedEditor:null}),t.focusedEditor=null))})},Ec=function(t,n){t.focusedEditor===n.editor&&(t.focusedEditor=null),t.activeEditor||(Cc.unbind(e.document,"focusin",Gl),Gl=null)},Oc=Sc,Tc=function(t,e){(function(t,e){return function(t){return t.collapsed?h.from(Rs(t.startContainer,t.startOffset)).map(rt):h.none()}(e).bind((function(e){return Bn(e)?h.some(e):!1===Bt(t,e)?h.some(t):h.none()}))})(rt(t.getBody()),e).bind((function(t){return qu.firstPositionIn(t.dom())})).fold((function(){t.selection.normalize()}),(function(e){return t.selection.setRng(e.toRange())}))},Ac=function(t){if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()},Dc=function(t){return t.inline?function(t){var e,n,r=t.getBody();return r&&(e=rt(r),ic(e)||(n=e,oc(Lt(n)).filter((function(t){return n.dom().contains(t.dom())}))).isSome())}(t):function(t){return t.iframeElement&&ic(rt(t.iframeElement))}(t)},Mc=function(t){return t.editorManager.setActive(t)},Rc=Dc,Ic=function(t){return t instanceof Ul},Nc=function(t,e){t.dom.setHTML(t.getBody(),e),function(t){Rc(t)&&qu.firstPositionIn(t.getBody()).each((function(e){var n=e.getNode(),r=Me.isTable(n)?qu.firstPositionIn(n).getOr(e):e;t.selection.setRng(r.toRange())}))}(t)},zc=function(t,e,n){return void 0===n&&(n={}),n.format=n.format?n.format:"html",n.set=!0,n.content=Ic(e)?"":e,Ic(e)||n.no_events||(t.fire("BeforeSetContent",n),e=n.content),h.from(t.getBody()).fold(i(e),(function(r){return Ic(e)?function(t,e,n,r){var i;i=function(t,e,n){var r={},i={},o=[];for(var s in n.firstChild&&rc(n.firstChild,(function(n){A(t,(function(t){t.name===n.name&&(r[t.name]?r[t.name].nodes.push(n):r[t.name]={filter:t,nodes:[n]})})),A(e,(function(t){"string"==typeof n.attr(t.name)&&(i[t.name]?i[t.name].nodes.push(n):i[t.name]={filter:t,nodes:[n]})}))})),r)r.hasOwnProperty(s)&&o.push(r[s]);for(var a in i)i.hasOwnProperty(a)&&o.push(i[a]);return o}(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),n),A(i,(function(t){A(t.filter.callbacks,(function(e){e(t.nodes,t.filter.name,{})}))}));var o=nc({validate:t.validate},t.schema).serialize(n);return r.content=Hn(rt(e))?o:kn.trim(o),Nc(t,r.content),r.no_events||t.fire("SetContent",r),n}(t,r,e,n):function(t,e,n,r){var i,o;return 0===n.length||/^\s+$/.test(n)?(o='<br data-mce-bogus="1">',"TABLE"===e.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(e.nodeName)&&(n="<li>"+o+"</li>"),(i=La(t))&&t.schema.isValidChild(e.nodeName.toLowerCase(),i.toLowerCase())?n=t.dom.createHTML(i,t.settings.forced_root_block_attrs,n=o):n||(n='<br data-mce-bogus="1">'),Nc(t,n),t.fire("SetContent",r)):("raw"!==r.format&&(n=nc({validate:t.validate},t.schema).serialize(t.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=Hn(rt(e))?n:kn.trim(n),Nc(t,r.content),r.no_events||t.fire("SetContent",r)),r.content}(t,r,e,n)}))},Pc=yo.DOM,Fc=function(t){return h.from(t).each((function(t){return t.destroy()}))},Bc=Object.prototype.hasOwnProperty,Lc=(Yl=function(t,e){return g(t)&&g(e)?Lc(t,e):e},function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];if(0===t.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<t.length;r++){var i=t[r];for(var o in i)Bc.call(i,o)&&(n[o]=Yl(n[o],i[o]))}return n}),Hc=At("sections","settings"),Vc=Tt().deviceType,jc=Vc.isTouch(),Uc=Vc.isPhone(),$c=Vc.isTablet(),Wc=["lists","autolink","autosave"],qc={table_grid:!1,object_resizing:!1,resize:!1},Gc=function(t){var e=v(t)?t.join(" "):t,n=T(p(e)?e.split(" "):[],_t);return D(n,(function(t){return t.length>0}))},Yc=function(t,e){var n=K(e,(function(e,n){return E(t,n)}));return Hc(n.t,n.f)},Kc=function(t,e){return t.sections().hasOwnProperty(e)},Xc=function(t,e){return X(t,"toolbar_mode").orThunk((function(){return X(t,"toolbar_drawer").map((function(t){return!1===t?"wrap":t}))})).getOr(e)},Zc=function(t,e){var n={resize:!1,toolbar_mode:Xc(t,"scrolling"),toolbar_sticky:!1};return Q(Q(Q({},qc),n),e?{menubar:!1}:{})},Qc=function(t,e){var n=e.external_plugins?e.external_plugins:{};return t&&t.external_plugins?kn.extend({},t.external_plugins,n):n},Jc=function(t,e,n){return h.from(e.settings[n]).filter(t)},td=(Kl={},{add:function(t,e){Kl[t]=e},get:function(t){return Kl[t]?Kl[t]:{icons:{}}},has:function(t){return Z(Kl,t)}}),ed=function(t,e){return e.dom()[t]},nd=function(t,e){return parseInt(Be(e,t),10)},rd=s(ed,"clientWidth"),id=s(ed,"clientHeight"),od=s(nd,"margin-top"),sd=s(nd,"margin-left"),ad=function(t,e,n){var r=rt(t.getBody()),i=t.inline?r:rt(r.dom().ownerDocument.documentElement),o=function(t,e,n,r){var i=function(t){return t.dom().getBoundingClientRect()}(e);return{x:n-(t?i.left+e.dom().clientLeft+sd(e):0),y:r-(t?i.top+e.dom().clientTop+od(e):0)}}(t.inline,i,e,n);return function(t,e,n){var r=rd(t),i=id(t);return e>=0&&n>=0&&e<=r&&n<=i}(i,o.x,o.y)};function ud(t){var e=[],n=function(){var e,n=t.theme;return n&&n.getNotificationManagerImpl?n.getNotificationManagerImpl():{open:e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")},close:e,reposition:e,getArgs:e}},r=function(){e.length>0&&n().reposition(e)},i=function(t){N(e,(function(e){return e===t})).each((function(t){e.splice(t,1)}))},o=function(o){if(!t.removed&&function(t){var e;return(e=t.inline?t.getBody():t.getContentAreaContainer(),h.from(e).map(rt)).map((function(t){return Bt(Lt(t),t)})).getOr(!1)}(t))return I(e,(function(t){return!((e=n().getArgs(t)).type!==(r=o).type||e.text!==r.text||e.progressBar||e.timeout||r.progressBar||r.timeout);var e,r})).getOrThunk((function(){t.editorManager.setActive(t);var s=n().open(o,(function(){i(s),r()}));return function(t){e.push(t)}(s),r(),s}))};return function(t){t.on("SkinLoaded",(function(){var e=t.settings.service_message;e&&o({text:e,type:"warning",timeout:0})})),t.on("ResizeEditor ResizeWindow NodeChange",(function(){an.requestAnimationFrame(r)})),t.on("remove",(function(){A(e.slice(),(function(t){n().close(t)}))}))}(t),{open:o,close:function(){h.from(e[0]).each((function(t){n().close(t),i(t),r()}))},getNotifications:function(){return e}}}var ld=Ao.PluginManager,cd=Ao.ThemeManager,dd=function(t){var e=[],n=function(){var e,n=t.theme;return n&&n.getWindowManagerImpl?n.getWindowManagerImpl():{open:e=function(){throw new Error("Theme did not provide a WindowManager implementation.")},openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}},r=function(t,e){return function(){return e?e.apply(t,arguments):void 0}},i=function(n){!function(e){t.fire("CloseWindow",{dialog:e})}(n),0===(e=D(e,(function(t){return t!==n}))).length&&t.focus()},o=function(n){t.editorManager.setActive(t),_c(t);var r=n();return function(n){e.push(n),function(e){t.fire("OpenWindow",{dialog:e})}(n)}(r),r};return t.on("remove",(function(){A(e,(function(t){n().close(t)}))})),{open:function(t,e){return o((function(){return n().open(t,e,i)}))},openUrl:function(t){return o((function(){return n().openUrl(t,i)}))},alert:function(t,e,i){n().alert(t,r(i||this,e))},confirm:function(t,e,i){n().confirm(t,r(i||this,e))},close:function(){h.from(e[e.length-1]).each((function(t){n().close(t),i(t)}))}}},fd=function(t,e){t.notificationManager.open({type:"error",text:e})},hd=function(t,e){t._skinLoaded?fd(t,e):t.on("SkinLoaded",(function(){fd(t,e)}))},md=function(t,n,r){!function(t,e,n){t.fire(e,n)}(t,n,{message:r}),e.console.error(r)},pd=function(t,e,n){return n?"Failed to load "+t+": "+n+" from url "+e:"Failed to load "+t+" url: "+e},gd=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=e.window.console;i&&(i.error?i.error.apply(i,arguments):i.log.apply(i,arguments))},vd=function(t,e,n){md(t,"PluginLoadError",pd("plugin",e,n))},bd=hd,yd=gd;function _d(t){return{getBookmark:s(Ju,t),moveToBookmark:s(tl,t)}}!function(t){t.isBookmarkNode=el}(_d||(_d={}));var wd=_d,xd=function(t,e,n){if(n.collapsed)return!1;if(gn.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(Me.isElement(r))return O(r.getClientRects(),(function(n){return Ds(n,t,e)}))}return O(n.getClientRects(),(function(n){return Ds(n,t,e)}))},Cd={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||this.metaKeyPressed(t)},metaKeyPressed:function(t){return gn.mac?t.metaKey:t.ctrlKey&&!t.altKey}},Sd=Me.isContentEditableFalse,kd=Me.isContentEditableTrue,Ed=function(t,n){var r,i,o,s,a,u,l,c,d,f,h,m,p,g,v,b,y,_=n.dom,w=kn.each,x=n.getDoc(),C=e.document,S=Math.abs,k=Math.round,E=n.getBody();s={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var O=function(t){return t&&("IMG"===t.nodeName||n.dom.is(t,"figure.image"))},T=function(t){var e=t.target;(function(t,e){if("longpress"===t.type||0===t.type.indexOf("touch")){var n=t.touches[0];return O(t.target)&&!xd(n.clientX,n.clientY,e)}return O(t.target)&&!xd(t.clientX,t.clientY,e)})(t,n.selection.getRng())&&!t.isDefaultPrevented()&&n.selection.select(e)},A=function(t){return n.dom.is(t,"figure.image")?t.querySelector("img"):t},D=function(t){var e=function(t){return t.getParam("object_resizing")}(n);return!1!==e&&!gn.iOS&&("string"!=typeof e&&(e="table,img,figure.image,div"),"false"!==t.getAttribute("data-mce-resize")&&t!==n.getBody()&&zt(rt(t),e))},M=function(t){var e,s,w,x;g=(g=(e=t.screenX-u)*a[2]+f)<5?5:g,v=(v=(s=t.screenY-l)*a[3]+h)<5?5:v,(O(r)&&!1!==function(t){return t.getParam("resize_img_proportional",!0,"boolean")}(n)?!Cd.modifierPressed(t):Cd.modifierPressed(t))&&(S(e)>S(s)?(v=k(g*m),g=k(v/m)):(g=k(v/m),v=k(g*m))),_.setStyles(A(i),{width:g,height:v}),_.setStyles(o,{left:w=(w=a.startPos.x+e)>0?w:0,top:x=(x=a.startPos.y+s)>0?x:0,display:"block"}),o.innerHTML=g+" &times; "+v,a[2]<0&&i.clientWidth<=g&&_.setStyle(i,"left",c+(f-g)),a[3]<0&&i.clientHeight<=v&&_.setStyle(i,"top",d+(h-v)),(e=E.scrollWidth-b)+(s=E.scrollHeight-y)!=0&&_.setStyles(o,{left:w-e,top:x-s}),p||(function(t,e,n,r){t.fire("ObjectResizeStart",{target:e,width:n,height:r})}(n,r,f,h),p=!0)},R=function(){p=!1;var t=function(t,e){e&&(r.style[t]||!n.schema.isValid(r.nodeName.toLowerCase(),t)?_.setStyle(A(r),t,e):_.setAttrib(A(r),t,e))};t("width",g),t("height",v),_.unbind(x,"mousemove",M),_.unbind(x,"mouseup",R),C!==x&&(_.unbind(C,"mousemove",M),_.unbind(C,"mouseup",R)),_.remove(i),_.remove(o),I(r),function(t,e,n,r){t.fire("ObjectResized",{target:e,width:n,height:r})}(n,r,g,v),_.setAttrib(r,"style",_.getAttrib(r,"style")),n.nodeChanged()},I=function(t){var e,p,S,k,O;N(),F(),e=_.getPos(t,E),c=e.x,d=e.y,O=t.getBoundingClientRect(),p=O.width||O.right-O.left,S=O.height||O.bottom-O.top,r!==t&&(r=t,g=v=0),k=n.fire("ObjectSelected",{target:t}),D(t)&&!k.isDefaultPrevented()?w(s,(function(t,e){var n;(n=_.get("mceResizeHandle"+e))&&_.remove(n),n=_.add(E,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),11===gn.ie&&(n.contentEditable=!1),_.bind(n,"mousedown",(function(e){e.stopImmediatePropagation(),e.preventDefault(),function(e){u=e.screenX,l=e.screenY,f=A(r).clientWidth,h=A(r).clientHeight,m=h/f,a=t,t.startPos={x:p*t[0]+c,y:S*t[1]+d},b=E.scrollWidth,y=E.scrollHeight,i=r.cloneNode(!0),_.addClass(i,"mce-clonedresizable"),_.setAttrib(i,"data-mce-bogus","all"),i.contentEditable=!1,i.unSelectabe=!0,_.setStyles(i,{left:c,top:d,margin:0}),i.removeAttribute("data-mce-selected"),E.appendChild(i),_.bind(x,"mousemove",M),_.bind(x,"mouseup",R),C!==x&&(_.bind(C,"mousemove",M),_.bind(C,"mouseup",R)),o=_.add(E,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},f+" &times; "+h)}(e)})),t.elm=n,_.setStyles(n,{left:p*t[0]+c-n.offsetWidth/2,top:S*t[1]+d-n.offsetHeight/2})})):N(),r.setAttribute("data-mce-selected","1")},N=function(){var t,e;for(t in F(),r&&r.removeAttribute("data-mce-selected"),s)(e=_.get("mceResizeHandle"+t))&&(_.unbind(e),_.remove(e))},z=function(e){var r,i=function(t,e){if(t)do{if(t===e)return!0}while(t=t.parentNode)};p||n.removed||(w(_.select("img[data-mce-selected],hr[data-mce-selected]"),(function(t){t.removeAttribute("data-mce-selected")})),r="mousedown"===e.type?e.target:t.getNode(),i(r=_.$(r).closest("table,img,figure.image,hr")[0],E)&&(B(),i(t.getStart(!0),r)&&i(t.getEnd(!0),r))?I(r):N())},P=function(t){return Sd(function(t,e){for(;e&&e!==t;){if(kd(e)||Sd(e))return e;e=e.parentNode}return null}(n.getBody(),t))},F=function(){for(var t in s){var e=s[t];e.elm&&(_.unbind(e.elm),delete e.elm)}},B=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(t){}};return n.on("init",(function(){if(B(),gn.browser.isIE()||gn.browser.isEdge()){n.on("mousedown click",(function(t){var e=t.target,r=e.nodeName;p||!/^(TABLE|IMG|HR)$/.test(r)||P(e)||(2!==t.button&&n.selection.select(e,"TABLE"===r),"mousedown"===t.type&&n.nodeChanged())}));var t=function(t){var e=function(t){an.setEditorTimeout(n,(function(){return n.selection.select(t)}))};if(P(t.target))return t.preventDefault(),void e(t.target);/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"===t.target.tagName&&e(t.target))};_.bind(E,"mscontrolselect",t),n.on("remove",(function(){return _.unbind(E,"mscontrolselect",t)}))}var e=an.throttle((function(t){n.composing||z(t)}));n.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",e),n.on("keyup compositionend",(function(t){r&&"TABLE"===r.nodeName&&e(t)})),n.on("hide blur",N),n.on("contextmenu longpress",T,!0)})),n.on("remove",F),{isResizable:D,showResizeRect:I,hideResizeRect:N,updateResizeRect:z,destroy:function(){r=i=null}}},Od=function(t,e){var n=function(t){var e=function(t){var e=t.dom();return ue(t)?e.getBoundingClientRect().height:e.offsetHeight}(t);if(e<=0||null===e){var n=Be(t,"height");return parseFloat(n)||0}return e},r=function(t,e){return R(e,(function(e,n){var r=Be(t,n),i=void 0===r?0:parseInt(r,10);return isNaN(i)?e:e+i}),0)};return{set:function(t,e){if(!w(e)&&!e.match(/^[0-9]+$/))throw new Error("height.set accepts only positive integer values. Value was "+e);var n=t.dom();Re(n)&&(n.style.height=e+"px")},get:n,getOuter:n,aggregate:r,max:function(t,e,n){var i=r(t,n);return e>i?e-i:0}}}(),Td=function(t,e){return t.view(e).fold(i([]),(function(e){var n=t.owner(e),r=Td(t,n);return[e].concat(r)}))},Ad=Object.freeze({__proto__:null,view:function(t){return(t.dom()===e.document?h.none():h.from(t.dom().defaultView.frameElement)).map(rt)},owner:function(t){return Lt(t)}}),Dd=function(t){return"textarea"===ie(t)},Md=function(t,e){var n=function(t){var e=t.dom().ownerDocument,n=e.body,r=e.defaultView,i=e.documentElement;if(n===t.dom())return ce(n.offsetLeft,n.offsetTop);var o=de(r.pageYOffset,i.scrollTop),s=de(r.pageXOffset,i.scrollLeft),a=de(i.clientTop,n.clientTop),u=de(i.clientLeft,n.clientLeft);return fe(t).translate(s-u,o-a)}(t),r=function(t){return Od.get(t)}(t);return{element:t,bottom:n.top()+r,height:r,pos:n,cleanup:e}},Rd=function(t,e,n,r){Pd(t,(function(i,o){return Nd(t,e,n,r)}),n)},Id=function(t,e,n,r,i){var o={elm:r.element.dom(),alignToTop:i};(function(t,e){return t.fire("ScrollIntoView",e).isDefaultPrevented()})(t,o)||(n(e,me(e).top(),r,i),function(t,e){t.fire("AfterScrollIntoView",e)}(t,o))},Nd=function(t,e,n,r){var i=rt(t.getBody()),o=rt(t.getDoc());i.dom();var s,a,u=(s=function(t,e){var n=qt(t);if(0===n.length||Dd(t))return{element:t,offset:e};if(e<n.length&&!Dd(n[e]))return{element:n[e],offset:0};var r=n[n.length-1];return Dd(r)?{element:t,offset:e}:"img"===ie(r)?{element:r,offset:1}:ae(r)?{element:r,offset:Nl(r).length}:{element:r,offset:qt(r).length}}(rt(n.startContainer),n.startOffset),a=tt('<span data-mce-bogus="all">\ufeff</span>'),Xt(s.element,a),Md(a,(function(){return ne(a)})));Id(t,o,e,u,r),u.cleanup()},zd=function(t,e,r,i){var o=rt(t.getDoc());Id(t,o,r,function(t){return Md(rt(t),n)}(e),i)},Pd=function(t,e,n){var r=n.startContainer,i=n.startOffset,o=n.endContainer,s=n.endOffset;e(rt(r),rt(o));var a=t.dom.createRng();a.setStart(r,i),a.setEnd(o,s),t.selection.setRng(n)},Fd=function(t,e,n,r){var i=t.pos;if(n)pe(i.left(),i.top(),r);else{var o=i.top()-e+t.height;pe(i.left(),o,r)}},Bd=function(t,e,n,r,i){var o=n+e,s=r.pos.top(),a=r.bottom,u=a-s>=n;s<e?Fd(r,n,!1!==i,t):s>o?Fd(r,n,u?!1!==i:!0===i,t):a>o&&!u&&Fd(r,n,!0===i,t)},Ld=function(t,e,n,r){var i=t.dom().defaultView.innerHeight;Bd(t,e,i,n,r)},Hd=function(t,n,r,i){var o=t.dom().defaultView.innerHeight;Bd(t,n,o,r,i);var s=function(t){var n=rt(e.document),r=me(n),i=function(t,e){var n=e.owner(t);return Td(e,n)}(t,Ad),o=fe(t),s=M(i,(function(t,e){var n=fe(e);return{left:t.left+n.left(),top:t.top+n.top()}}),{left:0,top:0});return ce(s.left+o.left()+r.left(),s.top+o.top()+r.top())}(r.element),a=be(e.window);s.top()<a.y()?ge(r.element,!1!==i):s.top()>a.bottom()&&ge(r.element,!0===i)},Vd=function(t,e,n){return Rd(t,Ld,e,n)},jd=function(t,e,n){return zd(t,e,Ld,n)},Ud=function(t,e,n){return Rd(t,Hd,e,n)},$d=function(t,e,n){return zd(t,e,Hd,n)},Wd=function(t,e,n){(t.inline?jd:$d)(t,e,n)},qd=function(t,e,n){(t.inline?Vd:Ud)(t,e,n)},Gd=function(t){return Me.isContentEditableTrue(t)||Me.isContentEditableFalse(t)},Yd=function(t,e,n){var r,i,o=n;if(o.caretPositionFromPoint)(i=o.caretPositionFromPoint(t,e))&&((r=n.createRange()).setStart(i.offsetNode,i.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(t,e);else if(o.body.createTextRange){r=o.body.createTextRange();try{r.moveToPoint(t,e),r.collapse(!0)}catch(s){r=function(t,e,n){var r,i,o;if(r=n.elementFromPoint(t,e),i=n.body.createTextRange(),r&&"HTML"!==r.tagName||(r=n.body),i.moveToElementText(r),(o=(o=kn.toArray(i.getClientRects())).sort((function(t,n){return(t=Math.abs(Math.max(t.top-e,t.bottom-e)))-Math.abs(Math.max(n.top-e,n.bottom-e))}))).length>0){e=(o[0].bottom+o[0].top)/2;try{return i.moveToPoint(t,e),i.collapse(!0),i}catch(s){}}return null}(t,e,n)}return function(t,e){var n=t&&t.parentElement?t.parentElement():null;return Me.isContentEditableFalse(function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null}(n,e,Gd))?null:t}(r,n.body)}return r},Kd=function(t,e){return T(e,(function(e){var n=t.fire("GetSelectionRange",{range:e});return n.range!==e?n.range:e}))},Xd=function(t,n){var r=(n||e.document).createDocumentFragment();return A(t,(function(t){r.appendChild(t.dom())})),rt(r)},Zd=function(t,e){return function(t,e,n){return Bt(e,t)?function(t,e){for(var n=_(e)?e:u,r=t.dom(),i=[];null!=r.parentNode;){var o=r.parentNode,s=rt(o);if(i.push(s),!0===n(s))break;r=o}return i}(t,(function(t){return n(t)||Ft(t,e)})).slice(0,-1):[]}(t,e,i(!1))},Qd=Zd,Jd=function(t,e){return[t].concat(Zd(t,e))},tf=function(t){return Yt(t).fold(i([t]),(function(e){return[t].concat(tf(e))}))},ef=function(t){return Kt(t).fold(i([t]),(function(e){return"br"===ie(e)?jt(e).map((function(e){return[t].concat(ef(e))})).getOr([]):[t].concat(ef(e))}))},nf=function(t,e,n,r){var i=n,o=new lo(n,i),s=t.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==kn.trim(n.nodeValue).length)return void(r?e.setStart(n,0):e.setEnd(n,n.nodeValue.length));if(s[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?e.setStartBefore(n):"BR"===n.nodeName?e.setEndBefore(n):e.setEndAfter(n))}while(n=r?o.next():o.prev());"BODY"===i.nodeName&&(r?e.setStart(i,0):e.setEnd(i,i.childNodes.length))},rf=function(t){var e=t.selection.getSel();return e&&e.rangeCount>0},of=At("element","width","rows"),sf=At("element","cells"),af=At("x","y"),uf=function(t,e){var n=parseInt(Pe(t,e),10);return isNaN(n)?1:n},lf=function(t,e,n){var r=t.rows();return!!(r[n]?r[n].cells():[])[e]},cf=function(t){return R(t,(function(t,e){return e.cells().length>t?e.cells().length:t}),0)},df=function(t,e){for(var n=t.rows(),r=0;r<n.length;r++)for(var i=n[r].cells(),o=0;o<i.length;o++)if(Ft(i[o],e))return h.some(af(o,r));return h.none()},ff=function(t,e,n,r,i){for(var o=[],s=t.rows(),a=n;a<=i;a++){var u=s[a].cells(),l=e<r?u.slice(e,r+1):u.slice(r,e+1);o.push(sf(s[a].element(),l))}return o},hf=function(t){return function(t,e){var n=Qo(t.element()),r=et("tbody");return te(r,e),Jt(n,r),n}(t,function(t){return T(t.rows(),(function(t){var e=T(t.cells(),(function(t){var e=Jo(t);return Fe(e,"colspan"),Fe(e,"rowspan"),e})),n=Qo(t.element());return te(n,e),n}))}(t))},mf=function(t){var e=[];if(t)for(var n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));return e},pf=mf,gf=function(t,e){var n=Fo(e,"td[data-mce-selected],th[data-mce-selected]"),r=function(t){return D(function(t){return z(t,(function(t){var e=Ms(t);return e?[rt(e)]:[]}))}(t),Ln)}(t);return n.length>0?n:r},vf=gf,bf=function(t){return gf(pf(t.selection.getSel()),rt(t.getBody()))},yf=function(){return Xd([])},_f=function(t,e){return n=rt(e.cloneContents()),r=function(t,e){var n=rt(e.commonAncestorContainer),r=Jd(n,t),o=D(r,(function(t){return Rn(t)||Dn(t)})),a=function(t,e){return I(t,(function(t){return"li"===ie(t)&&function(t,e){return zs(function(t){var e=t.startContainer,n=t.startOffset;return Me.isText(e)?0===n?h.some(rt(e)):h.none():h.from(e.childNodes[n]).map(rt)}(e),function(t){var e=t.endContainer,n=t.endOffset;return Me.isText(e)?n===e.data.length?h.some(rt(e)):h.none():h.from(e.childNodes[n-1]).map(rt)}(e),(function(e,n){var r=I(tf(t),s(Ft,e)),i=I(ef(t),s(Ft,n));return r.isSome()&&i.isSome()})).getOr(!1)}(t,e)})).fold(i([]),(function(e){return function(t){return I(t,(function(t){return"ul"===ie(t)||"ol"===ie(t)}))}(t).map((function(t){return[et("li"),et(ie(t))]})).getOr([])}))}(r,e),u=o.concat(a.length?a:function(t){return Pn(t)?Vt(t).filter(zn).fold(i([]),(function(e){return[t,e]})):zn(t)?[t]:[]}(n));return T(u,Qo)}(t,e),o=R(r,(function(t,e){return Jt(e,t),e}),n),r.length>0?Xd([o]):o;var n,r,o},wf=function(t,e){if(void 0===e&&(e={}),e.get=!0,e.format=e.format||"html",e.selection=!0,(e=t.fire("BeforeGetContent",e)).isDefaultPrevented())return t.fire("GetContent",e),e.content;if("text"===e.format)return function(t){return h.from(t.selection.getRng()).map((function(e){var n=t.dom.add(t.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},e.cloneContents()),r=es(n.innerText);return t.dom.remove(n),r})).getOr("")}(t);e.getInner=!0;var n=function(t,e){var n,r=t.selection.getRng(),i=t.dom.create("body"),o=t.selection.getSel(),a=Kd(t,pf(o));return(n=e.contextual?function(t,e){var n=vf(e,t);return n.length>0?function(t,e){return(n=t,r=e[0],Vo(r,"table",s(Ft,n))).bind((function(t){var n,r,i,o=e[0],s=e[e.length-1],a=function(t){var e=of(Qo(t),0,[]);return A(Fo(t,"tr"),(function(t,n){A(Fo(t,"td,th"),(function(r,i){!function(t,e,n,r,i){for(var o=uf(i,"rowspan"),s=uf(i,"colspan"),a=t.rows(),u=n;u<n+o;u++){a[u]||(a[u]=sf(Jo(r),[]));for(var l=e;l<e+s;l++)a[u].cells()[l]=u===n&&l===e?i:Qo(i)}}(e,function(t,e,n){for(;lf(t,e,n);)e++;return e}(e,i,n),n,t,r)}))})),of(e.element(),cf(e.rows()),e.rows())}(t);return(n=a,r=o,i=s,df(n,r).bind((function(t){return df(n,i).map((function(e){return function(t,e,n){var r=e.x(),i=e.y(),o=n.x(),s=n.y(),a=i<s?ff(t,r,i,o,s):ff(t,r,s,o,i);return of(t.element(),cf(a),a)}(n,t,e)}))}))).map((function(t){return Xd([hf(t)])}))})).getOrThunk(yf);var n,r}(t,n):function(t,e){return e.length>0&&e[0].collapsed?yf():_f(t,e[0])}(t,e)}(rt(t.getBody()),a).dom():r.cloneContents())&&i.appendChild(n),t.selection.serializer.serialize(i,e)}(t,e);return"tree"===e.format?n:(e.content=t.selection.isCollapsed()?"":n,t.fire("GetContent",e),e.content)},xf=function(t,e){return t&&e&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset},Cf=function(t,e,n){return null!==function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null}(t,e,n)},Sf=function(t,e,n){return Cf(t,e,(function(t){return t.nodeName===n}))},kf=function(t){return t&&"TABLE"===t.nodeName},Ef=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},Of=function(t,e){return ss(t)&&!1===Cf(t,e,Ea)},Tf=function(t,e,n){for(var r=new lo(e,t.getParent(e.parentNode,t.isBlock)||t.getRoot());e=r[n?"prev":"next"]();)if(Me.isBr(e))return!0},Af=function(t,e,n,r,i){var o,s,a=t.getRoot(),u=t.schema.getNonEmptyElements(),l=t.getParent(i.parentNode,t.isBlock)||a;if(r&&Me.isBr(i)&&e&&t.isEmpty(l))return h.some(ta(i.parentNode,t.nodeIndex(i)));for(var c=new lo(i,l);s=c[r?"prev":"next"]();){if("false"===t.getContentEditableParent(s)||Of(s,a))return h.none();if(Me.isText(s)&&s.nodeValue.length>0)return!1===Sf(s,a,"A")?h.some(ta(s,r?s.nodeValue.length:0)):h.none();if(t.isBlock(s)||u[s.nodeName.toLowerCase()])return h.none();o=s}return n&&o?h.some(ta(o,0)):h.none()},Df=function(t,e,n,r){var i,o,s,a,u,l,c=t.getRoot(),d=!1;if(o=r[(n?"start":"end")+"Offset"],l=Me.isElement(i=r[(n?"start":"end")+"Container"])&&o===i.childNodes.length,a=t.schema.getNonEmptyElements(),u=n,ss(i))return h.none();if(Me.isElement(i)&&o>i.childNodes.length-1&&(u=!1),Me.isDocument(i)&&(i=c,o=0),i===c){if(u&&(s=i.childNodes[o>0?o-1:0])){if(ss(s))return h.none();if(a[s.nodeName]||kf(s))return h.none()}if(i.hasChildNodes()){if(o=Math.min(!u&&o>0?o-1:o,i.childNodes.length-1),o=Me.isText(i=i.childNodes[o])&&l?i.data.length:0,!e&&i===c.lastChild&&kf(i))return h.none();if(function(t,e){for(;e&&e!==t;){if(Me.isContentEditableFalse(e))return!0;e=e.parentNode}return!1}(c,i)||ss(i))return h.none();if(i.hasChildNodes()&&!1===kf(i)){s=i;var f=new lo(i,c);do{if(Me.isContentEditableFalse(s)||ss(s)){d=!1;break}if(Me.isText(s)&&s.nodeValue.length>0){o=u?0:s.nodeValue.length,i=s,d=!0;break}if(a[s.nodeName.toLowerCase()]&&!Ef(s)){o=t.nodeIndex(s),i=s.parentNode,u||o++,d=!0;break}}while(s=u?f.next():f.prev())}}}return e&&(Me.isText(i)&&0===o&&Af(t,l,e,!0,i).each((function(t){i=t.container(),o=t.offset(),d=!0})),Me.isElement(i)&&((s=i.childNodes[o])||(s=i.childNodes[o-1]),!s||!Me.isBr(s)||function(t,e){return t.previousSibling&&"A"===t.previousSibling.nodeName}(s)||Tf(t,s,!1)||Tf(t,s,!0)||Af(t,l,e,!0,s).each((function(t){i=t.container(),o=t.offset(),d=!0})))),u&&!e&&Me.isText(i)&&o===i.nodeValue.length&&Af(t,l,e,!1,i).each((function(t){i=t.container(),o=t.offset(),d=!0})),d?h.some(ta(i,o)):h.none()},Mf=function(t,e){var n=e.collapsed,r=e.cloneRange(),i=ta.fromRangeStart(e);return Df(t,n,!0,r).each((function(t){n&&ta.isAbove(i,t)||r.setStart(t.container(),t.offset())})),n||Df(t,n,!1,r).each((function(t){r.setEnd(t.container(),t.offset())})),n&&r.collapse(!0),xf(e,r)?h.none():h.some(r)},Rf=function(t){return 0===t.dom().length?(ne(t),h.none()):h.some(t)},If=function(t,e,n,r,i){var o=n?e.startOffset:e.endOffset;return h.from(n?e.startContainer:e.endContainer).map(rt).map((function(t){return r&&e.collapsed?t:Gt(t,i(t,o)).getOr(t)})).bind((function(t){return se(t)?h.some(t):Vt(t)})).map((function(t){return t.dom()})).getOr(t)},Nf=function(t,e,n){return If(t,e,!0,n,(function(t,e){return Math.min(t.dom().childNodes.length,e)}))},zf=function(t,e,n){return If(t,e,!1,n,(function(t,e){return e>0?e-1:e}))},Pf=function(t,e){for(var n=t;t&&Me.isText(t)&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n},Ff=function(t,e,n){if(t&&t.hasOwnProperty(e)){var r=D(t[e],(function(t){return t!==n}));0===r.length?delete t[e]:t[e]=r}},Bf=function(t){return!!t.select},Lf=function(t){return!(!t||!t.ownerDocument)&&Bt(rt(t.ownerDocument),rt(t))},Hf=function(t,e,n,r){var i,o,s,a,u=function(t,e){var n,r;return{selectorChangedWithUnbind:function(i,o){return n||(n={},r={},e.on("NodeChange",(function(e){var i=e.element,o=t.getParents(i,null,t.getRoot()),s={};kn.each(n,(function(e,n){kn.each(o,(function(i){if(t.is(i,n))return r[n]||(kn.each(e,(function(t){t(!0,{node:i,selector:n,parents:o})})),r[n]=e),s[n]=e,!1}))})),kn.each(r,(function(t,e){s[e]||(delete r[e],kn.each(t,(function(t){t(!1,{node:i,selector:e,parents:o})})))}))}))),n[i]||(n[i]=[]),n[i].push(o),{unbind:function(){Ff(n,i,o),Ff(r,i,o)}}}}}(t,r).selectorChangedWithUnbind,l=function(t,e){return function(t,e,n){if((n=function(t,e){return(t=t||{format:"html"}).set=!0,t.selection=!0,t.content=e,t}(n,e)).no_events||!(n=t.fire("BeforeSetContent",n)).isDefaultPrevented()){var r=t.selection.getRng();!function(t,e){var n=h.from(e.firstChild).map(rt),r=h.from(e.lastChild).map(rt);t.deleteContents(),t.insertNode(e);var i=n.bind(jt).filter(ae).bind(Rf),o=r.bind(Ut).filter(ae).bind(Rf);zs(i,n.filter(ae),(function(t,e){!function(t,e){t.insertData(0,e)}(e.dom(),t.dom().data),ne(t)})),zs(o,r.filter(ae),(function(e,n){var r=n.dom().length;n.dom().appendData(e.dom().data),t.setEnd(n.dom(),r),ne(e)})),t.collapse(!1)}(r,r.createContextualFragment(n.content)),t.selection.setRng(r),qd(t,r),n.no_events||t.fire("SetContent",n)}else t.fire("SetContent",n)}(r,t,e)},c=function(t){var e=f();e.collapse(!!t),m(e)},d=function(){return e.getSelection?e.getSelection():e.document.selection},f=function(){var n,i,o,u,l=function(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(r){return-1}};if(!e)return null;if(null==(u=e.document))return null;if(void 0!==r.bookmark&&!1===Rc(r)){var c=wc(r);if(c.isSome())return c.map((function(t){return Kd(r,[t])[0]})).getOr(u.createRange())}try{(n=d())&&!Me.isRestrictedNode(n.anchorNode)&&(i=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():u.createRange())}catch(f){}return(i=Kd(r,[i])[0])||(i=u.createRange?u.createRange():u.body.createTextRange()),i.setStart&&9===i.startContainer.nodeType&&i.collapsed&&(o=t.getRoot(),i.setStart(o,0),i.setEnd(o,0)),s&&a&&(0===l(i.START_TO_START,i,s)&&0===l(i.END_TO_END,i,s)?i=a:(s=null,a=null)),i},m=function(t,e){var n,i;if(function(t){return!!t&&(!!Bf(t)||Lf(t.startContainer)&&Lf(t.endContainer))}(t)){var o=Bf(t)?t:null;if(o){a=null;try{o.select()}catch(u){}}else{if(n=d(),t=r.fire("SetSelectionRange",{range:t,forward:e}).range,n){a=t;try{n.removeAllRanges(),n.addRange(t)}catch(u){}!1===e&&n.extend&&(n.collapse(t.endContainer,t.endOffset),n.extend(t.startContainer,t.startOffset)),s=n.rangeCount>0?n.getRangeAt(0):null}t.collapsed||t.startContainer!==t.endContainer||!n.setBaseAndExtent||gn.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(i=t.startContainer.childNodes[t.startOffset])&&"IMG"===i.tagName&&(n.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),n.anchorNode===t.startContainer&&n.focusNode===t.endContainer||n.setBaseAndExtent(i,0,i,1)),r.fire("AfterSetSelectionRange",{range:t,forward:e})}}},p=function(){var e,n,r=d();return!(r&&r.anchorNode&&r.focusNode)||((e=t.createRng()).setStart(r.anchorNode,r.anchorOffset),e.collapse(!0),(n=t.createRng()).setStart(r.focusNode,r.focusOffset),n.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,n)<=0)},g={bookmarkManager:null,controlSelection:null,dom:t,win:e,serializer:n,editor:r,collapse:c,setCursorLocation:function(e,n){var i=t.createRng();e?(i.setStart(e,n),i.setEnd(e,n),m(i),c(!1)):(nf(t,i,r.getBody(),!0),m(i))},getContent:function(t){return wf(r,t)},setContent:l,getBookmark:function(t,e){return i.getBookmark(t,e)},moveToBookmark:function(t){return i.moveToBookmark(t)},select:function(e,n){return function(t,e,n){return h.from(e).map((function(e){var r=t.nodeIndex(e),i=t.createRng();return i.setStart(e.parentNode,r),i.setEnd(e.parentNode,r+1),n&&(nf(t,i,e,!0),nf(t,i,e,!1)),i}))}(t,e,n).each(m),e},isCollapsed:function(){var t=f(),e=d();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!e||t.collapsed)},isForward:p,setNode:function(e){return l(t.getOuterHTML(e)),e},getNode:function(){return t=r.getBody(),(e=f())?(i=e.startContainer,o=e.endContainer,s=e.startOffset,a=e.endOffset,n=e.commonAncestorContainer,!e.collapsed&&(i===o&&a-s<2&&i.hasChildNodes()&&(n=i.childNodes[s]),3===i.nodeType&&3===o.nodeType&&(i=i.length===s?Pf(i.nextSibling,!0):i.parentNode,o=0===a?Pf(o.previousSibling,!1):o.parentNode,i&&i===o))?i:n&&3===n.nodeType?n.parentNode:n):t;var t,e,n,i,o,s,a},getSel:d,setRng:m,getRng:f,getStart:function(t){return Nf(r.getBody(),f(),t)},getEnd:function(t){return zf(r.getBody(),f(),t)},getSelectedBlocks:function(e,n){return function(t,e,n,r){var i,o,s=[];if(o=t.getRoot(),n=t.getParent(n||Nf(o,e,e.collapsed),t.isBlock),r=t.getParent(r||zf(o,e,e.collapsed),t.isBlock),n&&n!==o&&s.push(n),n&&r&&n!==r){i=n;for(var a=new lo(n,o);(i=a.next())&&i!==r;)t.isBlock(i)&&s.push(i)}return r&&n!==r&&r!==o&&s.push(r),s}(t,f(),e,n)},normalize:function(){var e=f(),n=d();if(!(mf(n).length>1)&&rf(r)){var i=Mf(t,e);return i.each((function(t){m(t,p())})),i.getOr(e)}return e},selectorChanged:function(t,e){return u(t,e),g},selectorChangedWithUnbind:u,getScrollContainer:function(){for(var e,n=t.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){e=n;break}n=n.parentNode}return e},scrollIntoView:function(t,e){return Wd(r,t,e)},placeCaretAt:function(t,e){return m(Yd(t,e,r.getDoc()))},getBoundingClientRect:function(){var t=f();return t.collapsed?na.fromRangeStart(t).getClientRects()[0]:t.getBoundingClientRect()},destroy:function(){e=s=a=null,o.destroy()}};return i=wd(g),o=Ed(g,r),g.bookmarkManager=i,g.controlSelection=o,g},Vf=function(t,e,n,r){(t.padd_empty_with_br||e.insert)&&n[r.name]?r.empty().append(new Ul("br",1)).shortEnded=!0:r.empty().append(new Ul("#text",3)).value="\xa0"},jf=function(t,e){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===e},Uf=function(t,e,n,r){return r.isEmpty(e,n,(function(e){return function(t,e){var n=t.getElementRule(e.name);return n&&n.paddEmpty}(t,e)}))},$f=kn.makeMap,Wf=kn.each,qf=kn.explode,Gf=kn.extend,Yf=function(t,e){void 0===e&&(e=cr());var n={},r=[],i={},o={};(t=t||{}).validate=!("validate"in t)||t.validate,t.root_name=t.root_name||"body";var s=function(t){var e,s,a;(s=t.name)in n&&((a=i[s])?a.push(t):i[s]=[t]),e=r.length;for(;e--;)(s=r[e].name)in t.attributes.map&&((a=o[s])?a.push(t):o[s]=[t]);return t},a={schema:e,addAttributeFilter:function(t,e){Wf(qf(t),(function(t){var n;for(n=0;n<r.length;n++)if(r[n].name===t)return void r[n].callbacks.push(e);r.push({name:t,callbacks:[e]})}))},getAttributeFilters:function(){return[].concat(r)},addNodeFilter:function(t,e){Wf(qf(t),(function(t){var r=n[t];r||(n[t]=r=[]),r.push(e)}))},getNodeFilters:function(){var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push({name:e,callbacks:n[e]});return t},filterNode:s,parse:function(a,u){var l,c,d,f,h,m,p,g,v,b,y,_=[];u=u||{},i={},o={},v=Gf($f("script,style,head,html,body,title,meta,param"),e.getBlockElements());var w=e.getNonEmptyElements(),x=e.children,C=t.validate,S=function(t){return!1===t?"":!0===t?"p":t}("forced_root_block"in u?u.forced_root_block:t.forced_root_block),k=e.getWhiteSpaceElements(),E=/^[ \t\r\n]+/,O=/[ \t\r\n]+$/,T=/[ \t\r\n]+/g,A=/^[ \t\r\n]+$/;b=k.hasOwnProperty(u.context)||k.hasOwnProperty(t.root_name);var D=function(t,e){var r,o=new Ul(t,e);return t in n&&((r=i[t])?r.push(o):i[t]=[o]),o},M=function(t){var n,r,i,o,s=e.getBlockElements();for(n=t.prev;n&&3===n.type;){if((i=n.value.replace(O,"")).length>0)return void(n.value=i);if(r=n.next){if(3===r.type&&r.value.length){n=n.prev;continue}if(!s[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}o=n.prev,n.remove(),n=o}};l=Xl({validate:C,allow_script_urls:t.allow_script_urls,allow_conditional_comments:t.allow_conditional_comments,preserve_cdata:t.preserve_cdata,self_closing_elements:function(t){var e,n={};for(e in t)"li"!==e&&"p"!==e&&(n[e]=t[e]);return n}(e.getSelfClosingElements()),cdata:function(t){y.append(D("#cdata",4)).value=t},text:function(t,e){var n;b||(t=t.replace(T," "),function(t,e){return t&&(e[t.name]||"br"===t.name)}(y.lastChild,v)&&(t=t.replace(E,""))),0!==t.length&&((n=D("#text",3)).raw=!!e,y.append(n).value=t)},comment:function(t){y.append(D("#comment",8)).value=t},pi:function(t,e){y.append(D(t,7)).value=e,M(y)},doctype:function(t){y.append(D("#doctype",10)).value=t,M(y)},start:function(t,n,i){var s,a,u,l,c;if(u=C?e.getElementRule(t):{}){for((s=D(u.outputName||t,1)).attributes=n,s.shortEnded=i,y.append(s),(c=x[y.name])&&x[s.name]&&!c[s.name]&&_.push(s),a=r.length;a--;)(l=r[a].name)in n.map&&((p=o[l])?p.push(s):o[l]=[s]);v[t]&&M(s),i||(y=s),!b&&k[t]&&(b=!0)}},end:function(n){var r,i,o,s,a;if(i=C?e.getElementRule(n):{}){if(v[n]&&!b){if((r=y.firstChild)&&3===r.type)if((o=r.value.replace(E,"")).length>0)r.value=o,r=r.next;else for(s=r.next,r.remove(),r=s;r&&3===r.type;)s=r.next,(0===(o=r.value).length||A.test(o))&&(r.remove(),r=s),r=s;if((r=y.lastChild)&&3===r.type)if((o=r.value.replace(O,"")).length>0)r.value=o,r=r.prev;else for(s=r.prev,r.remove(),r=s;r&&3===r.type;)s=r.prev,(0===(o=r.value).length||A.test(o))&&(r.remove(),r=s),r=s}if(b&&k[n]&&(b=!1),i.removeEmpty&&Uf(e,w,k,y))return a=y.parent,v[y.name]?y.empty().remove():y.unwrap(),void(y=a);i.paddEmpty&&(function(t){return jf(t,"#text")&&"\xa0"===t.firstChild.value}(y)||Uf(e,w,k,y))&&Vf(t,u,v,y),y=y.parent}}},e);var R=y=new Ul(u.context||t.root_name,11);if(l.parse(a,u.format),C&&_.length&&(u.context?u.invalid=!0:function(t){var n,r,i,o,a,u,l,c,d,f,h,m,p,g,v,b;for(m=$f("tr,td,th,tbody,thead,tfoot,table"),f=e.getNonEmptyElements(),h=e.getWhiteSpaceElements(),p=e.getTextBlockElements(),g=e.getSpecialElements(),n=0;n<t.length;n++)if((r=t[n]).parent&&!r.fixed)if(p[r.name]&&"li"===r.parent.name){for(v=r.next;v&&p[v.name];)v.name="li",v.fixed=!0,r.parent.insert(v,r.parent),v=v.next;r.unwrap(r)}else{for(o=[r],i=r.parent;i&&!e.isValidChild(i.name,r.name)&&!m[i.name];i=i.parent)o.push(i);if(i&&o.length>1){for(o.reverse(),a=u=s(o[0].clone()),d=0;d<o.length-1;d++){for(e.isValidChild(u.name,o[d].name)?(l=s(o[d].clone()),u.append(l)):l=u,c=o[d].firstChild;c&&c!==o[d+1];)b=c.next,l.append(c),c=b;u=l}Uf(e,f,h,a)?i.insert(r,o[0],!0):(i.insert(a,o[0],!0),i.insert(r,a)),(Uf(e,f,h,i=o[0])||jf(i,"br"))&&i.empty().remove()}else if(r.parent){if("li"===r.name){if((v=r.prev)&&("ul"===v.name||"ul"===v.name)){v.append(r);continue}if((v=r.next)&&("ul"===v.name||"ul"===v.name)){v.insert(r,v.firstChild,!0);continue}r.wrap(s(new Ul("ul",1)));continue}e.isValidChild(r.parent.name,"div")&&e.isValidChild("div",r.name)?r.wrap(s(new Ul("div",1))):g[r.name]?r.empty().remove():r.unwrap()}}}(_)),S&&("body"===R.name||u.isRootContent)&&function(){var n,r,i=R.firstChild,o=function(t){t&&((i=t.firstChild)&&3===i.type&&(i.value=i.value.replace(E,"")),(i=t.lastChild)&&3===i.type&&(i.value=i.value.replace(O,"")))};if(e.isValidChild(R.name,S.toLowerCase())){for(;i;)n=i.next,3===i.type||1===i.type&&"p"!==i.name&&!v[i.name]&&!i.attr("data-mce-type")?(r||((r=D(S,1)).attr(t.forced_root_block_attrs),R.insert(r,i)),r.append(i)):(o(r),r=null),i=n;o(r)}}(),!u.invalid){for(g in i)if(i.hasOwnProperty(g)){for(p=n[g],h=(c=i[g]).length;h--;)c[h].parent||c.splice(h,1);for(d=0,f=p.length;d<f;d++)p[d](c,g,u)}for(d=0,f=r.length;d<f;d++)if((p=r[d]).name in o){for(h=(c=o[p.name]).length;h--;)c[h].parent||c.splice(h,1);for(h=0,m=p.callbacks.length;h<m;h++)p.callbacks[h](c,p.name,u)}}return R}};return function(t,e){var n=t.schema;e.remove_trailing_brs&&t.addNodeFilter("br",(function(t,r,i){var o,s,a,u,l,c,d,f,h=t.length,m=kn.extend({},n.getBlockElements()),p=n.getNonEmptyElements(),g=n.getNonEmptyElements();for(m.body=1,o=0;o<h;o++)if(a=(s=t[o]).parent,m[s.parent.name]&&s===a.lastChild){for(l=s.prev;l;){if("span"!==(c=l.name)||"bookmark"!==l.attr("data-mce-type")){if("br"!==c)break;if("br"===c){s=null;break}}l=l.prev}s&&(s.remove(),Uf(n,p,g,a)&&(d=n.getElementRule(a.name))&&(d.removeEmpty?a.remove():d.paddEmpty&&Vf(e,i,m,a)))}else{for(u=s;a&&a.firstChild===u&&a.lastChild===u&&(u=a,!m[a.name]);)a=a.parent;u===a&&!0!==e.padd_empty_with_br&&((f=new Ul("#text",3)).value="\xa0",s.replace(f))}})),t.addAttributeFilter("href",(function(t){var n,r,i,o=t.length;if(!e.allow_unsafe_link_target)for(;o--;)"a"===(n=t[o]).name&&"_blank"===n.attr("target")&&n.attr("rel",(i=(r=n.attr("rel"))?kn.trim(r):"",/\b(noopener)\b/g.test(i)?i:function(t){return t.split(" ").filter((function(t){return t.length>0})).concat(["noopener"]).sort().join(" ")}(i)))})),e.allow_html_in_named_anchor||t.addAttributeFilter("id,name",(function(t){for(var e,n,r,i,o=t.length;o--;)if("a"===(i=t[o]).name&&i.firstChild&&!i.attr("href")){r=i.parent,e=i.lastChild;do{n=e.prev,r.insert(e,i),e=n}while(e)}})),e.fix_list_elements&&t.addNodeFilter("ul,ol",(function(t){for(var e,n,r=t.length;r--;)if("ul"===(n=(e=t[r]).parent).name||"ol"===n.name)if(e.prev&&"li"===e.prev.name)e.prev.append(e);else{var i=new Ul("li",1);i.attr("style","list-style-type: none"),e.wrap(i)}})),e.validate&&n.getValidClasses()&&t.addAttributeFilter("class",(function(t){for(var e,r,i,o,s,a,u,l=t.length,c=n.getValidClasses();l--;){for(r=(e=t[l]).attr("class").split(" "),s="",i=0;i<r.length;i++)o=r[i],u=!1,(a=c["*"])&&a[o]&&(u=!0),a=c[e.name],!u&&a&&a[o]&&(u=!0),u&&(s&&(s+=" "),s+=o);s.length||(s=null),e.attr("class",s)}}))}(a,t),function(t,e){e.inline_styles&&function(t,e){var n=Dr();e.convert_fonts_to_spans&&function(t,e,n){t.addNodeFilter("font",(function(t){A(t,(function(t){var r=e.parse(t.attr("style")),i=t.attr("color"),o=t.attr("face"),s=t.attr("size");i&&(r.color=i),o&&(r["font-family"]=o),s&&(r["font-size"]=n[parseInt(t.attr("size"),10)-1]),t.name="span",t.attr("style",e.serialize(r)),function(t,e){A(["color","face","size"],(function(e){t.attr(e,null)}))}(t)}))}))}(t,n,kn.explode(e.font_size_legacy_values)),function(t,e){t.addNodeFilter("strike",(function(t){A(t,(function(t){var n=e.parse(t.attr("style"));n["text-decoration"]="line-through",t.name="span",t.attr("style",e.serialize(n))}))}))}(t,n)}(t,e)}(a,t),a},Kf=function(t,e,n){-1===kn.inArray(e,n)&&(t.addAttributeFilter(n,(function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)})),e.push(n))},Xf=function(t,n){var r=function(t,n){var r=["data-mce-selected"],i=n&&n.dom?n.dom:yo.DOM,o=n&&n.schema?n.schema:cr(t);t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs;var a=Yf(t,o);return function(t,e,n){t.addAttributeFilter("data-mce-tabindex",(function(t,e){for(var n,r=t.length;r--;)(n=t[r]).attr("tabindex",n.attr("data-mce-tabindex")),n.attr(e,null)})),t.addAttributeFilter("src,href,style",(function(t,r){for(var i,o,s=t.length,a="data-mce-"+r,u=e.url_converter,l=e.url_converter_scope;s--;)void 0!==(o=(i=t[s]).attr(a))?(i.attr(r,o.length>0?o:null),i.attr(a,null)):(o=i.attr(r),"style"===r?o=n.serializeStyle(n.parseStyle(o),i.name):u&&(o=u.call(l,o,r,i.name)),i.attr(r,o.length>0?o:null))})),t.addAttributeFilter("class",(function(t){for(var e,n,r=t.length;r--;)(n=(e=t[r]).attr("class"))&&(n=e.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),e.attr("class",n.length>0?n:null))})),t.addAttributeFilter("data-mce-type",(function(t,e,n){for(var r,i=t.length;i--;)"bookmark"!==(r=t[i]).attr("data-mce-type")||n.cleanup||(h.from(r.firstChild).exists((function(t){return!ts(t.value)}))?r.unwrap():r.remove())})),t.addNodeFilter("noscript",(function(t){for(var e,n=t.length;n--;)(e=t[n].firstChild)&&(e.value=tr.decode(e.value))})),t.addNodeFilter("script,style",(function(t,n){for(var r,i,o,s=t.length,a=function(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};s--;)i=(r=t[s]).firstChild?r.firstChild.value:"","script"===n?((o=r.attr("type"))&&r.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===e.element_format&&i.length>0&&(r.firstChild.value="// <![CDATA[\n"+a(i)+"\n// ]]>")):"xhtml"===e.element_format&&i.length>0&&(r.firstChild.value="\x3c!--\n"+a(i)+"\n--\x3e")})),t.addNodeFilter("#comment",(function(t){for(var r,i=t.length;i--;)r=t[i],e.preserve_cdata&&0===r.value.indexOf("[CDATA[")?(r.name="#cdata",r.type=4,r.value=n.decode(r.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===r.value.indexOf("mce:protected ")&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(r.value).substr(14))})),t.addNodeFilter("xml:namespace,input",(function(t,e){for(var n,r=t.length;r--;)7===(n=t[r]).type?n.remove():1===n.type&&("input"!==e||n.attr("type")||n.attr("type","text"))})),t.addAttributeFilter("data-mce-type",(function(e){A(e,(function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())}))})),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",(function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}))}(a,t,i),{schema:o,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:function(r,s){void 0===s&&(s={});var u=Q({format:"html"},s),l=function(t,n,r){return function(t,e){return t&&t.hasEventListeners("PreProcess")&&!e.no_events}(t,r)?function(t,n,r){var i,o,s,a=t.dom;return n=n.cloneNode(!0),(i=e.document.implementation).createHTMLDocument&&(o=i.createHTMLDocument(""),kn.each("BODY"===n.nodeName?n.childNodes:[n],(function(t){o.body.appendChild(o.importNode(t,!0))})),n="BODY"!==n.nodeName?o.body.firstChild:o.body,s=a.doc,a.doc=o),function(t,e){t.fire("PreProcess",e)}(t,Q(Q({},r),{node:n})),s&&(a.doc=s),n}(t,n,r):n}(n,r,u),c=function(t,e,n){var r=es(n.getInner?e.innerHTML:t.getOuterHTML(e));return n.selection||Hn(rt(e))?r:kn.trim(r)}(i,l,u),d=function(t,e,n){var r=n.selection?Q({forced_root_block:!1},n):n,i=t.parse(e,r);return function(t){var e,n,r=function(t){return t&&"br"===t.name};r(e=t.lastChild)&&r(n=e.prev)&&(e.remove(),n.remove())}(i),i}(a,c,u);return"tree"===u.format?d:function(t,e,n,r,i){return function(t,e,n){return!e.no_events&&t?function(t,e){return t.fire("PostProcess",e)}(t,Q(Q({},e),{content:n})).content:n}(t,i,function(t,e,n){return nc(t,e).serialize(n)}(e,n,r))}(n,t,o,d,u)},addRules:function(t){o.addValidElements(t)},setRules:function(t){o.setValidElements(t)},addTempAttr:s(Kf,a,r),getTempAttrs:function(){return r},getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}}(t,n);return{schema:r.schema,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:r.serialize,addRules:r.addRules,setRules:r.setRules,addTempAttr:r.addTempAttr,getTempAttrs:r.getTempAttrs,getNodeFilters:r.getNodeFilters,getAttributeFilters:r.getAttributeFilters}},Zf=function(t){var e,n,r=decodeURIComponent(t).split(",");return(n=/data:([^;]+)/.exec(r[0]))&&(e=n[1]),{type:e,data:r[1]}},Qf=function(t){return 0===t.indexOf("blob:")?function(t){return new nn((function(n,r){var i=function(){r("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")};try{var o=new e.XMLHttpRequest;o.open("GET",t,!0),o.responseType="blob",o.onload=function(){200===this.status?n(this.response):i()},o.onerror=i,o.send()}catch(s){i()}}))}(t):0===t.indexOf("data:")?(n=t,new nn((function(t){var r,i,o,s=Zf(n);try{r=e.atob(s.data)}catch(ow){return void t(new e.Blob([]))}for(i=new Uint8Array(r.length),o=0;o<i.length;o++)i[o]=r.charCodeAt(o);t(new e.Blob([i],{type:s.type}))}))):null;var n},Jf=Zf,th=0,eh=function(t){return(t||"blobid")+th++};var nh=0,rh=function(t){return t+nh+++(e=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+e()+e()+e());var e},ih=function(t){var n,r,o,s,a,u=function(){var t=[],n=function(t){var n,r,o;if(!t.blob||!t.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return n=t.id||rh("blobid"),r=t.name||n,{id:i(n),name:i(r),filename:i(r+"."+(o=t.blob.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[o.toLowerCase()]||"dat")),blob:i(t.blob),base64:i(t.base64),blobUri:i(t.blobUri||e.URL.createObjectURL(t.blob)),uri:i(t.uri)}},r=function(t){return o((function(e){return e.id()===t}))},o=function(e){return D(t,e)[0]};return{create:function(t,e,r,i){if(p(t))return n({id:t,name:i,blob:e,base64:r});if(g(t))return n(t);throw new Error("Unknown input type")},add:function(e){r(e.id())||t.push(e)},get:r,getByUri:function(t){return o((function(e){return e.blobUri()===t}))},findFirst:o,removeByUri:function(n){t=D(t,(function(t){return t.blobUri()!==n||(e.URL.revokeObjectURL(t.blobUri()),!1)}))},destroy:function(){A(t,(function(t){e.URL.revokeObjectURL(t.blobUri())})),t=[]}}}(),l=(o={},s=function(t,e){return{status:t,resultUri:e}},{hasBlobUri:a=function(t){return t in o},getResultUri:function(t){var e=o[t];return e?e.resultUri:null},isPending:function(t){return!!a(t)&&1===o[t].status},isUploaded:function(t){return!!a(t)&&2===o[t].status},markPending:function(t){o[t]=s(1,null)},markUploaded:function(t,e){o[t]=s(2,e)},removeFailed:function(t){delete o[t]},destroy:function(){o={}}}),c=[],d=function(e){return function(n){return t.selection?e(n):[]}},f=function(t,e,n){var r=0;do{-1!==(r=t.indexOf(e,r))&&(t=t.substring(0,r)+n+t.substr(r+e.length),r+=n.length-e.length+1)}while(-1!==r);return t},h=function(t,e,n){return t=f(t,'src="'+e+'"','src="'+n+'"'),f(t,'data-mce-src="'+e+'"','data-mce-src="'+n+'"')},m=function(e,n){A(t.undoManager.data,(function(t){"fragmented"===t.type?t.fragments=T(t.fragments,(function(t){return h(t,e,n)})):t.content=h(t.content,e,n)}))},v=function(){return t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},b=function(r){return n||(n=function(t,n){var r={},i=function(t,r,i,o){var s,a;(s=new e.XMLHttpRequest).open("POST",n.url),s.withCredentials=n.credentials,s.upload.onprogress=function(t){o(t.loaded/t.total*100)},s.onerror=function(){i("Image upload failed due to a XHR Transport error. Code: "+s.status)},s.onload=function(){var t,e,o;s.status<200||s.status>=300?i("HTTP Error: "+s.status):(t=JSON.parse(s.responseText))&&"string"==typeof t.location?r((o=t.location,(e=n.basePath)?e.replace(/\/$/,"")+"/"+o.replace(/^\//,""):o)):i("Invalid JSON: "+s.responseText)},(a=new e.FormData).append("file",t.blob(),t.filename()),s.send(a)},o=function(t,e){return{url:e,blobInfo:t,status:!0}},s=function(t,e){return{url:"",blobInfo:t,status:!1,error:e}},a=function(t,e){kn.each(r[t],(function(t){t(e)})),delete r[t]};return!1===_(n.handler)&&(n.handler=i),{upload:function(e,u){return n.url||n.handler!==i?function(e,i){return e=kn.grep(e,(function(e){return!t.isUploaded(e.blobUri())})),nn.all(kn.map(e,(function(e){return t.isPending(e.blobUri())?function(t){var e=t.blobUri();return new nn((function(t){r[e]=r[e]||[],r[e].push(t)}))}(e):function(e,n,r){return t.markPending(e.blobUri()),new nn((function(i){var u;try{var l=function(){u&&u.close()};n(e,(function(n){l(),t.markUploaded(e.blobUri(),n),a(e.blobUri(),o(e,n)),i(o(e,n))}),(function(n){l(),t.removeFailed(e.blobUri()),a(e.blobUri(),s(e,n)),i(s(e,n))}),(function(t){t<0||t>100||(u||(u=r()),u.progressBar.value(t))}))}catch(c){i(s(e,c.message))}}))}(e,n.handler,i)})))}(e,u):new nn((function(t){t([])}))}}}(l,{url:Ua(t),basePath:$a(t),credentials:Wa(t),handler:qa(t)})),x().then(d((function(e){var i=T(e,(function(t){return t.blobInfo}));return n.upload(i,v).then(d((function(n){var i=T(n,(function(n,r){var i=e[r].image;return n.status&&function(t){return t.getParam("images_replace_blob_uris",!0,"boolean")}(t)?function(e,n){var r;u.removeByUri(e.src),m(e.src,n),t.$(e).attr({src:ja(t)?(r=n,r+(-1===r.indexOf("?")?"?":"&")+(new Date).getTime()):n,"data-mce-src":t.convertURL(n,"src")})}(i,n.url):n.error&&function(t,e){hd(t,Oo.translate(["Failed to upload image: {0}",e]))}(t,n.error),{element:i,status:n.status}}));return r&&r(i),i})))})))},y=function(e){if(Va(t))return b(e)},w=function(e){return!1!==P(c,(function(t){return t(e)}))&&(0!==e.getAttribute("src").indexOf("data:")||function(t){return t.getParam("images_dataimg_filter",i(!0),"function")}(t)(e))},x=function(){return r||(r=function(t,n){var r={};return{findAll:function(o,s){var a;s||(s=i(!0)),a=D(function(t){return t?V(t.getElementsByTagName("img")):[]}(o),(function(e){var n=e.src;return!!gn.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!n||n===gn.transparentSrc)&&(0===n.indexOf("blob:")?!t.isUploaded(n)&&s(e):0===n.indexOf("data:")&&s(e))}));var u=T(a,(function(t){if(r[t.src])return new nn((function(e){r[t.src].then((function(n){if("string"==typeof n)return n;e({image:t,blobInfo:n.blobInfo})}))}));var i=new nn((function(r,i){!function(t,n,r,i){var o,s;0!==n.src.indexOf("blob:")?(o=Jf(n.src).data,(s=t.findFirst((function(t){return t.base64()===o})))?r({image:n,blobInfo:s}):Qf(n.src).then((function(e){s=t.create(eh(),e,o),t.add(s),r({image:n,blobInfo:s})}),(function(t){i(t)}))):(s=t.getByUri(n.src))?r({image:n,blobInfo:s}):Qf(n.src).then((function(i){(function(t){return new nn((function(n){var r=new e.FileReader;r.onloadend=function(){n(r.result)},r.readAsDataURL(t)}))})(i).then((function(e){o=Jf(e).data,s=t.create(eh(),i,o),t.add(s),r({image:n,blobInfo:s})}))}),(function(t){i(t)}))}(n,t,r,i)})).then((function(t){return delete r[t.image.src],t})).catch((function(e){return delete r[t.src],e}));return r[t.src]=i,i}));return nn.all(u)}}}(l,u)),r.findAll(t.getBody(),w).then(d((function(e){return e=D(e,(function(e){return"string"!=typeof e||(bd(t,e),!1)})),A(e,(function(t){m(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri(),t.image.removeAttribute("data-mce-src")})),e})))},C=function(e){return e.replace(/src="(blob:[^"]+)"/g,(function(e,n){var r=l.getResultUri(n);if(r)return'src="'+r+'"';var i=u.getByUri(n);return i||(i=R(t.editorManager.get(),(function(t,e){return t||e.editorUpload&&e.editorUpload.blobCache.getByUri(n)}),null)),i?'src="data:'+i.blob().type+";base64,"+i.base64()+'"':e}))};return t.on("SetContent",(function(){Va(t)?y():x()})),t.on("RawSaveContent",(function(t){t.content=C(t.content)})),t.on("GetContent",(function(t){t.source_view||"raw"===t.format||(t.content=C(t.content))})),t.on("PostRender",(function(){t.parser.addNodeFilter("img",(function(t){A(t,(function(t){var e=t.attr("src");if(!u.getByUri(e)){var n=l.getResultUri(e);n&&t.attr("src",n)}}))}))})),{blobCache:u,addFilter:function(t){c.push(t)},uploadImages:b,uploadImagesAuto:y,scanForImages:x,destroy:function(){u.destroy(),l.destroy(),r=n=null}}},oh=function(t){ee(t),Jt(t,tt('<br data-mce-bogus="1">'))},sh=function(t){Kt(t).each((function(e){jt(e).each((function(n){Mn(t)&&In(e)&&Mn(n)&&ne(e)}))}))},ah=fl,uh=function(t,e,n){var r=t.formatter.get(n);if(r)for(var i=0;i<r.length;i++)if(!1===r[i].inherit&&t.dom.is(e,r[i].selector))return!0;return!1},lh=function(t,e,n,r){var i=t.dom.getRoot();return e!==i&&(e=t.dom.getParent(e,(function(e){return!!uh(t,e,n)||e.parentNode===i||!!fh(t,e,n,r,!0)})),fh(t,e,n,r))},ch=function(t,e,n){return!!ah(e,n.inline)||!!ah(e,n.block)||(n.selector?1===e.nodeType&&t.is(e,n.selector):void 0)},dh=function(t,e,n,r,i,o){var s,a,u,l=n[r];if(n.onmatch)return n.onmatch(e,n,r);if(l)if(void 0===l.length){for(s in l)if(l.hasOwnProperty(s)){if(a="attributes"===r?t.getAttrib(e,s):ml(t,e,s),i&&!a&&!n.exact)return;if((!i||n.exact)&&!ah(a,hl(t,dl(l[s],o),s)))return}}else for(u=0;u<l.length;u++)if("attributes"===r?t.getAttrib(e,l[u]):ml(t,e,l[u]))return n;return n},fh=function(t,e,n,r,i){var o,s,a,u,l=t.formatter.get(n),c=t.dom;if(l&&e)for(s=0;s<l.length;s++)if(ch(t.dom,e,o=l[s])&&dh(c,e,o,"attributes",i,r)&&dh(c,e,o,"styles",i,r)){if(u=o.classes)for(a=0;a<u.length;a++)if(!t.dom.hasClass(e,u[a]))return;return o}},hh=function(t,e,n,r){var i;return r?lh(t,r,e,n):(r=t.selection.getNode(),!!lh(t,r,e,n)||!((i=t.selection.getStart())===r||!lh(t,i,e,n)))},mh=function(t,e,n){var r,i=[],o={};return r=t.selection.getStart(),t.dom.getParent(r,(function(r){var s,a;for(s=0;s<e.length;s++)!o[a=e[s]]&&fh(t,r,a,n)&&(o[a]=!0,i.push(a))}),t.dom.getRoot()),i},ph=function(t,e){var n,r,i,o,s,a=t.formatter.get(e),u=t.dom;if(a)for(n=t.selection.getStart(),r=gl(u,n),o=a.length-1;o>=0;o--){if(!(s=a[o].selector)||a[o].defaultBlock)return!0;for(i=r.length-1;i>=0;i--)if(u.is(r[i],s))return!0}return!1},gh=function(t,e){return t.splitText(e)},vh=function(t){var e=t.startContainer,n=t.startOffset,r=t.endContainer,i=t.endOffset;return e===r&&Me.isText(e)?n>0&&n<e.nodeValue.length&&(e=(r=gh(e,n)).previousSibling,i>n?(e=r=gh(r,i-=n).previousSibling,i=r.nodeValue.length,n=0):i=0):(Me.isText(e)&&n>0&&n<e.nodeValue.length&&(e=gh(e,n),n=0),Me.isText(r)&&i>0&&i<r.nodeValue.length&&(i=(r=gh(r,i).previousSibling).nodeValue.length)),{startContainer:e,startOffset:n,endContainer:r,endOffset:i}},bh=function(t,e,n){if(0!==n){var r=t.data.slice(e,e+n);t.replaceData(e,n,(o=0===e,s=e+n>=t.data.length,R(i=r,(function(t,e){return rl(e)||nl(e)?t.previousCharIsSpace||""===t.str&&o||t.str.length===i.length-1&&s?{previousCharIsSpace:!1,str:t.str+"\xa0"}:{previousCharIsSpace:!0,str:t.str+" "}:{previousCharIsSpace:!1,str:t.str+e}}),{previousCharIsSpace:!1,str:""}).str))}var i,o,s},yh=function(t,e){var n,r=t.data.slice(e),i=r.length-(n=r,n.replace(/^\s+/g,"")).length;return bh(t,e,i)},_h=function(t,e){return ws(e)&&!1===function(t,e){return Me.isText(e)&&/^[ \t\r\n]*$/.test(e.data)&&!1===function(t,e){var n,r,i=rt(t);return n=rt(e),r=s(Ft,i),Vo(n,"pre,code",r).isSome()}(t,e)}(t,e)||function(t){return Me.isElement(t)&&"A"===t.nodeName&&t.hasAttribute("name")}(e)||wh(e)},wh=Me.hasAttribute("data-mce-bookmark"),xh=Me.hasAttribute("data-mce-bogus"),Ch=Me.hasAttributeValue("data-mce-bogus","all"),Sh=function(t,e){return void 0===e&&(e=!0),function(t,e){var n,r=0;if(_h(t,t))return!1;if(!(n=t.firstChild))return!0;var i=new lo(n,t);do{if(e){if(Ch(n)){n=i.next(!0);continue}if(xh(n)){n=i.next();continue}}if(Me.isBr(n))r++,n=i.next();else{if(_h(t,n))return!1;n=i.next()}}while(n);return r<=1}(t.dom(),e)},kh=function(t,e){return function(t,e){var n=t.container(),r=t.offset();return!1===na.isTextPosition(t)&&n===e.parentNode&&r>na.before(e).offset()}(e,t)?na(e.container(),e.offset()-1):e},Eh=function(t){return ws(t.previousSibling)?h.some(Me.isText(e=t.previousSibling)?na(e,e.data.length):na.after(e)):t.previousSibling?qu.lastPositionIn(t.previousSibling):h.none();var e},Oh=function(t){return ws(t.nextSibling)?h.some(Me.isText(e=t.nextSibling)?na(e,0):na.before(e)):t.nextSibling?qu.firstPositionIn(t.nextSibling):h.none();var e},Th=function(t,e,n){n.fold((function(){t.focus()}),(function(n){t.selection.setRng(n.toRange(),e)}))},Ah=function(t,e){return e&&t.schema.getBlockElements().hasOwnProperty(ie(e))},Dh=function(t){if(Sh(t)){var e=tt('<br data-mce-bogus="1">');return ee(t),Jt(t,e),h.some(na.before(e.dom()))}return h.none()},Mh=function(t,e,n,r){void 0===r&&(r=!0);var i,o=function(t,e,n){return function(t,e,n){return t?function(t,e){return Oh(e).orThunk((function(){return Eh(e)})).orThunk((function(){return function(t,e){return qu.nextPosition(t,na.after(e)).fold((function(){return qu.prevPosition(t,na.before(e))}),h.some)}(t,e)}))}(e,n):function(t,e){return Eh(e).orThunk((function(){return Oh(e)})).orThunk((function(){return function(t,e){var n=na.before(e.previousSibling?e.previousSibling:e.parentNode);return qu.prevPosition(t,n).fold((function(){return qu.nextPosition(t,na.after(e))}),h.some)}(t,e)}))}(e,n)}(t,e,n).map(s(kh,n))}(e,t.getBody(),n.dom()),a=Lo(n,s(Ah,t),(i=t.getBody(),function(t){return t.dom()===i})),u=function(t,e,n){var r,i,o,s,a=jt(t).filter(ae),u=Ut(t).filter(ae);return ne(t),(r=a,i=u,o=e,s=function(t,e,r){var i=t.dom(),o=e.dom(),s=i.data.length;return function(t,e,n){var r=wt(t.data).length;t.appendData(e.data),ne(rt(e)),n&&yh(t,r)}(i,o,n),r.container()===o?na(i,s):r},r.isSome()&&i.isSome()&&o.isSome()?h.some(s(r.getOrDie(),i.getOrDie(),o.getOrDie())):h.none()).orThunk((function(){return n&&(a.each((function(t){return e=t.dom(),n=t.dom().length,i=(r=e.data.slice(0,n)).length-wt(r).length,bh(e,n-i,i);var e,n,r,i})),u.each((function(t){return yh(t.dom(),0)}))),e}))}(n,o,function(t,e){return Z(t.schema.getTextInlineElements(),ie(e))}(t,n));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):a.bind(Dh).fold((function(){r&&Th(t,e,u)}),(function(n){r&&Th(t,e,h.some(n))}))},Rh=function(t){return function(t){for(var e=[];t;){if(3===t.nodeType&&"\ufeff"!==t.nodeValue||t.childNodes.length>1)return[];1===t.nodeType&&e.push(t),t=t.firstChild}return e}(t).length>0},Ih=function(t){if(t){var e=new lo(t,t);for(t=e.current();t;t=e.next())if(Me.isText(t))return t}return null},Nh=function(t){var e=et("span");return ze(e,{id:"_mce_caret","data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&Jt(e,nt("\ufeff")),e},zh=function(t,e,n){void 0===n&&(n=!0);var r=t.dom,i=t.selection;if(Rh(e))Mh(t,!1,rt(e),n);else{var o=i.getRng(),s=r.getParent(e,r.isBlock),a=function(t){var e=Ih(t);return e&&"\ufeff"===e.nodeValue.charAt(0)&&e.deleteData(0,1),e}(e);o.startContainer===a&&o.startOffset>0&&o.setStart(a,o.startOffset-1),o.endContainer===a&&o.endOffset>0&&o.setEnd(a,o.endOffset-1),r.remove(e,!0),s&&r.isEmpty(s)&&oh(rt(s)),i.setRng(o)}},Ph=function(t,e,n){void 0===n&&(n=!0);var r=t.dom,i=t.selection;if(e)zh(t,e,n);else if(!(e=Oa(t.getBody(),i.getStart())))for(;e=r.get("_mce_caret");)zh(t,e,!1)},Fh=function(t,e){return t.appendChild(e),e},Bh=function(t,e){var n=M(t,(function(t,e){return Fh(t,e.cloneNode(!1))}),e);return Fh(n,n.ownerDocument.createTextNode("\ufeff"))},Lh=function(t,e){return t.schema.getTextInlineElements().hasOwnProperty(ie(e))&&!Ea(e.dom())&&!Me.isBogus(e.dom())},Hh={},Vh=_n.filter,jh=_n.each;Hh.pre||(Hh.pre=[]),Hh.pre.push((function(t){var e,n,r=t.selection.getRng();e=Me.matchNodeNames(["pre"]),r.collapsed||(n=t.selection.getSelectedBlocks(),jh(Vh(Vh(n,e),(function(t){return e(t.previousSibling)&&-1!==_n.indexOf(n,t.previousSibling)})),(function(t){var e,n;e=t.previousSibling,uo(n=t).remove(),uo(e).append("<br><br>").append(n.childNodes)})))}));var Uh,$h=kn.each,Wh=function(t){this.compare=function(e,n){if(e.nodeName!==n.nodeName)return!1;var r=function(e){var n={};return $h(t.getAttribs(e),(function(r){var i=r.nodeName.toLowerCase();0!==i.indexOf("_")&&"style"!==i&&0!==i.indexOf("data-")&&(n[i]=t.getAttrib(e,i))})),n},i=function(t,e){var n,r;for(r in t)if(t.hasOwnProperty(r)){if(void 0===(n=e[r]))return!1;if(t[r]!==n)return!1;delete e[r]}for(r in e)if(e.hasOwnProperty(r))return!1;return!0};return!(!i(r(e),r(n))||!i(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style")))||el(e)||el(n))}},qh=/^(src|href|style)$/,Gh=kn.each,Yh=fl,Kh=function(t,e,n){return t.isChildOf(e,n)&&e!==n&&!t.isBlock(n)},Xh=function(t,e,n){var r,i;if(i=e[n?"startOffset":"endOffset"],Me.isElement(r=e[n?"startContainer":"endContainer"])){var o=r.childNodes.length-1;!n&&i&&i--,r=r.childNodes[i>o?o:i]}return Me.isText(r)&&n&&i>=r.nodeValue.length&&(r=new lo(r,t.getBody()).next()||r),Me.isText(r)&&!n&&0===i&&(r=new lo(r,t.getBody()).prev()||r),r},Zh=function(t,e,n,r){var i=t.create(n,r);return e.parentNode.insertBefore(i,e),i.appendChild(e),i},Qh=function(t,e,n,r,i){var o=rt(e),s=rt(t.create(r,i)),a=n?Wt(o):$t(o);return te(s,a),n?(Xt(o,s),Qt(s,o)):(Zt(o,s),Jt(s,o)),s.dom()},Jh=function(t,e,n,r){return!(e=al(e,n,r))||"BR"===e.nodeName||t.isBlock(e)},tm=function(t,e,n,r,i){var o,s=t.dom;if(!function(t,e,n){return!!Yh(e,n.inline)||!!Yh(e,n.block)||(n.selector?Me.isElement(e)&&t.is(e,n.selector):void 0)}(s,r,e)&&!function(t,e){return e.links&&"A"===t.nodeName}(r,e))return!1;var a=r;if("all"!==e.remove){Gh(e.styles,(function(t,r){t=hl(s,dl(t,n),r),"number"==typeof r&&(r=t,i=null),(e.remove_similar||!i||Yh(ml(s,i,r),t))&&s.setStyle(a,r,""),o=!0})),o&&""===s.getAttrib(a,"style")&&(a.removeAttribute("style"),a.removeAttribute("data-mce-style")),Gh(e.attributes,(function(t,r){var o;if(t=dl(t,n),"number"==typeof r&&(r=t,i=null),e.remove_similar||!i||Yh(s.getAttrib(i,r),t)){if("class"===r&&(t=s.getAttrib(a,r))&&(o="",Gh(t.split(/\s+/),(function(t){/mce\-\w+/.test(t)&&(o+=(o?" ":"")+t)})),o))return void s.setAttrib(a,r,o);"class"===r&&a.removeAttribute("className"),qh.test(r)&&a.removeAttribute("data-mce-"+r),a.removeAttribute(r)}})),Gh(e.classes,(function(t){t=dl(t,n),i&&!s.hasClass(i,t)||s.removeClass(a,t)}));for(var u=s.getAttribs(a),l=0;l<u.length;l++){var c=u[l].nodeName;if(0!==c.indexOf("_")&&0!==c.indexOf("data-"))return!1}}return"none"!==e.remove?(function(t,e,n){var r,i=e.parentNode,o=t.dom,s=La(t);n.block&&(s?i===o.getRoot()&&(n.list_block&&Yh(e,n.list_block)||Gh(kn.grep(e.childNodes),(function(e){ll(t,s,e.nodeName.toLowerCase())?r?r.appendChild(e):(r=Zh(o,e,s),o.setAttribs(r,t.settings.forced_root_block_attrs)):r=0}))):o.isBlock(e)&&!o.isBlock(i)&&(Jh(o,e,!1)||Jh(o,e.firstChild,!0,!0)||e.insertBefore(o.create("br"),e.firstChild),Jh(o,e,!0)||Jh(o,e.lastChild,!1,!0)||e.appendChild(o.create("br")))),n.selector&&n.inline&&!Yh(n.inline,e)||o.remove(e,!0)}(t,a,e),!0):void 0},em=function(t,e,n,r,i){var o,a,u=t.formatter.get(e),l=u[0],c=!0,d=t.dom,f=t.selection,m=function(r){var o=function(t,e,n,r,i){var o;return Gh(gl(t.dom,e.parentNode).reverse(),(function(e){var s;o||"_start"===e.id||"_end"===e.id||(s=fh(t,e,n,r,i))&&!1!==s.split&&(o=e)})),o}(t,r,e,n,i);return function(t,e,n,r,i,o,s,a){var u,l,c,d,f,h,m=t.dom;if(n){for(h=n.parentNode,u=r.parentNode;u&&u!==h;u=u.parentNode){for(l=m.clone(u,!1),f=0;f<e.length;f++)if(tm(t,e[f],a,l,l)){l=0;break}l&&(c&&l.appendChild(c),d||(d=l),c=l)}s.mixed&&m.isBlock(n)||(r=m.split(n,r)),c&&(i.parentNode.insertBefore(c,i),d.appendChild(i))}return r}(t,u,o,r,r,0,l,n)},p=function(e){var r,i,o,s,a;if(Me.isElement(e)&&d.getContentEditable(e)&&(s=c,c="true"===d.getContentEditable(e),a=!0),r=kn.grep(e.childNodes),c&&!a)for(i=0,o=u.length;i<o&&!tm(t,u[i],n,e,e);i++);if(l.deep&&r.length){for(i=0,o=r.length;i<o;i++)p(r[i]);a&&(c=s)}},g=function(t){var e=d.get(t?"_start":"_end"),n=e[t?"firstChild":"lastChild"];return function(t){return el(t)&&Me.isElement(t)&&("_start"===t.id||"_end"===t.id)}(n)&&(n=n[t?"firstChild":"lastChild"]),Me.isText(n)&&0===n.data.length&&(n=t?e.previousSibling||e.nextSibling:e.nextSibling||e.previousSibling),d.remove(e,!0),n},v=function(e){var n,r,i=e.commonAncestorContainer,o=Al(t,e,u,!0);if(l.split){if(o=vh(o),(n=Xh(t,o,!0))!==(r=Xh(t,o))){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),i&&/^T(HEAD|BODY|FOOT|R)$/.test(i.nodeName)&&function(t){return/^(TH|TD)$/.test(t.nodeName)}(r)&&r.firstChild&&(r=r.firstChild||r),Kh(d,n,r)){var s=h.from(n.firstChild).getOr(n);return m(Qh(d,s,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void g(!0)}if(Kh(d,r,n))return s=h.from(r.lastChild).getOr(r),m(Qh(d,s,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void g(!1);n=Zh(d,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=Zh(d,r,"span",{id:"_end","data-mce-type":"bookmark"});var a=d.createRng();a.setStartAfter(n),a.setEndBefore(r),Rl(d,a,(function(t){A(t,(function(t){el(t)||el(t.parentNode)||m(t)}))})),m(n),m(r),n=g(!0),r=g()}else n=r=m(n);o.startContainer=n.parentNode?n.parentNode:n,o.startOffset=d.nodeIndex(n),o.endContainer=r.parentNode?r.parentNode:r,o.endOffset=d.nodeIndex(r)+1}Rl(d,o,(function(e){Gh(e,(function(e){p(e),Me.isElement(e)&&"underline"===t.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===pl(d,e.parentNode)&&tm(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)}))}))};if(r)ol(r)?((a=d.createRng()).setStartBefore(r),a.setEndAfter(r),v(a)):v(r);else if("false"!==d.getContentEditable(f.getNode()))f.isCollapsed()&&l.inline&&!d.select("td[data-mce-selected],th[data-mce-selected]").length?function(t,e,n,r){var i,o,a,u,l,c,d=t.dom,f=t.selection,h=[],m=f.getRng();for(u=i=m.startContainer,3===i.nodeType&&(m.startOffset!==i.nodeValue.length&&(a=!0),u=u.parentNode);u;){if(fh(t,u,e,n,r)){l=u;break}u.nextSibling&&(a=!0),h.push(u),u=u.parentNode}if(l)if(a){o=f.getBookmark(),m.collapse(!0);var p=Al(t,m,t.formatter.get(e),!0);p=vh(p),t.formatter.remove(e,n,p),f.moveToBookmark(o)}else{c=Oa(t.getBody(),l);var g=Nh(!1).dom(),v=Bh(h,g);(function(t,e,n){var r,i,o,a=t.dom,u=a.getParent(n,s(ul,t));u&&a.isEmpty(u)?n.parentNode.replaceChild(e,n):(r=rt(n),i=Fo(r,"br"),o=D(function(t){for(var e=[],n=t.dom();n;)e.push(rt(n)),n=n.lastChild;return e}(r).slice(-1),In),i.length===o.length&&A(o,ne),a.isEmpty(n)?n.parentNode.replaceChild(e,n):a.insertAfter(e,n))})(t,g,c||l),zh(t,c,!1),f.setCursorLocation(v,1),d.isEmpty(l)&&d.remove(l)}}(t,e,n,i):(o=Ca.getPersistentBookmark(t.selection,!0),v(f.getRng()),f.moveToBookmark(o),l.inline&&hh(t,e,n,f.getStart())&&sl(d,f,f.getRng()),t.nodeChanged());else{r=f.getNode();for(var b=0,y=u.length;b<y&&(!u[b].ceFalseOverride||!tm(t,u[b],n,r,r));b++);}},nm=kn.each,rm=function(t){return Me.isElement(t)&&!el(t)&&!Ea(t)&&!Me.isBogus(t)},im=function(t,e){var n;for(n=t;n;n=n[e]){if(Me.isText(n)&&0!==n.nodeValue.length)return t;if(Me.isElement(n)&&!el(n))return n}return t},om=function(t,e,n){var r,i,o=new Wh(t);if(e&&n&&(e=im(e,"previousSibling"),n=im(n,"nextSibling"),o.compare(e,n))){for(r=e.nextSibling;r&&r!==n;)i=r,r=r.nextSibling,e.appendChild(i);return t.remove(n),kn.each(kn.grep(n.childNodes),(function(t){e.appendChild(t)})),e}return n},sm=function(t,e,n){nm(t.childNodes,(function(t){rm(t)&&(e(t)&&n(t),t.hasChildNodes()&&sm(t,e,n))}))},am=function(t,e){return s((function(e,n){return!(!n||!ml(t,n,e))}),e)},um=function(t,e,n){return s((function(e,n,r){t.setStyle(r,e,n),""===r.getAttribute("style")&&r.removeAttribute("style"),lm(t,r)}),e,n)},lm=function(t,e){"SPAN"===e.nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)},cm=function(t,e){if(1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType){var n=pl(t,e.parentNode);t.getStyle(e,"color")&&n?t.setStyle(e,"text-decoration",n):t.getStyle(e,"text-decoration")===n&&t.setStyle(e,"text-decoration",null)}},dm=function(t){return t.collapsed?t:function(t){var n=na.fromRangeStart(t),r=na.fromRangeEnd(t),i=t.commonAncestorContainer;return qu.fromPosition(!1,i,r).map((function(o){return!hu(n,r,i)&&hu(n,o,i)?function(t,n,r,i){var o=e.document.createRange();return o.setStart(t,n),o.setEnd(r,i),o}(n.container(),n.offset(),o.container(),o.offset()):t})).getOr(t)}(t)},fm=kn.each,hm=function(t,e,n,r){var i,o,a=t.formatter.get(e),u=a[0],l=!r&&t.selection.isCollapsed(),c=t.dom,d=t.selection,f=function(t,e){if(e=e||u,t){if(e.onformat&&e.onformat(t,e,n,r),fm(e.styles,(function(e,r){c.setStyle(t,r,dl(e,n))})),e.styles){var i=c.getAttrib(t,"style");i&&c.setAttrib(t,"data-mce-style",i)}fm(e.attributes,(function(e,r){c.setAttrib(t,r,dl(e,n))})),fm(e.classes,(function(e){e=dl(e,n),c.hasClass(t,e)||c.addClass(t,e)}))}},h=function(t,e){var n=!1;return!!u.selector&&(fm(t,(function(t){if(!("collapsed"in t)||t.collapsed===l)return c.is(e,t.selector)&&!Ea(e)?(f(e,t),n=!0,!1):void 0})),n)},m=function(r,i,o,l){var c,d,m=[],p=!0;d=r.create(c=u.inline||u.block),f(d),Rl(r,i,(function(i){var o,s=function(i){var g=!1,v=p,b=i.nodeName.toLowerCase(),y=i.parentNode.nodeName.toLowerCase();if(Me.isElement(i)&&r.getContentEditable(i)&&(v=p,p="true"===r.getContentEditable(i),g=!0),fl(b,"br"))return o=0,void(u.block&&r.remove(i));if(u.wrapper&&fh(t,i,e,n))o=0;else{if(p&&!g&&u.block&&!u.wrapper&&ul(t,b)&&ll(t,y,c))return i=r.rename(i,c),f(i),m.push(i),void(o=0);if(u.selector){var _=h(a,i);if(!u.inline||_)return void(o=0)}!p||g||!ll(t,c,b)||!ll(t,y,c)||!l&&3===i.nodeType&&1===i.nodeValue.length&&65279===i.nodeValue.charCodeAt(0)||Ea(i)||u.inline&&r.isBlock(i)?(o=0,fm(kn.grep(i.childNodes),s),g&&(p=v),o=0):(o||(o=r.clone(d,!1),i.parentNode.insertBefore(o,i),m.push(o)),o.appendChild(i))}};fm(i,s)})),!0===u.links&&fm(m,(function(t){var e=function(t){"A"===t.nodeName&&f(t,u),fm(kn.grep(t.childNodes),e)};e(t)})),fm(m,(function(i){var o;o=function(t){var e=0;return fm(t.childNodes,(function(t){(function(t){return t&&Me.isText(t)&&0===t.length})(t)||el(t)||e++})),e}(i),!(m.length>1)&&r.isBlock(i)||0!==o?(u.inline||u.wrapper)&&(u.exact||1!==o||(i=function(t){var e,n;return(e=function(t){var e=!1;return fm(t.childNodes,(function(t){if(function(t){return t&&1===t.nodeType&&!el(t)&&!Ea(t)&&!Me.isBogus(t)}(t))return e=t,!1})),e}(t))&&!el(e)&&ch(r,e,u)&&(n=r.clone(e,!1),f(n),r.replace(n,t,!0),r.remove(e,!0)),n||t}(i)),function(t,e,n,r){nm(e,(function(e){nm(t.dom.select(e.inline,r),(function(r){rm(r)&&tm(t,e,n,r,e.exact?r:null)})),function(t,e,n){e.clear_child_styles&&nm(t.select(e.links?"*:not(a)":"*",n),(function(n){rm(n)&&nm(e.styles,(function(e,r){t.setStyle(n,r,"")}))}))}(t.dom,e,r)}))}(t,a,n,i),function(t,e,n,r,i){fh(t,i.parentNode,n,r)&&tm(t,e,r,i)||e.merge_with_parents&&t.dom.getParent(i.parentNode,(function(o){if(fh(t,o,n,r))return tm(t,e,r,i),!0}))}(t,u,e,n,i),function(t,e,n,r){e.styles&&e.styles.backgroundColor&&sm(r,am(t,"fontSize"),um(t,"backgroundColor",dl(e.styles.backgroundColor,n)))}(r,u,n,i),function(t,e,n,r){e.styles&&(e.styles.color||e.styles.textDecoration)&&(kn.walk(r,s(cm,t),"childNodes"),cm(t,r))}(r,u,0,i),function(t,e,n,r){"sub"!==e.inline&&"sup"!==e.inline||(sm(r,am(t,"fontSize"),um(t,"fontSize","")),t.remove(t.select("sup"===e.inline?"sub":"sup",r),!0))}(r,u,0,i),function(t,e,n,r){r&&!1!==e.merge_siblings&&(r=om(t,al(r),r),r=om(t,r,al(r,!0)))}(r,u,0,i)):r.remove(i,!0)}))};if("false"!==c.getContentEditable(d.getNode())){if(u){if(r)ol(r)?h(a,r)||((o=c.createRng()).setStartBefore(r),o.setEndAfter(r),m(c,Al(t,o,a),0,!0)):m(c,r,0,!0);else if(l&&u.inline&&!c.select("td[data-mce-selected],th[data-mce-selected]").length)!function(t,e,n){var r,i,o,s,a,u,l=t.selection;s=(r=l.getRng()).startOffset,u=r.startContainer.nodeValue,(i=Oa(t.getBody(),l.getStart()))&&(o=Ih(i));var c,d,f=/[^\s\u00a0\u00ad\u200b\ufeff]/;u&&s>0&&s<u.length&&f.test(u.charAt(s))&&f.test(u.charAt(s-1))?(a=l.getBookmark(),r.collapse(!0),r=Al(t,r,t.formatter.get(e)),r=vh(r),t.formatter.apply(e,n,r),l.moveToBookmark(a)):(i&&"\ufeff"===o.nodeValue||(c=t.getDoc(),d=Nh(!0).dom(),o=(i=c.importNode(d,!0)).firstChild,r.insertNode(i),s=1),t.formatter.apply(e,n,i),l.setCursorLocation(o,s))}(t,e,n);else{var p=t.selection.getNode();t.settings.forced_root_block||!a[0].defaultBlock||c.getParent(p,c.isBlock)||hm(t,a[0].defaultBlock),t.selection.setRng(dm(t.selection.getRng())),i=Ca.getPersistentBookmark(t.selection,!0),m(c,Al(t,d.getRng(),a)),d.moveToBookmark(i),sl(c,d,d.getRng()),t.nodeChanged()}!function(t,e){jh(Hh[t],(function(t){t(e)}))}(e,t)}}else{r=d.getNode();for(var g=0,v=a.length;g<v;g++)if(a[g].ceFalseOverride&&c.is(r,a[g].selector))return void f(r,a[g])}},mm=function(t,e,n,r,i){return null===e.get()&&function(t,e){var n=it({});t.set({}),e.on("NodeChange",(function(r){!function(t,e,n,r){var i=j(n.get()),o={},s={},a=D(gl(t.dom,e),(function(t){return 1===t.nodeType&&!t.getAttribute("data-mce-bogus")}));$(r,(function(e,n){kn.each(a,(function(r){return t.formatter.matchNode(r,n,{},e.similar)?(-1===i.indexOf(n)&&(A(e.callbacks,(function(t){t(!0,{node:r,format:n,parents:a})})),o[n]=e.callbacks),s[n]=e.callbacks,!1):!uh(t,r,n)&&void 0}))}));var u=function(t,e,n,r){return K(t,(function(t,i){return!!Z(e,i)||(A(t,(function(t){t(!1,{node:n,format:i,parents:r})})),!1)})).t}(n.get(),s,e,a);n.set(Q(Q({},o),u))}(e,r.element,n,t.get())}))}(e,t),function(t,e,n,r){var i=t.get();A(e.split(","),(function(t){i[t]||(i[t]={similar:r,callbacks:[]}),i[t].callbacks.push(n)})),t.set(i)}(e,n,r,i),{unbind:function(){return function(t,e,n){var r=t.get();A(e.split(","),(function(t){r[t].callbacks=D(r[t].callbacks,(function(t){return t!==n})),0===r[t].callbacks.length&&delete r[t]})),t.set(r)}(e,n,r)}}},pm=kn.each,gm=yo.DOM,vm=function(t,e){var n,r,i,o=e&&e.schema||cr({}),s=function(t){var e;return function(t,e){e.classes.length&&gm.addClass(t,e.classes.join(" ")),gm.setAttribs(t,e.attrs)}(e=gm.create((r="string"==typeof t?{name:t,classes:[],attrs:{}}:t).name),r),e},a=function(t,e,n){var r,i,u,l=e.length>0&&e[0],c=l&&l.name;if(u=function(t,e){var n="string"!=typeof t?t.nodeName.toLowerCase():t,r=o.getElementRule(n),i=r&&r.parentsRequired;return!(!i||!i.length)&&(e&&-1!==kn.inArray(i,e)?e:i[0])}(t,c))c===u?(i=e[0],e=e.slice(1)):i=u;else if(l)i=e[0],e=e.slice(1);else if(!n)return t;return i&&(r=s(i)).appendChild(t),n&&(r||(r=gm.create("div")).appendChild(t),kn.each(n,(function(e){var n=s(e);r.insertBefore(n,t)}))),a(r,e,i&&i.siblings)};return t&&t.length?(n=s(r=t[0]),(i=gm.create("div")).appendChild(a(n,t.slice(1),r.siblings)),i):""},bm=function(t){var e,n={classes:[],attrs:{}};return"*"!==(t=n.selector=kn.trim(t))&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(t,e,r,i,o){switch(e){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==kn.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}if("["===i){var s=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);s&&(n.attrs[s[1]]=s[2])}return""}))),n.name=e||"div",n},ym=function(t,e){var n,r,i,o,s,a,u="";if(!1===(a=t.settings.preview_styles))return"";"string"!=typeof a&&(a="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var l,c=function(t){return t.replace(/%(\w+)/g,"")};if("string"==typeof e){if(!(e=t.formatter.get(e)))return;e=e[0]}return"preview"in e&&!1===(a=e.preview)?"":(n=e.block||e.inline||"span",(o=(l=e.selector)&&"string"==typeof l?(l=(l=l.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),kn.map(l.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(t){var e=kn.map(t.split(/(?:~\+|~|\+)/),bm),n=e.pop();return e.length&&(n.siblings=e),n})).reverse()):[]).length?(o[0].name||(o[0].name=n),n=e.selector,r=vm(o,t)):r=vm([n],t),i=gm.select(n,r)[0]||r.firstChild,pm(e.styles,(function(t,e){(t=c(t))&&gm.setStyle(i,e,t)})),pm(e.attributes,(function(t,e){(t=c(t))&&gm.setAttrib(i,e,t)})),pm(e.classes,(function(t){t=c(t),gm.hasClass(i,t)||gm.addClass(i,t)})),t.fire("PreviewFormats"),gm.setStyles(r,{position:"absolute",left:-65535}),t.getBody().appendChild(r),s=gm.getStyle(t.getBody(),"fontSize",!0),s=/px$/.test(s)?parseInt(s,10):0,pm(a.split(" "),(function(e){var n=gm.getStyle(i,e,!0);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=gm.getStyle(t.getBody(),e,!0),"#ffffff"===gm.toHex(n).toLowerCase())||"color"===e&&"#000000"===gm.toHex(n).toLowerCase())){if("font-size"===e&&/em|%$/.test(n)){if(0===s)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*s+"px"}"border"===e&&n&&(u+="padding:0 2px;"),u+=e+":"+n+";"}})),t.fire("AfterPreviewFormats"),gm.remove(r),u)},_m=function(t,e,n,r,i){var o=e.get(n);!hh(t,n,r,i)||"toggle"in o[0]&&!o[0].toggle?hm(t,n,r,i):em(t,n,r,i)},wm=function(t){var e=function(t){var e={},n=function(t,r){t&&("string"!=typeof t?kn.each(t,(function(t,e){n(e,t)})):(v(r)||(r=[r]),kn.each(r,(function(t){void 0===t.deep&&(t.deep=!t.selector),void 0===t.split&&(t.split=!t.selector||t.inline),void 0===t.remove&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"==typeof t.classes&&(t.classes=t.classes.split(/\s+/))})),e[t]=r))};return n(function(t){var e={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,n,r){kn.each(r,(function(n,r){t.setAttrib(e,r,n)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return kn.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),(function(t){e[t]={block:t,remove:"all"}})),e}(t.dom)),n(t.settings.formats),{get:function(t){return t?e[t]:e},has:function(t){return Z(e,t)},register:n,unregister:function(t){return t&&e[t]&&delete e[t],e}}}(t),n=it(null);return function(t){t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(var e=1;e<=6;e++)t.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])}(t),function(t){t.on("mouseup keydown",(function(e){!function(t,e){var n=t.selection,r=t.getBody();Ph(t,null,!1),8!==e&&46!==e||!n.isCollapsed()||"\ufeff"!==n.getStart().innerHTML||Ph(t,Oa(r,n.getStart())),37!==e&&39!==e||Ph(t,Oa(r,n.getStart()))}(t,e.keyCode)}))}(t),{get:e.get,has:e.has,register:e.register,unregister:e.unregister,apply:s(hm,t),remove:s(em,t),toggle:s(_m,t,e),match:s(hh,t),matchAll:s(mh,t),matchNode:s(fh,t),canApply:s(ph,t),formatChanged:s(mm,t,n),getCssText:s(ym,t)}},xm=function(t){return Me.isElement(t)?t.outerHTML:Me.isText(t)?tr.encodeRaw(t.data,!1):Me.isComment(t)?"\x3c!--"+t.data+"--\x3e":""},Cm=it(h.none()),Sm=function(t){return"fragmented"===t.type?t.fragments.join(""):t.content},km=function(t){var n=et("body",Cm.get().getOrThunk((function(){var t=e.document.implementation.createHTMLDocument("undo");return Cm.set(h.some(t)),t})));return Xo(n,Sm(t)),A(Fo(n,"*[data-mce-bogus]"),re),n.dom().innerHTML},Em=function(t){var e,n,r,i;return i=t.getBody(),e=D(T(V(i.childNodes),xm),(function(t){return t.length>0})),-1!==(n=(r=z(e,(function(e){var n=Jl(t.serializer,e);return n.length>0?[n]:[]}))).join("")).indexOf("</iframe>")?function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}}(r):function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}}(n)},Om=function(t,n,r){var i,o,s,a,u,l,c,d,f,h,m,p;"fragmented"===n.type?(i=n.fragments,o=t.getBody(),p=T(V(o.childNodes),xm),function(t,n){var r=0;A(t,(function(t){0===t[0]?r++:1===t[0]?(function(t,n,r){var i=function(t){var n,r,i;for(i=e.document.createElement("div"),n=e.document.createDocumentFragment(),t&&(i.innerHTML=t);r=i.firstChild;)n.appendChild(r);return n}(n);if(t.hasChildNodes()&&r<t.childNodes.length){var o=t.childNodes[r];o.parentNode.insertBefore(i,o)}else t.appendChild(i)}(n,t[1],r),r++):2===t[0]&&function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var n=t.childNodes[e];n.parentNode.removeChild(n)}}(n,r)}))}((u=(s=p).length+(a=i).length+2,l=new Array(u),c=new Array(u),d=function(t,e,n,r,i){var o=h(t,e,n,r);if(null===o||o.start===e&&o.diag===e-r||o.end===t&&o.diag===t-n)for(var u=t,l=n;u<e||l<r;)u<e&&l<r&&s[u]===a[l]?(i.push([0,s[u]]),++u,++l):e-t>r-n?(i.push([2,s[u]]),++u):(i.push([1,a[l]]),++l);else{d(t,o.start,n,o.start-o.diag,i);for(var c=o.start;c<o.end;++c)i.push([0,s[c]]);d(o.end,e,o.end-o.diag,r,i)}},f=function(t,e,n,r){for(var i=t;i-e<r&&i<n&&s[i]===a[i-e];)++i;return function(t,e,n){return{start:t,end:e,diag:n}}(t,i,e)},h=function(t,e,n,r){var i=e-t,o=r-n;if(0===i||0===o)return null;var u,d,h,m,p,g=i-o,v=o+i,b=(v%2==0?v:v+1)/2;for(l[1+b]=t,c[1+b]=e+1,u=0;u<=b;++u){for(d=-u;d<=u;d+=2){for(l[h=d+b]=d===-u||d!==u&&l[h-1]<l[h+1]?l[h+1]:l[h-1]+1,p=(m=l[h])-t+n-d;m<e&&p<r&&s[m]===a[p];)l[h]=++m,++p;if(g%2!=0&&g-u<=d&&d<=g+u&&c[h-g]<=l[h])return f(c[h-g],d+t-n,e,r)}for(d=g-u;d<=g+u;d+=2){for(c[h=d+b-g]=d===g-u||d!==g+u&&c[h+1]<=c[h-1]?c[h+1]-1:c[h-1],p=(m=c[h]-1)-t+n-d;m>=t&&p>=n&&s[m]===a[p];)c[h]=m--,p--;if(g%2==0&&-u<=d&&d<=u&&c[h]<=l[h+g])return f(c[h],d+t-n,e,r)}}},d(0,s.length,0,a.length,m=[]),m),o)):t.setContent(n.content,{format:"raw"}),t.selection.moveToBookmark(r?n.beforeBookmark:n.bookmark)},Tm=function(t,e){return!(!t||!e)&&(!!function(t,e){return Sm(t)===Sm(e)}(t,e)||function(t,e){return km(t)===km(e)}(t,e))},Am=function(t){return 0===t.get()},Dm=function(t,e,n){Am(n)&&(t.typing=e)},Mm=function(t,e){t.typing&&(Dm(t,!1,e),t.add())},Rm=function(t){var e=it(h.none()),n=it(0),r=it(0),i={data:[],typing:!1,beforeChange:function(){!function(t,e,n){Am(e)&&n.set(h.some(Ca.getUndoBookmark(t.selection)))}(t,n,e)},add:function(o,s){return function(t,e,n,r,i,o,s){var a=t.settings,u=Em(t);if(o=kn.extend(o=o||{},u),!1===Am(r)||t.removed)return null;var l=e.data[n.get()];if(t.fire("BeforeAddUndo",{level:o,lastLevel:l,originalEvent:s}).isDefaultPrevented())return null;if(l&&Tm(l,o))return null;if(e.data[n.get()]&&i.get().each((function(t){e.data[n.get()].beforeBookmark=t})),a.custom_undo_redo_levels&&e.data.length>a.custom_undo_redo_levels){for(var c=0;c<e.data.length-1;c++)e.data[c]=e.data[c+1];e.data.length--,n.set(e.data.length)}o.bookmark=Ca.getUndoBookmark(t.selection),n.get()<e.data.length-1&&(e.data.length=n.get()+1),e.data.push(o),n.set(e.data.length-1);var d={level:o,lastLevel:l,originalEvent:s};return t.fire("AddUndo",d),n.get()>0&&(t.setDirty(!0),t.fire("change",d)),o}(t,i,r,n,e,o,s)},undo:function(){return function(t,e,n,r){var i;return e.typing&&(e.add(),e.typing=!1,Dm(e,!1,n)),r.get()>0&&(r.set(r.get()-1),i=e.data[r.get()],Om(t,i,!0),t.setDirty(!0),t.fire("Undo",{level:i})),i}(t,i,n,r)},redo:function(){return function(t,e,n){var r;return e.get()<n.length-1&&(e.set(e.get()+1),r=n[e.get()],Om(t,r,!1),t.setDirty(!0),t.fire("Redo",{level:r})),r}(t,r,i.data)},clear:function(){!function(t,e,n){e.data=[],n.set(0),e.typing=!1,t.fire("ClearUndos")}(t,i,r)},reset:function(){!function(t){t.clear(),t.add()}(i)},hasUndo:function(){return function(t,e,n){return n.get()>0||e.typing&&e.data[0]&&!Tm(Em(t),e.data[0])}(t,i,r)},hasRedo:function(){return function(t,e){return e.get()<t.data.length-1&&!t.typing}(i,r)},transact:function(t){return function(t,e,n){return Mm(t,e),t.beforeChange(),t.ignore(n),t.add()}(i,n,t)},ignore:function(t){!function(t,e){try{t.set(t.get()+1),e()}finally{t.set(t.get()-1)}}(n,t)},extra:function(e,n){!function(t,e,n,r,i){if(e.transact(r)){var o=e.data[n.get()].bookmark,s=e.data[n.get()-1];Om(t,s,!0),e.transact(i)&&(e.data[n.get()-1].beforeBookmark=o)}}(t,i,r,e,n)}};return function(t,e,n){var r=it(!1),i=function(t){Dm(e,!1,n),e.add({},t)};t.on("init",(function(){e.add()})),t.on("BeforeExecCommand",(function(t){var r=t.command;"Undo"!==r&&"Redo"!==r&&"mceRepaint"!==r&&(Mm(e,n),e.beforeChange())})),t.on("ExecCommand",(function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&i(t)})),t.on("ObjectResizeStart cut",(function(){e.beforeChange()})),t.on("SaveContent ObjectResized blur",i),t.on("dragend",i),t.on("keyup",(function(n){var o=n.keyCode;n.isDefaultPrevented()||((o>=33&&o<=36||o>=37&&o<=40||45===o||n.ctrlKey)&&(i(),t.nodeChanged()),46!==o&&8!==o||t.nodeChanged(),r.get()&&e.typing&&!1===Tm(Em(t),e.data[0])&&(!1===t.isDirty()&&(t.setDirty(!0),t.fire("change",{level:e.data[0],lastLevel:null})),t.fire("TypingUndo"),r.set(!1),t.nodeChanged()))})),t.on("keydown",(function(t){var o=t.keyCode;t.isDefaultPrevented()||(o>=33&&o<=36||o>=37&&o<=40||45===o?e.typing&&i(t):!(o<16||o>20)||224===o||91===o||e.typing||t.ctrlKey&&!t.altKey||t.metaKey||(e.beforeChange(),Dm(e,!0,n),e.add({},t),r.set(!0)))})),t.on("mousedown",(function(t){e.typing&&i(t)})),t.on("input",(function(t){t.inputType&&("insertReplacementText"===t.inputType||function(t){return"insertText"===t.inputType&&null===t.data}(t))&&i(t)})),t.on("AddUndo Undo Redo ClearUndos",(function(e){e.isDefaultPrevented()||t.nodeChanged()}))}(t,i,n),function(t){t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo")}(t),i},Im=[9,27,Cd.HOME,Cd.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Cd.DOWN,Cd.UP,Cd.LEFT,Cd.RIGHT].concat(gn.browser.isFirefox()?[224]:[]),Nm=function(t){return"keydown"===t.type||"keyup"===t.type},zm=function(t){var e=t.keyCode;return e===Cd.BACKSPACE||e===Cd.DELETE},Pm=function(t){return void 0===t.touches||1!==t.touches.length?h.none():h.some(t.touches[0])},Fm=function(t,e){return t.hasOwnProperty(e.nodeName)},Bm=function(t,e){return!!Me.isText(e)||!!Me.isElement(e)&&!Fm(t,e)&&!el(e)},Lm=function(t,e){if(Me.isText(e)){if(0===e.nodeValue.length)return!0;if(/^\s+$/.test(e.nodeValue)&&(!e.nextSibling||Fm(t,e.nextSibling)))return!0}return!1},Hm=function(t){var e,n,r,i,o,s,a,u,l,c,d=t.dom,f=t.selection,h=t.schema,m=h.getBlockElements(),p=f.getStart(),g=t.getBody(),v=La(t);if(p&&Me.isElement(p)&&v&&(c=g.nodeName.toLowerCase(),h.isValidChild(c,v.toLowerCase())&&!function(t,e,n){return O(Qd(rt(n),rt(e)),(function(e){return Fm(t,e.dom())}))}(m,g,p))){for(n=(e=f.getRng()).startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,l=Rc(t),p=g.firstChild;p;)if(Bm(m,p)){if(Lm(m,p)){a=p,p=p.nextSibling,d.remove(a);continue}s||(s=d.create(v,Ha(t)),p.parentNode.insertBefore(s,p),u=!0),a=p,p=p.nextSibling,s.appendChild(a)}else s=null,p=p.nextSibling;u&&l&&(e.setStart(n,r),e.setEnd(i,o),f.setRng(e),t.nodeChanged())}},Vm=Me.isText,jm=function(t){return Vm(t)&&"\ufeff"===t.data[0]},Um=function(t){return Vm(t)&&"\ufeff"===t.data[t.data.length-1]},$m=function(t){return t.ownerDocument.createTextNode("\ufeff")},Wm=function(t,e){return t?function(t){if(Vm(t.previousSibling))return Um(t.previousSibling)||t.previousSibling.appendData("\ufeff"),t.previousSibling;if(Vm(t))return jm(t)||t.insertData(0,"\ufeff"),t;var e=$m(t);return t.parentNode.insertBefore(e,t),e}(e):function(t){if(Vm(t.nextSibling))return jm(t.nextSibling)||t.nextSibling.insertData(0,"\ufeff"),t.nextSibling;if(Vm(t))return Um(t)||t.appendData("\ufeff"),t;var e=$m(t);return t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e}(e)},qm=s(Wm,!0),Gm=s(Wm,!1),Ym=function(t,e){return Me.isText(t.container())?Wm(e,t.container()):Wm(e,t.getNode())},Km=function(t,e){var n=e.get();return n&&t.container()===n&&os(n)},Xm=function(t,e){return e.fold((function(e){za.remove(t.get());var n=qm(e);return t.set(n),h.some(na(n,n.length-1))}),(function(e){return qu.firstPositionIn(e).map((function(e){if(Km(e,t))return na(t.get(),1);za.remove(t.get());var n=Ym(e,!0);return t.set(n),na(n,1)}))}),(function(e){return qu.lastPositionIn(e).map((function(e){if(Km(e,t))return na(t.get(),t.get().length-1);za.remove(t.get());var n=Ym(e,!1);return t.set(n),na(n,n.length-1)}))}),(function(e){za.remove(t.get());var n=Gm(e);return t.set(n),h.some(na(n,1))}))},Zm=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Qm=function(t,e){if(!e)return e;var n=e.container(),r=e.offset();return t?os(n)?Me.isText(n.nextSibling)?na(n.nextSibling,0):na.after(n):us(e)?na(n,r+1):e:os(n)?Me.isText(n.previousSibling)?na(n.previousSibling,n.previousSibling.data.length):na.before(n):ls(e)?na(n,r-1):e},Jm={isInlineTarget:function(t,e){return zt(rt(e),function(t){return t.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")}(t))},findRootInline:function(t,e,n){var r=function(t,e,n){return D(yo.DOM.getParents(n.container(),"*",e),t)}(t,e,n);return h.from(r[r.length-1])},isRtl:function(t){return"rtl"===yo.DOM.getStyle(t,"direction",!0)||Zm.test(t.textContent)},isAtZwsp:function(t){return us(t)||ls(t)},normalizePosition:Qm,normalizeForwards:s(Qm,!0),normalizeBackwards:s(Qm,!1),hasSameParentBlock:function(t,e,n){var r=fu(e,t),i=fu(n,t);return r&&r===i}},tp=function(t,e){for(var n=0;n<t.length;n++){var r=t[n].apply(null,e);if(r.isSome())return r}return h.none()},ep=sc([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),np=function(t,e){return fu(e,t)||t},rp=function(t,e,n){var r=Jm.normalizeForwards(n),i=np(e,r.container());return Jm.findRootInline(t,i,r).fold((function(){return qu.nextPosition(i,r).bind(s(Jm.findRootInline,t,i)).map((function(t){return ep.before(t)}))}),h.none)},ip=function(t,e){return null===Oa(t,e)},op=function(t,e,n){return Jm.findRootInline(t,e,n).filter(s(ip,e))},sp=function(t,e,n){var r=Jm.normalizeBackwards(n);return op(t,e,r).bind((function(t){return qu.prevPosition(t,r).isNone()?h.some(ep.start(t)):h.none()}))},ap=function(t,e,n){var r=Jm.normalizeForwards(n);return op(t,e,r).bind((function(t){return qu.nextPosition(t,r).isNone()?h.some(ep.end(t)):h.none()}))},up=function(t,e,n){var r=Jm.normalizeBackwards(n),i=np(e,r.container());return Jm.findRootInline(t,i,r).fold((function(){return qu.prevPosition(i,r).bind(s(Jm.findRootInline,t,i)).map((function(t){return ep.after(t)}))}),h.none)},lp=function(t){return!1===Jm.isRtl(dp(t))},cp=function(t,e,n){return tp([rp,sp,ap,up],[t,e,n]).filter(lp)},dp=function(t){return t.fold(o,o,o,o)},fp=function(t){return t.fold(i("before"),i("start"),i("end"),i("after"))},hp=function(t){return t.fold(ep.before,ep.before,ep.after,ep.after)},mp=function(t,e,n,r,i,o){return zs(Jm.findRootInline(e,n,r),Jm.findRootInline(e,n,i),(function(e,r){return e!==r&&Jm.hasSameParentBlock(n,e,r)?ep.after(t?e:r):o})).getOr(o)},pp=function(t,e){return t.fold(i(!0),(function(t){return r=e,!(fp(n=t)===fp(r)&&dp(n)===dp(r));var n,r}))},gp=function(t,e){return t?e.fold(r(h.some,ep.start),h.none,r(h.some,ep.after),h.none):e.fold(h.none,r(h.some,ep.before),h.none,r(h.some,ep.end))},vp=function(t,e,n,r){var i=Jm.normalizePosition(t,r),o=cp(e,n,i);return cp(e,n,i).bind(s(gp,t)).orThunk((function(){return function(t,e,n,r,i){var o=Jm.normalizePosition(t,i);return qu.fromPosition(t,n,o).map(s(Jm.normalizePosition,t)).fold((function(){return r.map(hp)}),(function(i){return cp(e,n,i).map(s(mp,t,e,n,o,i)).filter(s(pp,r))})).filter(lp)}(t,e,n,o,r)}))},bp=cp,yp=vp,_p=(s(vp,!1),s(vp,!0),hp),wp=function(t){return t.fold(ep.start,ep.start,ep.end,ep.end)},xp=function(t,e,n){var r=t?1:-1;return e.setRng(na(n.container(),n.offset()+r).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0},Cp=function(t,e){var n=t.dom.createRng();n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),t.selection.setRng(n)},Sp=function(t){return!1!==t.settings.inline_boundaries},kp=function(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")},Ep=function(t,e,n){return Xm(e,n).map((function(e){return Cp(t,e),n}))},Op=function(t,e,n){return function(){return!!Sp(e)&&function(t,e){var n=e.selection.getRng(),r=t?na.fromRangeEnd(n):na.fromRangeStart(n);return!!function(t){return _(t.selection.getSel().modify)}(e)&&(t&&us(r)?xp(!0,e.selection,r):!(t||!ls(r))&&xp(!1,e.selection,r))}(t,e)}},Tp={move:function(t,e,n){return function(){return!!Sp(t)&&function(t,e,n){var r=t.getBody(),i=na.fromRangeStart(t.selection.getRng()),o=s(Jm.isInlineTarget,t);return yp(n,o,r,i).bind((function(n){return Ep(t,e,n)}))}(t,e,n).isSome()}},moveNextWord:s(Op,!0),movePrevWord:s(Op,!1),setupSelectedState:function(t){var e=it(null),n=s(Jm.isInlineTarget,t);return t.on("NodeChange",(function(r){!Sp(t)||gn.browser.isIE()&&r.initial||(function(t,e,n){var r=D(e.select('*[data-mce-selected="inline-boundary"]'),t),i=D(n,t);A(B(r,i),s(kp,!1)),A(B(i,r),s(kp,!0))}(n,t.dom,r.parents),function(t,e){if(t.selection.isCollapsed()&&!0!==t.composing&&e.get()){var n=na.fromRangeStart(t.selection.getRng());na.isTextPosition(n)&&!1===Jm.isAtZwsp(n)&&(Cp(t,za.removeAndReposition(e.get(),n)),e.set(null))}}(t,e),function(t,e,n,r){if(e.selection.isCollapsed()){var i=D(r,t);A(i,(function(r){var i=na.fromRangeStart(e.selection.getRng());bp(t,e.getBody(),i).bind((function(t){return Ep(e,n,t)}))}))}}(n,t,e,r.parents))})),e},setCaretPosition:Cp},Ap=function(t){return R(t,(function(t,e){return t.concat(function(t){var e=function(e){return T(e,(function(e){return(e=ks(e)).node=t,e}))};if(Me.isElement(t))return e(t.getClientRects());if(Me.isText(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}}(e))}),[])};!function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"}(Uh||(Uh={}));var Dp,Mp=function(t,e,n,r,i,o){var s,a,u=0,l=[],c=function(r){var o,s,c;for(c=Ap([r]),-1===t&&(c=c.reverse()),o=0;o<c.length;o++)if(!n(s=c[o],a)){if(l.length>0&&e(s,_n.last(l))&&u++,s.line=u,i(s))return!0;l.push(s)}};return(a=_n.last(o.getClientRects()))?(c(s=o.getNode()),function(t,e,n,r){for(;r=du(r,t,Cs,e);)if(n(r))return}(t,r,c,s),l):l},Rp=s(Mp,Uh.Up,Ts,As),Ip=s(Mp,Uh.Down,As,Ts),Np=function(t){return function(e){return function(t,e){return e.line>t}(t,e)}},zp=function(t){return function(e){return function(t,e){return e.line===t}(t,e)}},Pp=Me.isContentEditableFalse,Fp=du,Bp=function(t,e){return Math.abs(t.left-e)},Lp=function(t,e){return Math.abs(t.right-e)},Hp=function(t,e){return t>=e.left&&t<=e.right},Vp=function(t,e){return _n.reduce(t,(function(t,n){var r,i;return r=Math.min(Bp(t,e),Lp(t,e)),i=Math.min(Bp(n,e),Lp(n,e)),Hp(e,n)?n:Hp(e,t)?t:i===r&&Pp(n.node)||i<r?n:t}))},jp=function(t,e,n,r){for(;r=Fp(r,t,Cs,e);)if(n(r))return},Up=Me.isContentEditableTrue,$p=Me.isContentEditableFalse,Wp=function(t,e,n,r,i){return e._selectionOverrides.showCaret(t,n,r,i)},qp=function(t,e){return t.fire("BeforeObjectSelected",{target:e}).isDefaultPrevented()?null:function(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e}(e)},Gp=function(t,e,n){var r=_u(1,t.getBody(),e),i=na.fromRangeStart(r),o=i.getNode();if($p(o))return Wp(1,t,o,!i.isAtEnd(),!1);var s=i.getNode(!0);if($p(s))return Wp(1,t,s,!1,!1);var a=t.dom.getParent(i.getNode(),(function(t){return $p(t)||Up(t)}));return $p(a)?Wp(1,t,a,!1,n):null},Yp=function(t,e,n){return e&&e.collapsed&&Gp(t,e,n)||e},Kp=function(t,e,n){return h.from(n.container()).filter(Me.isText).exists((function(r){var i=t?0:-1;return e(r.data.charAt(n.offset()+i))}))},Xp=s(Kp,!0,rl),Zp=s(Kp,!1,rl),Qp=function(t){var e=t.container();return Me.isText(e)&&0===e.data.length},Jp=function(t,e){return function(n){return h.from(mu(t?0:-1,n)).filter(e).isSome()}},tg=function(t){return"IMG"===t.nodeName&&"block"===Be(rt(t),"display")},eg=function(t){return Me.isContentEditableFalse(t)&&!Me.isBogusAll(t)},ng=Jp(!0,tg),rg=Jp(!1,tg),ig=Jp(!0,Me.isTable),og=Jp(!1,Me.isTable),sg=Jp(!0,eg),ag=Jp(!1,eg);!function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"}(Dp||(Dp={}));var ug,lg,cg=function(t,e){return t===ea.Backwards?F(e):e},dg=function(t,e,n){return t===ea.Forwards?e.next(n):e.prev(n)},fg=function(t,e,n,r){return Me.isBr(r.getNode(e===ea.Forwards))?Dp.Br:!1===hu(n,r)?Dp.Block:Dp.Wrap},hg=function(t,e,n,r){for(var i,o=Pu(n),s=r,a=[];s&&(i=dg(e,o,s));){if(Me.isBr(i.getNode(!1)))return e===ea.Forwards?{positions:cg(e,a).concat([i]),breakType:Dp.Br,breakAt:h.some(i)}:{positions:cg(e,a),breakType:Dp.Br,breakAt:h.some(i)};if(i.isVisible()){if(t(s,i)){var u=fg(0,e,s,i);return{positions:cg(e,a),breakType:u,breakAt:h.some(i)}}a.push(i),s=i}else s=i}return{positions:cg(e,a),breakType:Dp.Eol,breakAt:h.none()}},mg=function(t,e,n,r){return e(n,r).breakAt.map((function(r){var i=e(n,r).positions;return t===ea.Backwards?i.concat(r):[r].concat(i)})).getOr([])},pg=function(t,e){return R(t,(function(t,n){return t.fold((function(){return h.some(n)}),(function(r){return zs(L(r.getClientRects()),L(n.getClientRects()),(function(t,i){var o=Math.abs(e-t.left);return Math.abs(e-i.left)<=o?n:r})).or(t)}))}),h.none())},gg=function(t,e){return L(e.getClientRects()).bind((function(e){return pg(t,e.left)}))},vg=s(hg,ta.isAbove,-1),bg=s(hg,ta.isBelow,1),yg=s(mg,-1,vg),_g=s(mg,1,bg),wg=Me.isContentEditableFalse,xg=Ms,Cg=function(t,e,n){var r,i,o=Pu(t.getBody()),a=s(Su,o.next),u=s(Su,o.prev);if(n.collapsed&&t.settings.forced_root_block){if(!(r=t.dom.getParent(n.startContainer,"PRE")))return;(1===e?a(na.fromRangeStart(n)):u(na.fromRangeStart(n)))||(i=function(t){var e=t.dom.create(La(t));return(!gn.ie||gn.ie>=11)&&(e.innerHTML='<br data-mce-bogus="1">'),e}(t),1===e?t.$(r).after(i):t.$(r).before(i),t.selection.select(i,!0),t.selection.collapse())}},Sg=function(t,e){return function(){var n=function(t,e){var n,r=Pu(t.getBody()),i=s(Su,r.next),o=s(Su,r.prev),a=e?ea.Forwards:ea.Backwards,u=e?i:o,l=t.selection.getRng();return(n=function(t,e,n,r){var i=t===ea.Forwards,o=i?sg:ag;if(!r.collapsed){var s=xg(r);if(wg(s))return Wp(t,e,s,t===ea.Backwards,!0)}var a=function(t){return is(t.startContainer)}(r),u=xu(t,e.getBody(),r);if(o(u))return qp(e,u.getNode(!i));var l=Jm.normalizePosition(i,n(u));if(!l)return a?r:null;if(o(l))return Wp(t,e,l.getNode(!i),i,!0);var c=n(l);return c&&o(c)&&ku(l,c)?Wp(t,e,c.getNode(!i),i,!0):a?Yp(e,l.toRange(),!0):null}(a,t,u,l))?n:(n=Cg(t,a,l))||null}(t,e);return!!n&&(t.selection.setRng(n),!0)}},kg=function(t,e){return function(){var n=function(t,e){var n,r=e?1:-1,i=e?Ip:Rp,o=t.selection.getRng();return(n=function(t,e,n,r){var i,o,s,a,u,l,c,d,f;if(f=xg(r),i=xu(t,e.getBody(),r),o=n(e.getBody(),Np(1),i),s=D(o,zp(1)),u=_n.last(i.getClientRects()),(sg(i)||ig(i))&&(f=i.getNode()),(ag(i)||og(i))&&(f=i.getNode(!0)),!u)return null;if((a=Vp(s,l=u.left))&&wg(a.node))return c=Math.abs(l-a.left),d=Math.abs(l-a.right),Wp(t,e,a.node,c<d,!0);if(f){var h=function(t,e,n,r){var i,o,s,a,u,l,c=Pu(e),d=[],f=0,h=function(t){return _n.last(t.getClientRects())};1===t?(i=c.next,o=As,s=Ts,a=na.after(r)):(i=c.prev,o=Ts,s=As,a=na.before(r)),l=h(a);do{if(a.isVisible()&&!s(u=h(a),l)){if(d.length>0&&o(u,_n.last(d))&&f++,(u=ks(u)).position=a,u.line=f,n(u))return d;d.push(u)}}while(a=i(a));return d}(t,e.getBody(),Np(1),f);if(a=Vp(D(h,zp(1)),l))return Yp(e,a.position.toRange(),!0);if(a=_n.last(D(h,zp(0))))return Yp(e,a.position.toRange(),!0)}}(r,t,i,o))?n:(n=Cg(t,r,o))||null}(t,e);return!!n&&(t.selection.setRng(n),!0)}},Eg=function(t,e){return function(){var n=e?na.fromRangeEnd(t.selection.getRng()):na.fromRangeStart(t.selection.getRng()),r=e?bg(t.getBody(),n):vg(t.getBody(),n);return(e?H(r.positions):L(r.positions)).filter(function(t){return function(e){return t?ag(e):sg(e)}}(e)).fold(i(!1),(function(e){return t.selection.setRng(e.toRange()),!0}))}},Og=function(t,e,n,r,i){var o=Fo(rt(n),"td,th,caption").map((function(t){return t.dom()}));return function(t,e,n){return R(t,(function(t,r){return t.fold((function(){return h.some(r)}),(function(t){var i=Math.sqrt(Math.abs(t.x-e)+Math.abs(t.y-n)),o=Math.sqrt(Math.abs(r.x-e)+Math.abs(r.y-n));return h.some(o<i?r:t)}))}),h.none())}(D(function(t,e){return z(e,(function(e){var n=function(t,e){return{left:t.left- -1,top:t.top- -1,right:t.right+-2,bottom:t.bottom+-2,width:t.width+-1,height:t.height+-1}}(ks(e.getBoundingClientRect()));return[{x:n.left,y:t(n),cell:e},{x:n.right,y:t(n),cell:e}]}))}(t,o),(function(t){return e(t,i)})),r,i).map((function(t){return t.cell}))},Tg=s(Og,(function(t){return t.bottom}),(function(t,e){return t.y<e})),Ag=s(Og,(function(t){return t.top}),(function(t,e){return t.y>e})),Dg=function(t,e){t.selection.setRng(e),qd(t,e)},Mg=function(t,e,n){var r=t(e,n);return function(t){return t.breakType===Dp.Wrap&&0===t.positions.length}(r)||!Me.isBr(n.getNode())&&function(t){return t.breakType===Dp.Br&&1===t.positions.length}(r)?!function(t,e,n){return n.breakAt.map((function(n){return t(e,n).breakAt.isSome()})).getOr(!1)}(t,e,r):r.breakAt.isNone()},Rg=s(Mg,vg),Ig=s(Mg,bg),Ng=function(t,e,n){var r=function(t,e){var n=e.getNode(t);return Me.isElement(n)&&"TABLE"===n.nodeName?h.some(n):h.none()}(!!e,n),i=!1===e;r.fold((function(){return Dg(t,n.toRange())}),(function(r){return qu.positionIn(i,t.getBody()).filter((function(t){return t.isEqual(n)})).fold((function(){return Dg(t,n.toRange())}),(function(i){return function(t,e,n,r){var i=La(e);i?e.undoManager.transact((function(){var r=et(i);ze(r,Ha(e)),Jt(r,et("br")),t?Zt(rt(n),r):Xt(rt(n),r);var o=e.dom.createRng();o.setStart(r.dom(),0),o.setEnd(r.dom(),0),Dg(e,o)})):Dg(e,r.toRange())}(e,t,r,n)}))}))},zg=function(t,e){return function(){return h.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind((function(n){return h.from(t.dom.getParent(n,"table")).map((function(n){return function(t,e,n,r){var i=t.selection.getRng(),o=e?1:-1;if(tu()&&function(t,e,n){var r=na.fromRangeStart(e);return qu.positionIn(!t,n).map((function(t){return t.isEqual(r)})).getOr(!1)}(e,i,n)){var s=Wp(o,t,n,!e,!0);return Dg(t,s),!0}return!1}(t,e,n)}))})).getOr(!1)}},Pg=function(t,e){return function(){return h.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind((function(n){return h.from(t.dom.getParent(n,"table")).map((function(r){return function(t,e,n,r){var i=t.selection.getRng(),o=na.fromRangeStart(i),s=t.getBody();if(!e&&Rg(r,o)){var a=function(t,e,n){return function(t,e){return L(e.getClientRects()).bind((function(e){return Tg(t,e.left,e.top)})).bind((function(t){return gg(qu.lastPositionIn(n=t).map((function(t){return vg(n,t).positions.concat(t)})).getOr([]),e);var n}))}(e,n).orThunk((function(){return L(n.getClientRects()).bind((function(n){return pg(yg(t,na.before(e)),n.left)}))})).getOr(na.before(e))}(s,n,o);return Ng(t,e,a),!0}return!(!e||!Ig(r,o)||(a=function(t,e,n){return function(t,e){return H(e.getClientRects()).bind((function(e){return Ag(t,e.left,e.top)})).bind((function(t){return gg(qu.firstPositionIn(n=t).map((function(t){return[t].concat(bg(n,t).positions)})).getOr([]),e);var n}))}(e,n).orThunk((function(){return L(n.getClientRects()).bind((function(n){return pg(_g(t,na.after(e)),n.left)}))})).getOr(na.after(e))}(s,n,o),Ng(t,e,a),0))}(t,e,r,n)}))})).getOr(!1)}},Fg=function(t){return E(["figcaption"],ie(t))},Bg=function(t){var n=e.document.createRange();return n.setStartBefore(t.dom()),n.setEndBefore(t.dom()),n},Lg=function(t,e,n){n?Jt(t,e):Qt(t,e)},Hg=function(t,e){return function(){return!!t.selection.isCollapsed()&&function(t,e){var n=rt(t.getBody()),r=na.fromRangeStart(t.selection.getRng()),i=La(t),o=Ha(t);return function(t,e){var n=s(Ft,e);return Ho(rt(t.container()),Mn,n).filter(Fg)}(r,n).exists((function(){if(function(t,e,n){return e?function(t,e){return bg(t,e).breakAt.isNone()}(t.dom(),n):function(t,e){return vg(t,e).breakAt.isNone()}(t.dom(),n)}(n,e,r)){var s=function(t,e,n,r){return""===e?function(t,e){var n=et("br");return Lg(t,n,e),Bg(n)}(t,r):function(t,e,n,r){var i=et(n),o=et("br");return ze(i,r),Jt(i,o),Lg(t,i,e),Bg(o)}(t,r,e,n)}(n,i,o,e);return t.selection.setRng(s),!0}return!1}))}(t,e)}},Vg=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,r)}},jg=function(t,e){return I(function(t,e){return z(function(t){return T(t,(function(t){return Q({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:n},t)}))}(t),(function(t){return function(t,e){return e.keyCode===t.keyCode&&e.shiftKey===t.shiftKey&&e.altKey===t.altKey&&e.ctrlKey===t.ctrlKey&&e.metaKey===t.metaKey}(t,e)?[t]:[]}))}(t,e),(function(t){return t.action()}))},Ug=function(t,e){return Bt(t,e)?Ho(e,(function(t){return Nn(t)||Pn(t)}),function(t){return function(e){return Ft(t,rt(e.dom().parentNode))}}(t)):h.none()},$g=function(t){t.dom.isEmpty(t.getBody())&&(t.setContent(""),function(t){var e=t.getBody(),n=e.firstChild&&t.dom.isBlock(e.firstChild)?e.firstChild:e;t.selection.setCursorLocation(n,0)}(t))},Wg=function(t,e){return{from:i(t),to:i(e)}},qg=function(t,e){var n=rt(t),r=rt(e.container());return Ug(n,r).map((function(t){return function(t,e){return{block:i(t),position:i(e)}}(t,e)}))},Gg=function(t){var e=qt(t);return N(e,Mn).fold((function(){return e}),(function(t){return e.slice(0,t)}))},Yg=function(t){var e=Gg(t);return A(e,ne),e},Kg=function(t,e){var n=Jd(e,t);return I(n.reverse(),(function(t){return Sh(t)})).each(ne)},Xg=function(t,e,n,r){if(Sh(n))return oh(n),qu.firstPositionIn(n.dom());0===D($t(r),(function(t){return!Sh(t)})).length&&Sh(e)&&Xt(r,et("br"));var i=qu.prevPosition(n.dom(),na.before(r.dom()));return A(Yg(e),(function(t){Xt(r,t)})),Kg(t,e),i},Zg=function(t,e,n){if(Sh(n))return ne(n),Sh(e)&&oh(e),qu.firstPositionIn(e.dom());var r=qu.lastPositionIn(n.dom());return A(Yg(e),(function(t){Jt(n,t)})),Kg(t,e),r},Qg=function(t,e){qu.positionIn(t,e.dom()).map((function(t){return t.getNode()})).map(rt).filter(In).each(ne)},Jg=function(t,e,n){return Qg(!0,e),Qg(!1,n),function(t,e){return Bt(e,t)?function(t,e){var n=Jd(e,t);return h.from(n[n.length-1])}(e,t):h.none()}(e,n).fold(s(Zg,t,e,n),s(Xg,t,e,n))},tv=function(t,e,n,r){return e?Jg(t,r,n):Jg(t,n,r)},ev=function(t,e){var n=rt(t.getBody()),r=function(t,e,n){return n.collapsed?function(t,e,n){var r=qg(t,na.fromRangeStart(n)),i=r.bind((function(n){return qu.fromPosition(e,t,n.position()).bind((function(n){return qg(t,n).map((function(n){return function(t,e,n){return Me.isBr(n.position().getNode())&&!1===Sh(n.block())?qu.positionIn(!1,n.block().dom()).bind((function(r){return r.isEqual(n.position())?qu.fromPosition(e,t,r).bind((function(e){return qg(t,e)})):h.some(n)})).getOr(n):n}(t,e,n)}))}))}));return zs(r,i,Wg).filter((function(t){return function(t){return!1===Ft(t.from().block(),t.to().block())}(t)&&function(t){return Vt(t.from().block()).bind((function(e){return Vt(t.to().block()).filter((function(t){return Ft(e,t)}))})).isSome()}(t)&&function(t){return!1===Me.isContentEditableFalse(t.from().block().dom())&&!1===Me.isContentEditableFalse(t.to().block().dom())}(t)}))}(t,e,n):h.none()}(n.dom(),e,t.selection.getRng()).bind((function(t){return tv(n,e,t.from().block(),t.to().block())}));return r.each((function(e){t.selection.setRng(e.toRange())})),r.isSome()},nv=function(t,e){var n=rt(e),r=s(Ft,t);return Lo(n,Ln,r).isSome()},rv=function(t,e){return!t.selection.isCollapsed()&&function(t){var e,n,r,i,o=rt(t.getBody());return e=o,n=t.selection.getRng(),r=qu.prevPosition(e.dom(),na.fromRangeStart(n)).isNone(),i=qu.nextPosition(e.dom(),na.fromRangeEnd(n)).isNone(),!function(t,e){return nv(t,e.startContainer)||nv(t,e.endContainer)}(e,n)&&r&&i?function(t){return t.setContent(""),t.selection.setCursorLocation(),!0}(t):function(t,e){var n=e.getRng();return zs(Ug(t,rt(n.startContainer)),Ug(t,rt(n.endContainer)),(function(r,i){return!1===Ft(r,i)&&(n.deleteContents(),tv(t,!0,r,i).each((function(t){e.setRng(t.toRange())})),!0)})).getOr(!1)}(o,t.selection)}(t)},iv=function(t){return Cu(t).exists(In)},ov=function(t,e,n){var r=D(Jd(rt(n.container()),e),Mn),i=L(r).getOr(e);return qu.fromPosition(t,i.dom(),n).filter(iv)},sv=function(t,e){return Cu(e).exists(In)||ov(!0,t,e).isSome()},av=function(t,e){return function(t){return h.from(t.getNode(!0)).map(rt)}(e).exists(In)||ov(!1,t,e).isSome()},uv=s(ov,!1),lv=s(ov,!0),cv=sc([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),dv=function(t,e,n){return qu.fromPosition(e,t,n).bind((function(r){return o=r.getNode(),Ln(rt(o))||Pn(rt(o))||function(t,e,n,r){var o=function(e){return Rn(rt(e))&&!hu(n,r,t)};return wu(!e,n).fold((function(){return wu(e,r).fold(i(!1),o)}),o)}(t,e,n,r)?h.none():e&&Me.isContentEditableFalse(r.getNode())||!1===e&&Me.isContentEditableFalse(r.getNode(!0))?function(t,e,n,r){var i=r.getNode(!1===e);return Ug(rt(t),rt(n.getNode())).map((function(t){return Sh(t)?cv.remove(t.dom()):cv.moveToElement(i)})).orThunk((function(){return h.some(cv.moveToElement(i))}))}(t,e,n,r):e&&ag(n)||!1===e&&sg(n)?h.some(cv.moveToPosition(r)):h.none();var o}))},fv=function(t,e){return h.from(hv(t.getBody(),e))},hv=function(t,e){for(;e&&e!==t;){if(Me.isContentEditableTrue(e)||Me.isContentEditableFalse(e))return e;e=e.parentNode}return null},mv=function(t,e){return t.selection.isCollapsed()?function(t,e){var n=t.selection.getNode();return fv(t,n).filter(Me.isContentEditableFalse).fold((function(){return function(t,e,n){var r=_u(e?1:-1,t,n),i=na.fromRangeStart(r),o=rt(t);return!1===e&&ag(i)?h.some(cv.remove(i.getNode(!0))):e&&sg(i)?h.some(cv.remove(i.getNode())):!1===e&&sg(i)&&av(o,i)?uv(o,i).map((function(t){return cv.remove(t.getNode())})):e&&ag(i)&&sv(o,i)?lv(o,i).map((function(t){return cv.remove(t.getNode())})):function(t,e,n){return function(t,e){var n=e.getNode(!1===t),r=t?"after":"before";return Me.isElement(n)&&n.getAttribute("data-mce-caret")===r}(e,n)?function(t,e){return t&&Me.isContentEditableFalse(e.nextSibling)?h.some(cv.moveToElement(e.nextSibling)):!1===t&&Me.isContentEditableFalse(e.previousSibling)?h.some(cv.moveToElement(e.previousSibling)):h.none()}(e,n.getNode(!1===e)).fold((function(){return dv(t,e,n)}),h.some):dv(t,e,n).bind((function(e){return function(t,e,n){return n.fold((function(t){return h.some(cv.remove(t))}),(function(t){return h.some(cv.moveToElement(t))}),(function(n){return hu(e,n,t)?h.none():h.some(cv.moveToPosition(n))}))}(t,n,e)}))}(t,e,i)}(t.getBody(),e,t.selection.getRng()).map((function(n){return n.fold(function(t,e){return function(n){return t._selectionOverrides.hideFakeCaret(),Mh(t,e,rt(n)),!0}}(t,e),function(t,e){return function(n){var r=e?na.before(n):na.after(n);return t.selection.setRng(r.toRange()),!0}}(t,e),function(t){return function(e){return t.selection.setRng(e.toRange()),!0}}(t))})).getOr(!1)}),(function(){return!0}))}(t,e):function(t,e){var n=t.selection.getNode();return!!Me.isContentEditableFalse(n)&&fv(t,n.parentNode).filter(Me.isContentEditableFalse).fold((function(){var n;return n=rt(t.getBody()),A(Fo(n,".mce-offscreen-selection"),ne),Mh(t,e,rt(t.selection.getNode())),$g(t),!0}),(function(){return!0}))}(t,e)},pv=function(t){var e,n=hv(t.getBody(),t.selection.getNode());return Me.isContentEditableTrue(n)&&t.dom.isBlock(n)&&t.dom.isEmpty(n)&&(e=t.dom.create("br",{"data-mce-bogus":"1"}),t.dom.setHTML(n,""),n.appendChild(e),t.selection.setRng(na.before(e).toRange())),!0},gv=function(t,e,n,r,i,o){var s=Wp(r,t,o.getNode(!i),i,!0);if(e.collapsed){var a=e.cloneRange();i?a.setEnd(s.startContainer,s.startOffset):a.setStart(s.endContainer,s.endOffset),a.deleteContents()}else e.deleteContents();return t.selection.setRng(s),function(t,e){Me.isText(e)&&0===e.data.length&&t.remove(e)}(t.dom,n),!0},vv=function(t,e){return function(t,e){var n=t.selection.getRng();if(!Me.isText(n.commonAncestorContainer))return!1;var r=e?ea.Forwards:ea.Backwards,i=Pu(t.getBody()),o=s(Su,i.next),a=s(Su,i.prev),u=e?o:a,l=e?sg:ag,c=xu(r,t.getBody(),n),d=Jm.normalizePosition(e,u(c));if(!d||!ku(c,d))return!1;if(l(d))return gv(t,n,c.getNode(),r,e,d);var f=u(d);return!!(f&&l(f)&&ku(d,f))&&gv(t,n,c.getNode(),r,e,f)}(t,e)},bv=function(t,e){return function(n){return Xm(e,n).map((function(e){return Tp.setCaretPosition(t,e),!0})).getOr(!1)}},yv=function(t,n,r,i){var o=t.getBody(),a=s(Jm.isInlineTarget,t);t.undoManager.ignore((function(){t.selection.setRng(function(t,n){var r=e.document.createRange();return r.setStart(t.container(),t.offset()),r.setEnd(n.container(),n.offset()),r}(r,i)),t.execCommand("Delete"),bp(a,o,na.fromRangeStart(t.selection.getRng())).map(wp).map(bv(t,n))})),t.nodeChanged()},_v=function(t,e,n){if(t.selection.isCollapsed()&&function(t){return!1!==t.settings.inline_boundaries}(t)){var r=na.fromRangeStart(t.selection.getRng());return function(t,e,n,r){var o=function(t,e){return fu(e,t)||t}(t.getBody(),r.container()),a=s(Jm.isInlineTarget,t),u=bp(a,o,r);return u.bind((function(t){return n?t.fold(i(h.some(wp(t))),h.none,i(h.some(_p(t))),h.none):t.fold(h.none,i(h.some(_p(t))),h.none,i(h.some(wp(t))))})).map(bv(t,e)).getOrThunk((function(){var i=qu.navigate(n,o,r),s=i.bind((function(t){return bp(a,o,t)}));return u.isSome()&&s.isSome()?Jm.findRootInline(a,o,r).map((function(e){return!!function(t){return zs(qu.firstPositionIn(t),qu.lastPositionIn(t),(function(e,n){var r=Jm.normalizePosition(!0,e),i=Jm.normalizePosition(!1,n);return qu.nextPosition(t,r).map((function(t){return t.isEqual(i)})).getOr(!0)})).getOr(!0)}(e)&&(Mh(t,n,rt(e)),!0)})).getOr(!1):s.bind((function(o){return i.map((function(i){return n?yv(t,e,r,i):yv(t,e,i,r),!0}))})).getOr(!1)}))}(t,e,n,r)}return!1},wv=function(t){return 1===qt(t).length},xv=function(t,e){return!!t.selection.isCollapsed()&&function(t,e){var n=rt(t.getBody()),r=rt(t.selection.getStart()),o=D(function(t,e){var n=Jd(e,t);return N(n,Mn).fold(i(n),(function(t){return n.slice(0,t)}))}(n,r),wv);return H(o).map((function(n){var r,i=na.fromRangeStart(t.selection.getRng());return!(!function(t,e,n){return zs(qu.firstPositionIn(n),qu.lastPositionIn(n),(function(r,i){var o=Jm.normalizePosition(!0,r),s=Jm.normalizePosition(!1,i),a=Jm.normalizePosition(!1,e);return t?qu.nextPosition(n,a).map((function(t){return t.isEqual(s)&&e.isEqual(o)})).getOr(!1):qu.prevPosition(n,a).map((function(t){return t.isEqual(o)&&e.isEqual(s)})).getOr(!1)})).getOr(!0)}(e,i,n.dom())||(r=n,Ea(r.dom())&&Rh(r.dom()))||(function(t,e,n,r){var i=s(Lh,e),o=T(D(r,i),(function(t){return t.dom()}));if(0===o.length)Mh(e,t,n);else{var a=function(t,e){var n=Nh(!1),r=Bh(e,n.dom());return Xt(rt(t),n),ne(rt(t)),na(r,0)}(n.dom(),o);e.selection.setRng(a.toRange())}}(e,t,n,o),0))})).getOr(!1)}(t,e)},Cv=function(t,e){return{start:i(t),end:i(e)}},Sv=sc([{removeTable:["element"]},{emptyCells:["cells"]}]),kv=function(t,e){return Uo(rt(t),"td,th",e)},Ev=function(t,e){return Vo(t,"table",e)},Ov=function(t){return!1===Ft(t.start(),t.end())},Tv=function(t,e){return Ev(t.start(),e).bind((function(n){return Ev(t.end(),e).bind((function(t){return Ft(n,t)?h.some(n):h.none()}))}))},Av=function(t){return Fo(t,"td,th")},Dv=function(t,e){return Tv(e,t).isSome()},Mv=function(t,e){return N(t,(function(t){return Ft(t,e)}))},Rv=function(t){return function(t){return zs(Mv(t.cells(),t.rng().start()),Mv(t.cells(),t.rng().end()),(function(e,n){return t.cells().slice(e,n+1)}))}(t).map((function(e){var n=t.cells();return e.length===n.length?Sv.removeTable(t.table()):Sv.emptyCells(e)}))},Iv=function(t,e){return A(e,oh),t.selection.setCursorLocation(e[0].dom(),0),!0},Nv=function(t,e){return Mh(t,!1,e),!0},zv=function(t,e,n,r){return Fv(e,r).fold((function(){return function(t,e,n){return function(t,e){return function(t,e){var n=function(t){return function(e){return Ft(t,e)}}(t);return function(t,e){var n=kv(t.startContainer,e),r=kv(t.endContainer,e);return zs(n,r,Cv).filter(Ov).filter((function(t){return Dv(e,t)})).orThunk((function(){return function(t,e){var n=kv(e.startContainer,t),r=kv(e.endContainer,t);return e.collapsed?h.none():zs(n,r,Cv).fold((function(){return n.fold((function(){return r.bind((function(e){return Ev(e,t).bind((function(t){return L(Av(t)).map((function(t){return Cv(t,e)}))}))}))}),(function(e){return Ev(e,t).bind((function(t){return H(Av(t)).map((function(t){return Cv(e,t)}))}))}))}),(function(e){return Dv(t,e)?h.none():function(t,e){return Ev(t.start(),e).bind((function(e){return H(Av(e)).map((function(e){return Cv(t.start(),e)}))}))}(e,t)}))}(e,t)}))}(e,n).bind((function(t){return function(t,e){return Tv(t,e).map((function(e){return function(t,e,n){return{rng:i(t),table:i(e),cells:i(n)}}(t,e,Av(e))}))}(t,n)}))}(t,e).bind(Rv)}(e,n).map((function(e){return e.fold(s(Nv,t),s(Iv,t))}))}(t,e,n)}),(function(e){return function(t,e){return Bv(t,e)}(t,e)})).getOr(!1)},Pv=function(t,e){return I(Jd(e,t),Ln)},Fv=function(t,e){return I(Jd(e,t),(function(t){return"caption"===ie(t)}))},Bv=function(t,e){return oh(e),t.selection.setCursorLocation(e.dom(),0),h.some(!0)},Lv=function(t,e){return t?ig(e):og(e)},Hv=function(t,e){var n=rt(t.selection.getStart(!0)),r=bf(t);return t.selection.isCollapsed()&&0===r.length?function(t,e,n){var r=rt(t.getBody());return Fv(r,n).fold((function(){return function(t,e,n,r){var i=na.fromRangeStart(t.selection.getRng());return Pv(n,r).bind((function(r){return Sh(r)?Bv(t,r):function(t,e,n,r,i){return qu.navigate(n,t.getBody(),i).bind((function(t){return Pv(e,rt(t.getNode())).map((function(t){return!1===Ft(t,r)}))}))}(t,n,e,r,i)})).getOr(!1)}(t,e,r,n)||function(t,e){var n=na.fromRangeStart(t.selection.getRng());return Lv(e,n)||qu.fromPosition(e,t.getBody(),n).map((function(t){return Lv(e,t)})).getOr(!1)}(t,e)}),(function(n){return function(t,e,n,r){var i=na.fromRangeStart(t.selection.getRng());return Sh(r)?Bv(t,r):function(t,e,n,r,i){return qu.navigate(n,t.getBody(),i).bind((function(o){return function(t,e,n,r){return qu.firstPositionIn(t.dom()).bind((function(i){return qu.lastPositionIn(t.dom()).map((function(t){return e?n.isEqual(i)&&r.isEqual(t):n.isEqual(t)&&r.isEqual(i)}))})).getOr(!0)}(r,n,i,o)?function(t,e){return Bv(t,e)}(t,r):function(t,e,n){return Fv(t,rt(n.getNode())).map((function(t){return!1===Ft(t,e)}))}(e,r,o)})).or(h.some(!0))}(t,n,e,r,i)}(t,e,r,n).getOr(!1)}))}(t,e,n):function(t,e){var n=rt(t.getBody()),r=t.selection.getRng(),i=bf(t);return 0!==i.length?Iv(t,i):zv(t,n,r,e)}(t,n)},Vv=function(t,e){return!!t.selection.isCollapsed()&&function(t,e){var n=na.fromRangeStart(t.selection.getRng());return qu.fromPosition(e,t.getBody(),n).filter((function(t){return e?ng(t):rg(t)})).bind((function(t){return h.from(mu(e?0:-1,t))})).map((function(e){return t.selection.select(e),!0})).getOr(!1)}(t,e)},jv=function(t){var e=parseInt(t,10);return isNaN(e)?0:e},Uv=function(t,e){return(t||"table"===ie(e)?"margin":"padding")+("rtl"===Be(e,"direction")?"-right":"-left")},$v=function(t){var e=qv(t);return!t.mode.isReadOnly()&&(e.length>1||function(t,e){return P(e,(function(e){var n=Uv(Xa(t),e),r=He(e,n).map(jv).getOr(0);return"false"!==t.dom.getContentEditable(e.dom())&&r>0}))}(t,e))},Wv=function(t){return zn(t)||Pn(t)},qv=function(t){return D(T(t.selection.getSelectedBlocks(),rt),(function(t){return!Wv(t)&&!function(t){return Vt(t).map(Wv).getOr(!1)}(t)&&Ho(t,(function(t){return Me.isContentEditableTrue(t.dom())||Me.isContentEditableFalse(t.dom())})).exists((function(t){return Me.isContentEditableTrue(t.dom())}))}))},Gv=function(t,e){var n=t.dom,r=t.selection,i=t.formatter,o=function(t){return t.getParam("indentation","40px","string")}(t),s=/[a-z%]+$/i.exec(o)[0],a=parseInt(o,10),u=Xa(t),l=La(t);t.queryCommandState("InsertUnorderedList")||t.queryCommandState("InsertOrderedList")||""!==l||n.getParent(r.getNode(),n.isBlock)||i.apply("div"),A(qv(t),(function(t){!function(t,e,n,r,i,o){var s=Uv(n,rt(o));if("outdent"===e){var a=Math.max(0,jv(o.style[s])-r);t.setStyle(o,s,a?a+i:"")}else a=jv(o.style[s])+r+i,t.setStyle(o,s,a)}(n,e,u,a,s,t.dom())}))},Yv=function(t,e,n){return qu.navigateIgnore(t,e,n,Qp)},Kv=function(t,e){return I(Jd(rt(e.container()),t),Mn)},Xv=function(t,e,n){return Yv(t,e.dom(),n).forall((function(t){return Kv(e,n).fold((function(){return!1===hu(t,n,e.dom())}),(function(r){return!1===hu(t,n,e.dom())&&Bt(r,rt(t.container()))}))}))},Zv=function(t,e,n){return Kv(e,n).fold((function(){return Yv(t,e.dom(),n).forall((function(t){return!1===hu(t,n,e.dom())}))}),(function(e){return Yv(t,e.dom(),n).isNone()}))},Qv=s(Zv,!1),Jv=s(Zv,!0),tb=s(Xv,!1),eb=s(Xv,!0),nb=function(t,e,n){if(t.selection.isCollapsed()&&$v(t)){var r=t.dom,i=t.selection.getRng(),o=na.fromRangeStart(i),s=r.getParent(i.startContainer,r.isBlock);if(null!==s&&Qv(rt(s),o))return Gv(t,"outdent"),!0}return!1},rb=function(t){return h.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))},ib=function(t,e){var n,r,i=e,o=t.dom,s=t.schema.getMoveCaretBeforeOnEnterElements();if(e){if(/^(LI|DT|DD)$/.test(e.nodeName)){var a=function(t){for(;t;){if(1===t.nodeType||3===t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}}(e.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&e.insertBefore(o.doc.createTextNode("\xa0"),e.firstChild)}if(r=o.createRng(),e.normalize(),e.hasChildNodes()){for(var u=new lo(e,e);n=u.current();){if(Me.isText(n)){r.setStart(n,0),r.setEnd(n,0);break}if(s[n.nodeName.toLowerCase()]){r.setStartBefore(n),r.setEndBefore(n);break}i=n,n=u.next()}n||(r.setStart(i,0),r.setEnd(i,0))}else Me.isBr(e)?e.nextSibling&&o.isBlock(e.nextSibling)?(r.setStartBefore(e),r.setEndBefore(e)):(r.setStartAfter(e),r.setEndAfter(e)):(r.setStart(e,0),r.setEnd(e,0));t.selection.setRng(r),qd(t,r)}},ob=rb,sb=function(t,e){return t&&t.parentNode&&t.parentNode.nodeName===e},ab=function(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)},ub=function(t){var e=t.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:t},lb=function(t,e,n){for(var r=t[n?"firstChild":"lastChild"];r&&!Me.isElement(r);)r=r[n?"nextSibling":"previousSibling"];return r===e},cb=function(t,e){return e&&"A"===e.nodeName&&t.isEmpty(e)},db=function(t){t.innerHTML='<br data-mce-bogus="1">'},fb=function(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e},hb=function(t,e){return e&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==t.getContentEditable(e)},mb=function(t,e,n){return!1===Me.isText(e)?n:t?1===n&&"\ufeff"===e.data.charAt(n-1)?0:n:n===e.data.length-1&&"\ufeff"===e.data.charAt(n)?e.data.length:n},pb=function(t,e){var n,r,i=t.getRoot();for(n=e;n!==i&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==i?r:i},gb=function(t,e){var r=La(t);r&&r.toLowerCase()===e.tagName.toLowerCase()&&function(t,e,r){h.from(r.style).map(t.dom.parseStyle).each((function(n){var r=function(t){var e={},n=t.dom();if(Re(n))for(var r=0;r<n.style.length;r++){var i=n.style.item(r);e[i]=n.style[i]}return e}(rt(e)),i=Q(Q({},r),n);t.dom.setStyles(e,i)}));var i=h.from(r.class).map((function(t){return t.split(/\s+/)})),o=h.from(e.className).map((function(t){return D(t.split(/\s+/),(function(t){return""!==t}))}));zs(i,o,(function(n,r){var i=D(r,(function(t){return!E(n,t)})),o=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}(n,i);t.dom.setAttrib(e,"class",o.join(" "))}));var s,a=["style","class"],u=(Y(r,(function(t,e){return!E(a,e)}),G(s={}),n),s);t.dom.setAttribs(e,u)}(t,e,Ha(t))},vb=function(t,e,n){var r=t.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),e.scrollIntoView(r),t.remove(r)},bb=function(t,e,n,r){var i=t.createRng();r?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),e.setRng(i)},yb=function(t,e){var n=et("br");Xt(rt(e),n),t.undoManager.add()},_b=function(t,e){wb(t.getBody(),e)||Zt(rt(e),et("br"));var n=et("br");Zt(rt(e),n),vb(t.dom,t.selection,n.dom()),bb(t.dom,t.selection,n.dom(),!1),t.undoManager.add()},wb=function(t,e){return n=na.after(e),!!Me.isBr(n.getNode())||qu.nextPosition(t,na.after(e)).map((function(t){return Me.isBr(t.getNode())})).getOr(!1);var n},xb=function(t){return t&&"A"===t.nodeName&&"href"in t},Cb=function(t){return t.fold(i(!1),xb,xb,i(!1))},Sb=function(t,e){e.fold(n,s(yb,t),s(_b,t),n)},kb=function(t,e){var n=function(t){var e=s(Jm.isInlineTarget,t),n=na.fromRangeStart(t.selection.getRng());return bp(e,t.getBody(),n).filter(Cb)}(t);n.isSome()?n.each(s(Sb,t)):function(t,e){var n,r,i=t.selection,o=t.dom,s=i.getRng();Mf(o,s).each((function(t){s.setStart(t.startContainer,t.startOffset),s.setEnd(t.endContainer,t.endOffset)}));var a=s.startOffset,u=s.startContainer;if(1===u.nodeType&&u.hasChildNodes()){var l=a>u.childNodes.length-1;u=u.childNodes[Math.min(a,u.childNodes.length-1)]||u,a=l&&3===u.nodeType?u.nodeValue.length:0}var c=o.getParent(u,o.isBlock),d=c?o.getParent(c.parentNode,o.isBlock):null;"LI"!==(d?d.nodeName.toUpperCase():"")||!(!e||!e.ctrlKey)||(c=d),u&&3===u.nodeType&&a>=u.nodeValue.length&&(function(t,e,n){for(var r,i=new lo(e,n),o=t.getNonEmptyElements();r=i.next();)if(o[r.nodeName.toLowerCase()]||r.length>0)return!0}(t.schema,u,c)||(n=o.create("br"),s.insertNode(n),s.setStartAfter(n),s.setEndAfter(n),r=!0)),n=o.create("br"),ha(o,s,n),vb(o,i,n),bb(o,i,n,r),t.undoManager.add()}(t,e)},Eb=function(t,e){return ob(t).filter((function(t){return e.length>0&&zt(rt(t),e)})).isSome()},Ob=sc([{br:[]},{block:[]},{none:[]}]),Tb=function(t,e){return function(t){return Eb(t,function(t){return t.getParam("no_newline_selector","")}(t))}(t)},Ab=function(t){return function(e,n){return""===La(e)===t}},Db=function(t){return function(e,n){return function(t){return rb(t).filter((function(t){return Pn(rt(t))})).isSome()}(e)===t}},Mb=function(t,e){return function(n,r){return function(t){return rb(t).fold(i(""),(function(t){return t.nodeName.toUpperCase()}))}(n)===t.toUpperCase()===e}},Rb=function(t){return Mb("pre",t)},Ib=function(t){return function(e,n){return function(t){return t.getParam("br_in_pre",!0)}(e)===t}},Nb=function(t,e){return function(t){return Eb(t,function(t){return t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")}(t))}(t)},zb=function(t,e){return e},Pb=function(t){var e=La(t),n=function(t,e){var n,r,i=t.getRoot();for(n=e;n!==i&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==i?r:i}(t.dom,t.selection.getStart());return n&&t.schema.isValidChild(n.nodeName,e||"P")},Fb=function(t,e){return function(n,r){return R(t,(function(t,e){return t&&e(n,r)}),!0)?h.some(e):h.none()}},Bb=function(t,e){(function(t,e){return tp([Fb([Tb],Ob.none()),Fb([Mb("summary",!0)],Ob.br()),Fb([Rb(!0),Ib(!1),zb],Ob.br()),Fb([Rb(!0),Ib(!1)],Ob.block()),Fb([Rb(!0),Ib(!0),zb],Ob.block()),Fb([Rb(!0),Ib(!0)],Ob.br()),Fb([Db(!0),zb],Ob.br()),Fb([Db(!0)],Ob.block()),Fb([Ab(!0),zb,Pb],Ob.block()),Fb([Ab(!0)],Ob.br()),Fb([Nb],Ob.br()),Fb([Ab(!1),zb],Ob.br()),Fb([Pb],Ob.block())],[t,!(!e||!e.shiftKey)]).getOr(Ob.none())})(t,e).fold((function(){kb(t,e)}),(function(){!function(t,e){var n,r,i,o,s,a,u,l,c,d,f,h,m,p=t.dom,g=t.schema,v=g.getNonEmptyElements(),b=t.selection.getRng(),y=function(e){var n,o,a,u=i,l=g.getTextInlineElements();if(a=n=e||"TABLE"===d||"HR"===d?p.create(e||h):s.cloneNode(!1),!1===function(t){return t.getParam("keep_styles",!0)}(t))p.setAttrib(n,"style",null),p.setAttrib(n,"class",null);else do{if(l[u.nodeName]){if(Ea(u)||el(u))continue;o=u.cloneNode(!1),p.setAttrib(o,"id",""),n.hasChildNodes()?(o.appendChild(n.firstChild),n.appendChild(o)):(a=o,n.appendChild(o))}}while((u=u.parentNode)&&u!==r);return gb(t,n),db(a),n},_=function(t){var e,n,r=mb(t,i,o);if(Me.isText(i)&&(t?r>0:r<i.nodeValue.length))return!1;if(i.parentNode===s&&m&&!t)return!0;if(t&&Me.isElement(i)&&i===s.firstChild)return!0;if(fb(i,"TABLE")||fb(i,"HR"))return m&&!t||!m&&t;var a=new lo(i,s);for(Me.isText(i)&&(t&&0===r?a.prev():t||r!==i.nodeValue.length||a.next());e=a.current();){if(Me.isElement(e)){if(!e.getAttribute("data-mce-bogus")&&(n=e.nodeName.toLowerCase(),v[n]&&"br"!==n))return!1}else if(Me.isText(e)&&!/^[ \t\r\n]*$/.test(e.nodeValue))return!1;t?a.prev():a.next()}return!0},w=function(){u=/^(H[1-6]|PRE|FIGURE)$/.test(d)&&"HGROUP"!==f?y(h):y(),function(t){return t.getParam("end_container_on_empty_block",!1)}(t)&&hb(p,c)&&p.isEmpty(s)?u=p.split(c,s):p.insertAfter(u,s),ib(t,u)};Mf(p,b).each((function(t){b.setStart(t.startContainer,t.startOffset),b.setEnd(t.endContainer,t.endOffset)})),i=b.startContainer,o=b.startOffset,h=La(t),a=!(!e||!e.shiftKey);var x=!(!e||!e.ctrlKey);Me.isElement(i)&&i.hasChildNodes()&&(m=o>i.childNodes.length-1,i=i.childNodes[Math.min(o,i.childNodes.length-1)]||i,o=m&&Me.isText(i)?i.nodeValue.length:0),(r=pb(p,i))&&((h&&!a||!h&&a)&&(i=function(t,e,n,r,i){var o,s,a,u,l,c,d=e||"P",f=t.dom,h=pb(f,r);if(!(s=f.getParent(r,f.isBlock))||!hb(f,s)){if(c=(s=s||h)===t.getBody()||function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)}(s)?s.nodeName.toLowerCase():s.parentNode.nodeName.toLowerCase(),!s.hasChildNodes())return o=f.create(d),gb(t,o),s.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o;for(u=r;u.parentNode!==s;)u=u.parentNode;for(;u&&!f.isBlock(u);)a=u,u=u.previousSibling;if(a&&t.schema.isValidChild(c,d.toLowerCase())){for(o=f.create(d),gb(t,o),a.parentNode.insertBefore(o,a),u=a;u&&!f.isBlock(u);)l=u.nextSibling,o.appendChild(u),u=l;n.setStart(r,i),n.setEnd(r,i)}}return r}(t,h,b,i,o)),s=p.getParent(i,p.isBlock),c=s?p.getParent(s.parentNode,p.isBlock):null,d=s?s.nodeName.toUpperCase():"","LI"!==(f=c?c.nodeName.toUpperCase():"")||x||(s=c,c=c.parentNode,d=f),/^(LI|DT|DD)$/.test(d)&&p.isEmpty(s)?function(t,e,n,r,i){var o=t.dom,s=t.selection.getRng();if(n!==t.getBody()){var a;ab(a=n)&&ab(a.parentNode)&&(i="LI");var u=i?e(i):o.create("BR");if(lb(n,r,!0)&&lb(n,r,!1))sb(n,"LI")?o.insertAfter(u,ub(n)):o.replace(u,n);else if(lb(n,r,!0))sb(n,"LI")?(o.insertAfter(u,ub(n)),u.appendChild(o.doc.createTextNode(" ")),u.appendChild(n)):n.parentNode.insertBefore(u,n);else if(lb(n,r,!1))o.insertAfter(u,ub(n));else{n=ub(n);var l=s.cloneRange();l.setStartAfter(r),l.setEndAfter(n);var c=l.extractContents();"LI"===i&&function(t,e){return t.firstChild&&"LI"===t.firstChild.nodeName}(c)?(u=c.firstChild,o.insertAfter(c,n)):(o.insertAfter(c,n),o.insertAfter(u,n))}o.remove(r),ib(t,u)}}(t,y,c,s,h):h&&s===t.getBody()||(h=h||"P",is(s)?(u=fs(s),p.isEmpty(s)&&db(s),gb(t,u),ib(t,u)):_()?w():_(!0)?(u=s.parentNode.insertBefore(y(),s),ib(t,fb(s,"HR")?u:s)):((n=function(t){var e=t.cloneRange();return e.setStart(t.startContainer,mb(!0,t.startContainer,t.startOffset)),e.setEnd(t.endContainer,mb(!1,t.endContainer,t.endOffset)),e}(b).cloneRange()).setEndAfter(s),function(t){A(Po(rt(t),ae),(function(t){var e=t.dom();e.nodeValue=es(e.nodeValue)}))}(l=n.extractContents()),function(t){do{Me.isText(t)&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)}(l),u=l.firstChild,p.insertAfter(l,s),function(t,e,n){var r,i=n,o=[];if(i){for(;i=i.firstChild;){if(t.isBlock(i))return;Me.isElement(i)&&!e[i.nodeName.toLowerCase()]&&o.push(i)}for(r=o.length;r--;)(!(i=o[r]).hasChildNodes()||i.firstChild===i.lastChild&&""===i.firstChild.nodeValue||cb(t,i))&&t.remove(i)}}(p,v,u),function(t,e){var n;e.normalize(),(n=e.lastChild)&&!/^(left|right)$/gi.test(t.getStyle(n,"float",!0))||t.add(e,"br")}(p,s),p.isEmpty(s)&&db(s),u.normalize(),p.isEmpty(u)?(p.remove(u),w()):(gb(t,u),ib(t,u))),p.setAttrib(u,"id",""),t.fire("NewBlock",{newBlock:u})))}(t,e)}),n)},Lb=function(t,e){var n=e.container(),r=e.offset();return Me.isText(n)?(n.insertData(r,t),h.some(ta(n,r+t.length))):Cu(e).map((function(n){var r=nt(t);return e.isAtEnd()?Zt(n,r):Xt(n,r),ta(r.dom(),t.length)}))},Hb=s(Lb,"\xa0"),Vb=s(Lb," "),jb=function(t){return ta.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd()},Ub=function(t,e){var n=D(Jd(rt(e.container()),t),Mn);return L(n).getOr(t)},$b=function(t,e){return jb(e)?Zp(e):Zp(e)||qu.prevPosition(Ub(t,e).dom(),e).exists(Zp)},Wb=function(t,e){return jb(e)?Xp(e):Xp(e)||qu.nextPosition(Ub(t,e).dom(),e).exists(Xp)},qb=function(t){return Cu(t).bind((function(t){return Ho(t,se)})).exists((function(t){return function(t){return E(["pre","pre-wrap"],t)}(Be(t,"white-space"))}))},Gb=function(t,e){return function(t,e){return!qb(e)&&(Qv(t,e)||tb(t,e)||av(t,e)||$b(t,e))}(t,e)||function(t,e){var n=function(t){var e=t.container(),n=t.offset();return Me.isText(e)&&n<e.data.length?ta(e,n+1):t}(e);return!qb(n)&&(Jv(t,n)||eb(t,n)||sv(t,n)||Wb(t,n))}(t,e)},Yb=function(t,e){return nl(t.charAt(e))},Kb=function(t){var e=t.container();return Me.isText(e)&&bt(e.data,"\xa0")},Xb=function(t){var e=rt(t.getBody());t.selection.isCollapsed()&&function(t,e){return h.some(e).filter(Kb).bind((function(e){var n,r,i,o=e.container();return function(t,e){var n=e.data,r=ta(e,0);return!(!Yb(n,0)||Gb(t,r)||(e.data=" "+n.slice(1),0))}(t,o)||(i=function(t){var e=t.split("");return T(e,(function(t,n){return nl(t)&&n>0&&n<e.length-1&&il(e[n-1])&&il(e[n+1])?" ":t})).join("")}(r=(n=o).data))!==r&&(n.data=i,1)||function(t,e){var n=e.data,r=ta(e,n.length-1);return!(!Yb(n,n.length-1)||Gb(t,r)||(e.data=n.slice(0,-1)+" ",0))}(t,o)?h.some(e):h.none()}))}(e,ta.fromRangeStart(t.selection.getRng())).each((function(e){t.selection.setRng(e.toRange())}))},Zb=function(t){var e=na.fromRangeStart(t.selection.getRng()),n=rt(t.getBody());if(t.selection.isCollapsed()){var r=s(Jm.isInlineTarget,t),i=na.fromRangeStart(t.selection.getRng());return bp(r,t.getBody(),i).bind(function(t){return function(e){return e.fold((function(e){return qu.prevPosition(t.dom(),na.before(e))}),(function(t){return qu.firstPositionIn(t)}),(function(t){return qu.lastPositionIn(t)}),(function(e){return qu.nextPosition(t.dom(),na.after(e))}))}}(n)).bind(function(t,e){return function(n){return function(t,e){return!qb(e)&&(function(t,e){return function(t,e){return qu.prevPosition(t.dom(),e).isNone()}(t,e)||function(t,e){return qu.nextPosition(t.dom(),e).isNone()}(t,e)||Qv(t,e)||Jv(t,e)||av(t,e)||sv(t,e)}(t,e)||$b(t,e)||Wb(t,e))}(t,n)?Hb(e):Vb(e)}}(n,e)).exists(function(t){return function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0}}(t))}return!1},Qb=function(t,e){e.hasAttribute("data-mce-caret")&&(fs(e),function(t){t.selection.setRng(t.selection.getRng())}(t),t.selection.scrollIntoView(e))},Jb=function(t,e){var n=function(t){return jo(rt(t.getBody()),"*[data-mce-caret]").fold(i(null),(function(t){return t.dom()}))}(t);if(n)return"compositionstart"===e.type?(e.preventDefault(),e.stopPropagation(),void Qb(t,n)):void(as(n)&&(Qb(t,n),t.undoManager.add()))},ty=Tt().browser,ey=function(){function t(t){var e;this.lastPath=[],this.editor=t;var n=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",(function(n){var r,i;i={startContainer:(r=t.selection.getRng()).startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset},"nodechange"!==n.type&&xf(i,e)||t.fire("SelectionChange"),e=i})),t.on("contextmenu",(function(){t.fire("SelectionChange")})),t.on("SelectionChange",(function(){var e=t.selection.getStart(!0);!e||!gn.range&&t.selection.isCollapsed()||rf(t)&&!n.isSameElementPath(e)&&t.dom.isChildOf(e,t.getBody())&&t.nodeChanged({selectionChange:!0})})),t.on("mouseup",(function(e){!e.isDefaultPrevented()&&rf(t)&&("IMG"===t.selection.getNode().nodeName?an.setEditorTimeout(t,(function(){t.nodeChanged()})):t.nodeChanged())}))}return t.prototype.nodeChanged=function(t){var e,n,r,i=this.editor.selection;this.editor.initialized&&i&&!this.editor.settings.disable_nodechange&&!this.editor.mode.isReadOnly()&&(r=this.editor.getBody(),(e=i.getStart(!0)||r).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(e,r)||(e=r),n=[],this.editor.dom.getParent(e,(function(t){if(t===r)return!0;n.push(t)})),(t=t||{}).element=e,t.parents=n,this.editor.fire("NodeChange",t))},t.prototype.isSameElementPath=function(t){var e,n;if((n=this.editor.$(t).parentsUntil(this.editor.getBody()).add(t)).length===this.lastPath.length){for(e=n.length;e>=0&&n[e]===this.lastPath[e];e--);if(-1===e)return this.lastPath=n,!0}return this.lastPath=n,!1},t}(),ny=function(t){return Me.isElement(t)&&Nn(rt(t))},ry=function(t){var e,n,r,i;return{top:(i=t.getBoundingClientRect()).top+(r=(e=t.ownerDocument).defaultView).pageYOffset-(n=e.documentElement).clientTop,left:i.left+r.pageXOffset-n.clientLeft}},iy=Me.isContentEditableFalse,oy=Me.isContentEditableTrue,sy=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},ay=function(t){t.dragging=!1,t.element=null,sy(t.ghost)},uy=function(t){var n,r,i,o,s,a,u={};n=yo.DOM,a=e.document,r=function(t,e){return function(n){if(function(t){return 0===t.button}(n)){var r=I(e.dom.getParents(n.target),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ps.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(n[e](t))return!0;return!1}}(iy,oy)).getOr(null);if(a=e.getBody(),iy(u=r)&&u!==a){var i=e.dom.getPos(r),o=e.getBody(),s=e.getDoc().documentElement;t.element=r,t.screenX=n.screenX,t.screenY=n.screenY,t.maxX=(e.inline?o.scrollWidth:s.offsetWidth)-2,t.maxY=(e.inline?o.scrollHeight:s.offsetHeight)-2,t.relX=n.pageX-i.x,t.relY=n.pageY-i.y,t.width=r.offsetWidth,t.height=r.offsetHeight,t.ghost=function(t,e,n,r){var i=e.cloneNode(!0);t.dom.setStyles(i,{width:n,height:r}),t.dom.setAttrib(i,"data-mce-selected",null);var o=t.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return t.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),t.dom.setStyles(i,{margin:0,boxSizing:"border-box"}),o.appendChild(i),o}(e,r,t.width,t.height)}}var a,u}}(u,t),i=function(t,e){var n=an.throttle((function(t,n){e._selectionOverrides.hideFakeCaret(),e.selection.placeCaretAt(t,n)}),0);return function(r){var i,o,s=Math.max(Math.abs(r.screenX-t.screenX),Math.abs(r.screenY-t.screenY));if(function(t){return t.element}(t)&&!t.dragging&&s>10){if(e.fire("dragstart",{target:t.element}).isDefaultPrevented())return;t.dragging=!0,e.focus()}if(t.dragging){var a=function(t,e){return{pageX:e.pageX-t.relX,pageY:e.pageY+5}}(t,function(t,e){return function(t,e,n){return{pageX:n.left-t.left+e.left,pageY:n.top-t.top+e.top}}(function(t){return t.inline?ry(t.getBody()):{left:0,top:0}}(t),function(t){var e=t.getBody();return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:0,top:0}}(t),function(t,e){if(e.target.ownerDocument!==t.getDoc()){var n=ry(t.getContentAreaContainer()),r=function(t){var e=t.getBody(),n=t.getDoc().documentElement;return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:e.scrollLeft||n.scrollLeft,top:e.scrollTop||n.scrollTop}}(t);return{left:e.pageX-n.left+r.left,top:e.pageY-n.top+r.top}}return{left:e.pageX,top:e.pageY}}(t,e))}(e,r));i=t.ghost,o=e.getBody(),i.parentNode!==o&&o.appendChild(i),function(t,e,n,r,i,o){var s=0,a=0;t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",e.pageX+n>i&&(s=e.pageX+n-i),e.pageY+r>o&&(a=e.pageY+r-o),t.style.width=n-s+"px",t.style.height=r-a+"px"}(t.ghost,a,t.width,t.height,t.maxX,t.maxY),n(r.clientX,r.clientY)}}}(u,t),o=function(t,e){return function(n){if(t.dragging&&function(t,e,n){return e!==n&&!t.dom.isChildOf(e,n)&&!iy(e)}(e,3===(s=e.selection.getSel().getRangeAt(0).startContainer).nodeType?s.parentNode:s,t.element)){var r=((o=t.element.cloneNode(!0)).removeAttribute("data-mce-selected"),o),i=e.fire("drop",{targetClone:r,clientX:n.clientX,clientY:n.clientY});i.isDefaultPrevented()||(r=i.targetClone,e.undoManager.transact((function(){sy(t.element),e.insertContent(e.dom.getOuterHTML(r)),e._selectionOverrides.hideFakeCaret()})))}var o,s;ay(t)}}(u,t),s=function(t,e){return function(){t.dragging&&e.fire("dragend"),ay(t)}}(u,t),t.on("mousedown",r),t.on("mousemove",i),t.on("mouseup",o),n.bind(a,"mousemove",i),n.bind(a,"mouseup",s),t.on("remove",(function(){n.unbind(a,"mousemove",i),n.unbind(a,"mouseup",s)}))},ly=Me.isContentEditableTrue,cy=Me.isContentEditableFalse,dy=function(t,e){for(var n=t.getBody();e&&e!==n;){if(ly(e)||cy(e))return e;e=e.parentNode}return null},fy=function(t){var n,r=t.getBody(),i=function(t,n,r,i){var o,s,a=it(h.none()),u=La(t),l=u.length>0?u:"p",c=function(){!function(t){var e,n,r,i,o;for(e=uo("*[contentEditable=false]",t),i=0;i<e.length;i++)ds(r=(n=e[i]).previousSibling)&&(1===(o=r.data).length?r.parentNode.removeChild(r):r.deleteData(o.length-1,1)),cs(r=n.nextSibling)&&(1===(o=r.data).length?r.parentNode.removeChild(r):r.deleteData(0,1))}(n),s&&(za.remove(s),s=null),a.get().each((function(t){uo(t.caret).remove(),a.set(h.none())})),an.clearInterval(o)};return{show:function(t,u){var d,f,m;if(c(),Me.isElement(m=u)&&/^(TD|TH)$/i.test(m.tagName))return null;if(!r(u))return s=function(t,e){var n,r,i;if(r=t.ownerDocument.createTextNode("\ufeff"),i=t.parentNode,e){if(rs(n=t.previousSibling)){if(ss(n))return n;if(ds(n))return n.splitText(n.data.length-1)}i.insertBefore(r,t)}else{if(rs(n=t.nextSibling)){if(ss(n))return n;if(cs(n))return n.splitText(1),n}t.nextSibling?i.insertBefore(r,t.nextSibling):i.appendChild(r)}return r}(u,t),f=u.ownerDocument.createRange(),Qa(s.nextSibling)?(f.setStart(s,0),f.setEnd(s,0)):(f.setStart(s,1),f.setEnd(s,1)),f;s=function(t,n,r){var i,o,s;return(i=n.ownerDocument.createElement(t)).setAttribute("data-mce-caret",r?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(((s=e.document.createElement("br")).setAttribute("data-mce-bogus","1"),s)),o=n.parentNode,r?o.insertBefore(i,n):n.nextSibling?o.insertBefore(i,n.nextSibling):o.appendChild(i),i}(l,u,t),d=Ja(n,u,t),uo(s).css("top",d.top);var p=uo('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(d).appendTo(n)[0];return a.set(h.some({caret:p,element:u,before:t})),a.get().each((function(e){t&&uo(e.caret).addClass("mce-visual-caret-before")})),o=an.setInterval((function(){i()?uo("div.mce-visual-caret",n).toggleClass("mce-visual-caret-hidden"):uo("div.mce-visual-caret",n).addClass("mce-visual-caret-hidden")}),500),(f=u.ownerDocument.createRange()).setStart(s,0),f.setEnd(s,0),f},hide:c,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){a.get().each((function(t){var e=Ja(n,t.element,t.before);uo(t.caret).css(Q({},e))}))},destroy:function(){return an.clearInterval(o)}}}(t,r,(function(e){return t.dom.isBlock(e)}),(function(){return Rc(t)})),o="sel-"+t.dom.uniqueId(),a=function(e){e&&t.selection.setRng(e)},u=function(){return t.selection.getRng()},l=function(e,n,r,o){return void 0===o&&(o=!0),t.fire("ShowCaret",{target:n,direction:e,before:r}).isDefaultPrevented()?null:(o&&t.selection.scrollIntoView(n,-1===e),i.show(r,n))},c=function(t){return ss(t)||cs(t)||ds(t)},d=function(t){return c(t.startContainer)||c(t.endContainer)},f=function(e,i){var s,a,u,c,f,h,m,g,v,b,y=t.$,_=t.dom;if(!e)return null;if(e.collapsed){if(!d(e))if(!1===i){if(g=xu(-1,r,e),eu(g.getNode(!0)))return l(-1,g.getNode(!0),!1,!1);if(eu(g.getNode()))return l(-1,g.getNode(),!g.isAtEnd(),!1)}else{if(g=xu(1,r,e),eu(g.getNode()))return l(1,g.getNode(),!g.isAtEnd(),!1);if(eu(g.getNode(!0)))return l(1,g.getNode(!0),!1,!1)}return null}if(f=e.startOffset,h=e.endOffset,3===(c=e.startContainer).nodeType&&0===f&&cy(c.parentNode)&&(f=_.nodeIndex(c=c.parentNode),c=c.parentNode),1!==c.nodeType)return null;if(h===f+1&&c===e.endContainer&&(s=c.childNodes[f]),!cy(s))return null;if(v=b=s.cloneNode(!0),(m=t.fire("ObjectSelected",{target:s,targetClone:v})).isDefaultPrevented())return null;a=jo(rt(t.getBody()),"#"+o).fold((function(){return y([])}),(function(t){return y([t.dom()])})),v=m.targetClone,0===a.length&&(a=y('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",o)).appendTo(t.getBody()),e=t.dom.createRng(),v===b&&gn.ie?(a.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(v),e.setStartAfter(a[0].firstChild.firstChild),e.setEndAfter(v)):(a.empty().append("\xa0").append(v).append("\xa0"),e.setStart(a[0].firstChild,1),e.setEnd(a[0].lastChild,0)),a.css({top:_.getPos(s,t.getBody()).y}),a[0].focus(),(u=t.selection.getSel()).removeAllRanges(),u.addRange(e);var w=rt(s);return A(Fo(rt(t.getBody()),"*[data-mce-selected]"),(function(t){Ft(w,t)||Fe(t,"data-mce-selected")})),t.dom.getAttrib(s,"data-mce-selected")||s.setAttribute("data-mce-selected","1"),n=s,p(),e},m=function(){n&&(n.removeAttribute("data-mce-selected"),jo(rt(t.getBody()),"#"+o).each(ne),n=null),jo(rt(t.getBody()),"#"+o).each(ne),n=null},p=function(){i.hide()};return gn.ceFalse&&(t.on("mouseup",(function(e){var n=u();n.collapsed&&ad(t,e.clientX,e.clientY)&&a(Gp(t,n,!1))})),t.on("click",(function(e){var n;(n=dy(t,e.target))&&(cy(n)&&(e.preventDefault(),t.focus()),ly(n)&&t.dom.isChildOf(n,t.selection.getNode())&&m())})),t.on("blur NewBlock",(function(){m()})),t.on("ResizeWindow FullscreenStateChanged",(function(){return i.reposition()})),function(t){t.on("tap",(function(e){var n=dy(t,e.target);cy(n)&&(e.preventDefault(),f(qp(t,n)))}),!0)}(t),t.on("mousedown",(function(e){var n,i,o,u,c,d,h,g,v,b,y,_=e.target;if((_===r||"HTML"===_.nodeName||t.dom.isChildOf(_,r))&&!1!==ad(t,e.clientX,e.clientY))if(n=dy(t,_))cy(n)?(e.preventDefault(),f(qp(t,n))):(m(),ly(n)&&e.shiftKey||xd(e.clientX,e.clientY,t.selection.getRng())||(p(),t.selection.placeCaretAt(e.clientX,e.clientY)));else if(!1===eu(_)){m(),p();var w=(h=e.clientX,g=e.clientY,b=Ap(function(t){return D(V(t.getElementsByTagName("*")),eu)}(d=r)),y=D(b,(function(t){return g>=t.top&&g<=t.bottom})),(v=Vp(y,h))&&(v=Vp(function(t,e){var n=[],r=function(t,r){var i;return i=D(Ap([r]),(function(n){return!t(n,e)})),n=n.concat(i),0===i.length};return n.push(e),jp(Uh.Up,t,s(r,Ts),e.node),jp(Uh.Down,t,s(r,As),e.node),n}(d,v),h))&&eu(v.node)?function(t,e){return{node:t.node,before:Bp(t,e)<Lp(t,e)}}(v,h):null);if(w&&(i=w.node,u=t.dom.getParent(e.target,t.dom.isBlock),c=t.dom.getParent(i,t.dom.isBlock),!(u&&t.dom.isChildOf(u,c)&&!1===cy(dy(t,u))||u&&(o=c,t.dom.getParent(u,t.dom.isBlock)!==t.dom.getParent(o,t.dom.isBlock))&&function(t){var e=Pu(t);if(!t.firstChild)return!1;var n=na.before(t.firstChild),r=e.next(n);return r&&!sg(r)&&!ag(r)}(u)))){e.preventDefault();var x=l(1,w.node,w.before,!1);t.getBody().focus(),a(x)}}})),t.on("keypress",(function(e){Cd.modifierPressed(e)||cy(t.selection.getNode())&&e.preventDefault()})),t.on("GetSelectionRange",(function(t){var e=t.range;if(n){if(!n.parentNode)return void(n=null);(e=e.cloneRange()).selectNode(n),t.range=e}})),t.on("SetSelectionRange",(function(e){e.range=function(e){var n=t.schema.getShortEndedElements(),r=t.dom.createRng(),i=e.startContainer,o=e.startOffset,s=e.endContainer,a=e.endOffset;return Z(n,i.nodeName.toLowerCase())?0===o?r.setStartBefore(i):r.setStartAfter(i):r.setStart(i,o),Z(n,s.nodeName.toLowerCase())?0===a?r.setEndBefore(s):r.setEndAfter(s):r.setEnd(s,a),r}(e.range);var n=f(e.range,e.forward);n&&(e.range=n)})),t.on("AfterSetSelectionRange",(function(e){var n=e.range;d(n)||"mcepastebin"===n.startContainer.parentNode.id||p(),t.dom.hasClass(n.startContainer.parentNode,"mce-offscreen-selection")||m()})),t.on("copy",(function(e){var n,r=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!gn.ie){var i=(n=t.dom.get(o))?n.getElementsByTagName("*")[0]:n;i&&(e.preventDefault(),r.clearData(),r.setData("text/html",i.outerHTML),r.setData("text/plain",i.outerText))}})),function(t){uy(t),function(t){t.on("drop",(function(e){var n=void 0!==e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(iy(n)||iy(t.dom.getContentEditableParent(n)))&&e.preventDefault()}))}(t)}(t),function(t){var n=Do((function(){if(!t.removed&&t.getBody().contains(e.document.activeElement)&&t.selection.getRng().collapsed){var n=Yp(t,t.selection.getRng(),!1);t.selection.setRng(n)}}),0);t.on("focus",(function(){n.throttle()})),t.on("blur",(function(){n.cancel()}))}(t)),{showCaret:l,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(fs(e),a(u()),t.selection.scrollIntoView(e))},hideFakeCaret:p,destroy:function(){i.destroy(),n=null}}},hy=yo.DOM,my=function(t){t.bindPendingEventDelegates(),t.initialized=!0,function(t){t.fire("Init")}(t),t.focus(!0),function(t){var e=t.dom.getRoot();t.inline||rf(t)&&t.selection.getStart(!0)!==e||qu.firstPositionIn(e).each((function(e){var n=e.getNode(),r=Me.isTable(n)?qu.firstPositionIn(n).getOr(e):e;gn.browser.isIE()?function(t,e){var n=rt(t.getBody()),r=(gc(t)?h.from(e):h.none()).map(vc).filter(pc(n));t.bookmark=r.isSome()?r:t.bookmark}(t,r.toRange()):t.selection.setRng(r.toRange())}))}(t),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),function(t){t.settings.auto_focus&&an.setEditorTimeout(t,(function(){var e;(e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus)).destroyed||e.focus()}),100)}(t)},py=function(t,n){var r,o,a=t.settings,u=t.getElement(),l=t.getDoc();a.inline||(t.getElement().style.visibility=t.orgVisibility),n||t.inline||(l.open(),l.write(t.iframeHTML),l.close()),t.inline&&(t.on("remove",(function(){var t=this.getBody();hy.removeClass(t,"mce-content-body"),hy.removeClass(t,"mce-edit-focus"),hy.setAttrib(t,"contentEditable",null)})),hy.addClass(u,"mce-content-body"),t.contentDocument=l=e.document,t.contentWindow=e.window,t.bodyElement=u,t.contentAreaContainer=u,a.root_name=u.nodeName.toLowerCase()),(r=t.getBody()).disabled=!0,t.readonly=!!a.readonly,t.readonly||(t.inline&&"static"===hy.getStyle(r,"position",!0)&&(r.style.position="relative"),r.contentEditable=t.getParam("content_editable_state",!0)),r.disabled=!1,t.editorUpload=ih(t),t.schema=cr(a),t.dom=yo(l,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:a.force_hex_style_colors,update_styles:!0,root_element:t.inline?t.getBody():null,collect:function(){return t.inline},schema:t.schema,contentCssCors:Ga(t),referrerPolicy:Ya(t),onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=function(t){var e=Yf(t.settings,t.schema);return e.addAttributeFilter("src,href,style,tabindex",(function(e,n){for(var r,i,o=e.length,s=t.dom,a="data-mce-"+n;o--;)if((i=(r=e[o]).attr(n))&&!r.attr(a)){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===n?((i=s.serializeStyle(s.parseStyle(i),r.name)).length||(i=null),r.attr(a,i),r.attr(n,i)):"tabindex"===n?(r.attr(a,i),r.attr(n,null)):r.attr(a,t.convertURL(i,n,r.name))}})),e.addNodeFilter("script",(function(t){for(var e,n,r=t.length;r--;)0!==(n=(e=t[r]).attr("type")||"no/type").indexOf("mce-")&&e.attr("type","mce-"+n)})),t.settings.preserve_cdata&&e.addNodeFilter("#cdata",(function(e){for(var n,r=e.length;r--;)(n=e[r]).type=8,n.name="#comment",n.value="[CDATA["+t.dom.encode(n.value)+"]]"})),e.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(e){for(var n,r=e.length,i=t.schema.getNonEmptyElements();r--;)(n=e[r]).isEmpty(i)&&0===n.getAll("br").length&&(n.append(new Ul("br",1)).shortEnded=!0)})),e}(t),t.serializer=Xf(a,t),t.selection=Hf(t.dom,t.getWin(),t.serializer,t),t.annotator=Fl(t),t.formatter=wm(t),t.undoManager=Rm(t),t._nodeChangeDispatcher=new ey(t),t._selectionOverrides=fy(t),function(t){var e=it(h.none()),n=it(!1),r=Mo((function(e){t.fire("longpress",Q(Q({},e),{type:"longpress"})),n.set(!0)}),400);t.on("touchstart",(function(t){Pm(t).each((function(o){r.cancel();var s={x:i(o.clientX),y:i(o.clientY),target:i(t.target)};r.throttle(t),n.set(!1),e.set(h.some(s))}))}),!0),t.on("touchmove",(function(i){r.cancel(),Pm(i).each((function(r){e.get().each((function(i){(function(t,e){var n=Math.abs(t.clientX-e.x()),r=Math.abs(t.clientY-e.y());return n>5||r>5})(r,i)&&(e.set(h.none()),n.set(!1),t.fire("longpresscancel"))}))}))}),!0),t.on("touchend touchcancel",(function(i){r.cancel(),"touchcancel"!==i.type&&e.get().filter((function(t){return t.target().isEqualNode(i.target)})).each((function(){n.get()?i.preventDefault():t.fire("tap",Q(Q({},i),{type:"tap"}))}))}),!0)}(t),function(t){!function(t){t.on("click",(function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()}))}(t),function(t){t.parser.addNodeFilter("details",(function(t){A(t,(function(t){t.attr("data-mce-open",t.attr("open")),t.attr("open","open")}))})),t.serializer.addNodeFilter("details",(function(t){A(t,(function(t){var e=t.attr("data-mce-open");t.attr("open",p(e)?e:null),t.attr("data-mce-open",null)}))}))}(t)}(t),function(t){t.on("click",(function(e){e.detail>=3&&function(t){var e=t.selection.getRng(),n=ta.fromRangeStart(e),r=ta.fromRangeEnd(e);if(ta.isElementPosition(n)){var i=n.container();ny(i)&&qu.firstPositionIn(i).each((function(t){return e.setStart(t.container(),t.offset())}))}ta.isElementPosition(r)&&(i=n.container(),ny(i)&&qu.lastPositionIn(i).each((function(t){return e.setEnd(t.container(),t.offset())}))),t.selection.setRng(dm(e))}(t)}))}(t),function(t){var e=Tp.setupSelectedState(t);(function(t){t.on("keyup compositionstart",s(Jb,t))})(t),function(t,e){t.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(t,e,n){var r=Tt().os;jg([{keyCode:Cd.RIGHT,action:Sg(t,!0)},{keyCode:Cd.LEFT,action:Sg(t,!1)},{keyCode:Cd.UP,action:kg(t,!1)},{keyCode:Cd.DOWN,action:kg(t,!0)},{keyCode:Cd.RIGHT,action:zg(t,!0)},{keyCode:Cd.LEFT,action:zg(t,!1)},{keyCode:Cd.UP,action:Pg(t,!1)},{keyCode:Cd.DOWN,action:Pg(t,!0)},{keyCode:Cd.RIGHT,action:Tp.move(t,e,!0)},{keyCode:Cd.LEFT,action:Tp.move(t,e,!1)},{keyCode:Cd.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:Tp.moveNextWord(t,e)},{keyCode:Cd.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:Tp.movePrevWord(t,e)},{keyCode:Cd.UP,action:Hg(t,!1)},{keyCode:Cd.DOWN,action:Hg(t,!0)}],n).each((function(t){n.preventDefault()}))}(t,e,n)}))}(t,e),function(t,e){t.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(t,e,n){jg([{keyCode:Cd.BACKSPACE,action:Vg(nb,t,!1)},{keyCode:Cd.BACKSPACE,action:Vg(mv,t,!1)},{keyCode:Cd.DELETE,action:Vg(mv,t,!0)},{keyCode:Cd.BACKSPACE,action:Vg(vv,t,!1)},{keyCode:Cd.DELETE,action:Vg(vv,t,!0)},{keyCode:Cd.BACKSPACE,action:Vg(_v,t,e,!1)},{keyCode:Cd.DELETE,action:Vg(_v,t,e,!0)},{keyCode:Cd.BACKSPACE,action:Vg(Hv,t,!1)},{keyCode:Cd.DELETE,action:Vg(Hv,t,!0)},{keyCode:Cd.BACKSPACE,action:Vg(Vv,t,!1)},{keyCode:Cd.DELETE,action:Vg(Vv,t,!0)},{keyCode:Cd.BACKSPACE,action:Vg(rv,t,!1)},{keyCode:Cd.DELETE,action:Vg(rv,t,!0)},{keyCode:Cd.BACKSPACE,action:Vg(ev,t,!1)},{keyCode:Cd.DELETE,action:Vg(ev,t,!0)},{keyCode:Cd.BACKSPACE,action:Vg(xv,t,!1)},{keyCode:Cd.DELETE,action:Vg(xv,t,!0)}],n).each((function(t){n.preventDefault()}))}(t,e,n)})),t.on("keyup",(function(e){!1===e.isDefaultPrevented()&&function(t,e){jg([{keyCode:Cd.BACKSPACE,action:Vg(pv,t)},{keyCode:Cd.DELETE,action:Vg(pv,t)}],e)}(t,e)}))}(t,e),function(t){t.on("keydown",(function(e){e.keyCode===Cd.ENTER&&function(t,e){var n;e.isDefaultPrevented()||(e.preventDefault(),(n=t.undoManager).typing&&(n.typing=!1,n.add()),t.undoManager.transact((function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),Bb(t,e)})))}(t,e)}))}(t),function(t){t.on("keydown",(function(e){!1===e.isDefaultPrevented()&&function(t,e){jg([{keyCode:Cd.SPACEBAR,action:Vg(Zb,t)}],e).each((function(t){e.preventDefault()}))}(t,e)}))}(t),function(t){!function(t){var e=Do((function(){t.composing||Xb(t)}),0);ty.isIE()&&(t.on("keypress",(function(t){e.throttle()})),t.on("remove",(function(t){e.cancel()})))}(t),t.on("input",(function(e){!1===e.isComposing&&Xb(t)}))}(t),function(t){t.on("keydown",(function(e){!1===e.isDefaultPrevented()&&function(t,e){jg([{keyCode:Cd.END,action:Eg(t,!0)},{keyCode:Cd.HOME,action:Eg(t,!1)}],e).each((function(t){e.preventDefault()}))}(t,e)}))}(t)}(t),function(t){La(t)&&t.on("NodeChange",s(Hm,t))}(t),function(t){var e=t.dom,n=La(t),r=function(t){return t.getParam("placeholder",Pa.getAttrib(t.getElement(),"placeholder"),"string")}(t),i=function(o,s){if(!function(t){if(Nm(t)){var e=t.keyCode;return!zm(t)&&(Cd.metaKeyPressed(t)||t.altKey||e>=112&&e<=123||E(Im,e))}return!1}(o)){var a=t.getBody(),u=!function(t){return Nm(t)&&!(zm(t)||"keyup"===t.type&&229===t.keyCode)}(o)&&function(t,e,n){if(Sh(rt(e),!1)){var r=""===n,i=e.firstElementChild;return!i||!t.getStyle(e.firstElementChild,"padding-left")&&!t.getStyle(e.firstElementChild,"padding-right")&&(r?!t.isBlock(i):n===i.nodeName.toLowerCase())}return!1}(e,a,n);(""!==e.getAttrib(a,"data-mce-placeholder")!==u||s)&&(e.setAttrib(a,"data-mce-placeholder",u?r:null),e.setAttrib(a,"aria-placeholder",u?r:null),function(t,e){t.fire("PlaceholderToggle",{state:e})}(t,u),t.on(u?"keydown":"keyup",i),t.off(u?"keyup":"keydown",i))}};r&&t.on("init",(function(n){i(n,!0),t.on("change SetContent ExecCommand",i),t.on("remove",(function(){var n=t.getBody();e.setAttrib(n,"data-mce-placeholder",null),e.setAttrib(n,"aria-placeholder",null)}))}))}(t),function(t){t.fire("PreInit")}(t),a.browser_spellcheck||a.gecko_spellcheck||(l.body.spellcheck=!1,hy.setAttrib(r,"spellcheck","false")),t.quirks=function(t){var n,r,i,o=kn.each,s=Cd.BACKSPACE,a=Cd.DELETE,u=t.dom,l=t.selection,c=t.settings,d=t.parser,f=gn.gecko,h=gn.webkit,m=gn.ie?"Text":"URL",p=function(e,n){try{t.getDoc().execCommand(e,!1,n)}catch(r){}},g=function(t){return t.isDefaultPrevented()},v=function(){t.shortcuts.add("meta+a",null,"SelectAll")},b=function(){t.on("keydown",(function(t){if(!g(t)&&t.keyCode===s&&l.isCollapsed()&&0===l.getRng().startOffset){var e=l.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}}))},y=function(){t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",(function(e){var n;if("HTML"===e.target.nodeName){if(gn.ie>11)return void t.getBody().focus();n=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(n),t.selection.normalize(),t.nodeChanged()}})))};return t.on("keydown",(function(e){var n,r,i,o,s;if(!g(e)&&e.keyCode===Cd.BACKSPACE&&(r=(n=l.getRng()).startContainer,i=n.startOffset,o=u.getRoot(),s=r,n.collapsed&&0===i)){for(;s&&s.parentNode&&s.parentNode.firstChild===s&&s.parentNode!==o;)s=s.parentNode;"BLOCKQUOTE"===s.tagName&&(t.formatter.toggle("blockquote",null,s),(n=u.createRng()).setStart(r,0),n.setEnd(r,0),l.setRng(n))}})),n=function(t){var e=u.create("body"),n=t.cloneContents();return e.appendChild(n),l.serializer.serialize(e,{format:"html"})},t.on("keydown",(function(e){var r,i,o=e.keyCode;if(!g(e)&&(o===a||o===s)){if(r=t.selection.isCollapsed(),i=t.getBody(),r&&!u.isEmpty(i))return;if(!r&&!function(e){var r=n(e),i=u.createRng();return i.selectNode(t.getBody()),r===n(i)}(t.selection.getRng()))return;e.preventDefault(),t.setContent(""),i.firstChild&&u.isBlock(i.firstChild)?t.selection.setCursorLocation(i.firstChild,0):t.selection.setCursorLocation(i,0),t.nodeChanged()}})),gn.windowsPhone||t.on("keyup focusin mouseup",(function(t){Cd.modifierPressed(t)||l.normalize()}),!0),h&&(t.inline||u.bind(t.getDoc(),"mousedown mouseup",(function(e){var n;if(e.target===t.getDoc().documentElement)if(n=l.getRng(),t.getBody().focus(),"mousedown"===e.type){if(ss(n.startContainer))return;l.placeCaretAt(e.clientX,e.clientY)}else l.setRng(n)})),t.on("click",(function(e){var n=e.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==u.getContentEditableParent(n)&&(e.preventDefault(),t.selection.select(n),t.nodeChanged()),"A"===n.nodeName&&u.hasClass(n,"mce-item-anchor")&&(e.preventDefault(),l.select(n))})),c.forced_root_block&&t.on("init",(function(){p("DefaultParagraphSeparator",La(t))})),t.on("init",(function(){t.dom.bind(t.getBody(),"submit",(function(t){t.preventDefault()}))})),b(),d.addNodeFilter("br",(function(t){for(var e=t.length;e--;)"Apple-interchange-newline"===t[e].attr("class")&&t[e].remove()})),gn.iOS?(t.inline||t.on("keydown",(function(){e.document.activeElement===e.document.body&&t.getWin().focus()})),y(),t.on("click",(function(t){var e=t.target;do{if("A"===e.tagName)return void t.preventDefault()}while(e=e.parentNode)})),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):v()),gn.ie>=11&&(y(),b()),gn.ie&&(v(),p("AutoUrlDetect",!1),t.on("dragstart",(function(e){!function(e){var n,r;e.dataTransfer&&(t.selection.isCollapsed()&&"IMG"===e.target.tagName&&l.select(e.target),(n=t.selection.getContent()).length>0&&(r="data:text/mce-internal,"+escape(t.id)+","+escape(n),e.dataTransfer.setData(m,r)))}(e)})),t.on("drop",(function(e){if(!g(e)){var n=function(t){var e;return t.dataTransfer&&(e=t.dataTransfer.getData(m))&&e.indexOf("data:text/mce-internal,")>=0?(e=e.substr("data:text/mce-internal,".length).split(","),{id:unescape(e[0]),html:unescape(e[1])}):null}(e);if(n&&n.id!==t.id){e.preventDefault();var r=Yd(e.x,e.y,t.getDoc());l.setRng(r),i=n.html,t.queryCommandSupported("mceInsertClipboardContent")?t.execCommand("mceInsertClipboardContent",!1,{content:i,internal:!0}):t.execCommand("mceInsertContent",!1,i)}}var i}))),f&&(t.on("keydown",(function(e){if(!g(e)&&e.keyCode===s){if(!t.getBody().getElementsByTagName("hr").length)return;if(l.isCollapsed()&&0===l.getRng().startOffset){var n=l.getNode(),r=n.previousSibling;if("HR"===n.nodeName)return u.remove(n),void e.preventDefault();r&&r.nodeName&&"hr"===r.nodeName.toLowerCase()&&(u.remove(r),e.preventDefault())}}})),e.Range.prototype.getClientRects||t.on("mousedown",(function(e){if(!g(e)&&"HTML"===e.target.nodeName){var n=t.getBody();n.blur(),an.setEditorTimeout(t,(function(){n.focus()}))}})),r=function(){var e=u.getAttribs(l.getStart().cloneNode(!1));return function(){var n=l.getStart();n!==t.getBody()&&(u.setAttrib(n,"style",null),o(e,(function(t){n.setAttributeNode(t.cloneNode(!0))})))}},i=function(){return!l.isCollapsed()&&u.getParent(l.getStart(),u.isBlock)!==u.getParent(l.getEnd(),u.isBlock)},t.on("keypress",(function(e){var n;if(!g(e)&&(8===e.keyCode||46===e.keyCode)&&i())return n=r(),t.getDoc().execCommand("delete",!1,null),n(),e.preventDefault(),!1})),u.bind(t.getDoc(),"cut",(function(e){var n;!g(e)&&i()&&(n=r(),an.setEditorTimeout(t,(function(){n()})))})),c.readonly||t.on("BeforeExecCommand mousedown",(function(){p("StyleWithCSS",!1),p("enableInlineTableEditing",!1),c.object_resizing||p("enableObjectResizing",!1)})),t.on("SetContent ExecCommand",(function(t){"setcontent"!==t.type&&"mceInsertLink"!==t.command||o(u.select("a"),(function(t){var e=t.parentNode,n=u.getRoot();if(e.lastChild===t){for(;e&&!u.isBlock(e);){if(e.parentNode.lastChild!==e||e===n)return;e=e.parentNode}u.add(e,"br",{"data-mce-bogus":1})}}))})),t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),gn.mac&&t.on("keydown",(function(e){!Cd.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),t.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"))})),b()),{refreshContentEditable:function(){},isHidden:function(){var e;return!(!f||t.removed||(e=t.selection.getSel())&&e.rangeCount&&0!==e.rangeCount)}}}(t),function(t){t.fire("PostRender")}(t);var c=function(t){return t.getParam("directionality",Oo.isRtl()?"rtl":void 0)}(t);void 0!==c&&(r.dir=c),a.protect&&t.on("BeforeSetContent",(function(t){kn.each(a.protect,(function(e){t.content=t.content.replace(e,(function(t){return"\x3c!--mce:protected "+escape(t)+"--\x3e"}))}))})),t.on("SetContent",(function(){t.addVisual(t.getBody())})),t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.on("compositionstart compositionend",(function(e){t.composing="compositionstart"===e.type})),t.contentStyles.length>0&&(o="",kn.each(t.contentStyles,(function(t){o+=t+"\r\n"})),t.dom.addStyle(o)),function(t){return t.inline?hy.styleSheetLoader:t.dom.styleSheetLoader}(t).loadAll(t.contentCSS,(function(e){my(t)}),(function(e){my(t)})),a.content_style&&function(t,e){var n=rt(t.getDoc().head),r=et("style");Ne(r,"type","text/css"),Jt(r,nt(e)),Jt(n,r)}(t,a.content_style)},gy=yo.DOM,vy=yo.DOM,by=function(t,e,n){var r=ld.get(n),i=ld.urls[n]||t.documentBaseUrl.replace(/\/$/,"");if(n=kn.trim(n),r&&-1===kn.inArray(e,n)){if(kn.each(ld.dependencies(n),(function(n){by(t,e,n)})),t.plugins[n])return;try{var o=new r(t,i,t.$);t.plugins[n]=o,o.init&&(o.init(t,i),e.push(n))}catch(ow){!function(t,e,n){var r=Oo.translate(["Failed to initialize plugin: {0}",e]);gd(r,n),hd(t,r)}(t,n,ow)}}},yy=function(t){return t.replace(/^\-/,"")},_y=function(t){return{editorContainer:t,iframeContainer:t}},wy=function(t){t.fire("ScriptsLoaded"),function(t){var e=kn.trim(t.settings.icons),n=t.ui.registry.getAll().icons,r=Q(Q({},{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 1 1 0-2h9.2zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h6.8zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h4.4zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 0 1 0-2h2zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 1 1 0-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 0 1-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0zm-10-7l-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8zM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 1 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9zM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13z" fill-rule="nonzero"/></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2zm14-2v2h2a2 2 0 0 0-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 0 0 2-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2zm2 14h-2v2a2 2 0 0 0 2-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1zM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2.1 2a2 2 0 1 0 2.7 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19zm-1 8.8l.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8zM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7zM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 0 0-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 0 0 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',"sort-asc":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M4 8h5a1 1 0 1 1 0 2H4a1 1 0 1 1 0-2zm0 8h8a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0-4h7a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"/><path fill-rule="nonzero" d="M16 8.4l-2.3 2.3a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L18 8.4V18a1 1 0 0 1-2 0V8.4z"/></g></svg>',"sort-dsc":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M4 16h5a1 1 0 0 0 0-2H4a1 1 0 0 0 0 2zm0-8h8a1 1 0 0 0 0-2H4a1 1 0 1 0 0 2zm0 4h7a1 1 0 0 0 0-2H4a1 1 0 0 0 0 2z"/><path fill-rule="nonzero" d="M16 15.6l-2.3-2.3a1 1 0 0 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 0 0-1.4-1.4L18 15.6V6a1 1 0 0 0-2 0v9.6z"/></g></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 1 1 2 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2zM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1zM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12zM11 6.4L8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 0 1-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 0 1-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 0 1 2 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" fill-rule="nonzero"/></svg>'}),td.get(e).icons);$(r,(function(e,r){Z(n,r)||t.ui.registry.addIcon(r,e)}))}(t),function(t){var e=t.settings.theme;if(p(e)){t.settings.theme=yy(e);var n=cd.get(e);t.theme=new n(t,cd.urls[e]),t.theme.init&&t.theme.init(t,cd.urls[e]||t.documentBaseUrl.replace(/\/$/,""),t.$)}else t.theme={}}(t),function(t){var e=[];kn.each(t.settings.plugins.split(/[ ,]/),(function(n){by(t,e,yy(n))}))}(t);var n=function(t){var e=t.getElement();return t.orgDisplay=e.style.display,p(t.settings.theme)?function(t){return t.theme.renderUI()}(t):_(t.settings.theme)?function(t){var e=t.getElement(),n=(0,t.settings.theme)(t,e);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||t.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||t.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:e.offsetHeight,n}(t):function(t){var e=t.getElement();return t.inline?_y(null):function(t){var e=vy.create("div");return vy.insertAfter(e,t),_y(e)}(e)}(t)}(t);return t.editorContainer=n.editorContainer?n.editorContainer:null,function(t){t.contentCSS=t.contentCSS.concat(function(t){var e=function(t){var e=t.settings.content_css;return p(e)?T(e.split(","),_t):v(e)?e:!1===e||t.inline?[]:["default"]}(t),n=t.editorManager.baseURL+"/skins/content",r="content"+t.editorManager.suffix+".css",i=!0===t.inline;return T(e,(function(e){return function(t){return/^[a-z0-9\-]+$/i.test(t)}(e)&&!i?n+"/"+e+"/"+r:t.documentBaseURI.toAbsolute(e)}))}(t))}(t),t.inline?py(t):function(t,n){var r=function(t,n){var r=t.editorManager.translate("Rich Text Area. Press ALT-0 for help."),i=function(t,e,n,r){var i=et("iframe");return ze(i,r),ze(i,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",title:e}),No(i,"tox-edit-area__iframe"),i}(t.id,r,0,function(t){return t.getParam("iframe_attrs",{})}(t)).dom();i.onload=function(){i.onload=null,t.fire("load")};var o=function(t,n){if(e.document.domain!==e.window.location.hostname&&gn.browser.isIE()){var r=rh("mce");return t[r]=function(){py(t)},gy.setAttrib(n,"src",'javascript:(function(){document.open();document.domain="'+e.document.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.'+r+"(true);})()"),!0}return!1}(t,i);return t.contentAreaContainer=n.iframeContainer,t.iframeElement=i,t.iframeHTML=function(t){var e,n,r;return r=function(t){return t.getParam("doctype","<!DOCTYPE html>")}(t)+"<html><head>",function(t){return t.getParam("document_base_url","")}(t)!==t.documentBaseUrl&&(r+='<base href="'+t.documentBaseURI.getURI()+'" />'),r+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',e=function(t){return Fa(t,"body_id","tinymce")}(t),n=function(t){return Fa(t,"body_class","")}(t),Ba(t)&&(r+='<meta http-equiv="Content-Security-Policy" content="'+Ba(t)+'" />'),r+'</head><body id="'+e+'" class="mce-content-body '+n+'" data-id="'+t.id+'"><br></body></html>'}(t),gy.add(n.iframeContainer,i),o}(t,n);n.editorContainer&&(gy.get(n.editorContainer).style.display=t.orgDisplay,t.hidden=gy.isHidden(n.editorContainer)),t.getElement().style.display="none",gy.setAttrib(t.id,"aria-hidden","true"),r||py(t)}(t,n)},xy=yo.DOM,Cy=function(t){return"-"===t.charAt(0)},Sy=function(t,e){var r=Co.ScriptLoader;!function(t,e,n,r){var i=e.settings,o=i.theme;if(p(o)){if(!Cy(o)&&!cd.urls.hasOwnProperty(o)){var s=i.theme_url;cd.load(o,s?e.documentBaseURI.toAbsolute(s):"themes/"+o+"/theme"+n+".js")}t.loadQueue((function(){cd.waitFor(o,r)}))}else r()}(r,t,e,(function(){!function(t,e){var r=Ka(e),i=function(t){return t.getParam("language_url","","string")}(e);if(!1===Oo.hasCode(r)&&"en"!==r){var o=""!==i?i:e.editorManager.baseURL+"/langs/"+r+".js";t.add(o,n,void 0,(function(){!function(t,e,n){md(t,"LanguageLoadError",pd("language",e,n))}(e,o,r)}))}}(r,t),function(t,e){(function(t){return h.from(function(t){return t.getParam("icons_url","","string")}(t)).filter((function(t){return t.length>0})).map((function(t){return{url:t,name:h.none()}}))})(e).orThunk((function(){return function(t){return h.from(function(t){return t.getParam("icons","","string")}(t)).filter((function(t){return t.length>0&&!td.has(t)})).map((function(e){return{url:t.editorManager.baseURL+"/icons/"+e+"/icons.js",name:h.some(e)}}))}(e)})).each((function(r){t.add(r.url,n,void 0,(function(){!function(t,e,n){md(t,"IconsLoadError",pd("icons",e,n))}(e,r.url,r.name.getOrUndefined())}))}))}(r,t),function(t,e,r){v(e.plugins)&&(e.plugins=e.plugins.join(" ")),kn.each(e.external_plugins,(function(r,i){ld.load(i,r,n,void 0,(function(){vd(t,r,i)})),e.plugins+=" "+i})),kn.each(e.plugins.split(/[ ,]/),(function(e){if((e=kn.trim(e))&&!ld.urls[e])if(Cy(e)){e=e.substr(1,e.length);var i=ld.dependencies(e);kn.each(i,(function(e){var i=ld.createUrl({prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"},e);ld.load(i.resource,i,n,void 0,(function(){vd(t,i.prefix+i.resource+i.suffix,i.resource)}))}))}else{var o={prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"};ld.load(e,o,n,void 0,(function(){vd(t,o.prefix+o.resource+o.suffix,e)}))}}))}(t,t.settings,e),r.loadQueue((function(){t.removed||wy(t)}),t,(function(){t.removed||wy(t)}))}))},ky=function(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null},Ey=function(t,e){var n=na.after(t),r=Pu(e).prev(n);return r?r.toRange():null},Oy=function(t,e,n,r){var i=function(t,e,n){var r=e.serialize(n);return function(t){var e=t.firstChild,n=t.lastChild;return e&&"META"===e.nodeName&&e.parentNode.removeChild(e),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),t}(t.createFragment(r))}(e,t,r),o=ky(e,n.startContainer),s=function(t){return t.length>0&&(!(n=t[t.length-1]).firstChild||(e=n)&&e.firstChild&&e.firstChild===e.lastChild&&function(t){return"\xa0"===t.data||Me.isBr(t)}(e.firstChild))?t.slice(0,-1):t;var e,n}(kn.grep(i.firstChild.childNodes,(function(t){return"LI"===t.nodeName}))),a=e.getRoot(),u=function(t){var r=na.fromRangeStart(n),i=Pu(e.getRoot()),s=1===t?i.prev(r):i.next(r);return!s||ky(e,s.getNode())!==o};return u(1)?function(t,e,n){var r=t.parentNode;return kn.each(e,(function(e){r.insertBefore(e,t)})),function(t,e){var n=na.before(t),r=Pu(e).next(n);return r?r.toRange():null}(t,n)}(o,s,a):u(2)?function(t,e,n,r){return r.insertAfter(e.reverse(),t),Ey(e[0],n)}(o,s,a,e):function(t,e,n,r){var i=function(t,e){var n=e.cloneRange(),r=e.cloneRange();return n.setStartBefore(t),r.setEndAfter(t),[n.cloneContents(),r.cloneContents()]}(t,r),o=t.parentNode;return o.insertBefore(i[0],t),kn.each(e,(function(e){o.insertBefore(e,t)})),o.insertBefore(i[1],t),o.removeChild(t),Ey(e[e.length-1],n)}(o,s,a,n)},Ty=Me.matchNodeNames(["td","th"]),Ay=function(t,e){var n=t.selection.getRng(),r=n.startContainer,i=n.startOffset;n.collapsed&&function(t,e){return Me.isText(t)&&"\xa0"===t.nodeValue[e-1]}(r,i)&&Me.isText(r)&&(r.insertData(i-1," "),r.deleteData(i,1),n.setStart(r,i),n.setEnd(r,i),t.selection.setRng(n)),t.selection.setContent(e)},Dy=function(t,e){t.getDoc().execCommand(e,!1,null)},My={"font-size":"size","font-family":"face"},Ry=function(t){return function(e,n){return h.from(n).map(rt).filter(se).bind((function(n){return function(t,e,n){var r,o,s;return r=rt(n),s=function(t){return Ft(rt(e),t)},(o=function(e){return function(e){return He(e,t).orThunk((function(){return"font"===ie(e)?X(My,t).bind((function(t){return h.from(Pe(e,t))})):h.none()}))}(e)})(r).orThunk((function(){return s(r)?h.none():function(t,e,n){for(var r=t.dom(),o=_(n)?n:i(!1);r.parentNode;){var s=rt(r=r.parentNode),a=e(s);if(a.isSome())return a;if(o(s))break}return h.none()}(r,o,s)}))}(t,e,n.dom()).or(function(t,e){return h.from(yo.DOM.getStyle(e,t,!0))}(t,n.dom()))})).getOr("")}},Iy={getFontSize:Ry("font-size"),getFontFamily:r((function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")}),Ry("font-family")),toPt:function(t,e){return/[0-9.]+px$/.test(t)?function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}(72*parseInt(t,10)/96,e||0)+"pt":t}},Ny=function(t){return qu.firstPositionIn(t.getBody()).map((function(t){var e=t.container();return Me.isText(e)?e.parentNode:e}))},zy=function(t){return h.from(t.selection.getRng()).bind((function(e){return function(t,e){return t.startContainer===e&&0===t.startOffset}(e,t.getBody())?h.none():h.from(t.selection.getStart(!0))}))},Py=function(t,e){if(/^[0-9\.]+$/.test(e)){var n=parseInt(e,10);if(n>=1&&n<=7){var r=function(t){return kn.explode(t.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))}(t),i=function(t){return kn.explode(t.getParam("font_size_classes",""))}(t);return i?i[n-1]||e:r[n-1]||e}return e}return e},Fy=function(t){var e=t.split(/\s*,\s*/);return T(e,(function(t){return-1===t.indexOf(" ")||yt(t,'"')||yt(t,"'")?t:"'"+t+"'"})).join(",")},By=kn.each,Ly=kn.map,Hy=kn.inArray,Vy=function(){function t(t){this.commands={state:{},exec:{},value:{}},this.editor=t,this.setupCommands(t)}return t.prototype.execCommand=function(t,e,n,r){var i,o,s,a=!1,u=this;if(!u.editor.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||r&&r.skip_focus?yc(s=u.editor).each((function(t){s.selection.setRng(t)})):u.editor.focus(),(r=u.editor.fire("BeforeExecCommand",{command:t,ui:e,value:n})).isDefaultPrevented())return!1;if(o=t.toLowerCase(),i=u.commands.exec[o])return i(o,e,n),u.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;if(By(this.editor.plugins,(function(r){if(r.execCommand&&r.execCommand(t,e,n))return u.editor.fire("ExecCommand",{command:t,ui:e,value:n}),a=!0,!1})),a)return a;if(u.editor.theme&&u.editor.theme.execCommand&&u.editor.theme.execCommand(t,e,n))return u.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;try{a=u.editor.getDoc().execCommand(t,e,n)}catch(l){}return!!a&&(u.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0)}},t.prototype.queryCommandState=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.state[t])return e(t);try{return this.editor.getDoc().queryCommandState(t)}catch(n){}return!1}},t.prototype.queryCommandValue=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.value[t])return e(t);try{return this.editor.getDoc().queryCommandValue(t)}catch(n){}}},t.prototype.addCommands=function(t,e){var n=this;e=e||"exec",By(t,(function(t,r){By(r.toLowerCase().split(","),(function(r){n.commands[e][r]=t}))}))},t.prototype.addCommand=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.exec[t]=function(t,i,o,s){return e.call(n||r.editor,i,o,s)}},t.prototype.queryCommandSupported=function(t){if(t=t.toLowerCase(),this.commands.exec[t])return!0;try{return this.editor.getDoc().queryCommandSupported(t)}catch(e){}return!1},t.prototype.addQueryStateHandler=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.state[t]=function(){return e.call(n||r.editor)}},t.prototype.addQueryValueHandler=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.value[t]=function(){return e.call(n||r.editor)}},t.prototype.hasCustomCommand=function(t){return t=t.toLowerCase(),!!this.commands.exec[t]},t.prototype.execNativeCommand=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(t,e,n)},t.prototype.isFormatMatch=function(t){return this.editor.formatter.match(t)},t.prototype.toggleFormat=function(t,e){this.editor.formatter.toggle(t,e?{value:e}:void 0),this.editor.nodeChanged()},t.prototype.storeSelection=function(t){this.selectionBookmark=this.editor.selection.getBookmark(t)},t.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},t.prototype.setupCommands=function(t){var e=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},"Cut,Copy,Paste":function(n){var r,i=t.getDoc();try{e.execNativeCommand(n)}catch(s){r=!0}if("paste"!==n||i.queryCommandEnabled(n)||(r=!0),r||!i.queryCommandSupported(n)){var o=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");gn.mac&&(o=o.replace(/Ctrl\+/g,"\u2318+")),t.notificationManager.open({text:o,type:"error"})}},unlink:function(){if(t.selection.isCollapsed()){var e=t.dom.getParent(t.selection.getStart(),"a");e&&t.dom.remove(e,!0)}else t.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var r=n.substring(7);"full"===r&&(r="justify"),By("left,center,right,justify".split(","),(function(e){r!==e&&t.formatter.remove("align"+e)})),"none"!==r&&e.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(n){var r,i;e.execNativeCommand(n),(r=t.dom.getParent(t.selection.getNode(),"ol,ul"))&&/^(H[1-6]|P|ADDRESS|PRE)$/.test((i=r.parentNode).nodeName)&&(e.storeSelection(),t.dom.split(i,r),e.restoreSelection())},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){e.toggleFormat(t)},"ForeColor,HiliteColor":function(t,n,r){e.toggleFormat(t,r)},FontName:function(e,n,r){!function(t,e){var n=Py(t,e);t.formatter.toggle("fontname",{value:Fy(n)}),t.nodeChanged()}(t,r)},FontSize:function(e,n,r){!function(t,e){t.formatter.toggle("fontsize",{value:Py(t,e)}),t.nodeChanged()}(t,r)},RemoveFormat:function(e){t.formatter.remove(e)},mceBlockQuote:function(){e.toggleFormat("blockquote")},FormatBlock:function(t,n,r){return e.toggleFormat(r||"p")},mceCleanup:function(){var e=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(e)},mceRemoveNode:function(n,r,i){var o=i||t.selection.getNode();o!==t.getBody()&&(e.storeSelection(),t.dom.remove(o,!0),e.restoreSelection())},mceSelectNodeDepth:function(e,n,r){var i=0;t.dom.getParent(t.selection.getNode(),(function(e){if(1===e.nodeType&&i++===r)return t.selection.select(e),!1}),t.getBody())},mceSelectNode:function(e,n,r){t.selection.select(r)},mceInsertContent:function(e,n,r){!function(t,e){var n=function(t){var e;return"string"!=typeof t?(e=kn.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:e}):{content:t,details:{}}}(e);!function(t,e,n){var r,i,o,s,a,u,l,c,d,f,m,p=t.selection,g=t.dom;if(/^ | $/.test(e)&&(e=function(t,e){var n,r;r=t.startOffset;var i=function(t){return n[t]&&3===n[t].nodeType};return 3===(n=t.startContainer).nodeType&&(r>0?e=e.replace(/^&nbsp;/," "):i("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),r<n.length?e=e.replace(/&nbsp;(<br>|)$/," "):i("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}(p.getRng(),e)),r=t.parser,m=n.merge,i=nc({validate:t.settings.validate},t.schema),f='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',(u=t.fire("BeforeSetContent",u={content:e,format:"html",selection:!0,paste:n.paste})).isDefaultPrevented())t.fire("SetContent",{content:u.content,format:"html",selection:!0,paste:n.paste});else{-1===(e=u.content).indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,f);var v=(c=p.getRng()).startContainer||(c.parentElement?c.parentElement():null),b=t.getBody();v===b&&p.isCollapsed()&&g.isBlock(b.firstChild)&&function(t,e){return e&&!t.schema.getShortEndedElements()[e.nodeName]}(t,b.firstChild)&&g.isEmpty(b.firstChild)&&((c=g.createRng()).setStart(b.firstChild,0),c.setEnd(b.firstChild,0),p.setRng(c)),p.isCollapsed()||(t.selection.setRng(dm(t.selection.getRng())),t.getDoc().execCommand("Delete",!1,null),e=function(t,e){var n,r;return r=t.startOffset,3===(n=t.startContainer).nodeType&&t.collapsed&&("\xa0"===n.data[r]?(n.deleteData(r,1),/[\u00a0| ]$/.test(e)||(e+=" ")):"\xa0"===n.data[r-1]&&(n.deleteData(r-1,1),/[\u00a0| ]$/.test(e)||(e=" "+e))),e}(t.selection.getRng(),e));var y,_={context:(o=p.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0};if(a=r.parse(e,_),!0===n.paste&&function(t,e){var n=e.firstChild,r=e.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),function(t,e){var n=t.getNonEmptyElements();return e&&(e.isEmpty(n)||function(t,e){return t.getBlockElements()[e.name]&&function(t){return t.firstChild&&t.firstChild===t.lastChild}(e)&&function(t){return"br"===t.name||"\xa0"===t.value}(e.firstChild)}(t,e))}(t,r)&&(r=r.prev),!(!n||n!==r||"ul"!==n.name&&"ol"!==n.name)}(t.schema,a)&&function(t,e){return!!ky(t,e)}(g,o))return c=Oy(i,g,t.selection.getRng(),a),t.selection.setRng(c),void t.fire("SetContent",u);if(function(t){for(var e=t;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")}(a),"mce_marker"===(d=a.lastChild).attr("id"))for(l=d,d=d.prev;d;d=d.walk(!0))if(3===d.type||!g.isBlock(d.name)){t.schema.isValidChild(d.parent.name,"span")&&d.parent.insert(l,d,"br"===d.name);break}if(t._selectionOverrides.showBlockCaretContainer(o),_.invalid){for(Ay(t,f),o=p.getNode(),s=t.getBody(),9===o.nodeType?o=d=s:d=o;d!==s;)o=d,d=d.parentNode;e=o===s?s.innerHTML:g.getOuterHTML(o),e=i.serialize(r.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return i.serialize(a)})))),o===s?g.setHTML(s,e):g.setOuterHTML(o,e)}else!function(t,e,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(t.dom.createFragment(e),n);else{var r=n.firstChild;!r||r===n.lastChild&&"BR"===r.nodeName?t.dom.setHTML(n,e):Ay(t,e)}}(t,e=i.serialize(a),o);!function(t,e){var n=t.schema.getTextInlineElements(),r=t.dom;if(e){var i=t.getBody(),o=new Wh(r);kn.each(r.select("*[data-mce-fragment]"),(function(t){for(var e=t.parentNode;e&&e!==i;e=e.parentNode)n[t.nodeName.toLowerCase()]&&o.compare(e,t)&&r.remove(t,!0)}))}}(t,m),function(t,e){var n,r,i,o,s,a=t.dom,u=t.selection;if(e){if(t.selection.scrollIntoView(e),n=function(e){for(var n=t.getBody();e&&e!==n;e=e.parentNode)if("false"===t.dom.getContentEditable(e))return e;return null}(e))return a.remove(e),void u.select(n);var l=a.createRng();(o=e.previousSibling)&&3===o.nodeType?(l.setStart(o,o.nodeValue.length),gn.ie||(s=e.nextSibling)&&3===s.nodeType&&(o.appendData(s.data),s.parentNode.removeChild(s))):(l.setStartBefore(e),l.setEndBefore(e)),r=a.getParent(e,a.isBlock),a.remove(e),r&&a.isEmpty(r)&&(t.$(r).empty(),l.setStart(r,0),l.setEnd(r,0),Ty(r)||function(t){return!!t.getAttribute("data-mce-fragment")}(r)||!(i=function(e){var n=na.fromRangeStart(e);if(n=Pu(t.getBody()).next(n))return n.toRange()}(l))?a.add(r,a.create("br",{"data-mce-bogus":"1"})):(l=i,a.remove(r))),u.setRng(l)}}(t,g.get("mce_marker")),y=t.getBody(),kn.each(y.getElementsByTagName("*"),(function(t){t.removeAttribute("data-mce-fragment")})),function(t,e){h.from(t.getParent(e,"td,th")).map(rt).each(sh)}(t.dom,t.selection.getStart()),t.fire("SetContent",u),t.addVisual()}}(t,n.content,n.details)}(t,r)},mceInsertRawHTML:function(e,n,r){t.selection.setContent("tiny_mce_marker");var i=t.getContent();t.setContent(i.replace(/tiny_mce_marker/g,(function(){return r})))},mceInsertNewLine:function(e,n,r){Bb(t,r)},mceToggleFormat:function(t,n,r){e.toggleFormat(r)},mceSetContent:function(e,n,r){t.setContent(r)},"Indent,Outdent":function(e){Gv(t,e)},mceRepaint:function(){},InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(e,n,r){t.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceInsertLink:function(e,n,r){var i;"string"==typeof r&&(r={href:r}),i=t.dom.getParent(t.selection.getNode(),"a"),r.href=r.href.replace(/ /g,"%20"),i&&r.href||t.formatter.remove("link"),r.href&&t.formatter.apply("link",r,i)},selectAll:function(){var e=t.dom.getParent(t.selection.getStart(),Me.isContentEditableTrue);if(e){var n=t.dom.createRng();n.selectNodeContents(e),t.selection.setRng(n)}},delete:function(){!function(t){nb(t)||mv(t,!1)||vv(t,!1)||_v(t,!1)||ev(t,!1)||Hv(t)||rv(t)||xv(t,!1)||(Dy(t,"Delete"),$g(t))}(t)},forwardDelete:function(){!function(t){mv(t,!0)||vv(t,!0)||_v(t,!0)||ev(t,!0)||Hv(t)||rv(t)||xv(t,!0)||Dy(t,"ForwardDelete")}(t)},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(e,n,r){return kb(t,r),!0}});var n=function(e){return function(){var n=t.selection.isCollapsed()?[t.dom.getParent(t.selection.getNode(),t.dom.isBlock)]:t.selection.getSelectedBlocks(),r=Ly(n,(function(n){return!!t.formatter.matchNode(n,e)}));return-1!==Hy(r,!0)}};e.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return e.isFormatMatch(t)},mceBlockQuote:function(){return e.isFormatMatch("blockquote")},Outdent:function(){return $v(t)},"InsertUnorderedList,InsertOrderedList":function(e){var n=t.dom.getParent(t.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===e&&"UL"===n.tagName||"insertorderedlist"===e&&"OL"===n.tagName)}},"state"),e.addCommands({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),e.addQueryValueHandler("FontName",(function(){return function(t){return zy(t).fold((function(){return Ny(t).map((function(e){return Iy.getFontFamily(t.getBody(),e)})).getOr("")}),(function(e){return Iy.getFontFamily(t.getBody(),e)}))}(t)}),this),e.addQueryValueHandler("FontSize",(function(){return function(t){return zy(t).fold((function(){return Ny(t).map((function(e){return Iy.getFontSize(t.getBody(),e)})).getOr("")}),(function(e){return Iy.getFontSize(t.getBody(),e)}))}(t)}),this)},t}(),jy=kn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),Uy=function(){function t(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||u}return t.isNative=function(t){return!!jy[t.toLowerCase()]},t.prototype.fire=function(t,e){var n,r,i,o;if(t=t.toLowerCase(),(e=e||{}).type=t,e.target||(e.target=this.scope),e.preventDefault||(e.preventDefault=function(){e.isDefaultPrevented=l},e.stopPropagation=function(){e.isPropagationStopped=l},e.stopImmediatePropagation=function(){e.isImmediatePropagationStopped=l},e.isDefaultPrevented=u,e.isPropagationStopped=u,e.isImmediatePropagationStopped=u),this.settings.beforeFire&&this.settings.beforeFire(e),n=this.bindings[t])for(r=0,i=n.length;r<i;r++){if((o=n[r]).once&&this.off(t,o.func),e.isImmediatePropagationStopped())return e.stopPropagation(),e;if(!1===o.func.call(this.scope,e))return e.preventDefault(),e}return e},t.prototype.on=function(t,e,n,r){var i,o,s;if(!1===e&&(e=u),e){var a={func:e};for(r&&kn.extend(a,r),s=(o=t.toLowerCase().split(" ")).length;s--;)(i=this.bindings[t=o[s]])||(i=this.bindings[t]=[],this.toggleEvent(t,!0)),n?i.unshift(a):i.push(a)}return this},t.prototype.off=function(t,e){var n,r,i,o,s;if(t)for(n=(o=t.toLowerCase().split(" ")).length;n--;){if(r=this.bindings[t=o[n]],!t){for(i in this.bindings)this.toggleEvent(i,!1),delete this.bindings[i];return this}if(r){if(e)for(s=r.length;s--;)r[s].func===e&&(r=r.slice(0,s).concat(r.slice(s+1)),this.bindings[t]=r);else r.length=0;r.length||(this.toggleEvent(t,!1),delete this.bindings[t])}}else{for(t in this.bindings)this.toggleEvent(t,!1);this.bindings={}}return this},t.prototype.once=function(t,e,n){return this.on(t,e,n,{once:!0})},t.prototype.has=function(t){return t=t.toLowerCase(),!(!this.bindings[t]||0===this.bindings[t].length)},t}(),$y=function(t){return t._eventDispatcher||(t._eventDispatcher=new Uy({scope:t,toggleEvent:function(e,n){Uy.isNative(e)&&t.toggleNativeEvent&&t.toggleNativeEvent(e,n)}})),t._eventDispatcher},Wy={fire:function(t,e,n){if(this.removed&&"remove"!==t&&"detach"!==t)return e;var r=$y(this).fire(t,e);if(!1!==n&&this.parent)for(var i=this.parent();i&&!r.isPropagationStopped();)i.fire(t,r,!1),i=i.parent();return r},on:function(t,e,n){return $y(this).on(t,e,n)},off:function(t,e){return $y(this).off(t,e)},once:function(t,e){return $y(this).once(t,e)},hasEventListeners:function(t){return $y(this).has(t)}},qy=function(t,e,n){try{t.getDoc().execCommand(e,!1,n)}catch(r){}},Gy=function(t,e){t.dom().contentEditable=e?"true":"false"},Yy=function(t,e){var n=rt(t.getBody());(function(t,e,n){var r,i;zo(t,e)&&!1===n?(i=e,Io(r=t)?r.dom().classList.remove(i):function(t,e){!function(t,e,n){var r=D(Ro(t,"class"),(function(t){return t!==n}));r.length>0?Ne(t,"class",r.join(" ")):Fe(t,"class")}(t,0,e)}(r,i),function(t){0===(Io(t)?t.dom().classList:function(t){return Ro(t,"class")}(t)).length&&Fe(t,"class")}(r)):n&&No(t,e)})(n,"mce-content-readonly",e),e?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),function(t){h.from(t.selection.getNode()).each((function(t){t.removeAttribute("data-mce-selected")}))}(t),t.readonly=!0,Gy(n,!1),A(Fo(n,'*[contenteditable="true"]'),(function(t){Ne(t,"data-mce-contenteditable","true"),Gy(t,!1)}))):(t.readonly=!1,Gy(n,!0),function(t){A(Fo(t,'*[data-mce-contenteditable="true"]'),(function(t){Fe(t,"data-mce-contenteditable"),Gy(t,!0)}))}(n),qy(t,"StyleWithCSS",!1),qy(t,"enableInlineTableEditing",!1),qy(t,"enableObjectResizing",!1),function(t){return Dc(t)||function(t){return oc().filter((function(e){return!(void 0!==(n=e.dom().classList)&&(n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body")))&&Oc(t,e.dom());var n})).isSome()}(t)}(t)&&t.focus(),function(t){t.selection.setRng(t.selection.getRng())}(t),t.nodeChanged())},Ky=function(t){return t.readonly},Xy=function(t){t.parser.addAttributeFilter("contenteditable",(function(e){Ky(t)&&A(e,(function(t){t.attr("data-mce-contenteditable",t.attr("contenteditable")),t.attr("contenteditable","false")}))})),t.serializer.addAttributeFilter("data-mce-contenteditable",(function(e){Ky(t)&&A(e,(function(t){t.attr("contenteditable",t.attr("data-mce-contenteditable"))}))})),t.serializer.addTempAttr("data-mce-contenteditable")},Zy=yo.DOM,Qy=function(t,e){return"selectionchange"===e?t.getDoc():!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e)?t.getDoc().documentElement:t.settings.event_root?(t.eventRoot||(t.eventRoot=Zy.select(t.settings.event_root)[0]),t.eventRoot):t.getBody()},Jy=function(t,e,n){!function(t){return!t.hidden&&!Ky(t)}(t)?Ky(t)&&function(t,e){var n=e.target;(function(t){return"click"===t.type})(e)&&!Cd.metaKeyPressed(e)&&function(t,e){return null!==t.dom.getParent(e,"a")}(t,n)&&e.preventDefault()}(t,n):t.fire(e,n)},t_=function(t,e){var n,r;if(t.delegates||(t.delegates={}),!t.delegates[e]&&!t.removed)if(n=Qy(t,e),t.settings.event_root){if(ug||(ug={},t.editorManager.on("removeEditor",(function(){var e;if(!t.editorManager.activeEditor&&ug){for(e in ug)t.dom.unbind(Qy(t,e));ug=null}}))),ug[e])return;ug[e]=r=function(n){for(var r=n.target,i=t.editorManager.get(),o=i.length;o--;){var s=i[o].getBody();(s===r||Zy.isChildOf(r,s))&&Jy(i[o],e,n)}},Zy.bind(n,e,r)}else Zy.bind(n,e,r=function(n){Jy(t,e,n)}),t.delegates[e]=r},e_=Q(Q({},Wy),{bindPendingEventDelegates:function(){var t=this;kn.each(t._pendingNativeEvents,(function(e){t_(t,e)}))},toggleNativeEvent:function(t,e){"focus"!==t&&"blur"!==t&&(e?this.initialized?t_(this,t):this._pendingNativeEvents?this._pendingNativeEvents.push(t):this._pendingNativeEvents=[t]:this.initialized&&(this.dom.unbind(Qy(this,t),t,this.delegates[t]),delete this.delegates[t]))},unbindAllNativeEvents:function(){var t,e=this.getBody(),n=this.dom;if(this.delegates){for(t in this.delegates)this.dom.unbind(Qy(this,t),t,this.delegates[t]);delete this.delegates}!this.inline&&e&&n&&(e.onload=null,n.unbind(this.getWin()),n.unbind(this.getDoc())),n&&(n.unbind(e),n.unbind(this.getContainer()))}}),n_=["design","readonly"],r_=function(t,n,r,i){var o=r[n.get()],s=r[i];try{s.activate()}catch(ow){return void e.console.error("problem while activating editor mode "+i+":",ow)}o.deactivate(),o.editorReadOnly!==s.editorReadOnly&&Yy(t,s.editorReadOnly),n.set(i),function(t,e){t.fire("SwitchMode",{mode:e})}(t,i)},i_=kn.each,o_=kn.explode,s_={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},a_=kn.makeMap("alt,ctrl,shift,meta,access"),u_=function(){function t(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;var e=this;t.on("keyup keypress keydown",(function(t){!e.hasModifier(t)&&!e.isFunctionKey(t)||t.isDefaultPrevented()||(i_(e.shortcuts,(function(n){if(e.matchShortcut(t,n))return e.pendingPatterns=n.subpatterns.slice(0),"keydown"===t.type&&e.executeShortcutAction(n),!0})),e.matchShortcut(t,e.pendingPatterns[0])&&(1===e.pendingPatterns.length&&"keydown"===t.type&&e.executeShortcutAction(e.pendingPatterns[0]),e.pendingPatterns.shift()))}))}return t.prototype.add=function(t,e,n,r){var i,o=this;return i=n,"string"==typeof n?n=function(){o.editor.execCommand(i,!1,null)}:kn.isArray(i)&&(n=function(){o.editor.execCommand(i[0],i[1],i[2])}),i_(o_(kn.trim(t)),(function(t){var i=o.createShortcut(t,e,n,r);o.shortcuts[i.id]=i})),!0},t.prototype.remove=function(t){var e=this.createShortcut(t);return!!this.shortcuts[e.id]&&(delete this.shortcuts[e.id],!0)},t.prototype.parseShortcut=function(t){var e,n,r={};for(n in i_(o_(t.toLowerCase(),"+"),(function(t){t in a_?r[t]=!0:/^[0-9]{2,}$/.test(t)?r.keyCode=parseInt(t,10):(r.charCode=t.charCodeAt(0),r.keyCode=s_[t]||t.toUpperCase().charCodeAt(0))})),e=[r.keyCode],a_)r[n]?e.push(n):r[n]=!1;return r.id=e.join(","),r.access&&(r.alt=!0,gn.mac?r.ctrl=!0:r.shift=!0),r.meta&&(gn.mac?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r},t.prototype.createShortcut=function(t,e,n,r){var i;return(i=kn.map(o_(t,">"),this.parseShortcut))[i.length-1]=kn.extend(i[i.length-1],{func:n,scope:r||this.editor}),kn.extend(i[0],{desc:this.editor.translate(e),subpatterns:i.slice(1)})},t.prototype.hasModifier=function(t){return t.altKey||t.ctrlKey||t.metaKey},t.prototype.isFunctionKey=function(t){return"keydown"===t.type&&t.keyCode>=112&&t.keyCode<=123},t.prototype.matchShortcut=function(t,e){return!!e&&e.ctrl===t.ctrlKey&&e.meta===t.metaKey&&e.alt===t.altKey&&e.shift===t.shiftKey&&!!(t.keyCode===e.keyCode||t.charCode&&t.charCode===e.charCode)&&(t.preventDefault(),!0)},t.prototype.executeShortcutAction=function(t){return t.func?t.func.call(t.scope):null},t}(),l_=kn.each,c_=kn.trim,d_="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),f_={ftp:21,http:80,https:443,mailto:25},h_=function(){function t(n,r){n=c_(n),this.settings=r||{};var i=this.settings.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n))o.source=n;else{var s=0===n.indexOf("//");if(0!==n.indexOf("/")||s||(n=(i&&i.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){var a=this.settings.base_uri?this.settings.base_uri.path:new t(e.document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)n="//mce_host"+o.toAbsPath(a,n);else{var u=/([^#?]*)([#?]?.*)/.exec(n);n=(i&&i.protocol||"http")+"://mce_host"+o.toAbsPath(a,u[1])+u[2]}}n=n.replace(/@@/g,"(mce_at)");var l=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);l_(d_,(function(t,e){var n=l[e];n&&(n=n.replace(/\(mce_at\)/g,"@@")),o[t]=n})),i&&(o.protocol||(o.protocol=i.protocol),o.userInfo||(o.userInfo=i.userInfo),o.port||"mce_host"!==o.host||(o.port=i.port),o.host&&"mce_host"!==o.host||(o.host=i.host),o.source=""),s&&(o.protocol="")}}return t.parseDataUri=function(t){var e,n=decodeURIComponent(t).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(e=r[1]),{type:e,data:n[1]}},t.getDocumentBaseUrl=function(t){var e;return e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},t.prototype.setPath=function(t){var e=/^(.*?)\/?(\w+)?$/.exec(t);this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},t.prototype.toRelative=function(e){var n;if("./"===e)return e;var r=new t(e,{base_uri:this});if("mce_host"!==r.host&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&""!==r.protocol)return r.getURI();var i=this.getURI(),o=r.getURI();return i===o||"/"===i.charAt(i.length-1)&&i.substr(0,i.length-1)===o?i:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},t.prototype.toAbsolute=function(e,n){var r=new t(e,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},t.prototype.isSameOrigin=function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=f_[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},t.prototype.toRelPath=function(t,e){var n,r,i,o=0,s="",a=t.substring(0,t.lastIndexOf("/")).split("/");if(n=e.split("/"),a.length>=n.length)for(r=0,i=a.length;r<i;r++)if(r>=n.length||a[r]!==n[r]){o=r+1;break}if(a.length<n.length)for(r=0,i=n.length;r<i;r++)if(r>=a.length||a[r]!==n[r]){o=r+1;break}if(1===o)return e;for(r=0,i=a.length-(o-1);r<i;r++)s+="../";for(r=o-1,i=n.length;r<i;r++)s+=r!==o-1?"/"+n[r]:n[r];return s},t.prototype.toAbsPath=function(t,e){var n,r,i,o=0,s=[];r=/\/$/.test(e)?"/":"";var a=t.split("/"),u=e.split("/");for(l_(a,(function(t){t&&s.push(t)})),a=s,n=u.length-1,s=[];n>=0;n--)0!==u[n].length&&"."!==u[n]&&(".."!==u[n]?o>0?o--:s.push(u[n]):o++);return 0!==(i=(n=a.length-o)<=0?F(s).join("/"):a.slice(0,n).join("/")+"/"+F(s).join("/")).indexOf("/")&&(i="/"+i),r&&i.lastIndexOf("/")!==i.length-1&&(i+=r),i},t.prototype.getURI=function(t){var e;return void 0===t&&(t=!1),this.source&&!t||(e="",t||(e+=this.protocol?this.protocol+"://":"//",this.userInfo&&(e+=this.userInfo+"@"),this.host&&(e+=this.host),this.port&&(e+=":"+this.port)),this.path&&(e+=this.path),this.query&&(e+="?"+this.query),this.anchor&&(e+="#"+this.anchor),this.source=e),this.source},t}(),m_=yo.DOM,p_=kn.extend,g_=kn.each,v_=kn.resolve,b_=gn.ie,y_=function(){function t(t,r,i){var o,a,u,l,c,d,f,h,m,p=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,p_(this,e_),this.settings=function(t,e,n,r,i){var o=function(t,e,n,r,i){var o={id:e,theme:"silver",toolbar_mode:Xc(t,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:i.convertURL,url_converter_scope:i};return Q(Q({},o),r?qc:{})}(i,e,n,jc,t);return function(t,e,n,r,i){var o=t?{mobile:Zc(i,e)}:{},a=Yc(["mobile"],Lc(o,i)),u=kn.extend(n,r,a.settings(),function(t,e){return t&&Kc(e,"mobile")}(t,a)?function(t,e,n){void 0===n&&(n={});var r=t.sections(),i=r.hasOwnProperty("mobile")?r.mobile:{};return kn.extend({},n,i)}(a):{},{validate:!0,external_plugins:Qc(r,a.settings())});return function(t,e,n,r){var i=Gc(n.forced_plugins),o=Gc(r.plugins),a=function(t,e){return Kc(t,"mobile")?t.sections().mobile:{}}(e),u=a.plugins?Gc(a.plugins):o,l=function(t,e){return[].concat(Gc(t)).concat(Gc(e))}(i,t&&function(t,e,n){var r=t.sections();return Kc(t,"mobile")&&"mobile"===r.mobile.theme}(e)?D(u,s(E,Wc)):t&&Kc(e,"mobile")?u:o);return kn.extend(r,{plugins:l.join(" ")})}(t,a,r,u)}(Uc||$c,Uc,o,r,i)}(this,t,this.documentBaseUrl,i.defaultSettings,r),this.settings.suffix&&(i.suffix=this.settings.suffix),this.suffix=i.suffix,this.settings.base_url&&i._setBaseUrl(this.settings.base_url),this.baseUri=i.baseURI,this.settings.referrer_policy&&(Co.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),yo.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Ao.languageLoad=this.settings.language_load,Ao.baseURL=i.baseURL,this.id=t,this.setDirty(!1),this.documentBaseURI=new h_(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new u_(this),this.editorCommands=new Vy(this),this.settings.cache_suffix&&(gn.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:(a={},u={},l={},c={},d={},f={},m={addButton:(h=function(t,e){return function(n,r){return t[n.toLowerCase()]=Q(Q({},r),{type:e})}})(o={},"button"),addGroupToolbarButton:h(o,"grouptoolbarbutton"),addToggleButton:h(o,"togglebutton"),addMenuButton:h(o,"menubutton"),addSplitButton:h(o,"splitbutton"),addMenuItem:h(a,"menuitem"),addNestedMenuItem:h(a,"nestedmenuitem"),addToggleMenuItem:h(a,"togglemenuitem"),addAutocompleter:h(u,"autocompleter"),addContextMenu:h(c,"contextmenu"),addContextToolbar:h(d,"contexttoolbar"),addContextForm:h(d,"contextform"),addSidebar:h(f,"sidebar"),addIcon:function(t,e){return l[t.toLowerCase()]=e},getAll:function(){return{buttons:o,menuItems:a,icons:l,popups:u,contextMenus:c,contextToolbars:d,sidebars:f}}},{addAutocompleter:m.addAutocompleter,addButton:m.addButton,addContextForm:m.addContextForm,addContextMenu:m.addContextMenu,addContextToolbar:m.addContextToolbar,addIcon:m.addIcon,addMenuButton:m.addMenuButton,addMenuItem:m.addMenuItem,addNestedMenuItem:m.addNestedMenuItem,addSidebar:m.addSidebar,addSplitButton:m.addSplitButton,addToggleButton:m.addToggleButton,addGroupToolbarButton:m.addGroupToolbarButton,addToggleMenuItem:m.addToggleMenuItem,getAll:m.getAll})};var g,v,b,y=(g=this,v=it("design"),b=it({design:{activate:n,deactivate:n,editorReadOnly:!1},readonly:{activate:n,deactivate:n,editorReadOnly:!0}}),function(t){t.serializer?Xy(t):t.on("PreInit",(function(){Xy(t)}))}(g),function(t){t.on("ShowCaret",(function(e){Ky(t)&&e.preventDefault()})),t.on("ObjectSelected",(function(e){Ky(t)&&e.preventDefault()}))}(g),{isReadOnly:function(){return Ky(g)},set:function(t){return function(t,e,n,r){if(r!==n.get()){if(!Z(e,r))throw new Error("Editor mode '"+r+"' is invalid");t.initialized?r_(t,n,e,r):t.on("init",(function(){return r_(t,n,e,r)}))}}(g,b.get(),v,t)},get:function(){return v.get()},register:function(t,n){b.set(function(t,n,r){var i;if(E(n_,n))throw new Error("Cannot override default mode "+n);return Q(Q({},t),((i={})[n]=Q(Q({},r),{deactivate:function(){try{r.deactivate()}catch(ow){e.console.error("problem while deactivating editor mode "+n+":",ow)}}}),i))}(b.get(),t,n))}});this.mode=y,this.setMode=y.set,i.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=uo.overrideDefaults((function(){return{context:p.inline?p.getBody():p.getDoc(),element:p.getBody()}}))}return t.prototype.render=function(){!function(t){var n=t.settings,r=t.id;Oo.setCode(Ka(t));var i=function(){xy.unbind(e.window,"ready",i),t.render()};if(Lr.Event.domLoaded){if(t.getElement()&&gn.contentEditable){n.inline?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");var o=t.getElement().form||xy.getParent(r,"form");o&&(t.formElement=o,n.hidden_input&&!Me.isTextareaOrInput(t.getElement())&&(xy.insertAfter(xy.create("input",{type:"hidden",name:r}),r),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},xy.bind(o,"submit reset",t.formEventDelegate),t.on("reset",(function(){t.resetContent()})),!n.submit_patch||o.submit.nodeType||o.submit.length||o._mceOldSubmit||(o._mceOldSubmit=o.submit,o.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),o._mceOldSubmit(o)})),t.windowManager=dd(t),t.notificationManager=ud(t),"xml"===n.encoding&&t.on("GetContent",(function(t){t.save&&(t.content=xy.encode(t.content))})),n.add_form_submit_trigger&&t.on("submit",(function(){t.initialized&&t.save()})),n.add_unload_trigger&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),Sy(t,t.suffix)}}else xy.bind(e.window,"ready",i)}(this)},t.prototype.focus=function(t){!function(t,e){t.removed||(e?Mc(t):function(t){var e=t.selection,n=t.getBody(),r=e.getRng();t.quirks.refreshContentEditable(),void 0!==t.bookmark&&!1===Dc(t)&&wc(t).each((function(e){t.selection.setRng(e),r=e}));var i=function(t,e){return t.dom.getParent(e,(function(e){return"true"===t.dom.getContentEditable(e)}))}(t,e.getNode());if(t.$.contains(n,i))return Ac(i),Tc(t,r),void Mc(t);t.inline||(gn.opera||Ac(n),t.getWin().focus()),(gn.gecko||t.inline)&&(Ac(n),Tc(t,r)),Mc(t)}(t))}(this,t)},t.prototype.hasFocus=function(){return Rc(this)},t.prototype.execCallback=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i=this,o=i.settings[t];if(o)return i.callbackLookup&&(r=i.callbackLookup[t])&&(o=r.func,r=r.scope),"string"==typeof o&&(r=(r=o.replace(/\.\w+$/,""))?v_(r):0,o=v_(o),i.callbackLookup=i.callbackLookup||{},i.callbackLookup[t]={func:o,scope:r}),o.apply(r||i,Array.prototype.slice.call(arguments,1))},t.prototype.translate=function(t){return Oo.translate(t)},t.prototype.getParam=function(t,e,n){return function(t,e,n,r){var i,o=e in t.settings?t.settings[e]:n;return"hash"===r?function(t){var e={};return"string"==typeof t?A(t.indexOf("=")>0?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(","),(function(t){var n=t.split("=");e[kn.trim(n[0])]=kn.trim(n.length>1?n[1]:n[0])})):e=t,e}(o):"string"===r?Jc(p,t,e).getOr(n):"number"===r?Jc(w,t,e).getOr(n):"boolean"===r?Jc(y,t,e).getOr(n):"object"===r?Jc(g,t,e).getOr(n):"array"===r?Jc(v,t,e).getOr(n):"string[]"===r?Jc((i=p,function(t){return v(t)&&P(t,i)}),t,e).getOr(n):"function"===r?Jc(_,t,e).getOr(n):o}(this,t,e,n)},t.prototype.nodeChanged=function(t){this._nodeChangeDispatcher.nodeChanged(t)},t.prototype.addCommand=function(t,e,n){this.editorCommands.addCommand(t,e,n)},t.prototype.addQueryStateHandler=function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},t.prototype.addQueryValueHandler=function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},t.prototype.addShortcut=function(t,e,n,r){this.shortcuts.add(t,e,n,r)},t.prototype.execCommand=function(t,e,n,r){return this.editorCommands.execCommand(t,e,n,r)},t.prototype.queryCommandState=function(t){return this.editorCommands.queryCommandState(t)},t.prototype.queryCommandValue=function(t){return this.editorCommands.queryCommandValue(t)},t.prototype.queryCommandSupported=function(t){return this.editorCommands.queryCommandSupported(t)},t.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(m_.show(this.getContainer()),m_.hide(this.id)),this.load(),this.fire("show"))},t.prototype.hide=function(){var t=this.getDoc();this.hidden||(b_&&t&&!this.inline&&t.execCommand("SelectAll"),this.save(),this.inline?(this.getBody().contentEditable="false",this===this.editorManager.focusedEditor&&(this.editorManager.focusedEditor=null)):(m_.hide(this.getContainer()),m_.setStyle(this.id,"display",this.orgDisplay)),this.hidden=!0,this.fire("hide"))},t.prototype.isHidden=function(){return!!this.hidden},t.prototype.setProgressState=function(t,e){this.fire("ProgressState",{state:t,time:e})},t.prototype.load=function(t){var e,n=this.getElement();if(this.removed)return"";if(n){(t=t||{}).load=!0;var r=Me.isTextareaOrInput(n)?n.value:n.innerHTML;return e=this.setContent(r,t),t.element=n,t.no_events||this.fire("LoadContent",t),t.element=n=null,e}},t.prototype.save=function(t){var e,n,r=this,i=r.getElement();if(i&&r.initialized&&!r.removed)return(t=t||{}).save=!0,t.element=i,t.content=r.getContent(t),t.no_events||r.fire("SaveContent",t),"raw"===t.format&&r.fire("RawSaveContent",t),e=t.content,Me.isTextareaOrInput(i)?i.value=e:(!t.is_removing&&r.inline||(i.innerHTML=e),(n=m_.getParent(r.id,"form"))&&g_(n.elements,(function(t){if(t.name===r.id)return t.value=e,!1}))),t.element=i=null,!1!==t.set_dirty&&r.setDirty(!1),e},t.prototype.setContent=function(t,e){return zc(this,t,e)},t.prototype.getContent=function(t){return function(t,e){return void 0===e&&(e={}),h.from(t.getBody()).fold(i("tree"===e.format?new Ul("body",11):""),(function(n){return function(t,e,n){var r;if(e.format=e.format?e.format:"html",e.get=!0,e.getInner=!0,e.no_events||t.fire("BeforeGetContent",e),"raw"===e.format)r=kn.trim(Ql(t.serializer,n.innerHTML));else if("text"===e.format)r=es(n.innerText||n.textContent);else{if("tree"===e.format)return t.serializer.serialize(n,e);r=function(t,e){var n=La(t),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return e.replace(r,"")}(t,t.serializer.serialize(n,e))}return e.content="text"===e.format||Hn(rt(n))?r:kn.trim(r),e.no_events||t.fire("GetContent",e),e.content}(t,e,n)}))}(this,t)},t.prototype.insertContent=function(t,e){e&&(t=p_({content:t},e)),this.execCommand("mceInsertContent",!1,t)},t.prototype.resetContent=function(t){void 0===t?zc(this,this.startContent,{format:"raw"}):zc(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},t.prototype.isDirty=function(){return!this.isNotDirty},t.prototype.setDirty=function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!==e&&this.fire("dirty")},t.prototype.getContainer=function(){return this.container||(this.container=m_.get(this.editorContainer||this.id+"_parent")),this.container},t.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},t.prototype.getElement=function(){return this.targetElm||(this.targetElm=m_.get(this.id)),this.targetElm},t.prototype.getWin=function(){var t;return this.contentWindow||(t=this.iframeElement)&&(this.contentWindow=t.contentWindow),this.contentWindow},t.prototype.getDoc=function(){var t;return this.contentDocument||(t=this.getWin())&&(this.contentDocument=t.document),this.contentDocument},t.prototype.getBody=function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},t.prototype.convertURL=function(t,e,n){var r=this.settings;return r.urlconverter_callback?this.execCallback("urlconverter_callback",t,n,!0,e):!r.convert_urls||n&&"LINK"===n.nodeName||0===t.indexOf("file:")||0===t.length?t:r.relative_urls?this.documentBaseURI.toRelative(t):t=this.documentBaseURI.toAbsolute(t,r.remove_script_host)},t.prototype.addVisual=function(t){var e,n=this,r=n.settings,i=n.dom;t=t||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=r.visual),g_(i.select("table,a",t),(function(t){var o;switch(t.nodeName){case"TABLE":return e=r.visual_table_class||"mce-item-table",void((o=i.getAttrib(t,"border"))&&"0"!==o||!n.hasVisual?i.removeClass(t,e):i.addClass(t,e));case"A":return void(i.getAttrib(t,"href")||(o=i.getAttrib(t,"name")||t.id,e=r.visual_anchor_class||"mce-item-anchor",o&&n.hasVisual?i.addClass(t,e):i.removeClass(t,e)))}})),n.fire("VisualAid",{element:t,hasVisual:n.hasVisual})},t.prototype.remove=function(){!function(t){if(!t.removed){var e=t._selectionOverrides,n=t.editorUpload,r=t.getBody(),i=t.getElement();r&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&i&&Pc.remove(i.nextSibling),function(t){t.fire("remove")}(t),t.editorManager.remove(t),!t.inline&&r&&function(t){Pc.setStyle(t.id,"display",t.orgDisplay)}(t),function(t){t.fire("detach")}(t),Pc.remove(t.getContainer()),Fc(e),Fc(n),t.destroy()}}(this)},t.prototype.destroy=function(t){!function(t,e){var n=t.selection,r=t.dom;t.destroyed||(e||t.removed?(e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),Fc(n),Fc(r)),function(t){var e=t.formElement;e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),Pc.unbind(e,"submit reset",t.formEventDelegate))}(t),function(t){t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null)}(t),t.destroyed=!0):t.remove())}(this,t)},t.prototype.uploadImages=function(t){return this.editorUpload.uploadImages(t)},t.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},t.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},t.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},t.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},t.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},t}(),__=yo.DOM,w_=kn.explode,x_=kn.each,C_=kn.extend,S_=0,k_=!1,E_=[],O_=[],T_=function(t){var e=t.type;x_(R_.get(),(function(n){switch(e){case"scroll":n.fire("ScrollWindow",t);break;case"resize":n.fire("ResizeWindow",t)}}))},A_=function(t){t!==k_&&(t?uo(window).on("resize scroll",T_):uo(window).off("resize scroll",T_),k_=t)},D_=function(t){var e=O_;delete E_[t.id];for(var n=0;n<E_.length;n++)if(E_[n]===t){E_.splice(n,1);break}return O_=D(O_,(function(e){return t!==e})),R_.activeEditor===t&&(R_.activeEditor=O_.length>0?O_[0]:null),R_.focusedEditor===t&&(R_.focusedEditor=null),e.length!==O_.length},M_="CSS1Compat"!==e.document.compatMode,R_=Q(Q({},Wy),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:uo,majorVersion:"5",minorVersion:"2.2",releaseDate:"2020-04-23",editors:E_,i18n:Oo,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var t,n,r="";n=h_.getDocumentBaseUrl(e.document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));var i,o=window.tinymce||window.tinyMCEPreInit;if(o)t=o.base||o.baseURL,r=o.suffix;else{for(var a=e.document.getElementsByTagName("script"),u=0;u<a.length;u++){var l;if(""!==(l=a[u].src||"")){var c=l.substring(l.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(l)){-1!==c.indexOf(".min")&&(r=".min"),t=l.substring(0,l.lastIndexOf("/"));break}}}!t&&e.document.currentScript&&(-1!==(l=e.document.currentScript.src).indexOf(".min")&&(r=".min"),t=l.substring(0,l.lastIndexOf("/")))}this.baseURL=new h_(n).toAbsolute(t),this.documentBaseURL=n,this.baseURI=new h_(this.baseURL),this.suffix=r,(i=this).on("AddEditor",s(kc,i)),i.on("RemoveEditor",s(Ec,i))},overrideDefaults:function(t){var e;(e=t.base_url)&&this._setBaseUrl(e),t.suffix&&(this.suffix=t.suffix),this.defaultSettings=t;var n=t.plugin_base_urls;for(var r in n)Ao.PluginManager.urls[r]=n[r]},init:function(t){var n,r,i=this;r=kn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");var o=function(t){var e=t.id;return e||(e=(e=t.name)&&!__.get(e)?t.name:__.uniqueId(),t.setAttribute("id",e)),e},s=function(t,e){return e.constructor===RegExp?e.test(t.className):__.hasClass(t,e)},a=function(t){n=t},u=function(){var n,l=0,c=[],d=function(t,e,r){var o=new y_(t,e,i);c.push(o),o.on("init",(function(){++l===n.length&&a(c)})),o.targetElm=o.targetElm||r,o.render()};__.unbind(window,"ready",u),function(e){var n=t[e];n&&n.apply(i,Array.prototype.slice.call(arguments,2))}("onpageload"),n=uo.unique(function(t){var n,r=[];if(gn.browser.isIE()&&gn.browser.version.major<11)return yd("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(M_)return yd("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(t.types)return x_(t.types,(function(t){r=r.concat(__.select(t.selector))})),r;if(t.selector)return __.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":(n=t.elements||"").length>0&&x_(w_(n),(function(t){var n;(n=__.get(t))?r.push(n):x_(e.document.forms,(function(e){x_(e.elements,(function(e){e.name===t&&(t="mce_editor_"+S_++,__.setAttrib(e,"id",t),r.push(e))}))}))}));break;case"textareas":case"specific_textareas":x_(__.select("textarea"),(function(e){t.editor_deselector&&s(e,t.editor_deselector)||t.editor_selector&&!s(e,t.editor_selector)||r.push(e)}))}return r}(t)),t.types?x_(t.types,(function(e){kn.each(n,(function(n){return!__.is(n,e.selector)||(d(o(n),C_({},t,e),n),!1)}))})):(kn.each(n,(function(t){var e;(e=i.get(t.id))&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(D_(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null)})),0===(n=kn.grep(n,(function(t){return!i.get(t.id)}))).length?a([]):x_(n,(function(e){!function(t,e){return t.inline&&e.tagName.toLowerCase()in r}(t,e)?d(o(e),t,e):yd("Could not initialize inline editor on invalid inline target element",e)})))};return i.settings=t,__.bind(window,"ready",u),new nn((function(t){n?t(n):a=function(e){t(e)}}))},get:function(t){return 0===arguments.length?O_.slice(0):p(t)?I(O_,(function(e){return e.id===t})).getOr(null):w(t)&&O_[t]?O_[t]:null},add:function(t){var e=this;return E_[t.id]===t||(null===e.get(t.id)&&("length"!==t.id&&(E_[t.id]=t),E_.push(t),O_.push(t)),A_(!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),lg||(lg=function(t){var n=e.fire("BeforeUnload");if(n.returnValue)return t.preventDefault(),t.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",lg))),t},createEditor:function(t,e){return this.add(new y_(t,e,this))},remove:function(t){var e,n,r=this;if(t){if(!p(t))return b(r.get((n=t).id))?null:(D_(n)&&r.fire("RemoveEditor",{editor:n}),0===O_.length&&window.removeEventListener("beforeunload",lg),n.remove(),A_(O_.length>0),n);x_(__.select(t),(function(t){(n=r.get(t.id))&&r.remove(n)}))}else for(e=O_.length-1;e>=0;e--)r.remove(O_[e])},execCommand:function(t,e,n){var r=this.get(n);switch(t){case"mceAddEditor":return this.get(n)||new y_(n,this.settings,this).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?(r.isHidden()?r.show():r.hide(),!0):(this.execCommand("mceAddEditor",0,n),!0)}return!!this.activeEditor&&this.activeEditor.execCommand(t,e,n)},triggerSave:function(){x_(O_,(function(t){t.save()}))},addI18n:function(t,e){Oo.add(t,e)},translate:function(t){return Oo.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!==t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t},_setBaseUrl:function(t){this.baseURL=new h_(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new h_(this.baseURL)}});function I_(t){return{walk:function(e,n){return Rl(t,e,n)},split:vh,normalize:function(e){return Mf(t,e).fold(i(!1),(function(t){return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),!0}))}}}R_.setup(),function(t){t.compareRanges=xf,t.getCaretRangeFromPoint=Yd,t.getSelectedNode=Ms,t.getNode=Rs}(I_||(I_={}));var N_,z_,P_,F_,B_=I_,L_=(N_={},z_={},{load:function(t,n){var r='Script at URL "'+n+'" failed to load',i='Script at URL "'+n+"\" did not call `tinymce.Resource.add('"+t+"', data)` within 1 second";if(void 0!==N_[t])return N_[t];var o=new nn((function(o,s){var a=function(t,n,r){void 0===r&&(r=1e3);var i=!1,o=null,s=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];i||(i=!0,null!==o&&(e.clearTimeout(o),o=null),t.apply(null,n))}},a=s(t),u=s(n);return{start:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];i||null!==o||(o=e.setTimeout((function(){return u.apply(null,t)}),r))},resolve:a,reject:u}}(o,s);z_[t]=a.resolve,Co.ScriptLoader.loadScript(n,(function(){return a.start(i)}),(function(){return a.reject(r)}))}));return N_[t]=o,o},add:function(t,e){void 0!==z_[t]&&(z_[t](e),delete z_[t]),N_[t]=nn.resolve(e)}}),H_=Math.min,V_=Math.max,j_=Math.round,U_=function(t,e,n){var r,i,o,s,a,u;return r=e.x,i=e.y,o=t.w,s=t.h,a=e.w,u=e.h,"b"===(n=(n||"").split(""))[0]&&(i+=u),"r"===n[1]&&(r+=a),"c"===n[0]&&(i+=j_(u/2)),"c"===n[1]&&(r+=j_(a/2)),"b"===n[3]&&(i-=s),"r"===n[4]&&(r-=o),"c"===n[3]&&(i-=j_(s/2)),"c"===n[4]&&(r-=j_(o/2)),$_(r,i,o,s)},$_=function(t,e,n,r){return{x:t,y:e,w:n,h:r}},W_={inflate:function(t,e,n){return $_(t.x-e,t.y-n,t.w+2*e,t.h+2*n)},relativePosition:U_,findBestRelativePosition:function(t,e,n,r){var i,o;for(o=0;o<r.length;o++)if((i=U_(t,e,r[o])).x>=n.x&&i.x+i.w<=n.w+n.x&&i.y>=n.y&&i.y+i.h<=n.h+n.y)return r[o];return null},intersect:function(t,e){var n,r,i,o;return n=V_(t.x,e.x),r=V_(t.y,e.y),i=H_(t.x+t.w,e.x+e.w),o=H_(t.y+t.h,e.y+e.h),i-n<0||o-r<0?null:$_(n,r,i-n,o-r)},clamp:function(t,e,n){var r,i,o,s,a,u,l,c,d,f;return u=t.y,l=t.x+t.w,c=t.y+t.h,d=e.x+e.w,f=e.y+e.h,r=V_(0,e.x-(a=t.x)),i=V_(0,e.y-u),o=V_(0,l-d),s=V_(0,c-f),a+=r,u+=i,n&&(l+=r,c+=i,a-=o,u-=s),$_(a,u,(l-=o)-a,(c-=s)-u)},create:$_,fromClientRect:function(t){return $_(t.left,t.top,t.width,t.height)}},q_=kn.each,G_=kn.extend,Y_=function(){};Y_.extend=P_=function(t){var e,n,r,i=this.prototype,o=function(){var t,e,n,r=this;if(!F_&&(r.init&&r.init.apply(r,arguments),e=r.Mixins))for(t=e.length;t--;)(n=e[t]).init&&n.init.apply(r,arguments)},s=function(){return this},a=function(t,e){return function(){var n,r=this,o=r._super;return r._super=i[t],n=e.apply(r,arguments),r._super=o,n}};for(n in F_=!0,e=new this,F_=!1,t.Mixins&&(q_(t.Mixins,(function(e){for(var n in e)"init"!==n&&(t[n]=e[n])})),i.Mixins&&(t.Mixins=i.Mixins.concat(t.Mixins))),t.Methods&&q_(t.Methods.split(","),(function(e){t[e]=s})),t.Properties&&q_(t.Properties.split(","),(function(e){var n="_"+e;t[e]=function(t){return void 0!==t?(this[n]=t,this):this[n]}})),t.Statics&&q_(t.Statics,(function(t,e){o[e]=t})),t.Defaults&&i.Defaults&&(t.Defaults=G_({},i.Defaults,t.Defaults)),t)e[n]="function"==typeof(r=t[n])&&i[n]?a(n,r):r;return o.prototype=e,o.constructor=o,o.extend=P_,o};var K_,X_=Math.min,Z_=Math.max,Q_=Math.round,J_={serialize:function(t){var e=JSON.stringify(t);return p(e)?e.replace(/[\u0080-\uFFFF]/g,(function(t){var e=t.charCodeAt(0).toString(16);return"\\u"+"0000".substring(e.length)+e})):e},parse:function(t){try{return JSON.parse(t)}catch(e){}}},tw={callbacks:{},count:0,send:function(t){var e=this,n=yo.DOM,r=void 0!==t.count?t.count:e.count,i="tinymce_jsonp_"+r;e.callbacks[r]=function(o){n.remove(i),delete e.callbacks[r],t.callback(o)},n.add(n.doc.body,"script",{id:i,src:t.url,type:"text/javascript"}),e.count++}},ew=Q(Q({},Wy),{send:function(t){var n,r=0,i=function(){!t.async||4===n.readyState||r++>1e4?(t.success&&r<1e4&&200===n.status?t.success.call(t.success_scope,""+n.responseText,n,t):t.error&&t.error.call(t.error_scope,r>1e4?"TIMED_OUT":"GENERAL",n,t),n=null):an.setTimeout(i,10)};if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=!1!==t.async,t.data=t.data||"",ew.fire("beforeInitialize",{settings:t}),n=new e.XMLHttpRequest){if(n.overrideMimeType&&n.overrideMimeType(t.content_type),n.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(n.withCredentials=!0),t.content_type&&n.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&kn.each(t.requestheaders,(function(t){n.setRequestHeader(t.key,t.value)})),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),(n=ew.fire("beforeSend",{xhr:n,settings:t}).xhr).send(t.data),!t.async)return i();an.setTimeout(i,10)}}}),nw=kn.extend,rw=function(){function t(t){this.settings=nw({},t),this.count=0}return t.sendRPC=function(e){return(new t).send(e)},t.prototype.send=function(t){var e=t.error,n=t.success,r=nw(this.settings,t);r.success=function(t,i){void 0===(t=J_.parse(t))&&(t={error:"JSON Parse error."}),t.error?e.call(r.error_scope||r.scope,t.error,i):n.call(r.success_scope||r.scope,t.result)},r.error=function(t,n){e&&e.call(r.error_scope||r.scope,t,n)},r.data=J_.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),r.content_type="application/json",ew.send(r)},t}();try{K_=e.window.localStorage}catch(ow){K_=function(){var t={},e=[],n={getItem:function(e){return t[e]||null},setItem:function(n,r){e.push(n),t[n]=String(r)},key:function(t){return e[t]},removeItem:function(n){e=e.filter((function(t){return t===n})),delete t[n]},clear:function(){e=[],t={}},length:0};return Object.defineProperty(n,"length",{get:function(){return e.length},configurable:!1,enumerable:!1}),n}()}var iw=kn.extend(R_,{geom:{Rect:W_},util:{Promise:nn,Delay:an,Tools:kn,VK:Cd,URI:h_,Class:Y_,EventDispatcher:Uy,Observable:Wy,I18n:Oo,XHR:ew,JSON:J_,JSONRequest:rw,JSONP:tw,LocalStorage:K_,Color:function(t){var e={},n=0,r=0,i=0,o=function(t){var o;return"object"==typeof t?"r"in t?(n=t.r,r=t.g,i=t.b):"v"in t&&function(t,e,o){var s,a,u,l;if(t=(parseInt(t,10)||0)%360,e=parseInt(e,10)/100,o=parseInt(o,10)/100,e=Z_(0,X_(e,1)),o=Z_(0,X_(o,1)),0!==e){switch(s=t/60,u=(a=o*e)*(1-Math.abs(s%2-1)),l=o-a,Math.floor(s)){case 0:n=a,r=u,i=0;break;case 1:n=u,r=a,i=0;break;case 2:n=0,r=a,i=u;break;case 3:n=0,r=u,i=a;break;case 4:n=u,r=0,i=a;break;case 5:n=a,r=0,i=u;break;default:n=r=i=0}n=Q_(255*(n+l)),r=Q_(255*(r+l)),i=Q_(255*(i+l))}else n=r=i=Q_(255*o)}(t.h,t.s,t.v):(o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(n=parseInt(o[1],10),r=parseInt(o[2],10),i=parseInt(o[3],10)):(o=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(n=parseInt(o[1],16),r=parseInt(o[2],16),i=parseInt(o[3],16)):(o=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(n=parseInt(o[1]+o[1],16),r=parseInt(o[2]+o[2],16),i=parseInt(o[3]+o[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,i=i<0?0:i>255?255:i,e};return t&&o(t),e.toRgb=function(){return{r:n,g:r,b:i}},e.toHsv=function(){return function(t,e,n){var r,i,o,s;return i=0,(o=X_(t/=255,X_(e/=255,n/=255)))===(s=Z_(t,Z_(e,n)))?{h:0,s:0,v:100*(i=o)}:(r=(s-o)/s,i=s,{h:Q_(60*((t===o?3:n===o?1:5)-(t===o?e-n:n===o?t-e:n-t)/(s-o))),s:Q_(100*r),v:Q_(100*i)})}(n,r,i)},e.toHex=function(){var t=function(t){return(t=parseInt(t,10).toString(16)).length>1?t:"0"+t};return"#"+t(n)+t(r)+t(i)},e.parse=o,e}},dom:{EventUtils:Lr,Sizzle:_i,DomQuery:uo,TreeWalker:lo,TextSeeker:ka,DOMUtils:yo,ScriptLoader:Co,RangeUtils:B_,Serializer:Xf,ControlSelection:Ed,BookmarkManager:wd,Selection:Hf,Event:Lr.Event},html:{Styles:Dr,Entities:tr,Node:Ul,Schema:cr,SaxParser:Xl,DomParser:Yf,Writer:ec,Serializer:nc},Env:gn,AddOnManager:Ao,Annotator:Fl,Formatter:wm,UndoManager:Rm,EditorCommands:Vy,WindowManager:dd,NotificationManager:ud,EditorObservable:e_,Shortcuts:u_,Editor:y_,FocusManager:xc,EditorManager:R_,DOM:yo.DOM,ScriptLoader:Co.ScriptLoader,PluginManager:Ao.PluginManager,ThemeManager:Ao.ThemeManager,IconManager:td,Resource:L_,trim:kn.trim,isArray:kn.isArray,is:kn.is,toArray:kn.toArray,makeMap:kn.makeMap,each:kn.each,map:kn.map,grep:kn.grep,inArray:kn.inArray,extend:kn.extend,create:kn.create,walk:kn.walk,createNS:kn.createNS,resolve:kn.resolve,explode:kn.explode,_addCacheSuffix:kn._addCacheSuffix,isOpera:gn.opera,isWebKit:gn.webkit,isIE:gn.ie,isGecko:gn.gecko,isMac:gn.mac});!function(t){window.tinymce=t,window.tinyMCE=t}(iw),function(e){try{t.exports=e}catch(n){}}(iw)}(window)},"7x9u":function(t,e){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t){var e=function(t){return t.getContent({source_view:!0})}(t);t.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:e},onSubmit:function(e){(function(t,e){t.focus(),t.undoManager.transact((function(){t.setContent(e)})),t.selection.setCursorLocation(),t.nodeChanged()})(t,e.getData().code),e.close()}})};t.add("code",(function(t){return function(t){t.addCommand("mceCodeEditor",(function(){e(t)}))}(t),function(t){t.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:function(){return e(t)}}),t.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:function(){return e(t)}})}(t),{}}))}()},Aw8l:function(t,e){!function(t){"use strict";var e=function(){},n=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(null,n))}},r=function(t){return function(){return t}},i=function(t){return t};function o(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.concat(n);return t.apply(null,i)}}var s=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}},a=function(t){return function(){throw new Error(t)}},u=r(!1),l=r(!0),c=tinymce.util.Tools.resolve("tinymce.ThemeManager"),d=function(){return(d=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function f(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var m,p=function(){return g},g=function(){var t=function(t){return t.isNone()},n=function(t){return t()},i=function(t){return t},o={fold:function(t,e){return t()},is:u,isSome:u,isNone:l,getOr:i,getOrThunk:n,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:i,orThunk:n,map:p,each:e,bind:p,exists:u,forall:l,filter:p,equals:t,equals_:t,toArray:function(){return[]},toString:r("none()")};return Object.freeze&&Object.freeze(o),o}(),v=function(t){var e=r(t),n=function(){return o},i=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:l,isNone:u,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return v(e(t))},each:function(e){e(t)},bind:i,exists:i,forall:i,filter:function(e){return e(t)?o:g},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(u,(function(e){return n(t,e)}))}};return o},b={some:v,none:p,from:function(t){return null==t?g:v(t)}},y=function(t){return{is:function(e){return t===e},isValue:l,isError:u,getOr:r(t),getOrThunk:r(t),getOrDie:r(t),or:function(e){return y(t)},orThunk:function(e){return y(t)},fold:function(e,n){return n(t)},map:function(e){return y(e(t))},mapError:function(e){return y(t)},each:function(e){e(t)},bind:function(e){return e(t)},exists:function(e){return e(t)},forall:function(e){return e(t)},toOption:function(){return b.some(t)}}},_=function(t){return{is:u,isValue:u,isError:l,getOr:i,getOrThunk:function(t){return t()},getOrDie:function(){return a(String(t))()},or:function(t){return t},orThunk:function(t){return t()},fold:function(e,n){return e(t)},map:function(e){return _(t)},mapError:function(e){return _(e(t))},each:e,bind:function(e){return _(t)},exists:u,forall:l,toOption:b.none}},w={value:y,error:_,fromOption:function(t,e){return t.fold((function(){return _(e)}),y)}},x=function(t){return function(e){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(e)===t}},C=x("string"),S=x("object"),k=x("array"),E=x("boolean"),O=x("function"),T=x("number"),A=function(t,e){if(k(t)){for(var n=0,r=t.length;n<r;++n)if(!0!==e(t[n]))return!1;return!0}return!1},D=Array.prototype.slice,M=Array.prototype.indexOf,R=Array.prototype.push,I=function(t,e){return M.call(t,e)},N=function(t,e){return I(t,e)>-1},z=function(t,e){for(var n=0,r=t.length;n<r;n++)if(e(t[n],n))return!0;return!1},P=function(t,e){for(var n=[],r=0;r<t.length;r+=e){var i=D.call(t,r,r+e);n.push(i)}return n},F=function(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;i++)r[i]=e(t[i],i);return r},B=function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)},L=function(t,e){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];e(o,r)&&n.push(o)}return n},H=function(t,e,n){return function(t,e){for(var n=t.length-1;n>=0;n--)e(t[n])}(t,(function(t){n=e(n,t)})),n},V=function(t,e,n){return B(t,(function(t){n=e(n,t)})),n},j=function(t,e){for(var n=0,r=t.length;n<r;n++){var i=t[n];if(e(i,n))return b.some(i)}return b.none()},U=function(t,e){for(var n=0,r=t.length;n<r;n++)if(e(t[n],n))return b.some(n);return b.none()},$=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!k(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);R.apply(e,t[n])}return e},W=function(t,e){return $(F(t,e))},q=function(t,e){for(var n=0,r=t.length;n<r;++n)if(!0!==e(t[n],n))return!1;return!0},G=function(t){var e=D.call(t,0);return e.reverse(),e},Y=function(t,e){return L(t,(function(t){return!N(e,t)}))},K=function(t){return[t]},X=function(t,e){var n=D.call(t,0);return n.sort(e),n},Z=function(t){return 0===t.length?b.none():b.some(t[0])},Q=function(t){return 0===t.length?b.none():b.some(t[t.length-1])},J=O(Array.from)?Array.from:function(t){return D.call(t)},tt=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return b.none()},et=Object.keys,nt=Object.hasOwnProperty,rt=function(t,e){for(var n=et(t),r=0,i=n.length;r<i;r++){var o=n[r];e(t[o],o)}},it=function(t,e){return ot(t,(function(t,n){return{k:n,v:e(t,n)}}))},ot=function(t,e){var n={};return rt(t,(function(t,r){var i=e(t,r);n[i.k]=i.v})),n},st=function(t,e){var n=[];return rt(t,(function(t,r){n.push(e(t,r))})),n},at=function(t,e){for(var n=et(t),r=0,i=n.length;r<i;r++){var o=n[r],s=t[o];if(e(s,o,t))return b.some(s)}return b.none()},ut=function(t){return st(t,(function(t){return t}))},lt=function(t,e){return ct(t,e)?b.from(t[e]):b.none()},ct=function(t,e){return nt.call(t,e)},dt=function(t,e){return ct(t,e)&&null!=t[e]},ft=function(e){if(!k(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var n=[],r={};return B(e,(function(i,o){var s=et(i);if(1!==s.length)throw new Error("one and only one name per case");var a=s[0],u=i[a];if(void 0!==r[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!k(u))throw new Error("case arguments must be an array");n.push(a),r[a]=function(){var r=arguments.length;if(r!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+r);for(var i=new Array(r),s=0;s<i.length;s++)i[s]=arguments[s];var l=function(t){var e=et(t);if(n.length!==e.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+e.join(","));if(!q(n,(function(t){return N(e,t)})))throw new Error("Not all branches were specified when using match. Specified: "+e.join(", ")+"\nRequired: "+n.join(", "));return t[a].apply(null,i)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);var t=arguments[o];return t.apply(null,i)},match:l,log:function(e){t.console.log(e,{constructors:n,constructor:a,params:i})}}}})),r},ht=Object.prototype.hasOwnProperty,mt=function(t){return function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var r={},i=0;i<e.length;i++){var o=e[i];for(var s in o)ht.call(o,s)&&(r[s]=t(r[s],o[s]))}return r}},pt=mt((function(t,e){return S(t)&&S(e)?pt(t,e):e})),gt=mt((function(t,e){return e})),vt=function(t){var e,n=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n||(n=!0,e=t.apply(null,r)),e}};!function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"}(m||(m={}));var bt=function(t,e,n){return t.stype===m.Error?e(t.serror):n(t.svalue)},yt=function(t){return{stype:m.Value,svalue:t}},_t=function(t){return{stype:m.Error,serror:t}},wt=yt,xt=function(t){var e=[],n=[];return B(t,(function(t){bt(t,(function(t){return n.push(t)}),(function(t){return e.push(t)}))})),{values:e,errors:n}},Ct=_t,St=function(t,e){return t.stype===m.Value?e(t.svalue):t},kt=function(t,e){return t.stype===m.Value?{stype:m.Value,svalue:e(t.svalue)}:t},Et=ft([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),Ot=function(t){return Et.defaultedThunk(r(t))},Tt=Et.strict,At=Et.asOption,Dt=Et.defaultedThunk,Mt=Et.mergeWithThunk,Rt=function(t,e){var n;return(n={})[t]=e,n},It=(ft([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(t,e){return function(t,e){var n={};return rt(t,(function(t,r){N(e,r)||(n[r]=t)})),n}(t,e)}),Nt=function(t,e){return Rt(t,e)},zt=function(t){return function(t){var e={};return B(t,(function(t){e[t.key]=t.value})),e}(t)},Pt=function(t){return n(Ct,$)(t)},Ft=function(t){var e=xt(t);return e.errors.length>0?Pt(e.errors):wt(e.values)},Bt=function(t){return S(t)&&et(t).length>100?" removed due to size":JSON.stringify(t,null,2)},Lt=function(t,e){return Ct([{path:t,getErrorInfo:e}])},Ht=ft([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),Vt=function(t,e,n){var r=lt(t,e).fold((function(){return n(t)}),i);return wt(r)},jt=function(t){return{extract:function(e,n,r){return(i=t(r,n)).stype===m.Error?function(t){return function(t,e){return Lt(t,(function(){return e}))}(e,t)}(i.serror):i;var i},toString:function(){return"val"}}},Ut=function(t){var e=et(t);return L(e,(function(e){return dt(t,e)}))},$t=function(t){var e=Wt(t),n=H(t,(function(t,e){return e.fold((function(e){return pt(t,Nt(e,!0))}),r(t))}),{});return{extract:function(t,r,i){var o=E(i)?[]:Ut(i),s=L(o,(function(t){return!dt(n,t)}));return 0===s.length?e.extract(t,r,i):function(t,e){return Lt(t,(function(){return"There are unsupported fields: ["+e.join(", ")+"] specified"}))}(t,s)},toString:e.toString}},Wt=function(t){return{extract:function(e,n,i){return function(t,e,n,i){var o,s,a=F(n,(function(n){return function(t,e,n,i){return n.fold((function(n,o,s,a){var u=function(e){var r=a.extract(t.concat([n]),i,e);return kt(r,(function(t){return Rt(o,i(t))}))},l=function(e){return e.fold((function(){var t=Rt(o,i(b.none()));return wt(t)}),(function(e){var r=a.extract(t.concat([n]),i,e);return kt(r,(function(t){return Rt(o,i(b.some(t)))}))}))};return s.fold((function(){return St(function(t,e,n){return lt(e,n).fold((function(){return function(t,e,n){return Lt(t,(function(){return'Could not find valid *strict* value for "'+e+'" in '+Bt(n)}))}(t,n,e)}),wt)}(t,e,n),u)}),(function(t){return St(Vt(e,n,t),u)}),(function(){return St(function(t,e){return wt(lt(t,e))}(e,n),l)}),(function(t){return St(function(t,e,n){var r=lt(t,e).map((function(e){return!0===e?n(t):e}));return wt(r)}(e,n,t),l)}),(function(t){var i=t(e),o=kt(Vt(e,n,r({})),(function(t){return pt(i,t)}));return St(o,u)}))}),(function(t,n){var r=n(e);return wt(Rt(t,i(r)))}))}(t,e,n,i)}));return o={},(s=xt(a)).errors.length>0?Pt(s.errors):function(t,e){return wt(t.length>0?pt(e,gt.apply(void 0,t)):e)}(s.values,o)}(e,i,t,n)},toString:function(){return"obj{\n"+F(t,(function(t){return t.fold((function(t,e,n,r){return t+" -> "+r.toString()}),(function(t,e){return"state("+t+")"}))})).join("\n")+"}"}}},qt=function(t){return{extract:function(e,n,r){var i=F(r,(function(r,i){return t.extract(e.concat(["["+i+"]"]),n,r)}));return Ft(i)},toString:function(){return"array("+t.toString()+")"}}},Gt=r(jt(wt)),Yt=n(qt,Wt),Kt=Ht.state,Xt=Ht.field,Zt=function(t,e){return{extract:function(n,r,i){return lt(i,t).fold((function(){return function(t,e){return Lt(t,(function(){return'Choice schema did not contain choice key: "'+e+'"'}))}(n,t)}),(function(t){return function(t,e,n,r,i){return lt(r,i).fold((function(){return function(t,e,n){return Lt(t,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+Bt(e)}))}(t,r,i)}),(function(r){return r.extract(t.concat(["branch: "+i]),e,n)}))}(n,r,i,e,t)}))},toString:function(){return"chooseOn("+t+"). Possible values: "+et(e)}}},Qt=jt(wt),Jt=function(t){return Yt(t)},te=function(t){return jt((function(e){return t(e).fold(Ct,wt)}))},ee=function(t,e){return function(t,e){return{extract:function(n,r,o){var s=et(o),a=function(e,n){return qt(jt(t)).extract(e,i,n)}(n,s);return St(a,(function(t){var i=F(t,(function(t){return Ht.field(t,t,Tt(),e)}));return Wt(i).extract(n,r,o)}))},toString:function(){return"setOf("+e.toString()+")"}}}((function(e){return t(e).fold(_t,yt)}),e)},ne=function(t,e,n){return function(t){return bt(t,w.error,w.value)}(function(t,e,n,r){return(i=e.extract([t],n,r)).stype===m.Error?{stype:m.Error,serror:(o=i.serror,{input:r,errors:o})}:i;var i,o}(t,e,i,n))},re=function(t){return t.fold((function(t){throw new Error(oe(t))}),i)},ie=function(t,e,n){return re(ne(t,e,n))},oe=function(t){return"Errors: \n"+(e=t.errors,n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):e,F(n,(function(t){return"Failed path: ("+t.path.join(" > ")+")\n"+t.getErrorInfo()}))).join("\n")+"\n\nInput object: "+Bt(t.input);var e,n},se=function(t,e){return Zt(t,e)},ae=function(t,e){return Zt(t,it(e,Wt))},ue=r(Qt),le=function(t,e){return jt((function(n){var r=typeof n;return t(n)?wt(n):Ct("Expected type: "+e+" but got: "+r)}))},ce=le(T,"number"),de=le(C,"string"),fe=le(E,"boolean"),he=le(O,"function"),me=function(t){var e=function(t,e){for(var n=t.next();!n.done;){if(!e(n.value))return!1;n=t.next()}return!0};if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every((function(e){return me(t[e])}));case"Map":return e(t.keys(),me)&&e(t.values(),me);case"Set":return e(t.keys(),me);default:return!1}},pe=jt((function(t){return me(t)?wt(t):Ct("Expected value to be acceptable for sending via postMessage")})),ge=function(t){return te((function(e){return N(t,e)?w.value(e):w.error('Unsupported value: "'+e+'", choose one of "'+t.join(", ")+'".')}))},ve=function(t){return Xt(t,t,Tt(),Gt())},be=function(t,e){return Xt(t,t,Tt(),e)},ye=function(t){return be(t,ce)},_e=function(t){return be(t,de)},we=function(t,e){return Xt(t,t,Tt(),ge(e))},xe=function(t){return be(t,he)},Ce=function(t,e){return Xt(t,t,Tt(),Wt(e))},Se=function(t,e){return Xt(t,t,Tt(),Yt(e))},ke=function(t,e){return Xt(t,t,Tt(),qt(e))},Ee=function(t){return Xt(t,t,At(),Gt())},Oe=function(t,e){return Xt(t,t,At(),e)},Te=function(t){return Oe(t,ce)},Ae=function(t){return Oe(t,de)},De=function(t){return Oe(t,he)},Me=function(t,e){return Oe(t,Wt(e))},Re=function(t,e){return Xt(t,t,Ot(e),Gt())},Ie=function(t,e,n){return Xt(t,t,Ot(e),n)},Ne=function(t,e){return Ie(t,e,ce)},ze=function(t,e){return Ie(t,e,de)},Pe=function(t,e,n){return Ie(t,e,ge(n))},Fe=function(t,e){return Ie(t,e,fe)},Be=function(t,e){return Ie(t,e,he)},Le=function(t,e,n){return Ie(t,e,Wt(n))},He=function(t,e){return Kt(t,e)},Ve=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return Ve(n())}}},je=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:r(t)}},Ue=function(e,n){var r=(n||t.document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return je(r.childNodes[0])},$e=function(e,n){var r=(n||t.document).createElement(e);return je(r)},We=function(e,n){var r=(n||t.document).createTextNode(e);return je(r)},qe=je,Ge=function(){return Ye(0,0)},Ye=function(t,e){return{major:t,minor:e}},Ke=function(t,e){var n=String(e).toLowerCase();return 0===t.length?Ge():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}}(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return Ye(r(1),r(2))}(t,n)},Xe=Ge,Ze=function(t,e){return function(){return e===t}},Qe=function(t){var e=t.current;return{current:e,version:t.version,isEdge:Ze("Edge",e),isChrome:Ze("Chrome",e),isIE:Ze("IE",e),isOpera:Ze("Opera",e),isFirefox:Ze("Firefox",e),isSafari:Ze("Safari",e)}},Je=function(){return Qe({current:void 0,version:Xe()})},tn=Qe,en=(r("Edge"),r("Chrome"),r("IE"),r("Opera"),r("Firefox"),r("Safari"),function(t,e){return function(){return e===t}}),nn=function(t){var e=t.current;return{current:e,version:t.version,isWindows:en("Windows",e),isiOS:en("iOS",e),isAndroid:en("Android",e),isOSX:en("OSX",e),isLinux:en("Linux",e),isSolaris:en("Solaris",e),isFreeBSD:en("FreeBSD",e),isChromeOS:en("ChromeOS",e)}},rn=function(){return nn({current:void 0,version:Xe()})},on=nn,sn=(r("Windows"),r("iOS"),r("Android"),r("Linux"),r("OSX"),r("Solaris"),r("FreeBSD"),r("ChromeOS"),function(t,e){var n=String(e).toLowerCase();return j(t,(function(t){return t.search(n)}))}),an=function(t,e){return-1!==t.indexOf(e)},un=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ln=function(t){return function(e){return an(e,t)}},cn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return an(t,"edge/")&&an(t,"chrome")&&an(t,"safari")&&an(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,un],search:function(t){return an(t,"chrome")&&!an(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return an(t,"msie")||an(t,"trident")}},{name:"Opera",versionRegexes:[un,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ln("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ln("firefox")},{name:"Safari",versionRegexes:[un,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(an(t,"safari")||an(t,"mobile/"))&&an(t,"applewebkit")}}],dn=[{name:"Windows",search:ln("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return an(t,"iphone")||an(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ln("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ln("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ln("linux"),versionRegexes:[]},{name:"Solaris",search:ln("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ln("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ln("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],fn={browsers:r(cn),oses:r(dn)},hn=Ve(function(e,n){var i=fn.browsers(),o=fn.oses(),s=function(t,e){return sn(t,e).map((function(t){var n=Ke(t.versionRegexes,e);return{current:t.name,version:n}}))}(i,e).fold(Je,tn),a=function(t,e){return sn(t,e).map((function(t){var n=Ke(t.versionRegexes,e);return{current:t.name,version:n}}))}(o,e).fold(rn,on),u=function(t,e,n,i){var o=t.isiOS()&&!0===/ipad/i.test(n),s=t.isiOS()&&!o,a=t.isiOS()||t.isAndroid(),u=a||i("(pointer:coarse)"),l=o||!s&&a&&i("(min-device-width:768px)"),c=s||a&&!l,d=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),f=!c&&!l&&!d;return{isiPad:r(o),isiPhone:r(s),isTablet:r(l),isPhone:r(c),isTouch:r(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:r(d),isDesktop:r(f)}}(a,s,e,(function(e){return t.window.matchMedia(e).matches}));return{browser:s,os:a,deviceType:u}}(t.navigator.userAgent)),mn=function(){return hn.get()},pn=t.Node.ELEMENT_NODE,gn=t.Node.TEXT_NODE,vn=pn,bn=t.Node.DOCUMENT_NODE,yn=function(t,e){var n=t.dom();if(n.nodeType!==vn)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},_n=function(t){return t.nodeType!==vn&&t.nodeType!==bn||0===t.childElementCount},wn=function(e,n){var r=void 0===n?t.document:n.dom();return _n(r)?[]:F(r.querySelectorAll(e),qe)},xn=function(t,e){return t.dom()===e.dom()},Cn=mn().browser.isIE()?function(e,n){return function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)}(e.dom(),n.dom(),t.Node.DOCUMENT_POSITION_CONTAINED_BY)}:function(t,e){var n=t.dom(),r=e.dom();return n!==r&&n.contains(r)},Sn=function(t,e,n){for(var i=t.dom(),o=O(n)?n:r(!1);i.parentNode;){var s=qe(i=i.parentNode),a=e(s);if(a.isSome())return a;if(o(s))break}return b.none()},kn=function(t,e,n){return e(t).orThunk((function(){return n(t)?b.none():Sn(t,e,n)}))},En=function(t,e){return xn(t.element(),e.event().target())},On=function(t){if(!dt(t,"can")&&!dt(t,"abort")&&!dt(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return ie("Extracting event.handler",$t([Re("can",r(!0)),Re("abort",r(!1)),Re("run",e)]),t)},Tn=r("touchstart"),An=r("touchmove"),Dn=r("touchend"),Mn=r("touchcancel"),Rn=r("mousedown"),In=r("mousemove"),Nn=r("mouseout"),zn=r("mouseup"),Pn=r("mouseover"),Fn=r("focusin"),Bn=r("focusout"),Ln=r("keydown"),Hn=r("keyup"),Vn=r("input"),jn=r("change"),Un=r("click"),$n=r("transitionend"),Wn=r("selectstart"),qn={tap:r("alloy.tap")},Gn=r("alloy.focus"),Yn=r("alloy.blur.post"),Kn=r("alloy.paste.post"),Xn=r("alloy.receive"),Zn=r("alloy.execute"),Qn=r("alloy.focus.item"),Jn=qn.tap,tr=r("alloy.longpress"),er=r("alloy.sandbox.close"),nr=r("alloy.typeahead.cancel"),rr=r("alloy.system.init"),ir=r("alloy.system.touchmove"),or=r("alloy.system.touchend"),sr=r("alloy.system.scroll"),ar=r("alloy.system.resize"),ur=r("alloy.system.attached"),lr=r("alloy.system.detached"),cr=r("alloy.system.dismissRequested"),dr=r("alloy.system.repositionRequested"),fr=r("alloy.focusmanager.shifted"),hr=r("alloy.slotcontainer.visibility"),mr=r("alloy.change.tab"),pr=r("alloy.dismiss.tab"),gr=r("alloy.highlight"),vr=r("alloy.dehighlight"),br=function(t,e){xr(t,t.element(),e,{})},yr=function(t,e,n){xr(t,t.element(),e,n)},_r=function(t){br(t,Zn())},wr=function(t,e,n){xr(t,e,n,{})},xr=function(t,e,n,i){var o=d({target:e},i);t.getSystem().triggerEvent(n,e,it(o,r))},Cr=function(t,e,n,r){t.getSystem().triggerEvent(n,e,r.event())},Sr=function(t){return zt(t)},kr=function(t,e){return{key:t,value:On({abort:e})}},Er=function(t){return{key:t,value:On({run:function(t,e){e.event().prevent()}})}},Or=function(t,e){return{key:t,value:On({run:e})}},Tr=function(t,e,n){return{key:t,value:On({run:function(t,r){e.apply(void 0,[t,r].concat(n))}})}},Ar=function(t){return function(e){return{key:t,value:On({run:function(t,n){En(t,n)&&e(t,n)}})}}},Dr=function(t,e,n){return function(t,e){return Or(t,(function(n,r){n.getSystem().getByUid(e).each((function(e){Cr(e,e.element(),t,r)}))}))}(t,e.partUids[n])},Mr=function(t,e){return Or(t,(function(t,n){var i=n.event(),o=t.getSystem().getByDom(i.target()).fold((function(){return kn(i.target(),(function(e){return t.getSystem().getByDom(e).toOption()}),r(!1)).getOr(t)}),(function(t){return t}));e(t,o,n)}))},Rr=function(t){return Or(t,(function(t,e){e.cut()}))},Ir=function(t){return Or(t,(function(t,e){e.stop()}))},Nr=function(t,e){return Ar(t)(e)},zr=Ar(ur()),Pr=Ar(lr()),Fr=Ar(rr()),Br=function(t){return function(e){return Or(t,e)}}(Zn()),Lr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t.length!==e.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+e.length+" arguments");var i={};return B(t,(function(t,n){i[t]=r(e[n])})),i}},Hr=function(t){return t.slice(0).sort()},Vr=function(t,e){if(!k(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".");B(e,(function(e){if(!C(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")}))},jr=function(t,e){var n=t.concat(e);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return Vr("required",t),Vr("optional",e),function(t){var e=Hr(t);j(e,(function(t,n){return n<e.length-1&&t===e[n+1]})).each((function(t){throw new Error("The field: "+t+" occurs more than once in the combined fields: ["+e.join(", ")+"].")}))}(n),function(i){var o=et(i);q(t,(function(t){return N(o,t)}))||function(t,e){throw new Error("All required keys ("+Hr(t).join(", ")+") were not specified. Specified keys were: "+Hr(e).join(", ")+".")}(t,o);var s=L(o,(function(t){return!N(n,t)}));s.length>0&&function(t){throw new Error("Unsupported keys for object: "+Hr(t).join(", "))}(s);var a={};return B(t,(function(t){a[t]=r(i[t])})),B(e,(function(t){a[t]=r(Object.prototype.hasOwnProperty.call(i,t)?b.some(i[t]):b.none())})),a}},Ur=function(t){return qe(t.dom().ownerDocument)},$r=function(t){return qe(t.dom().ownerDocument.documentElement)},Wr=function(t){return qe(t.dom().ownerDocument.defaultView)},qr=function(t){return b.from(t.dom().parentNode).map(qe)},Gr=function(t){return b.from(t.dom().offsetParent).map(qe)},Yr=function(t){return F(t.dom().childNodes,qe)},Kr=function(t,e){var n=t.dom().childNodes;return b.from(n[e]).map(qe)},Xr=(Lr("element","offset"),function(t,e){qr(t).each((function(n){n.dom().insertBefore(e.dom(),t.dom())}))}),Zr=function(t,e){(function(t){return b.from(t.dom().nextSibling).map(qe)})(t).fold((function(){qr(t).each((function(t){Jr(t,e)}))}),(function(t){Xr(t,e)}))},Qr=function(t,e){(function(t){return Kr(t,0)})(t).fold((function(){Jr(t,e)}),(function(n){t.dom().insertBefore(e.dom(),n.dom())}))},Jr=function(t,e){t.dom().appendChild(e.dom())},ti=function(t,e){B(e,(function(e){Jr(t,e)}))},ei=function(t){t.dom().textContent="",B(Yr(t),(function(t){ni(t)}))},ni=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},ri=function(t){var e,n=Yr(t);n.length>0&&(e=t,B(n,(function(t){Xr(e,t)}))),ni(t)},ii=function(t){return t.dom().innerHTML},oi=function(e,n){var r,i,o=Ur(e).dom(),s=qe(o.createDocumentFragment()),a=(r=n,(i=(o||t.document).createElement("div")).innerHTML=r,Yr(qe(i)));ti(s,a),ei(e),Jr(e,s)},si=(void 0!==t.window||Function("return this;")(),function(t){return t.dom().nodeName.toLowerCase()}),ai=function(t){return function(e){return function(t){return t.dom().nodeType}(e)===t}},ui=ai(pn),li=ai(gn),ci=function(e,n,r){if(!(C(r)||E(r)||T(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")},di=function(t,e,n){ci(t.dom(),e,n)},fi=function(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n},hi=function(t,e){return b.from(fi(t,e))},mi=function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},pi=function(t,e){t.dom().removeAttribute(e)},gi=function(t){return function(t){return function(t){var e=$e("div"),n=qe(t.dom().cloneNode(!0));return Jr(e,n),ii(e)}(function(t){return function(t,e){return qe(t.dom().cloneNode(!1))}(t)}(t))}(t)},vi=Sr([function(e,n){return{key:e,value:On({can:function(e,n){var r=n.event().originator(),i=n.event().target();return!function(t,e,n){return xn(e,t.element())&&!xn(e,n)}(e,r,i)||(t.console.warn(Gn()+" did not get interpreted by the desired target. \nOriginator: "+gi(r)+"\nTarget: "+gi(i)+"\nCheck the "+Gn()+" event handlers"),!1)}})}}(Gn())]),bi=Object.freeze({__proto__:null,events:vi}),yi=0,_i=function(t){var e=(new Date).getTime();return t+"_"+Math.floor(1e9*Math.random())+ ++yi+String(e)},wi=r("alloy-id-"),xi=r("data-alloy-id"),Ci=wi(),Si=xi(),ki=function(t,e){Object.defineProperty(t.dom(),Si,{value:e,writable:!0})},Ei=function(t){var e=ui(t)?t.dom()[Si]:null;return b.from(e)},Oi=function(t){return _i(t)},Ti=i,Ai=function(t){var e=function(e){return function(){throw new Error("The component must be in a context to send: "+e+(t?"\n"+gi(t().element())+" is not in context.":""))}};return{debugInfo:r("fake"),triggerEvent:e("triggerEvent"),triggerFocus:e("triggerFocus"),triggerEscape:e("triggerEscape"),build:e("build"),addToWorld:e("addToWorld"),removeFromWorld:e("removeFromWorld"),addToGui:e("addToGui"),removeFromGui:e("removeFromGui"),getByUid:e("getByUid"),getByDom:e("getByDom"),broadcast:e("broadcast"),broadcastOn:e("broadcastOn"),broadcastEvent:e("broadcastEvent"),isConnected:r(!1)}},Di=Ai(),Mi=function(t){return F(t,(function(t){return function(t,e,n){return!(t.length<"/*".length)&&"/*"===t.substr(n,n+"/*".length)}(e=t,0,e.length-"/*".length)?t.substring(0,t.length-"/*".length):t;var e}))},Ri=function(t,e){var n=t.toString(),r=n.indexOf(")")+1,i=n.indexOf("("),o=n.substring(i+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:e,parameters:Mi(o)}},t},Ii=_i("alloy-premade"),Ni=function(t){return Nt(Ii,t)},zi=function(t){return function(t,e){var n=e.toString(),r=n.indexOf(")")+1,i=n.indexOf("("),o=n.substring(i+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:Mi(o.slice(1))}},t}((function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t.apply(void 0,[e.getApis()].concat([e].concat(n)))}),t)},Pi={init:function(){return Fi({readState:function(){return"No State required"}})}},Fi=function(t){return t},Bi=function(t,e){var n={};return rt(t,(function(t,r){rt(t,(function(t,i){var o=lt(n,i).getOr([]);n[i]=o.concat([e(r,t)])}))})),n},Li=function(t){return{classes:void 0!==t.classes?t.classes:[],attributes:void 0!==t.attributes?t.attributes:{},styles:void 0!==t.styles?t.styles:{}}},Hi=function(t){return t.cHandler},Vi=function(t,e){return{name:r(t),handler:r(e)}},ji=function(t,e){var n,i;return n={},(i=function(t){var e=[],n=[];return B(t,(function(t){t.fold((function(t){e.push(t)}),(function(t){n.push(t)}))})),{errors:e,values:n}}(st(t,(function(t,n){return(1===t.length?w.value(t[0].handler()):function(t,e,n){var r=e[n];return r?function(t,e,n,r){try{var i=X(n,(function(e,n){var i=e.name(),o=n.name(),s=r.indexOf(i),a=r.indexOf(o);if(-1===s)throw new Error("The ordering for "+t+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===a)throw new Error("The ordering for "+t+" does not have an entry for "+o+".\nOrder specified: "+JSON.stringify(r,null,2));return s<a?-1:a<s?1:0}));return w.value(i)}catch(o){return w.error([o])}}("Event: "+n,0,t,r).map((function(t){return function(t){var e=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return V(t,(function(t,r){return t&&e(r).apply(void 0,n)}),!0)}}(t,(function(t){return t.can})),n=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return V(t,(function(t,r){return t||e(r).apply(void 0,n)}),!1)}}(t,(function(t){return t.abort}));return On({can:e,abort:n,run:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];B(t,(function(t){t.run.apply(void 0,e)}))}})}(F(t,(function(t){return t.handler()})))})):function(t,e){return w.error(["The event ("+t+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(F(e,(function(t){return t.name()})),null,2)])}(n,t)}(t,e,n)).map((function(i){var o=function(t){var e=function(t){return O(t)?{can:r(!0),abort:r(!1),run:t}:t}(t);return function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=[t,n].concat(r);e.abort.apply(void 0,o)?n.stop():e.can.apply(void 0,o)&&e.run.apply(void 0,o)}}(i),s=t.length>1?L(e[n],(function(e){return z(t,(function(t){return t.name()===e}))})).join(" > "):t[0].name();return Nt(n,function(t,e){return{handler:t,purpose:r(e)}}(o,s))}))})))).errors.length>0?w.error($(i.errors)):function(t,e){return w.value(0===t.length?e:pt(e,gt.apply(void 0,t)))}(i.values,n)},Ui=function(t){return t.events},$i=function(t,e){var n=fi(t,e);return void 0===n||""===n?[]:n.split(" ")},Wi=function(t){return void 0!==t.dom().classList},qi=function(t,e){Wi(t)?t.dom().classList.add(e):function(t,e){!function(t,e,n){var r=$i(t,"class").concat([n]);di(t,"class",r.join(" "))}(t,0,e)}(t,e)},Gi=function(t,e){Wi(t)?t.dom().classList.remove(e):function(t,e){!function(t,e,n){var r=L($i(t,"class"),(function(t){return t!==n}));r.length>0?di(t,"class",r.join(" ")):pi(t,"class")}(t,0,e)}(t,e),function(t){0===(Wi(t)?t.dom().classList:function(t){return $i(t,"class")}(t)).length&&pi(t,"class")}(t)},Yi=function(t,e){return Wi(t)&&t.dom().classList.contains(e)},Ki=function(t,e){B(e,(function(e){qi(t,e)}))},Xi=function(t,e){B(e,(function(e){Gi(t,e)}))},Zi=function(t){return void 0!==t.style&&O(t.style.getPropertyValue)},Qi=function(t){var e=li(t)?t.dom().parentNode:t.dom();return null!=e&&e.ownerDocument.body.contains(e)},Ji=vt((function(){return to(qe(t.document))})),to=function(t){var e=t.dom().body;if(null==e)throw new Error("Body is not available yet");return qe(e)},eo=function(e,n,r){if(!C(r))throw t.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);Zi(e)&&e.style.setProperty(n,r)},no=function(t,e){Zi(t)&&t.style.removeProperty(e)},ro=function(t,e,n){var r=t.dom();eo(r,e,n)},io=function(t,e){var n=t.dom();rt(e,(function(t,e){eo(n,e,t)}))},oo=function(t,e){var n=t.dom();rt(e,(function(t,e){t.fold((function(){no(n,e)}),(function(t){eo(n,e,t)}))}))},so=function(e,n){var r=e.dom(),i=t.window.getComputedStyle(r).getPropertyValue(n),o=""!==i||Qi(e)?i:ao(r,n);return null===o?void 0:o},ao=function(t,e){return Zi(t)?t.style.getPropertyValue(e):""},uo=function(t,e){var n=t.dom(),r=ao(n,e);return b.from(r).filter((function(t){return t.length>0}))},lo=function(t){var e={},n=t.dom();if(Zi(n))for(var r=0;r<n.style.length;r++){var i=n.style.item(r);e[i]=n.style[i]}return e},co=function(t,e,n){var r=$e(t);return ro(r,e,n),uo(r,e).isSome()},fo=function(t,e){var n=t.dom();no(n,e),mi(t,"style")&&""===fi(t,"style").replace(/^\s+|\s+$/g,"")&&pi(t,"style")},ho=function(t){return t.dom().offsetWidth},mo=function(t){return t.dom().value},po=function(t,e){if(void 0===e)throw new Error("Value.set was undefined");t.dom().value=e},go=function(t){var e,n,i=function(){return p},o=Ve(Di),s=re(function(t){return ne("custom.definition",Wt([Xt("dom","dom",Tt(),Wt([ve("tag"),Re("styles",{}),Re("classes",[]),Re("attributes",{}),Ee("value"),Ee("innerHtml")])),ve("components"),ve("uid"),Re("events",{}),Re("apis",{}),Xt("eventOrder","eventOrder",(e={"alloy.execute":["disabling","alloy.base.behaviour","toggling","typeaheadevents"],"alloy.focus":["alloy.base.behaviour","focusing","keying"],"alloy.system.init":["alloy.base.behaviour","disabling","toggling","representing"],input:["alloy.base.behaviour","representing","streaming","invalidating"],"alloy.system.detached":["alloy.base.behaviour","representing","item-events","tooltipping"],mousedown:["focusing","alloy.base.behaviour","item-type-events"],touchstart:["focusing","alloy.base.behaviour","item-type-events"],mouseover:["item-type-events","tooltipping"]},Et.mergeWithThunk(r(e))),ue()),Ee("domModification")]),t);var e}(t)),a=function(t){return function(t,e){return function(t,e){var n=F(e,(function(t){return Me(t.name(),[ve("config"),Re("state",Pi)])})),r=ne("component.behaviours",Wt(n),t.behaviours).fold((function(e){throw new Error(oe(e)+"\nComplete spec:\n"+JSON.stringify(t,null,2))}),(function(t){return t}));return{list:e,data:it(r,(function(t){var e=t.map((function(t){return{config:t.config,state:t.state.init(t.config)}}));return function(){return e}}))}}(t,e)}(t,function(t){var e=lt(t,"behaviours").getOr({}),n=L(et(e),(function(t){return void 0!==e[t]}));return F(n,(function(t){return e[t].me}))}(t))}(t),u=function(t){return t.list}(a),l=function(t){return t.data}(a),c=function(t,e,n){var r,i,o,s=d(d({},(r=t).dom),{uid:r.uid,domChildren:F(r.components,(function(t){return t.element()}))}),a=function(t){return t.domModification.fold((function(){return Li({})}),Li)}(t);return o=e.length>0?function(t,e,n,r){var i=d({},e);B(n,(function(e){i[e.name()]=e.exhibit(t,r)}));var o=Bi(i,(function(t,e){return{name:t,modification:e}})),s=function(t){return H(t,(function(t,e){return d(d({},e.modification),t)}),{})},a=H(o.classes,(function(t,e){return e.modification.concat(t)}),[]),u=s(o.attributes),l=s(o.styles);return Li({classes:a,attributes:u,styles:l})}(n,{"alloy.base.modification":a},e,s):a,d(d({},i=s),{attributes:d(d({},i.attributes),o.attributes),styles:d(d({},i.styles),o.styles),classes:i.classes.concat(o.classes)})}(s,u,l),f=(function(t,e){var n=t.dom();rt(e,(function(t,e){ci(n,e,t)}))}(n=$e((e=c).tag),e.attributes),Ki(n,e.classes),io(n,e.styles),e.innerHtml.each((function(t){return oi(n,t)})),ti(n,e.domChildren),e.value.each((function(t){po(n,t)})),ki(n,e.uid),n),h=function(t,e,n){var r={"alloy.base.behaviour":Ui(t)};return function(t,e,n,r){var i=function(t,e,n){var r=d(d({},n),function(t,e){var n={};return B(t,(function(t){n[t.name()]=t.handlers(e)})),n}(e,t));return Bi(r,Vi)}(t,n,r);return ji(i,e)}(n,t.eventOrder,e,r).getOrDie()}(s,u,l),m=Ve(s.components),p={getSystem:o.get,config:function(e){var n=l;return(O(n[e.name()])?n[e.name()]:function(){throw new Error("Could not find "+e.name()+" in "+JSON.stringify(t,null,2))})()},hasConfigured:function(t){return O(l[t.name()])},spec:r(t),readState:function(t){return l[t]().map((function(t){return t.state.readState()})).getOr("not enabled")},getApis:function(){return s.apis},connect:function(t){o.set(t)},disconnect:function(){o.set(Ai(i))},element:r(f),syncComponents:function(){var t=Yr(f),e=W(t,(function(t){return o.get().getByDom(t).fold((function(){return[]}),(function(t){return[t]}))}));m.set(e)},components:m.get,events:r(h)};return p},vo=function(t){var e=We(t);return bo({element:e})},bo=function(t){var n=ie("external.component",$t([ve("element"),Ee("uid")]),t),i=Ve(Ai());n.uid.each((function(t){ki(n.element,t)}));var o={getSystem:i.get,config:b.none,hasConfigured:r(!1),connect:function(t){i.set(t)},disconnect:function(){i.set(Ai((function(){return o})))},getApis:function(){return{}},element:r(n.element),spec:r(t),readState:r("No state"),syncComponents:e,components:r([]),events:r({})};return Ni(o)},yo=Oi,_o=function(t){return function(t){return lt(t,Ii)}(t).fold((function(){return function(t){var e=Ti(t),n=e.events,r=f(e,["events"]),i=function(t){var e=lt(t,"components").getOr([]);return F(e,_o)}(r),o=d(d({},r),{events:d(d({},bi),n),components:i});return w.value(go(o))}(t.hasOwnProperty("uid")?t:d({uid:yo("")},t)).getOrDie()}),(function(t){return t}))},wo=Ni;function xo(t,e){var n=function(n){var r=e(n);if(r<=0||null===r){var i=so(n,t);return parseFloat(i)||0}return r},r=function(t,e){return V(e,(function(e,n){var r=so(t,n),i=void 0===r?0:parseInt(r,10);return isNaN(i)?e:e+i}),0)};return{set:function(e,n){if(!T(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom();Zi(r)&&(r.style[t]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(t,e,n){var i=r(t,n);return e>i?e-i:0}}}var Co=xo("height",(function(t){var e=t.dom();return Qi(t)?e.getBoundingClientRect().height:e.offsetHeight})),So=function(t){return Co.get(t)},ko=function(t){return Co.getOuter(t)},Eo=function(t,e){return{left:r(t),top:r(e),translate:function(n,r){return Eo(t+n,e+r)}}},Oo=Eo,To=function(t,e){return void 0!==t?t:void 0!==e?e:0},Ao=function(t){var e=t.dom().ownerDocument,n=e.body,r=e.defaultView,i=e.documentElement;if(n===t.dom())return Oo(n.offsetLeft,n.offsetTop);var o=To(r.pageYOffset,i.scrollTop),s=To(r.pageXOffset,i.scrollLeft),a=To(i.clientTop,n.clientTop),u=To(i.clientLeft,n.clientLeft);return Do(t).translate(s-u,o-a)},Do=function(t){var e=t.dom(),n=e.ownerDocument.body;return n===e?Oo(n.offsetLeft,n.offsetTop):Qi(t)?function(t){var e=t.getBoundingClientRect();return Oo(e.left,e.top)}(e):Oo(0,0)},Mo=xo("width",(function(t){return t.dom().offsetWidth})),Ro=function(t){return Mo.get(t)},Io=function(t){return Mo.getOuter(t)},No=function(t){var e=qe(t.target),i=function(){t.stopPropagation()},o=function(){t.preventDefault()},s=n(o,i);return function(t,e,n,i,o,s,a){return{target:r(t),x:r(e),y:r(n),stop:i,prevent:o,kill:s,raw:r(a)}}(e,t.clientX,t.clientY,i,o,s,t)},zo=function(t,e,n,r,i){var s=function(t,e){return function(n){t(n)&&e(No(n))}}(n,r);return t.dom().addEventListener(e,s,i),{unbind:o(Po,t,e,s,i)}},Po=function(t,e,n,r){t.dom().removeEventListener(e,n,r)},Fo=(mn().browser.isSafari(),function(e){var n=void 0!==e?e.dom():t.document;return Oo(n.body.scrollLeft||n.documentElement.scrollLeft,n.body.scrollTop||n.documentElement.scrollTop)}),Bo=function(e,n,r){(void 0!==r?r.dom():t.document).defaultView.scrollTo(e,n)},Lo=function(t,e,n,i){return{x:r(t),y:r(e),width:r(n),height:r(i),right:r(t+n),bottom:r(e+i)}},Ho=function(e){var n=void 0===e?t.window:e,r=Fo(qe(n.document));return function(e){return b.from((void 0===e?t.window:e).visualViewport)}(n).fold((function(){var t=n.document.documentElement,e=t.clientWidth,i=t.clientHeight;return Lo(r.left(),r.top(),e,i)}),(function(t){return Lo(Math.max(t.pageLeft,r.left()),Math.max(t.pageTop,r.top()),t.width,t.height)}))},Vo=function(t,e){return t.view(e).fold(r([]),(function(e){var n=t.owner(e),r=Vo(t,n);return[e].concat(r)}))},jo=Object.freeze({__proto__:null,view:function(e){return(e.dom()===t.document?b.none():b.from(e.dom().defaultView.frameElement)).map(qe)},owner:function(t){return Ur(t)}}),Uo=function(e){var n=qe(t.document),r=Fo(n);return function(t,e){var n=e.owner(t),r=Vo(e,n);return b.some(r)}(e,jo).fold(o(Ao,e),(function(t){var n=Do(e),i=H(t,(function(t,e){var n=Do(e);return{left:t.left+n.left(),top:t.top+n.top()}}),{left:0,top:0});return Oo(i.left+n.left()+r.left(),i.top+n.top()+r.top())}))},$o=Lr("point","width","height"),Wo=Lr("x","y","width","height"),qo=function(t,e,n,i){return{x:r(t),y:r(e),width:r(n),height:r(i),right:r(t+n),bottom:r(e+i)}},Go=function(t){var e=Ao(t),n=Io(t),r=ko(t);return qo(e.left(),e.top(),n,r)},Yo=function(t){var e=Uo(t),n=Io(t),r=ko(t);return qo(e.left(),e.top(),n,r)},Ko=function(){return Ho(t.window)};function Xo(t,e,n,r,i){return t(n,r)?b.some(n):O(i)&&i(n)?b.none():e(n,r,i)}var Zo,Qo=function(t,e,n){for(var i=t.dom(),o=O(n)?n:r(!1);i.parentNode;){var s=qe(i=i.parentNode);if(e(s))return b.some(s);if(o(s))break}return b.none()},Jo=function(t,e,n){return Xo((function(t,e){return e(t)}),Qo,t,e,n)},ts=function(t,e,n){return Jo(t,e,n).isSome()},es=function(t,e,n){return Qo(t,(function(t){return yn(t,e)}),n)},ns=function(e,n){return function(e,n){var r=void 0===n?t.document:n.dom();return _n(r)?b.none():b.from(r.querySelector(e)).map(qe)}(n,e)},rs=function(t,e,n){return Xo(yn,es,t,e,n)},is=function(){var t=_i("aria-owns");return{id:r(t),link:function(e){di(e,"aria-owns",t)},unlink:function(t){pi(t,"aria-owns")}}},os=function(t,e){return ts(e,(function(e){return xn(e,t.element())}),r(!1))||function(t,e){return function(t){return Jo(t,(function(t){if(!ui(t))return!1;var e=fi(t,"id");return void 0!==e&&e.indexOf("aria-owns")>-1})).bind((function(t){var e=fi(t,"id"),n=Ur(t);return ns(n,'[aria-owns="'+e+'"]')}))}(e).exists((function(e){return os(t,e)}))}(t,e)};!function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"}(Zo||(Zo={}));var ss,as=Ve({}),us=["alloy/data/Fields","alloy/debugging/Debugging"],ls=function(e,n,r){return function(e,n,r){switch(lt(as.get(),e).orThunk((function(){var t=et(as.get());return tt(t,(function(t){return e.indexOf(t)>-1?b.some(as.get()[t]):b.none()}))})).getOr(Zo.NORMAL)){case Zo.NORMAL:return r(cs());case Zo.LOGGING:var i=function(e,n){var r=[],i=(new Date).getTime();return{logEventCut:function(t,e,n){r.push({outcome:"cut",target:e,purpose:n})},logEventStopped:function(t,e,n){r.push({outcome:"stopped",target:e,purpose:n})},logNoParent:function(t,e,n){r.push({outcome:"no-parent",target:e,purpose:n})},logEventNoHandlers:function(t,e){r.push({outcome:"no-handlers-left",target:e})},logEventResponse:function(t,e,n){r.push({outcome:"response",purpose:n,target:e})},write:function(){var o=(new Date).getTime();N(["mousemove","mouseover","mouseout",rr()],e)||t.console.log(e,{event:e,time:o-i,target:n.dom(),sequence:F(r,(function(t){return N(["cut","stopped","response"],t.outcome)?"{"+t.purpose+"} "+t.outcome+" at ("+gi(t.target)+")":t.outcome}))})}}}(e,n),o=r(i);return i.write(),o;case Zo.STOP:return!0}}(e,n,r)},cs=r({logEventCut:e,logEventStopped:e,logNoParent:e,logEventNoHandlers:e,logEventResponse:e,write:e}),ds=r([ve("menu"),ve("selectedMenu")]),fs=r([ve("item"),ve("selectedItem")]),hs=(r(Wt(fs().concat(ds()))),r(Wt(fs()))),ms=Ce("initSize",[ve("numColumns"),ve("numRows")]),ps=function(){return Ce("markers",[ve("backgroundMenu")].concat(ds()).concat(fs()))},gs=function(t){return Ce("markers",F(t,ve))},vs=function(t,e,n){return function(){var t=new Error;if(void 0!==t.stack){var e=t.stack.split("\n");j(e,(function(t){return t.indexOf("alloy")>0&&!z(us,(function(e){return t.indexOf(e)>-1}))})).getOr("unknown")}}(),Xt(e,e,n,te((function(t){return w.value((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.apply(void 0,e)}))})))},bs=function(t){return vs(0,t,Ot(e))},ys=function(t){return vs(0,t,Ot(b.none))},_s=function(t){return vs(0,t,Tt())},ws=function(t){return vs(0,t,Tt())},xs=function(t,e){return He(t,r(e))},Cs=function(t){return He(t,i)},Ss=r(ms),ks=Lr("x","y","bubble","direction","boundsRestriction","label"),Es=ft([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Os=Es.southeast,Ts=Es.southwest,As=Es.northeast,Ds=Es.northwest,Ms=Es.south,Rs=Es.north,Is=Es.east,Ns=Es.west,zs=function(t,e){return function(n,r){for(var i={},o=0,s=n.length;o<s;o++){var a=n[o];i[String(a)]=lt(e,a).map((function(e){return function(t,e){switch(e){case 1:return t.x();case 0:return t.x()+t.width();case 2:return t.y();case 3:return t.y()+t.height()}}(t,e)}))}return i}(["left","right","top","bottom"])},Ps=function(t){return t.x()},Fs=function(t,e){return t.x()+t.width()/2-e.width()/2},Bs=function(t,e){return t.x()+t.width()-e.width()},Ls=function(t,e){return t.y()-e.height()},Hs=function(t){return t.y()+t.height()},Vs=function(t,e){return t.y()+t.height()/2-e.height()/2},js=function(t,e,n){return ks(Ps(t),Hs(t),n.southeast(),Os(),zs(t,{left:1,top:3}),"layout-se")},Us=function(t,e,n){return ks(Bs(t,e),Hs(t),n.southwest(),Ts(),zs(t,{right:0,top:3}),"layout-sw")},$s=function(t,e,n){return ks(Ps(t),Ls(t,e),n.northeast(),As(),zs(t,{left:1,bottom:2}),"layout-ne")},Ws=function(t,e,n){return ks(Bs(t,e),Ls(t,e),n.northwest(),Ds(),zs(t,{right:0,bottom:2}),"layout-nw")},qs=function(t,e,n){return ks(Fs(t,e),Ls(t,e),n.north(),Rs(),zs(t,{bottom:2}),"layout-n")},Gs=function(t,e,n){return ks(Fs(t,e),Hs(t),n.south(),Ms(),zs(t,{top:3}),"layout-s")},Ys=function(t,e,n){return ks(function(t){return t.x()+t.width()}(t),Vs(t,e),n.east(),Is(),zs(t,{left:0}),"layout-e")},Ks=function(t,e,n){return ks(function(t,e){return t.x()-e.width()}(t,e),Vs(t,e),n.west(),Ns(),zs(t,{right:1}),"layout-w")},Xs=function(){return[js,Us,$s,Ws,Gs,qs,Ys,Ks]},Zs=function(){return[Us,js,Ws,$s,Gs,qs,Ys,Ks]},Qs=function(){return[$s,Ws,js,Us,qs,Gs]},Js=function(){return[js,Us,$s,Ws,Gs,qs]},ta=function(){return[Us,js,Ws,$s,Gs,qs]},ea=function(t,e,n){return Fr((function(r,i){n(r,t,e)}))},na=function(t){return{key:t,value:void 0}},ra=function(t,e,n,i,s,a,u){var l=function(t){return dt(t,n)?t[n]():b.none()},c=it(s,(function(t,e){return function(t,e,n){return function(t,e,n){var r=n.toString(),i=r.indexOf(")")+1,o=r.indexOf("("),s=r.substring(o+1,i-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:e,parameters:Mi(s.slice(0,1).concat(s.slice(3)))}},t}((function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];var a=[i].concat(o);return i.config({name:r(t)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+n)}),(function(t){var n=Array.prototype.slice.call(a,1);return e.apply(void 0,[i,t.config,t.state].concat(n))}))}),n,e)}(n,t,e)})),f=it(a,(function(t,e){return Ri(t,e)})),h=d(d(d({},f),c),{revoke:o(na,n),config:function(e){var r=ie(n+"-config",t,e);return{key:n,value:{config:r,me:h,configAsRaw:vt((function(){return ie(n+"-config",t,e)})),initialConfig:e,state:u}}},schema:function(){return e},exhibit:function(t,e){return l(t).bind((function(t){return lt(i,"exhibit").map((function(n){return n(e,t.config,t.state)}))})).getOr(Li({}))},name:function(){return n},handlers:function(t){return l(t).map((function(t){return lt(i,"events").getOr((function(){return{}}))(t.config,t.state)})).getOr({})}});return h},ia=function(t){return zt(t)},oa=$t([ve("fields"),ve("name"),Re("active",{}),Re("apis",{}),Re("state",Pi),Re("extra",{})]),sa=function(t){var e=ie("Creating behaviour: "+t.name,oa,t);return function(t,e,n,r,i,o){var s,a=$t(t),u=Me(e,[(s=t,Oe("config",$t(s)))]);return ra(a,u,e,n,r,i,o)}(e.fields,e.name,e.active,e.apis,e.extra,e.state)},aa=$t([ve("branchKey"),ve("branches"),ve("name"),Re("active",{}),Re("apis",{}),Re("state",Pi),Re("extra",{})]),ua=function(t){var e=ie("Creating behaviour: "+t.name,aa,t);return function(t,e,n,r,i,o){var s=t,a=Me(e,[Oe("config",t)]);return ra(s,a,e,n,r,i,o)}(ae(e.branchKey,e.branches),e.name,e.active,e.apis,e.extra,e.state)},la=r(void 0),ca=Object.freeze({__proto__:null,events:function(t){return Sr([Or(Xn(),(function(e,n){var r=t.channels,i=et(r),o=n,s=function(t,e){return e.universal()?t:L(t,(function(t){return N(e.channels(),t)}))}(i,o);B(s,(function(t){var n=r[t],i=n.schema,s=ie("channel["+t+"] data\nReceiver: "+gi(e.element()),i,o.data());n.onReceive(e,s)}))}))])}}),da=[be("channels",ee(w.value,$t([_s("onReceive"),Re("schema",ue())])))],fa=sa({fields:da,name:"receiving",active:ca}),ha=Object.freeze({__proto__:null,exhibit:function(t,e){return Li({classes:[],styles:e.useFixed()?{}:{position:"relative"}})}}),ma=function(t){t.dom().focus()},pa=function(e){var n=void 0!==e?e.dom():t.document;return b.from(n.activeElement).map(qe)},ga=function(t){return pa(Ur(t)).filter((function(e){return t.dom().contains(e.dom())}))},va=function(t,n){var r=Ur(n),i=pa(r).bind((function(t){var e,r,i=function(e){return xn(t,e)};return i(n)?b.some(n):(e=i,(r=function(t){for(var n=0;n<t.childNodes.length;n++){var i=qe(t.childNodes[n]);if(e(i))return b.some(i);var o=r(t.childNodes[n]);if(o.isSome())return o}return b.none()})(n.dom()))})),o=t(n);return i.each((function(t){pa(r).filter((function(e){return xn(e,t)})).fold((function(){ma(t)}),e)})),o},ba=Lr("position","left","top","right","bottom"),ya=function(t,e){var n=function(t){return t+"px"};oo(t,{position:b.some(e.position()),left:e.left().map(n),top:e.top().map(n),right:e.right().map(n),bottom:e.bottom().map(n)})},_a=ft([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),wa=function(t,e,n,r,i,o){var s=e.x()-n,a=e.y()-r,u=i-(s+e.width()),l=o-(a+e.height()),c=b.some(s),d=b.some(a),f=b.some(u),h=b.some(l),m=b.none();return e.direction().fold((function(){return ba(t,c,d,m,m)}),(function(){return ba(t,m,d,f,m)}),(function(){return ba(t,c,m,m,h)}),(function(){return ba(t,m,m,f,h)}),(function(){return ba(t,c,d,m,m)}),(function(){return ba(t,c,m,m,h)}),(function(){return ba(t,c,d,m,m)}),(function(){return ba(t,m,d,f,m)}))},xa=function(t,e){var n=o(Uo,e),r=t.fold(n,n,(function(){var t=Fo();return Uo(e).translate(-t.left(),-t.top())})),i=Io(e),s=ko(e);return qo(r.left(),r.top(),i,s)},Ca=function(t,e){return e.fold((function(){return t.fold(Ko,Ko,qo)}),(function(e){return t.fold(e,e,(function(){var n=e(),r=Sa(t,n.x(),n.y());return qo(r.left(),r.top(),n.width(),n.height())}))}))},Sa=function(t,e,n){var i=Oo(e,n);return t.fold(r(i),r(i),(function(){var t=Fo();return i.translate(-t.left(),-t.top())}))},ka=_a.relative,Ea=_a.fixed,Oa=Lr("anchorBox","origin"),Ta=function(t,e,n,r){var i=t+e;return i>r?n:i<n?r:i},Aa=function(t,e,n){return Math.min(Math.max(t,e),n)},Da=jr(["x","y","width","height","maxHeight","maxWidth","direction","classes","label","candidateYforTest"],[]),Ma=ft([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}]),Ra=function(t,e,n,s){fo(e,"max-height"),fo(e,"max-width");var a,u={width:r(Io(a=e)),height:r(ko(a))};return function(t,e,n,s,a){var u=n.width(),l=n.height(),c=function(t,o,c,d){return function(t,e,n,o){var s=t.x(),a=t.y(),u=t.bubble().offset(),l=u.left(),c=u.top(),d=function(t,e,n){var r=function(t,r){var o="top"===t||"bottom"===t?n.top():n.left();return lt(e,t).bind(i).bind((function(e){return"left"===t||"top"===t?e>=r?b.some(e):b.none():e<=r?b.some(e):b.none()})).map((function(t){return t+o})).getOr(r)},o=r("left",t.x()),s=r("top",t.y()),a=r("right",t.right()),u=r("bottom",t.bottom());return qo(o,s,a-o,u-s)}(o,t.boundsRestriction(),u),f=d.y(),h=d.bottom(),m=d.x(),p=d.right(),g=a+c,v=function(t,e,n,r,i){var o=i.x(),s=i.y(),a=i.width(),u=i.height(),l=t>=o,c=e>=s,d=l&&c,f=t+n<=o+a&&e+r<=s+u,h=Math.abs(Math.min(n,l?o+a-t:o-(t+n))),m=Math.abs(Math.min(r,c?s+u-e:s-(e+r))),p=Math.max(i.x(),i.right()-n),g=Math.max(i.y(),i.bottom()-r);return{originInBounds:d,sizeInBounds:f,limitX:Aa(t,i.x(),p),limitY:Aa(e,i.y(),g),deltaW:h,deltaH:m}}(s+l,g,e,n,d),y=v.originInBounds,_=v.sizeInBounds,w=v.limitX,x=v.limitY,C=v.deltaW,S=v.deltaH,k=r(x+S-f),E=r(h-x),O=function(t,e,n,r){return t.fold(e,e,r,r,e,r,n,n)}(t.direction(),E,E,k),T=r(w+C-m),A=r(p-w),D=function(t,e,n,r){return t.fold(e,r,e,r,n,n,e,r)}(t.direction(),A,A,T),M=Da({x:w,y:x,width:C,height:S,maxHeight:O,maxWidth:D,direction:t.direction(),classes:{on:t.bubble().classesOn(),off:t.bubble().classesOff()},label:t.label(),candidateYforTest:g});return y&&_?Ma.fit(M):Ma.nofit(M,C,S)}(t(e,n,s),u,l,a).fold(Ma.fit,(function(t,e,n){return n>d||e>c?Ma.nofit(t,e,n):Ma.nofit(o,c,d)}))};return V(t,(function(t,e){var n=o(c,e);return t.fold(Ma.fit,n)}),Ma.nofit(Da({x:e.x(),y:e.y(),width:n.width(),height:n.height(),maxHeight:n.height(),maxWidth:n.width(),direction:Os(),classes:{on:[],off:[]},label:"none",candidateYforTest:e.y()}),-1,-1)).fold(i,i)}(s.preference(),t,u,n,s.bounds())},Ia=function(t,e){!function(t,e){var n=Co.max(t,e,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);ro(t,"max-height",n+"px")}(t,Math.floor(e))},Na=r((function(t,e){Ia(t,e),io(t,{"overflow-x":"hidden","overflow-y":"auto"})})),za=r((function(t,e){Ia(t,e)})),Pa=jr(["bounds","origin","preference","maxHeightFunction","maxWidthFunction"],[]),Fa=function(t,e,n){return void 0===t[e]?n:t[e]},Ba=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"],La=function(t,e,n){var r=function(t){return lt(n,t).getOr([])},i=function(t,e,n){var i=Y(Ba,n);return{offset:function(){return Oo(t,e)},classesOn:function(){return W(n,r)},classesOff:function(){return W(i,r)}}};return{southeast:function(){return i(-t,e,["top","alignLeft"])},southwest:function(){return i(t,e,["top","alignRight"])},south:function(){return i(-t/2,e,["top","alignCentre"])},northeast:function(){return i(-t,-e,["bottom","alignLeft"])},northwest:function(){return i(t,-e,["bottom","alignRight"])},north:function(){return i(-t/2,-e,["bottom","alignCentre"])},east:function(){return i(t,-e/2,["valignCentre","left"])},west:function(){return i(-t,-e/2,["valignCentre","right"])},innerNorthwest:function(){return i(-t,e,["top","alignRight"])},innerNortheast:function(){return i(t,e,["top","alignLeft"])},innerNorth:function(){return i(-t/2,e,["top","alignCentre"])},innerSouthwest:function(){return i(-t,-e,["bottom","alignRight"])},innerSoutheast:function(){return i(t,-e,["bottom","alignLeft"])},innerSouth:function(){return i(-t/2,-e,["bottom","alignCentre"])},innerWest:function(){return i(t,-e/2,["valignCentre","right"])},innerEast:function(){return i(-t,-e/2,["valignCentre","left"])}}},Ha=function(){return La(0,0,{})},Va=function(t,e){return function(n){return"rtl"===ja(n)?e:t}},ja=function(t){return"rtl"===so(t,"direction")?"rtl":"ltr"};!function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"}(ss||(ss={}));var Ua,$a="data-alloy-vertical-dir",Wa=function(t){return ts(t,(function(t){return ui(t)&&fi(t,$a)===ss.BottomToTop}))},qa=function(){return Me("layouts",[ve("onLtr"),ve("onRtl"),Ee("onBottomLtr"),Ee("onBottomRtl")])},Ga=function(t,e,n,r,i,o,s){var a=s.map(Wa).getOr(!1),u=e.layouts.map((function(e){return e.onLtr(t)})),l=e.layouts.map((function(e){return e.onRtl(t)})),c=a?e.layouts.bind((function(e){return e.onBottomLtr.map((function(e){return e(t)}))})).or(u).getOr(i):u.getOr(n),d=a?e.layouts.bind((function(e){return e.onBottomRtl.map((function(e){return e(t)}))})).or(l).getOr(o):l.getOr(r);return Va(c,d)(t)},Ya=[ve("hotspot"),Ee("bubble"),Re("overrides",{}),qa(),xs("placement",(function(t,e,n){var r=xa(n,e.hotspot.element()),i=Ga(t.element(),e,Js(),ta(),Qs(),[Ws,$s,Us,js,qs,Gs],b.some(e.hotspot.element()));return b.some({anchorBox:r,bubble:e.bubble.getOr(Ha()),overrides:e.overrides,layouts:i,placer:b.none()})}))],Ka=[ve("x"),ve("y"),Re("height",0),Re("width",0),Re("bubble",Ha()),Re("overrides",{}),qa(),xs("placement",(function(t,e,n){var r=Sa(n,e.x,e.y),i=qo(r.left(),r.top(),e.width,e.height),o=Ga(t.element(),e,Xs(),Zs(),Xs(),Zs(),b.none());return b.some({anchorBox:i,bubble:e.bubble,overrides:e.overrides,layouts:o,placer:b.none()})}))],Xa={create:Lr("start","soffset","finish","foffset")},Za=(ft([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),function(t){return t.fold(i,i,i)}),Qa=ft([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ja={domRange:Qa.domRange,relative:Qa.relative,exact:Qa.exact,exactFromRange:function(t){return Qa.exact(t.start(),t.soffset(),t.finish(),t.foffset())},getWin:function(t){var e=function(t){return t.match({domRange:function(t){return qe(t.startContainer)},relative:function(t,e){return Za(t)},exact:function(t,e,n,r){return t}})}(t);return Wr(e)},range:Xa.create},tu=function(t,e,n){var r,i=t.document.createRange();return r=i,e.fold((function(t){r.setStartBefore(t.dom())}),(function(t,e){r.setStart(t.dom(),e)}),(function(t){r.setStartAfter(t.dom())})),function(t,e){e.fold((function(e){t.setEndBefore(e.dom())}),(function(e,n){t.setEnd(e.dom(),n)}),(function(e){t.setEndAfter(e.dom())}))}(i,n),i},eu=function(t,e,n,r,i){var o=t.document.createRange();return o.setStart(e.dom(),n),o.setEnd(r.dom(),i),o},nu=function(t){return{left:r(t.left),top:r(t.top),right:r(t.right),bottom:r(t.bottom),width:r(t.width),height:r(t.height)}},ru=ft([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),iu=function(t,e,n){return e(qe(n.startContainer),n.startOffset,qe(n.endContainer),n.endOffset)},ou=function(t,e){var n=function(e){return t(e)?b.from(e.dom().nodeValue):b.none()};return{get:function(e){if(!t(e))throw new Error("Can only get text value of a text node");return n(e).getOr("")},getOption:n,set:function(e,n){if(!t(e))throw new Error("Can only set raw text value of a text node");e.dom().nodeValue=n}}}(li),su=function(t){return ou.getOption(t)},au=["img","br"],uu=function(t){return su(t).filter((function(t){return 0!==t.trim().length||t.indexOf("\xa0")>-1})).isSome()||N(au,si(t))},lu=function(t,e){return wn(e,t)},cu=function(t){var e=qe(t.anchorNode),n=qe(t.focusNode);return function(t,e,n,r){var i=function(t,e,n,r){var i=Ur(t).dom().createRange();return i.setStart(t.dom(),e),i.setEnd(n.dom(),r),i}(t,e,n,r),o=xn(t,n)&&e===r;return i.collapsed&&!o}(e,t.anchorOffset,n,t.focusOffset)?b.some(Xa.create(e,t.anchorOffset,n,t.focusOffset)):function(t){if(t.rangeCount>0){var e=t.getRangeAt(0),n=t.getRangeAt(t.rangeCount-1);return b.some(Xa.create(qe(e.startContainer),e.startOffset,qe(n.endContainer),n.endOffset))}return b.none()}(t)},du=function(t,e){return function(t){var e=t.getClientRects(),n=e.length>0?e[0]:t.getBoundingClientRect();return n.width>0||n.height>0?b.some(n).map(nu):b.none()}(function(t,e){return function(t,e){return n=function(t,e){return e.match({domRange:function(t){return{ltr:r(t),rtl:b.none}},relative:function(e,n){return{ltr:vt((function(){return tu(t,e,n)})),rtl:vt((function(){return b.some(tu(t,n,e))}))}},exact:function(e,n,r,i){return{ltr:vt((function(){return eu(t,e,n,r,i)})),rtl:vt((function(){return b.some(eu(t,r,i,e,n))}))}}})}(t,e),(i=n.ltr()).collapsed?n.rtl().filter((function(t){return!1===t.collapsed})).map((function(t){return ru.rtl(qe(t.endContainer),t.endOffset,qe(t.startContainer),t.startOffset)})).getOrThunk((function(){return iu(0,ru.ltr,i)})):iu(0,ru.ltr,i);var n,i}(t,e).match({ltr:function(e,n,r,i){var o=t.document.createRange();return o.setStart(e.dom(),n),o.setEnd(r.dom(),i),o},rtl:function(e,n,r,i){var o=t.document.createRange();return o.setStart(r.dom(),i),o.setEnd(e.dom(),n),o}})}(t,e))},fu=Lr("element","offset"),hu=ft([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),mu=function(t){return t.fold(i,(function(t,e,n){return t.translate(-e,-n)}))},pu=function(t){return t.fold(i,i)},gu=function(t){return V(t,(function(t,e){return t.translate(e.left(),e.top())}),Oo(0,0))},vu=function(t){var e=F(t,pu);return gu(e)},bu=hu.screen,yu=hu.absolute,_u=function(t,e,n){var r=Ur(t.element()),i=Fo(r),o=function(t,e,n){var r=Wr(n.root).dom();return b.from(r.frameElement).map(qe).filter((function(e){var n=Ur(e),r=Ur(t.element());return xn(n,r)})).map(Ao)}(t,0,n).getOr(i);return yu(o,i.left(),i.top())},wu=function(t,e,n,r){var i=t,o=e,s=n,a=r;t<0&&(i=0,s=n+t),e<0&&(o=0,a=r+e);var u=bu(Oo(i,o));return b.some($o(u,s,a))},xu=function(t,e,n,r,i){return t.map((function(t){var o=[e,t.point()],s=r.fold((function(){return vu(o)}),(function(){return vu(o)}),(function(){return function(t){var e=F(t,mu);return gu(e)}(o)})),a=Wo(s.left(),s.top(),t.width(),t.height()),u=n.showAbove?Qs():Js(),l=ta(),c=Ga(i,n,u,l,u,l,b.none());return{anchorBox:a,bubble:n.bubble.getOr(Ha()),overrides:n.overrides,layouts:c,placer:b.none()}}))},Cu=Lr("element","offset"),Su=function(t,e){return li(t)?Cu(t,e):function(t,e){var n=Yr(t);if(0===n.length)return fu(t,e);if(e<n.length)return fu(n[e],0);var r=n[n.length-1],i=li(r)?function(t){return ou.get(t)}(r).length:Yr(r).length;return fu(r,i)}(t,e)},ku=function(t,e){return e.getSelection.getOrThunk((function(){return function(){return function(t){return b.from(t.getSelection()).filter((function(t){return t.rangeCount>0})).bind(cu)}(t)}}))().map((function(t){var e=Su(t.start(),t.soffset()),n=Su(t.finish(),t.foffset());return Ja.range(e.element(),e.offset(),n.element(),n.offset())}))},Eu=[Ee("getSelection"),ve("root"),Ee("bubble"),qa(),Re("overrides",{}),Re("showAbove",!1),xs("placement",(function(t,e,n){var r=Wr(e.root).dom(),i=_u(t,0,e),o=ku(r,e).bind((function(t){return du(r,Ja.exactFromRange(t)).orThunk((function(){var e=We("\ufeff");return Xr(t.start(),e),du(r,Ja.exact(e,0,e,1)).map((function(t){return ni(e),t}))})).bind((function(t){return wu(t.left(),t.top(),t.width(),t.height())}))})),s=ku(r,e).bind((function(t){return ui(t.start())?b.some(t.start()):qr(t.start())})).getOr(t.element());return xu(o,i,e,n,s)}))],Ou=[ve("node"),ve("root"),Ee("bubble"),qa(),Re("overrides",{}),Re("showAbove",!1),xs("placement",(function(t,e,n){var r=_u(t,0,e);return e.node.bind((function(i){var o=i.dom().getBoundingClientRect(),s=wu(o.left,o.top,o.width,o.height),a=e.node.getOr(t.element());return xu(s,r,e,n,a)}))}))],Tu=function(t){return t.x()+t.width()},Au=function(t,e){return t.x()-e.width()},Du=function(t,e){return t.y()-e.height()+t.height()},Mu=function(t){return t.y()},Ru=function(t,e,n){return ks(Tu(t),Mu(t),n.southeast(),Os(),zs(t,{left:0,top:2}),"link-layout-se")},Iu=function(t,e,n){return ks(Au(t,e),Mu(t),n.southwest(),Ts(),zs(t,{right:1,top:2}),"link-layout-sw")},Nu=function(t,e,n){return ks(Tu(t),Du(t,e),n.northeast(),As(),zs(t,{left:0,bottom:3}),"link-layout-ne")},zu=function(t,e,n){return ks(Au(t,e),Du(t,e),n.northwest(),Ds(),zs(t,{right:1,bottom:3}),"link-layout-nw")},Pu=function(){return[Ru,Iu,Nu,zu]},Fu=function(){return[Iu,Ru,zu,Nu]},Bu=[ve("item"),qa(),Re("overrides",{}),xs("placement",(function(t,e,n){var r=xa(n,e.item.element()),i=Ga(t.element(),e,Pu(),Fu(),Pu(),Fu(),b.none());return b.some({anchorBox:r,bubble:Ha(),overrides:e.overrides,layouts:i,placer:b.none()})}))],Lu=ae("anchor",{selection:Eu,node:Ou,hotspot:Ya,submenu:Bu,makeshift:Ka}),Hu=function(t,n,r,i,o){!function(t,n,r,i,o,s){var a=Fa(s,"maxHeightFunction",Na()),u=Fa(s,"maxWidthFunction",e),l=t.anchorBox(),c=t.origin();!function(t,e,n,r){var i=Ra(t,e,n,r);(function(t,e,n){ya(t,function(t,e){return t.fold((function(){return ba("absolute",b.some(e.x()),b.some(e.y()),b.none(),b.none())}),(function(t,n,r,i){return wa("absolute",e,t,n,r,i)}),(function(t,n,r,i){return wa("fixed",e,t,n,r,i)}))}(n.origin(),e))})(e,i,r),function(t,e){var n=e.classes();Xi(t,n.off),Ki(t,n.on)}(e,i),function(t,e,n){n.maxHeightFunction()(t,e.maxHeight())}(e,i,r),function(t,e,n){n.maxWidthFunction()(t,e.maxWidth())}(e,i,r)}(l,n,r,Pa({bounds:Ca(c,o),origin:c,preference:i,maxHeightFunction:a,maxWidthFunction:u}))}(function(t,e){return Oa(t,e)}(r.anchorBox,n),o.element(),r.bubble,r.layouts,i,r.overrides)},Vu=function(t,e,n,r,i,o){var s=o.map(Go);return ju(t,e,n,r,i,s)},ju=function(e,n,i,o,s,a){var u=ie("positioning anchor.info",Lu,o);va((function(){ro(s.element(),"position","fixed");var i=uo(s.element(),"visibility");ro(s.element(),"visibility","hidden");var o,l=n.useFixed()?Ea(0,0,(o=t.document.documentElement).clientWidth,o.clientHeight):function(t){var e=Ao(t.element()),n=t.element().dom().getBoundingClientRect();return ka(e.left(),e.top(),n.width,n.height)}(e),c=u.placement,d=a.map(r).or(n.getBounds);c(e,u,l).each((function(t){t.placer.getOr(Hu)(e,l,t,d,s)})),i.fold((function(){fo(s.element(),"visibility")}),(function(t){ro(s.element(),"visibility",t)})),uo(s.element(),"left").isNone()&&uo(s.element(),"top").isNone()&&uo(s.element(),"right").isNone()&&uo(s.element(),"bottom").isNone()&&uo(s.element(),"position").is("fixed")&&fo(s.element(),"position")}),s.element())},Uu=Object.freeze({__proto__:null,position:function(t,e,n,r,i){Vu(t,e,n,r,i,b.none())},positionWithin:Vu,positionWithinBounds:ju,getMode:function(t,e,n){return e.useFixed()?"fixed":"absolute"}}),$u=[Re("useFixed",u),Ee("getBounds")],Wu=sa({fields:$u,name:"positioning",active:ha,apis:Uu}),qu=function(t){br(t,lr());var e=t.components();B(e,qu)},Gu=function(t){var e=t.components();B(e,Gu),br(t,ur())},Yu=function(t,e){Jr(t.element(),e.element())},Ku=function(t,e){var n=t.components();!function(t){B(t.components(),(function(t){return ni(t.element())})),ei(t.element()),t.syncComponents()}(t);var r=Y(n,e);B(r,(function(e){qu(e),t.getSystem().removeFromWorld(e)})),B(e,(function(e){e.getSystem().isConnected()?Yu(t,e):(t.getSystem().addToWorld(e),Yu(t,e),Qi(t.element())&&Gu(e)),t.syncComponents()}))},Xu=function(t,e){Zu(t,e,Jr)},Zu=function(t,e,n){t.getSystem().addToWorld(e),n(t.element(),e.element()),Qi(t.element())&&Gu(e),t.syncComponents()},Qu=function(t){qu(t),ni(t.element()),t.getSystem().removeFromWorld(t)},Ju=function(t){var e=qr(t.element()).bind((function(e){return t.getSystem().getByDom(e).toOption()}));Qu(t),e.each((function(t){t.syncComponents()}))},tl=function(t){var e=t.components();B(e,Qu),ei(t.element()),t.syncComponents()},el=function(t,e){nl(t,e,Jr)},nl=function(t,e,n){n(t,e.element());var r=Yr(e.element());B(r,(function(t){e.getByDom(t).each(Gu)}))},rl=function(t){var e=Yr(t.element());B(e,(function(e){t.getByDom(e).each(qu)})),ni(t.element())},il=function(t,e,n,r){n.get().each((function(e){tl(t)}));var i=e.getAttachPoint(t);Xu(i,t);var o=t.getSystem().build(r);return Xu(t,o),n.set(o),o},ol=function(t,e,n,r){var i=il(t,e,n,r);return e.onOpen(t,i),i},sl=function(t,e,n){n.get().each((function(r){tl(t),Ju(t),e.onClose(t,r),n.clear()}))},al=function(t,e,n){return n.isOpen()},ul=function(t,e,n){var r=e.getAttachPoint(t);ro(t.element(),"position",Wu.getMode(r)),function(t,e,n,r){uo(t.element(),"visibility").fold((function(){pi(t.element(),n)}),(function(e){di(t.element(),n,e)})),ro(t.element(),"visibility","hidden")}(t,0,e.cloakVisibilityAttr)},ll=function(t,e,n){(function(t){return z(["top","left","right","bottom"],(function(e){return uo(t,e).isSome()}))})(t.element())||fo(t.element(),"position"),function(t,e,n){if(mi(t.element(),n)){var r=fi(t.element(),n);ro(t.element(),"visibility",r)}else fo(t.element(),"visibility")}(t,0,e.cloakVisibilityAttr)},cl=Object.freeze({__proto__:null,cloak:ul,decloak:ll,open:ol,openWhileCloaked:function(t,e,n,r,i){ul(t,e),ol(t,e,n,r),i(),ll(t,e)},close:sl,isOpen:al,isPartOf:function(t,e,n,r){return al(0,0,n)&&n.get().exists((function(n){return e.isPartOf(t,n,r)}))},getState:function(t,e,n){return n.get()},setContent:function(t,e,n,r){return n.get().map((function(){return il(t,e,n,r)}))}}),dl=Object.freeze({__proto__:null,events:function(t,e){return Sr([Or(er(),(function(n,r){sl(n,t,e)}))])}}),fl=[bs("onOpen"),bs("onClose"),ve("isPartOf"),ve("getAttachPoint"),Re("cloakVisibilityAttr","data-precloak-visibility")],hl=sa({fields:fl,name:"sandboxing",active:dl,apis:cl,state:Object.freeze({__proto__:null,init:function(){var t=Ve(b.none()),e=r("not-implemented");return Fi({readState:e,isOpen:function(){return t.get().isSome()},clear:function(){t.set(b.none())},set:function(e){t.set(b.some(e))},get:function(){return t.get()}})}})}),ml=r("dismiss.popups"),pl=r("reposition.popups"),gl=r("mouse.released"),vl=$t([Re("isExtraPart",r(!1)),Me("fireEventInstead",[Re("event",cr())])]),bl=function(t){var e,n=ie("Dismissal",vl,t);return(e={})[ml()]={schema:$t([ve("target")]),onReceive:function(t,e){hl.isOpen(t)&&(hl.isPartOf(t,e.target)||n.isExtraPart(t,e.target)||n.fireEventInstead.fold((function(){return hl.close(t)}),(function(e){return br(t,e.event)})))}},e},yl=$t([Me("fireEventInstead",[Re("event",dr())]),xe("doReposition")]),_l=function(t){var e,n=ie("Reposition",yl,t);return(e={})[pl()]={onReceive:function(t){hl.isOpen(t)&&n.fireEventInstead.fold((function(){return n.doReposition(t)}),(function(e){return br(t,e.event)}))}},e},wl=function(t,e,n){e.store.manager.onLoad(t,e,n)},xl=function(t,e,n){e.store.manager.onUnload(t,e,n)},Cl=Object.freeze({__proto__:null,onLoad:wl,onUnload:xl,setValue:function(t,e,n,r){e.store.manager.setValue(t,e,n,r)},getValue:function(t,e,n){return e.store.manager.getValue(t,e,n)},getState:function(t,e,n){return n}}),Sl=Object.freeze({__proto__:null,events:function(t,e){var n=t.resetOnDom?[zr((function(n,r){wl(n,t,e)})),Pr((function(n,r){xl(n,t,e)}))]:[ea(t,e,wl)];return Sr(n)}}),kl=function(){var t=Ve(null);return Fi({set:t.set,get:t.get,isNotSet:function(){return null===t.get()},clear:function(){t.set(null)},readState:function(){return{mode:"memory",value:t.get()}}})},El=function(){var t=Ve({}),e=Ve({});return Fi({readState:function(){return{mode:"dataset",dataByValue:t.get(),dataByText:e.get()}},lookup:function(n){return lt(t.get(),n).orThunk((function(){return lt(e.get(),n)}))},update:function(n){var r=t.get(),i=e.get(),o={},s={};B(n,(function(t){o[t.value]=t,lt(t,"meta").each((function(e){lt(e,"text").each((function(e){s[e]=t}))}))})),t.set(d(d({},r),o)),e.set(d(d({},i),s))},clear:function(){t.set({}),e.set({})}})},Ol=Object.freeze({__proto__:null,memory:kl,dataset:El,manual:function(){return Fi({readState:function(){}})},init:function(t){return t.store.manager.state(t)}}),Tl=function(t,e,n,r){var i=e.store;n.update([r]),i.setValue(t,r),e.onSetValue(t,r)},Al=[Ee("initialValue"),ve("getFallbackEntry"),ve("getDataKey"),ve("setValue"),xs("manager",{setValue:Tl,getValue:function(t,e,n){var r=e.store,i=r.getDataKey(t);return n.lookup(i).fold((function(){return r.getFallbackEntry(i)}),(function(t){return t}))},onLoad:function(t,e,n){e.store.initialValue.each((function(r){Tl(t,e,n,r)}))},onUnload:function(t,e,n){n.clear()},state:El})],Dl=[ve("getValue"),Re("setValue",e),Ee("initialValue"),xs("manager",{setValue:function(t,e,n,r){e.store.setValue(t,r),e.onSetValue(t,r)},getValue:function(t,e,n){return e.store.getValue(t)},onLoad:function(t,e,n){e.store.initialValue.each((function(n){e.store.setValue(t,n)}))},onUnload:e,state:Pi.init})],Ml=[Ee("initialValue"),xs("manager",{setValue:function(t,e,n,r){n.set(r),e.onSetValue(t,r)},getValue:function(t,e,n){return n.get()},onLoad:function(t,e,n){e.store.initialValue.each((function(t){n.isNotSet()&&n.set(t)}))},onUnload:function(t,e,n){n.clear()},state:kl})],Rl=[Ie("store",{mode:"memory"},ae("mode",{memory:Ml,manual:Dl,dataset:Al})),bs("onSetValue"),Re("resetOnDom",!1)],Il=sa({fields:Rl,name:"representing",active:Sl,apis:Cl,extra:{setValueFrom:function(t,e){var n=Il.getValue(e);Il.setValue(t,n)}},state:Ol}),Nl=function(t,e){return Le(t,{},F(e,(function(e){return n=e.name(),r="Cannot configure "+e.name()+" for "+t,Xt(n,n,At(),jt((function(t){return Ct("The field: "+n+" is forbidden. "+r)})));var n,r})).concat([He("dump",i)]))},zl=function(t){return t.dump},Pl=function(t,e){return d(d({},t.dump),ia(e))},Fl=Nl,Bl=Pl,Ll=ft([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Hl=function(t){return ct(t,"uiType")},Vl=function(t,e,n,o){return function(t,e,n,i){return Hl(n)&&"placeholder"===n.uiType?function(t,e,n,i){return t.exists((function(t){return t!==n.owner}))?Ll.single(!0,r(n)):lt(i,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+et(i)+"]\nNamespace: "+t.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(t){return t.replace()}))}(t,0,n,i):Ll.single(!1,r(n))}(t,0,n,o).fold((function(r,i){var s=Hl(n)?i(e,n.config,n.validated):i(e),a=lt(s,"components").getOr([]),u=W(a,(function(n){return Vl(t,e,n,o)}));return[d(d({},s),{components:u})]}),(function(t,r){if(Hl(n)){var o=r(e,n.config,n.validated);return n.validated.preprocess.getOr(i)(o)}return r(e)}))},jl=Ll.single,Ul=Ll.multiple,$l=r("placeholder"),Wl=ft([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),ql=Re("factory",{sketch:i}),Gl=Re("schema",[]),Yl=ve("name"),Kl=Xt("pname","pname",Dt((function(t){return"<alloy."+_i(t.name)+">"})),ue()),Xl=He("schema",(function(){return[Ee("preprocess")]})),Zl=Re("defaults",r({})),Ql=Re("overrides",r({})),Jl=Wt([ql,Gl,Yl,Kl,Zl,Ql]),tc=Wt([ql,Gl,Yl,Zl,Ql]),ec=Wt([ql,Gl,Yl,Kl,Zl,Ql]),nc=Wt([ql,Xl,Yl,ve("unit"),Kl,Zl,Ql]),rc=function(t){return t.fold(b.some,b.none,b.some,b.some)},ic=function(t){var e=function(t){return t.name};return t.fold(e,e,e,e)},oc=function(t,e){return function(n){var r=ie("Converting part type",e,n);return t(r)}},sc=oc(Wl.required,Jl),ac=oc(Wl.external,tc),uc=oc(Wl.optional,ec),lc=oc(Wl.group,nc),cc=r("entirety"),dc=Object.freeze({__proto__:null,required:sc,external:ac,optional:uc,group:lc,asNamedPart:rc,name:ic,asCommon:function(t){return t.fold(i,i,i,i)},original:cc}),fc=function(t,e,n,r){return pt(e.defaults(t,n,r),n,{uid:t.partUids[e.name]},e.overrides(t,n,r))},hc=function(t,e){var n={};return B(e,(function(e){rc(e).each((function(e){var r=mc(t,e.pname);n[e.name]=function(n){var i=ie("Part: "+e.name+" in "+t,Wt(e.schema),n);return d(d({},r),{config:n,validated:i})}}))})),n},mc=function(t,e){return{uiType:$l(),owner:t,name:e}},pc=function(t,e,n){return{uiType:$l(),owner:t,name:e,config:n,validated:{}}},gc=function(t){return W(t,(function(t){return t.fold(b.none,b.some,b.none,b.none).map((function(t){return Ce(t.name,t.schema.concat([Cs(cc())]))})).toArray()}))},vc=function(t){return F(t,ic)},bc=function(t,e,n){return function(t,e,n){var i={},o={};return B(n,(function(t){t.fold((function(t){i[t.pname]=jl(!0,(function(e,n,r){return t.factory.sketch(fc(e,t,n,r))}))}),(function(t){var n=e.parts[t.name];o[t.name]=r(t.factory.sketch(fc(e,t,n[cc()]),n))}),(function(t){i[t.pname]=jl(!1,(function(e,n,r){return t.factory.sketch(fc(e,t,n,r))}))}),(function(t){i[t.pname]=Ul(!0,(function(e,n,r){return F(e[t.name],(function(n){return t.factory.sketch(pt(t.defaults(e,n,r),n,t.overrides(e,n)))}))}))}))})),{internals:r(i),externals:r(o)}}(0,e,n)},yc=function(t,e,n){return function(t,e,n,i){var o=it(i,(function(t,e){return i=t,o=!1,{name:r(n=e),required:function(){return i.fold((function(t,e){return t}),(function(t,e){return t}))},used:function(){return o},replace:function(){if(o)throw new Error("Trying to use the same placeholder more than once: "+n);return o=!0,i}};var n,i,o})),s=function(t,e,n,r){return W(n,(function(n){return Vl(t,e,n,r)}))}(t,e,n,o);return rt(o,(function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+t.getOr("none")+"\nComponents: "+JSON.stringify(e.components,null,2))})),s}(b.some(t),e,e.components,n)},_c=function(t,e,n){var r=e.partUids[n];return t.getSystem().getByUid(r).toOption()},wc=function(t,e,n){return _c(t,e,n).getOrDie("Could not find part: "+n)},xc=function(t,e,n){var i={},o=e.partUids,s=t.getSystem();return B(n,(function(t){i[t]=r(s.getByUid(o[t]))})),i},Cc=function(t,e){var n=t.getSystem();return it(e.partUids,(function(t,e){return r(n.getByUid(t))}))},Sc=function(t){return et(t.partUids)},kc=function(t,e,n){var i={},o=e.partUids,s=t.getSystem();return B(n,(function(t){i[t]=r(s.getByUid(o[t]).getOrDie())})),i},Ec=function(t,e){var n=vc(e);return zt(F(n,(function(e){return{key:e,value:t+"-"+e}})))},Oc=function(t){return Xt("partUids","partUids",Mt((function(e){return Ec(e.uid,t)})),ue())},Tc=Object.freeze({__proto__:null,generate:hc,generateOne:pc,schemas:gc,names:vc,substitutes:bc,components:yc,defaultUids:Ec,defaultUidsSchema:Oc,getAllParts:Cc,getAllPartNames:Sc,getPart:_c,getPartOrDie:wc,getParts:xc,getPartsOrDie:kc}),Ac=function(t,e,n,r,i){var o=function(t,e){return(t.length>0?[Ce("parts",t)]:[]).concat([ve("uid"),Re("dom",{}),Re("components",[]),Cs("originalSpec"),Re("debug.sketcher",{})]).concat(e)}(r,i);return ie(t+" [SpecSchema]",$t(o.concat(e)),n)},Dc=function(t,e,n,r,i){var o=Mc(i),s=gc(n),a=Oc(n),u=Ac(t,e,o,s,[a]),l=bc(0,u,n);return r(u,yc(t,u,l.internals()),o,l.externals())},Mc=function(t){return function(t){return ct(t,"uid")}(t)?t:d(d({},t),{uid:Oi("uid")})},Rc=$t([ve("name"),ve("factory"),ve("configFields"),Re("apis",{}),Re("extraApis",{})]),Ic=$t([ve("name"),ve("factory"),ve("configFields"),ve("partFields"),Re("apis",{}),Re("extraApis",{})]),Nc=function(t){var e=ie("Sketcher for "+t.name,Rc,t),n=it(e.apis,zi),i=it(e.extraApis,(function(t,e){return Ri(t,e)}));return d(d({name:r(e.name),configFields:r(e.configFields),sketch:function(t){return function(t,e,n,r){var i=Mc(r);return n(Ac(t,e,i,[],[]),i)}(e.name,e.configFields,e.factory,t)}},n),i)},zc=function(t){var e=ie("Sketcher for "+t.name,Ic,t),n=hc(e.name,e.partFields),i=it(e.apis,zi),o=it(e.extraApis,(function(t,e){return Ri(t,e)}));return d(d({name:r(e.name),partFields:r(e.partFields),configFields:r(e.configFields),sketch:function(t){return Dc(e.name,e.configFields,e.partFields,e.factory,t)},parts:r(n)},i),o)},Pc=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},Fc=function(t){return"input"===si(t)&&"radio"!==fi(t,"type")||"textarea"===si(t)},Bc=Object.freeze({__proto__:null,getCurrent:function(t,e,n){return e.find(t)}}),Lc=[ve("find")],Hc=sa({fields:Lc,name:"composing",apis:Bc}),Vc=function(t,e,n,r){var i=lu(t.element(),"."+e.highlightClass);B(i,(function(n){z(r,(function(t){return t.element()===n}))||(Gi(n,e.highlightClass),t.getSystem().getByDom(n).each((function(n){e.onDehighlight(t,n),br(n,vr())})))}))},jc=function(t,e,n,r){Vc(t,e,0,[r]),Uc(t,e,n,r)||(qi(r.element(),e.highlightClass),e.onHighlight(t,r),br(r,gr()))},Uc=function(t,e,n,r){return Yi(r.element(),e.highlightClass)},$c=function(t,e,n){return ns(t.element(),"."+e.itemClass).bind((function(e){return t.getSystem().getByDom(e).toOption()}))},Wc=function(t,e,n){var r=lu(t.element(),"."+e.itemClass);return(r.length>0?b.some(r[r.length-1]):b.none()).bind((function(e){return t.getSystem().getByDom(e).toOption()}))},qc=function(t,e,n,r){var i=lu(t.element(),"."+e.itemClass);return U(i,(function(t){return Yi(t,e.highlightClass)})).bind((function(e){var n=Ta(e,r,0,i.length-1);return t.getSystem().getByDom(i[n]).toOption()}))},Gc=function(t,e,n){var r=lu(t.element(),"."+e.itemClass);return Pc(F(r,(function(e){return t.getSystem().getByDom(e).toOption()})))},Yc=Object.freeze({__proto__:null,dehighlightAll:function(t,e,n){return Vc(t,e,0,[])},dehighlight:function(t,e,n,r){Uc(t,e,n,r)&&(Gi(r.element(),e.highlightClass),e.onDehighlight(t,r),br(r,vr()))},highlight:jc,highlightFirst:function(t,e,n){$c(t,e).each((function(r){jc(t,e,n,r)}))},highlightLast:function(t,e,n){Wc(t,e).each((function(r){jc(t,e,n,r)}))},highlightAt:function(t,e,n,r){(function(t,e,n,r){var i=lu(t.element(),"."+e.itemClass);return b.from(i[r]).fold((function(){return w.error("No element found with index "+r)}),t.getSystem().getByDom)})(t,e,0,r).fold((function(t){throw new Error(t)}),(function(r){jc(t,e,n,r)}))},highlightBy:function(t,e,n,r){var i=Gc(t,e);j(i,r).each((function(r){jc(t,e,n,r)}))},isHighlighted:Uc,getHighlighted:function(t,e,n){return ns(t.element(),"."+e.highlightClass).bind((function(e){return t.getSystem().getByDom(e).toOption()}))},getFirst:$c,getLast:Wc,getPrevious:function(t,e,n){return qc(t,e,0,-1)},getNext:function(t,e,n){return qc(t,e,0,1)},getCandidates:Gc}),Kc=[ve("highlightClass"),ve("itemClass"),bs("onHighlight"),bs("onDehighlight")],Xc=sa({fields:Kc,name:"highlighting",apis:Yc}),Zc=function(t,e,n){var r=G(t.slice(0,e)),i=G(t.slice(e+1));return j(r.concat(i),n)},Qc=function(t,e,n){var r=G(t.slice(0,e));return j(r,n)},Jc=function(t,e,n){var r=t.slice(0,e),i=t.slice(e+1);return j(i.concat(r),n)},td=function(t,e,n){var r=t.slice(e+1);return j(r,n)},ed=function(t){return function(e){var n=e.raw();return N(t,n.which)}},nd=function(t){return function(e){return q(t,(function(t){return t(e)}))}},rd=function(t){return!0===t.raw().shiftKey},id=function(t){return!0===t.raw().ctrlKey},od=s(rd),sd=function(t,e){return{matches:t,classification:e}},ad=function(t,e,n){e.exists((function(t){return n.exists((function(e){return xn(e,t)}))}))||yr(t,fr(),{prevFocus:e,newFocus:n})},ud=function(){var t=function(t){return ga(t.element())};return{get:t,set:function(e,n){var r=t(e);e.getSystem().triggerFocus(n,e.element());var i=t(e);ad(e,r,i)}}},ld=function(){var t=function(t){return Xc.getHighlighted(t).map((function(t){return t.element()}))};return{get:t,set:function(n,r){var i=t(n);n.getSystem().getByDom(r).fold(e,(function(t){Xc.highlight(n,t)}));var o=t(n);ad(n,i,o)}}};!function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"}(Ua||(Ua={}));var cd,dd=function(t,e,n,r,i){var o=function(t,e,n,r,i){var o,s;return(o=n(t,e,r,i),s=e.event(),j(o,(function(t){return t.matches(s)})).map((function(t){return t.classification}))).bind((function(n){return n(t,e,r,i)}))},s={schema:function(){return t.concat([Re("focusManager",ud()),Ie("focusInside","onFocus",te((function(t){return N(["onFocus","onEnterOrSpace","onApi"],t)?w.value(t):w.error("Invalid value for focusInside")}))),xs("handler",s),xs("state",e),xs("sendFocusIn",i)])},processKey:o,toEvents:function(t,e){var s=t.focusInside!==Ua.OnFocusMode?b.none():i(t).map((function(n){return Or(Gn(),(function(r,i){n(r,t,e),i.stop()}))}));return Sr(s.toArray().concat([Or(Ln(),(function(r,s){o(r,s,n,t,e).fold((function(){!function(n,r){var o=ed([32].concat([13]))(r.event());t.focusInside===Ua.OnEnterOrSpaceMode&&o&&En(n,r)&&i(t).each((function(i){i(n,t,e),r.stop()}))}(r,s)}),(function(t){s.stop()}))})),Or(Hn(),(function(n,i){o(n,i,r,t,e).each((function(t){i.stop()}))}))]))}};return s},fd=function(t){var e=[Ee("onEscape"),Ee("onEnter"),Re("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Re("firstTabstop",0),Re("useTabstopAt",r(!0)),Ee("visibilitySelector")].concat([t]),n=function(t,e){var n=t.visibilitySelector.bind((function(t){return rs(e,t)})).getOr(e);return So(n)>0},i=function(t,e,r){(function(t,e){var r=lu(t.element(),e.selector),i=L(r,(function(t){return n(e,t)}));return b.from(i[e.firstTabstop])})(t,e).each((function(n){e.focusManager.set(t,n)}))},s=function(t,e,r,i){var s=lu(t.element(),r.selector);return function(t,e){return e.focusManager.get(t).bind((function(t){return rs(t,e.selector)}))}(t,r).bind((function(e){return U(s,o(xn,e)).bind((function(e){return function(t,e,r,i,o){return o(e,r,(function(t){return function(t,e){return n(t,e)&&t.useTabstopAt(e)}(i,t)})).fold((function(){return i.cyclic?b.some(!0):b.none()}),(function(e){return i.focusManager.set(t,e),b.some(!0)}))}(t,s,e,r,i)}))}))},a=r([sd(nd([rd,ed([9])]),(function(t,e,n){return s(t,0,n,n.cyclic?Zc:Qc)})),sd(ed([9]),(function(t,e,n){return s(t,0,n,n.cyclic?Jc:td)})),sd(ed([27]),(function(t,e,n){return n.onEscape.bind((function(n){return n(t,e)}))})),sd(nd([od,ed([13])]),(function(t,e,n){return n.onEnter.bind((function(n){return n(t,e)}))}))]),u=r([]);return dd(e,Pi.init,a,u,(function(){return b.some(i)}))},hd=fd(He("cyclic",r(!1))),md=fd(He("cyclic",r(!0))),pd=function(t,e,n){return Fc(n)&&ed([32])(e.event())?b.none():function(t,e,n){return wr(t,n,Zn()),b.some(!0)}(t,0,n)},gd=function(t,e){return b.some(!0)},vd=[Re("execute",pd),Re("useSpace",!1),Re("useEnter",!0),Re("useControlEnter",!1),Re("useDown",!1)],bd=function(t,e,n){return n.execute(t,e,t.element())},yd=dd(vd,Pi.init,(function(t,e,n,r){var i=n.useSpace&&!Fc(t.element())?[32]:[],o=n.useDown?[40]:[],s=i.concat(n.useEnter?[13]:[]).concat(o);return[sd(ed(s),bd)].concat(n.useControlEnter?[sd(nd([id,ed([13])]),bd)]:[])}),(function(t,e,n,r){return n.useSpace&&!Fc(t.element())?[sd(ed([32]),gd)]:[]}),(function(){return b.none()})),_d=function(){var t=Ve(b.none());return Fi({readState:function(){return t.get().map((function(t){return{numRows:String(t.numRows()),numColumns:String(t.numColumns())}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:function(e,n){t.set(b.some({numRows:r(e),numColumns:r(n)}))},getNumRows:function(){return t.get().map((function(t){return t.numRows()}))},getNumColumns:function(){return t.get().map((function(t){return t.numColumns()}))}})},wd=Object.freeze({__proto__:null,flatgrid:_d,init:function(t){return t.state(t)}}),xd=function(t){return function(e,n,r,i){var o=t(e.element());return Ed(o,e,n,r,i)}},Cd=function(t,e){var n=Va(t,e);return xd(n)},Sd=function(t,e){var n=Va(e,t);return xd(n)},kd=function(t){return function(e,n,r,i){return Ed(t,e,n,r,i)}},Ed=function(t,e,n,r,i){return r.focusManager.get(e).bind((function(n){return t(e.element(),n,r,i)})).map((function(t){return r.focusManager.set(e,t),!0}))},Od=kd,Td=kd,Ad=kd,Dd=function(t){return!function(t){return t.offsetWidth<=0&&t.offsetHeight<=0}(t.dom())},Md=function(t,e,n){var i=lu(t,n);return function(t,n){return U(t,(function(t){return xn(t,e)})).map((function(e){return{index:r(e),candidates:r(t)}}))}(L(i,Dd))},Rd=function(t,e){return U(t,(function(t){return xn(e,t)}))},Id=function(t,e,n,r){return r(Math.floor(e/n),e%n).bind((function(e){var r=e.row()*n+e.column();return r>=0&&r<t.length?b.some(t[r]):b.none()}))},Nd=function(t,e,n,i,o){return Id(t,e,i,(function(e,s){var a=Ta(s,o,0,(e===n-1?t.length-e*i:i)-1);return b.some({row:r(e),column:r(a)})}))},zd=function(t,e,n,i,o){return Id(t,e,i,(function(e,s){var a=Ta(e,o,0,n-1),u=Aa(s,0,(a===n-1?t.length-a*i:i)-1);return b.some({row:r(a),column:r(u)})}))},Pd=[ve("selector"),Re("execute",pd),ys("onEscape"),Re("captureTab",!1),Ss()],Fd=function(t,e,n){ns(t.element(),e.selector).each((function(n){e.focusManager.set(t,n)}))},Bd=function(t){return function(e,n,r,i){return Md(e,n,r.selector).bind((function(e){return t(e.candidates(),e.index(),i.getNumRows().getOr(r.initSize.numRows),i.getNumColumns().getOr(r.initSize.numColumns))}))}},Ld=function(t,e,n){return n.captureTab?b.some(!0):b.none()},Hd=Bd((function(t,e,n,r){return Nd(t,e,n,r,-1)})),Vd=Bd((function(t,e,n,r){return Nd(t,e,n,r,1)})),jd=Bd((function(t,e,n,r){return zd(t,e,n,r,-1)})),Ud=Bd((function(t,e,n,r){return zd(t,e,n,r,1)})),$d=r([sd(ed([37]),Cd(Hd,Vd)),sd(ed([39]),Sd(Hd,Vd)),sd(ed([38]),Od(jd)),sd(ed([40]),Td(Ud)),sd(nd([rd,ed([9])]),Ld),sd(nd([od,ed([9])]),Ld),sd(ed([27]),(function(t,e,n){return n.onEscape(t,e)})),sd(ed([32].concat([13])),(function(t,e,n,r){return function(t,e){return e.focusManager.get(t).bind((function(t){return rs(t,e.selector)}))}(t,n).bind((function(r){return n.execute(t,e,r)}))}))]),Wd=r([sd(ed([32]),gd)]),qd=dd(Pd,_d,$d,Wd,(function(){return b.some(Fd)})),Gd=function(t,e,n,r){var i=function(t,e,n){var o,s=Ta(e,r,0,n.length-1);return s===t?b.none():"button"===si(o=n[s])&&"disabled"===fi(o,"disabled")?i(t,s,n):b.from(n[s])};return Md(t,n,e).bind((function(t){var e=t.index(),n=t.candidates();return i(e,e,n)}))},Yd=[ve("selector"),Re("getInitial",b.none),Re("execute",pd),ys("onEscape"),Re("executeOnMove",!1),Re("allowVertical",!0)],Kd=function(t,e,n){return function(t,e){return e.focusManager.get(t).bind((function(t){return rs(t,e.selector)}))}(t,n).bind((function(r){return n.execute(t,e,r)}))},Xd=function(t,e,n){e.getInitial(t).orThunk((function(){return ns(t.element(),e.selector)})).each((function(n){e.focusManager.set(t,n)}))},Zd=function(t,e,n){return Gd(t,n.selector,e,-1)},Qd=function(t,e,n){return Gd(t,n.selector,e,1)},Jd=function(t){return function(e,n,r,i){return t(e,n,r,i).bind((function(){return r.executeOnMove?Kd(e,n,r):b.some(!0)}))}},tf=function(t,e,n){return n.onEscape(t,e)},ef=r([sd(ed([32]),gd)]),nf=dd(Yd,Pi.init,(function(t,e,n,r){var i=[37].concat(n.allowVertical?[38]:[]),o=[39].concat(n.allowVertical?[40]:[]);return[sd(ed(i),Jd(Cd(Zd,Qd))),sd(ed(o),Jd(Sd(Zd,Qd))),sd(ed([13]),Kd),sd(ed([32]),Kd),sd(ed([27]),tf)]}),ef,(function(){return b.some(Xd)})),rf=jr(["rowIndex","columnIndex","cell"],[]),of=function(t,e,n){return b.from(t[e]).bind((function(t){return b.from(t[n]).map((function(t){return rf({rowIndex:e,columnIndex:n,cell:t})}))}))},sf=function(t,e,n,r){var i=Ta(n,r,0,t[e].length-1);return of(t,e,i)},af=function(t,e,n,r){var i=Ta(n,r,0,t.length-1),o=Aa(e,0,t[i].length-1);return of(t,i,o)},uf=function(t,e,n,r){var i=Aa(n+r,0,t[e].length-1);return of(t,e,i)},lf=function(t,e,n,r){var i=Aa(n+r,0,t.length-1),o=Aa(e,0,t[i].length-1);return of(t,i,o)},cf=[Ce("selectors",[ve("row"),ve("cell")]),Re("cycles",!0),Re("previousSelector",b.none),Re("execute",pd)],df=function(t,e,n){e.previousSelector(t).orThunk((function(){var n=e.selectors;return ns(t.element(),n.cell)})).each((function(n){e.focusManager.set(t,n)}))},ff=function(t,e){return function(n,r,i){var o=i.cycles?t:e;return rs(r,i.selectors.row).bind((function(t){var e=lu(t,i.selectors.cell);return Rd(e,r).bind((function(e){var r=lu(n,i.selectors.row);return Rd(r,t).bind((function(t){var n=function(t,e){return F(t,(function(t){return lu(t,e.selectors.cell)}))}(r,i);return o(n,t,e).map((function(t){return t.cell()}))}))}))}))}},hf=ff((function(t,e,n){return sf(t,e,n,-1)}),(function(t,e,n){return uf(t,e,n,-1)})),mf=ff((function(t,e,n){return sf(t,e,n,1)}),(function(t,e,n){return uf(t,e,n,1)})),pf=ff((function(t,e,n){return af(t,n,e,-1)}),(function(t,e,n){return lf(t,n,e,-1)})),gf=ff((function(t,e,n){return af(t,n,e,1)}),(function(t,e,n){return lf(t,n,e,1)})),vf=r([sd(ed([37]),Cd(hf,mf)),sd(ed([39]),Sd(hf,mf)),sd(ed([38]),Od(pf)),sd(ed([40]),Td(gf)),sd(ed([32].concat([13])),(function(t,e,n){return ga(t.element()).bind((function(r){return n.execute(t,e,r)}))}))]),bf=r([sd(ed([32]),gd)]),yf=dd(cf,Pi.init,vf,bf,(function(){return b.some(df)})),_f=[ve("selector"),Re("execute",pd),Re("moveOnTab",!1)],wf=function(t,e,n){return n.focusManager.get(t).bind((function(r){return n.execute(t,e,r)}))},xf=function(t,e,n){ns(t.element(),e.selector).each((function(n){e.focusManager.set(t,n)}))},Cf=function(t,e,n){return Gd(t,n.selector,e,-1)},Sf=function(t,e,n){return Gd(t,n.selector,e,1)},kf=r([sd(ed([38]),Ad(Cf)),sd(ed([40]),Ad(Sf)),sd(nd([rd,ed([9])]),(function(t,e,n,r){return n.moveOnTab?Ad(Cf)(t,e,n,r):b.none()})),sd(nd([od,ed([9])]),(function(t,e,n,r){return n.moveOnTab?Ad(Sf)(t,e,n,r):b.none()})),sd(ed([13]),wf),sd(ed([32]),wf)]),Ef=r([sd(ed([32]),gd)]),Of=dd(_f,Pi.init,kf,Ef,(function(){return b.some(xf)})),Tf=[ys("onSpace"),ys("onEnter"),ys("onShiftEnter"),ys("onLeft"),ys("onRight"),ys("onTab"),ys("onShiftTab"),ys("onUp"),ys("onDown"),ys("onEscape"),Re("stopSpaceKeyup",!1),Ee("focusIn")],Af=dd(Tf,Pi.init,(function(t,e,n){return[sd(ed([32]),n.onSpace),sd(nd([od,ed([13])]),n.onEnter),sd(nd([rd,ed([13])]),n.onShiftEnter),sd(nd([rd,ed([9])]),n.onShiftTab),sd(nd([od,ed([9])]),n.onTab),sd(ed([38]),n.onUp),sd(ed([40]),n.onDown),sd(ed([37]),n.onLeft),sd(ed([39]),n.onRight),sd(ed([32]),n.onSpace),sd(ed([27]),n.onEscape)]}),(function(t,e,n){return n.stopSpaceKeyup?[sd(ed([32]),gd)]:[]}),(function(t){return t.focusIn})),Df=hd.schema(),Mf=md.schema(),Rf=nf.schema(),If=qd.schema(),Nf=yf.schema(),zf=yd.schema(),Pf=Of.schema(),Ff=Af.schema(),Bf=ua({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:Df,cyclic:Mf,flow:Rf,flatgrid:If,matrix:Nf,execution:zf,menu:Pf,special:Ff}),name:"keying",active:{events:function(t,e){return t.handler.toEvents(t,e)}},apis:{focusIn:function(t,e,n){e.sendFocusIn(e).fold((function(){t.getSystem().triggerFocus(t.element(),t.element())}),(function(r){r(t,e,n)}))},setGridSize:function(e,n,r,i,o){!function(t){return dt(t,"setGridSize")}(r)?t.console.error("Layout does not support setGridSize"):r.setGridSize(i,o)}},state:wd}),Lf=function(t,e,n,r){var i=t.getSystem().build(r);Zu(t,i,n)},Hf=function(t,e,n,r){var i=Vf(t);j(i,(function(t){return xn(r.element(),t.element())})).each(Ju)},Vf=function(t,e){return t.components()},jf=function(t,e,n,r,i){var o=Vf(t);return b.from(o[r]).map((function(e){return Hf(t,0,0,e),i.each((function(e){Lf(t,0,(function(t,e){!function(t,e,n){Kr(t,n).fold((function(){Jr(t,e)}),(function(t){Xr(t,e)}))}(t,e,r)}),e)})),e}))},Uf=sa({fields:[],name:"replacing",apis:Object.freeze({__proto__:null,append:function(t,e,n,r){Lf(t,0,Jr,r)},prepend:function(t,e,n,r){Lf(t,0,Qr,r)},remove:Hf,replaceAt:jf,replaceBy:function(t,e,n,r,i){var o=Vf(t);return U(o,r).bind((function(e){return jf(t,0,0,e,i)}))},set:function(t,e,n,r){va((function(){var e=F(r,t.getSystem().build);Ku(t,e)}),t.element())},contents:Vf})}),$f=function(t,e){return{key:t,value:{config:{},me:function(t,e){var n=Sr(e);return sa({fields:[ve("enabled")],name:t,active:{events:r(n)}})}(t,e),configAsRaw:r({}),initialConfig:{},state:Pi}}},Wf=function(t,e){e.ignore||(ma(t.element()),e.onFocus(t))},qf=Object.freeze({__proto__:null,focus:Wf,blur:function(t,e){e.ignore||function(t){t.dom().blur()}(t.element())},isFocused:function(t){return function(t){var e=Ur(t).dom();return t.dom()===e.activeElement}(t.element())}}),Gf=Object.freeze({__proto__:null,exhibit:function(t,e){return Li(e.ignore?{}:{attributes:{tabindex:"-1"}})},events:function(t){return Sr([Or(Gn(),(function(e,n){Wf(e,t),n.stop()}))].concat(t.stopMousedown?[Or(Rn(),(function(t,e){e.event().prevent()}))]:[]))}}),Yf=[bs("onFocus"),Re("stopMousedown",!1),Re("ignore",!1)],Kf=sa({fields:Yf,name:"focusing",active:Gf,apis:qf}),Xf=function(t,e,n){var r=e.aria;r.update(t,r,n.get())},Zf=function(t,e,n){e.toggleClass.each((function(e){n.get()?qi(t.element(),e):Gi(t.element(),e)}))},Qf=function(t,e,n){eh(t,e,n,!n.get())},Jf=function(t,e,n){n.set(!0),Zf(t,e,n),Xf(t,e,n)},th=function(t,e,n){n.set(!1),Zf(t,e,n),Xf(t,e,n)},eh=function(t,e,n,r){(r?Jf:th)(t,e,n)},nh=function(t,e,n){eh(t,e,n,e.selected)},rh=Object.freeze({__proto__:null,onLoad:nh,toggle:Qf,isOn:function(t,e,n){return n.get()},on:Jf,off:th,set:eh}),ih=Object.freeze({__proto__:null,exhibit:function(){return Li({})},events:function(t,e){var n,r,i,o=(n=t,r=e,i=Qf,Br((function(t){i(t,n,r)}))),s=ea(t,e,nh);return Sr($([t.toggleOnExecute?[o]:[],[s]]))}}),oh=function(t,e,n){di(t.element(),"aria-expanded",n)},sh=[Re("selected",!1),Ee("toggleClass"),Re("toggleOnExecute",!0),Ie("aria",{mode:"none"},ae("mode",{pressed:[Re("syncWithExpanded",!1),xs("update",(function(t,e,n){di(t.element(),"aria-pressed",n),e.syncWithExpanded&&oh(t,0,n)}))],checked:[xs("update",(function(t,e,n){di(t.element(),"aria-checked",n)}))],expanded:[xs("update",oh)],selected:[xs("update",(function(t,e,n){di(t.element(),"aria-selected",n)}))],none:[xs("update",e)]}))],ah=sa({fields:sh,name:"toggling",active:ih,apis:rh,state:{init:function(){var t=Ve(!1);return{get:function(){return t.get()},set:function(e){return t.set(e)},clear:function(){return t.set(!1)},readState:function(){return t.get()}}}}}),uh=function(){var t=function(t,e){e.stop(),_r(t)};return[Or(Un(),t),Or(Jn(),t),Rr(Tn()),Rr(Rn())]},lh=function(t){return Sr($([t.map((function(t){return Br((function(e,n){t(e),n.stop()}))})).toArray(),uh()]))},ch=function(t){(ga(t.element()).isNone()||Kf.isFocused(t))&&(Kf.isFocused(t)||Kf.focus(t),yr(t,"alloy.item-hover",{item:t}))},dh=function(t){yr(t,"alloy.item-focus",{item:t})},fh=r("alloy.item-hover"),hh=r("alloy.item-focus"),mh=[ve("data"),ve("components"),ve("dom"),Re("hasSubmenu",!1),Ee("toggling"),Fl("itemBehaviours",[ah,Kf,Bf,Il]),Re("ignoreFocus",!1),Re("domModification",{}),xs("builder",(function(t){return{dom:t.dom,domModification:d(d({},t.domModification),{attributes:d(d(d({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Bl(t.itemBehaviours,[t.toggling.fold(ah.revoke,(function(t){return ah.config(d({aria:{mode:"checked"}},t))})),Kf.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(t){dh(t)}}),Bf.config({mode:"execution"}),Il.config({store:{mode:"memory",initialValue:t.data}}),$f("item-type-events",h(uh(),[Or(Pn(),ch),Or(Qn(),Kf.focus)]))]),components:t.components,eventOrder:t.eventOrder}})),Re("eventOrder",{})],ph=[ve("dom"),ve("components"),xs("builder",(function(t){return{dom:t.dom,components:t.components,events:Sr([Ir(Qn())])}}))],gh=r([sc({name:"widget",overrides:function(t){return{behaviours:ia([Il.config({store:{mode:"manual",getValue:function(e){return t.data},setValue:function(){}}})])}}})]),vh=[ve("uid"),ve("data"),ve("components"),ve("dom"),Re("autofocus",!1),Re("ignoreFocus",!1),Fl("widgetBehaviours",[Il,Kf,Bf]),Re("domModification",{}),Oc(gh()),xs("builder",(function(t){var e=bc(0,t,gh()),n=yc("item-widget",t,e.internals()),r=function(e){return _c(e,t,"widget").map((function(t){return Bf.focusIn(t),t}))},i=function(e,n){return Fc(n.event().target())?b.none():t.autofocus?(n.setSource(e.element()),b.none()):b.none()};return{dom:t.dom,components:n,domModification:t.domModification,events:Sr([Br((function(t,e){r(t).each((function(t){e.stop()}))})),Or(Pn(),ch),Or(Qn(),(function(e,n){t.autofocus?r(e):Kf.focus(e)}))]),behaviours:Bl(t.widgetBehaviours,[Il.config({store:{mode:"memory",initialValue:t.data}}),Kf.config({ignore:t.ignoreFocus,onFocus:function(t){dh(t)}}),Bf.config({mode:"special",focusIn:t.autofocus?function(t){r(t)}:la(),onLeft:i,onRight:i,onEscape:function(e,n){return Kf.isFocused(e)||t.autofocus?t.autofocus?(n.setSource(e.element()),b.none()):b.none():(Kf.focus(e),b.some(!0))}})])}}))],bh=ae("type",{widget:vh,item:mh,separator:ph}),yh=r([lc({factory:{sketch:function(t){var e=ie("menu.spec item",bh,t);return e.builder(e)}},name:"items",unit:"item",defaults:function(t,e){return e.hasOwnProperty("uid")?e:d(d({},e),{uid:Oi("item")})},overrides:function(t,e){return{type:e.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),_h=r([ve("value"),ve("items"),ve("dom"),ve("components"),Re("eventOrder",{}),Nl("menuBehaviours",[Xc,Il,Hc,Bf]),Ie("movement",{mode:"menu",moveOnTab:!0},ae("mode",{grid:[Ss(),xs("config",(function(t,e){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:e.initSize.numColumns,numRows:e.initSize.numRows},focusManager:t.focusManager}}))],matrix:[xs("config",(function(t,e){return{mode:"matrix",selectors:{row:e.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}})),ve("rowSelector")],menu:[Re("moveOnTab",!0),xs("config",(function(t,e){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:e.moveOnTab,focusManager:t.focusManager}}))]})),be("markers",hs()),Re("fakeFocus",!1),Re("focusManager",ud()),bs("onHighlight")]),wh=r("alloy.menu-focus"),xh=zc({name:"Menu",configFields:_h(),partFields:yh(),factory:function(t,e,n,r){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Pl(t.menuBehaviours,[Xc.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),Il.config({store:{mode:"memory",initialValue:t.value}}),Hc.config({find:b.some}),Bf.config(t.movement.config(t,t.movement))]),events:Sr([Or(hh(),(function(t,e){var n=e.event();t.getSystem().getByDom(n.target()).each((function(n){Xc.highlight(t,n),e.stop(),yr(t,wh(),{menu:t,item:n})}))})),Or(fh(),(function(t,e){var n=e.event().item();Xc.highlight(t,n)}))]),components:e,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}}}),Ch=function(t,e,n,r){return lt(n,r).bind((function(r){return lt(t,r).bind((function(r){var i=Ch(t,e,n,r);return b.some([r].concat(i))}))})).getOr([])},Sh=function(t){return"prepared"===t.type?b.some(t.menu):b.none()},kh=Sh,Eh=r("collapse-item"),Oh=Nc({name:"TieredMenu",configFields:[ws("onExecute"),ws("onEscape"),_s("onOpenMenu"),_s("onOpenSubmenu"),bs("onRepositionMenu"),bs("onCollapseMenu"),Re("highlightImmediately",!0),Ce("data",[ve("primary"),ve("menus"),ve("expansions")]),Re("fakeFocus",!1),bs("onHighlight"),bs("onHover"),ps(),ve("dom"),Re("navigateOnHover",!0),Re("stayInDom",!1),Nl("tmenuBehaviours",[Bf,Xc,Hc,Uf]),Re("eventOrder",{})],apis:{collapseMenu:function(t,e){t.collapseMenu(e)},highlightPrimary:function(t,e){t.highlightPrimary(e)},repositionMenus:function(t,e){t.repositionMenus(e)}},factory:function(t,e){var n,r,i,o,s,a,u,l,c,f=Ve(b.none()),h=(r=Ve({}),i=Ve({}),o=Ve({}),s=Ve(b.none()),a=Ve({}),u=function(t){return l(t).bind(Sh)},{setMenuBuilt:function(t,e){var n;i.set(d(d({},i.get()),((n={})[t]={type:"prepared",menu:e},n)))},setContents:function(t,e,n,u){s.set(b.some(t)),r.set(n),i.set(e),a.set(u);var l=function(t,e){var n={};rt(t,(function(t,e){B(t,(function(t){n[t]=e}))}));var r=e,i=ot(e,(function(t,e){return{k:t,v:e}})),o=it(i,(function(t,e){return[e].concat(Ch(n,r,i,e))}));return it(n,(function(t){return lt(o,t).getOr([t])}))}(u,n);o.set(l)},expand:function(t){return lt(r.get(),t).map((function(e){var n=lt(o.get(),t).getOr([]);return[e].concat(n)}))},refresh:function(t){return lt(o.get(),t)},collapse:function(t){return lt(o.get(),t).bind((function(t){return t.length>1?b.some(t.slice(1)):b.none()}))},lookupMenu:l=function(t){return lt(i.get(),t)},lookupItem:c=function(t){return lt(r.get(),t)},otherMenus:function(t){var e=a.get();return Y(et(e),t)},getPrimary:function(){return s.get().bind(u)},getMenus:function(){return i.get()},clear:function(){r.set({}),i.set({}),o.set({}),s.set(b.none())},isClear:function(){return s.get().isNone()},getTriggeringPath:function(t,e){var n=L(c(t).toArray(),(function(t){return u(t).isSome()}));return lt(o.get(),t).bind((function(t){var i=G(n.concat(t));return function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(!r.isSome())return b.none();e.push(r.getOrDie())}return b.some(e)}(W(i,(function(t,n){return function(t,e,n){return u(t).bind((function(i){return function(t){return at(r.get(),(function(e,n){return e===t}))}(t).bind((function(t){return e(t).map((function(t){return{triggeredMenu:i,triggeringItem:t,triggeringPath:n}}))}))}))}(t,e,i.slice(0,n+1)).fold((function(){return s.get().is(t)?[]:[b.none()]}),(function(t){return[b.some(t)]}))})))}))}}),m=function(t){return Il.getValue(t).value},p=function(t,e){Xc.highlight(t,e),Xc.getHighlighted(e).orThunk((function(){return Xc.getFirst(e)})).each((function(e){wr(t,e.element(),Qn())}))},g=function(t,e){return Pc(F(e,(function(e){return t.lookupMenu(e).bind((function(t){return"prepared"===t.type?b.some(t.menu):b.none()}))})))},v=function(e,n,r){var i=g(n,n.otherMenus(r));B(i,(function(n){Xi(n.element(),[t.markers.backgroundMenu]),t.stayInDom||Uf.remove(e,n)}))},y=function(e,n){var r=function(e){return f.get().getOrThunk((function(){var n={},r=lu(e.element(),"."+t.markers.item),i=L(r,(function(t){return"true"===fi(t,"aria-haspopup")}));return B(i,(function(t){e.getSystem().getByDom(t).each((function(t){var e=m(t);n[e]=t}))})),f.set(b.some(n)),n}))}(e);rt(r,(function(t,e){var r=N(n,e);di(t.element(),"aria-expanded",r)}))},_=function(e,n,r){return b.from(r[0]).bind((function(i){return n.lookupMenu(i).bind((function(i){if("notbuilt"===i.type)return b.none();var o=i.menu,s=g(n,r.slice(1));return B(s,(function(e){qi(e.element(),t.markers.backgroundMenu)})),Qi(o.element())||Uf.append(e,wo(o)),Xi(o.element(),[t.markers.backgroundMenu]),p(e,o),v(e,n,r),b.some(o)}))}))};!function(t){t[t.HighlightSubmenu=0]="HighlightSubmenu",t[t.HighlightParent=1]="HighlightParent"}(n||(n={}));var w=function(e,r,i){void 0===i&&(i=n.HighlightSubmenu);var o=m(r);return h.expand(o).bind((function(o){return y(e,o),b.from(o[0]).bind((function(s){return h.lookupMenu(s).bind((function(a){var u=function(t,e,n){if("notbuilt"===n.type){var r=t.getSystem().build(n.nbMenu());return h.setMenuBuilt(e,r),r}return n.menu}(e,s,a);return Qi(u.element())||Uf.append(e,wo(u)),t.onOpenSubmenu(e,r,u,G(o)),i===n.HighlightSubmenu?(Xc.highlightFirst(u),_(e,h,o)):(Xc.dehighlightAll(u),b.some(r))}))}))}))},x=function(e,n){var r=m(n);return h.collapse(r).bind((function(r){return y(e,r),_(e,h,r).map((function(r){return t.onCollapseMenu(e,n,r),r}))}))},C=function(e){return function(n,r){return rs(r.getSource(),"."+t.markers.item).bind((function(t){return n.getSystem().getByDom(t).toOption().bind((function(t){return e(n,t).map((function(){return!0}))}))}))}},S=Sr([Or(wh(),(function(t,e){var n=e.event().item();h.lookupItem(m(n)).each((function(){var n=e.event().menu();Xc.highlight(t,n);var r=m(e.event().item());h.refresh(r).each((function(e){return v(t,h,e)}))}))})),Br((function(e,r){var i=r.event().target();e.getSystem().getByDom(i).each((function(r){0===m(r).indexOf("collapse-item")&&x(e,r),w(e,r,n.HighlightSubmenu).fold((function(){t.onExecute(e,r)}),(function(){}))}))})),zr((function(e,n){(function(e){var n=function(e,n,r){return it(r,(function(r,i){var o=function(){return xh.sketch(d(d({dom:r.dom},r),{value:i,items:r.items,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?ld():ud()}))};return i===n?{type:"prepared",menu:e.getSystem().build(o())}:{type:"notbuilt",nbMenu:o}}))}(e,t.data.primary,t.data.menus),r=it(t.data.menus,(function(t,e){return W(t.items,(function(t){return"separator"===t.type?[]:[t.data.value]}))}));return h.setContents(t.data.primary,n,t.data.expansions,r),h.getPrimary()})(e).each((function(n){Uf.append(e,wo(n)),t.onOpenMenu(e,n),t.highlightImmediately&&p(e,n)}))}))].concat(t.navigateOnHover?[Or(fh(),(function(e,r){var i=r.event().item();!function(t,e){var n=m(e);h.refresh(n).bind((function(e){return y(t,e),_(t,h,e)}))}(e,i),w(e,i,n.HighlightParent),t.onHover(e,i)}))]:[])),k=function(t){return Xc.getHighlighted(t).bind(Xc.getHighlighted)},E={collapseMenu:function(t){k(t).each((function(e){x(t,e)}))},highlightPrimary:function(t){h.getPrimary().each((function(e){p(t,e)}))},repositionMenus:function(e){h.getPrimary().bind((function(t){return k(e).bind((function(t){var e=m(t),n=ut(h.getMenus()),r=Pc(F(n,kh));return h.getTriggeringPath(e,(function(t){return function(t,e,n){return tt(e,(function(t){if(!t.getSystem().isConnected())return b.none();var e=Xc.getCandidates(t);return j(e,(function(t){return m(t)===n}))}))}(0,r,t)}))})).map((function(e){return{primary:t,triggeringPath:e}}))})).fold((function(){(function(t){return b.from(t.components()[0]).filter((function(t){return"menu"===fi(t.element(),"role")}))})(e).each((function(n){t.onRepositionMenu(e,n,[])}))}),(function(n){t.onRepositionMenu(e,n.primary,n.triggeringPath)}))}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Pl(t.tmenuBehaviours,[Bf.config({mode:"special",onRight:C((function(t,e){return Fc(e.element())?b.none():w(t,e,n.HighlightSubmenu)})),onLeft:C((function(t,e){return Fc(e.element())?b.none():x(t,e)})),onEscape:C((function(e,n){return x(e,n).orThunk((function(){return t.onEscape(e,n).map((function(){return e}))}))})),focusIn:function(t,e){h.getPrimary().each((function(e){wr(t,e.element(),Qn())}))}}),Xc.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Hc.config({find:function(t){return Xc.getHighlighted(t)}}),Uf.config({})]),eventOrder:t.eventOrder,apis:E,events:S}},extraApis:{tieredData:function(t,e,n){return{primary:t,menus:e,expansions:n}},singleData:function(t,e){return{primary:t,menus:Nt(t,e),expansions:{}}},collapseItem:function(t){return{value:_i(Eh()),meta:{text:t}}}}}),Th=Nc({name:"InlineView",configFields:[ve("lazySink"),bs("onShow"),bs("onHide"),De("onEscape"),Nl("inlineBehaviours",[hl,Il,fa]),Me("fireDismissalEventInstead",[Re("event",cr())]),Me("fireRepositionEventInstead",[Re("event",dr())]),Re("getRelated",b.none),Re("isExtraPart",u),Re("eventOrder",b.none)],factory:function(t,e){var n=function(t,e,n,i){r(t,e,n,(function(){return i.map((function(t){return Go(t)}))}))},r=function(e,n,r,i){var o=t.lazySink(e).getOrDie();hl.openWhileCloaked(e,r,(function(){return Wu.positionWithinBounds(o,n,e,i())})),Il.setValue(e,b.some({mode:"position",anchor:n,getBounds:i}))},i=function(e,n,r,i){var o=function(t,e,n,r,i){var o=function(){return t.lazySink(e)},s="horizontal"===r.type?{layouts:{onLtr:function(){return Js()},onRtl:function(){return ta()}}}:{},a=function(t){return function(t){return 2===t.length}(t)?s:{}};return Oh.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightImmediately:r.menu.highlightImmediately,onEscape:function(){return hl.close(e),t.onEscape.map((function(t){return t(e)})),b.some(!0)},onExecute:function(){return b.some(!0)},onOpenMenu:function(t,e){Wu.positionWithinBounds(o().getOrDie(),n,e,i())},onOpenSubmenu:function(t,e,n,r){var i=o().getOrDie();Wu.position(i,d({anchor:"submenu",item:e},a(r)),n)},onRepositionMenu:function(t,e,r){var s=o().getOrDie();Wu.positionWithinBounds(s,n,e,i()),B(r,(function(t){var e=a(t.triggeringPath);Wu.position(s,d({anchor:"submenu",item:t.triggeringItem},e),t.triggeredMenu)}))}})}(t,e,n,r,i);hl.open(e,o),Il.setValue(e,b.some({mode:"menu",menu:o}))},o=function(e){hl.isOpen(e)&&Il.getValue(e).each((function(n){switch(n.mode){case"menu":hl.getState(e).each((function(t){Oh.repositionMenus(t)}));break;case"position":var r=t.lazySink(e).getOrDie();Wu.positionWithinBounds(r,n.anchor,e,n.getBounds())}}))},s={setContent:function(t,e){hl.setContent(t,e)},showAt:function(t,e,r){n(t,e,r,b.none())},showWithin:n,showWithinBounds:r,showMenuAt:function(t,e,n){i(t,e,n,(function(){return b.none()}))},showMenuWithinBounds:i,hide:function(t){hl.isOpen(t)&&(Il.setValue(t,b.none()),hl.close(t))},getContent:function(t){return hl.getState(t)},reposition:o,isOpen:hl.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Pl(t.inlineBehaviours,[hl.config({isPartOf:function(e,n,r){return os(n,r)||function(e,n){return t.getRelated(e).exists((function(t){return os(t,n)}))}(e,r)},getAttachPoint:function(e){return t.lazySink(e).getOrDie()},onOpen:function(e){t.onShow(e)},onClose:function(e){t.onHide(e)}}),Il.config({store:{mode:"memory",initialValue:b.none()}}),fa.config({channels:d(d({},bl(d({isExtraPart:e.isExtraPart},t.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),_l(d(d({},t.fireRepositionEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})),{doReposition:o})))})]),eventOrder:t.eventOrder,apis:s}},apis:{showAt:function(t,e,n,r){t.showAt(e,n,r)},showWithin:function(t,e,n,r,i){t.showWithin(e,n,r,i)},showWithinBounds:function(t,e,n,r,i){t.showWithinBounds(e,n,r,i)},showMenuAt:function(t,e,n,r){t.showMenuAt(e,n,r)},showMenuWithinBounds:function(t,e,n,r,i){t.showMenuWithinBounds(e,n,r,i)},hide:function(t,e){t.hide(e)},isOpen:function(t,e){return t.isOpen(e)},getContent:function(t,e){return t.getContent(e)},setContent:function(t,e,n){t.setContent(e,n)},reposition:function(t,e){t.reposition(e)}}}),Ah=function(t){return t.x()},Dh=function(t,e){return t.x()+t.width()/2-e.width()/2},Mh=function(t,e){return t.x()+t.width()-e.width()},Rh=function(t){return t.y()},Ih=function(t,e){return t.y()+t.height()-e.height()},Nh=function(t,e,n){return ks(Mh(t,e),Ih(t,e),n.innerSoutheast(),Ds(),zs(t,{right:0,bottom:3}),"layout-inner-se")},zh=function(t,e,n){return ks(Ah(t),Ih(t,e),n.innerSouthwest(),As(),zs(t,{left:1,bottom:3}),"layout-inner-sw")},Ph=function(t,e,n){return ks(Mh(t,e),Rh(t),n.innerNortheast(),Ts(),zs(t,{right:0,top:2}),"layout-inner-ne")},Fh=function(t,e,n){return ks(Ah(t),Rh(t),n.innerNorthwest(),Os(),zs(t,{left:1,top:2}),"layout-inner-nw")},Bh=function(t,e,n){return ks(Dh(t,e),Rh(t),n.innerNorth(),Ms(),zs(t,{top:2}),"layout-inner-n")},Lh=function(t,e,n){return ks(Dh(t,e),Ih(t,e),n.innerSouth(),Rs(),zs(t,{bottom:3}),"layout-inner-s")},Hh=tinymce.util.Tools.resolve("tinymce.util.Delay"),Vh=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),jh=tinymce.util.Tools.resolve("tinymce.EditorManager"),Uh=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},$h=function(t){return t.getParam("width",Vh.DOM.getStyle(t.getElement(),"width"))},Wh=function(t){return b.from(t.settings.min_width).filter(T)},qh=function(t){return b.from(t.settings.min_height).filter(T)},Gh=function(t){return b.from(t.getParam("max_width")).filter(T)},Yh=function(t){return b.from(t.getParam("max_height")).filter(T)},Kh=function(t){return!1!==t.getParam("menubar",!0,"boolean")},Xh=function(t){var e=t.getParam("toolbar",!0),n=!0===e,r=C(e),i=k(e)&&e.length>0;return!Qh(t)&&(i||r||n)},Zh=function(t){var e=et(t.settings),n=L(e,(function(t){return/^toolbar([1-9])$/.test(t)})),r=F(n,(function(e){return t.getParam(e,!1,"string")})),i=L(r,(function(t){return"string"==typeof t}));return i.length>0?b.some(i):b.none()},Qh=function(t){return Zh(t).fold((function(){return t.getParam("toolbar",[],"string[]").length>0}),(function(){return!0}))};!function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"}(cd||(cd={}));var Jh,tm=function(t){return t.getParam("toolbar_mode","","string")};!function(t){t.top="top",t.bottom="bottom"}(Jh||(Jh={}));var em,nm=function(t){return t.getParam("toolbar_location",Jh.top,"string")!==Jh.bottom},rm=function(t){var e=function(t){return t.getParam("fixed_toolbar_container","","string")}(t);return e.length>0&&t.inline?ns(Ji(),e):b.none()},im=function(t){return t.inline&&rm(t).isSome()},om=function(t){return t.inline&&!Kh(t)&&!Xh(t)&&!Qh(t)},sm=function(t){return(t.getParam("toolbar_sticky",!1,"boolean")||t.inline)&&!im(t)&&!om(t)},am=Nc({name:"Button",factory:function(t){var e=lh(t.action),n=t.dom.tag,r=function(e){return lt(t.dom,"attributes").bind((function(t){return lt(t,e)}))};return{uid:t.uid,dom:t.dom,components:t.components,events:e,behaviours:Bl(t.buttonBehaviours,[Kf.config({}),Bf.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:function(){if("button"===n){var t=r("type").getOr("button"),e=r("role").map((function(t){return{role:t}})).getOr({});return d({type:t},e)}return{role:r("role").getOr("button")}}()},eventOrder:t.eventOrder}},configFields:[Re("uid",void 0),ve("dom"),Re("components",[]),Fl("buttonBehaviours",[Kf,Bf]),Ee("action"),Ee("role"),Re("eventOrder",{})]}),um=function(t){var e=function(t){return void 0!==t.uid}(t)&&dt(t,"uid")?t.uid:Oi("memento");return{get:function(t){return t.getSystem().getByUid(e).getOrDie()},getOpt:function(t){return t.getSystem().getByUid(e).toOption()},asSpec:function(){return d(d({},t),{uid:e})}}},lm=function(t){return b.from(t()["temporary-placeholder"]).getOr("!not found!")},cm=function(t,e){return b.from(e()[t]).getOrThunk((function(){return lm(e)}))},dm=function(t,e){return tt(t,(function(t){return b.from(e()[t])})).getOrThunk((function(){return lm(e)}))},fm={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},hm=Nc({name:"Notification",factory:function(t){var e=um({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:ia([Uf.config({})])}),n=function(t){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+t+"%"}}}},r=function(t){return{dom:{tag:"div",classes:["tox-text"],innerHtml:t+"%"}}},i=um({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:ia([Uf.config({})])}),o={updateProgress:function(t,e){t.getSystem().isConnected()&&i.getOpt(t).each((function(t){Uf.set(t,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(e)]},r(e)])}))},updateText:function(t,n){if(t.getSystem().isConnected()){var r=e.get(t);Uf.set(r,[vo(n)])}}},s=$([t.icon.toArray(),t.level.toArray(),t.level.bind((function(t){return b.from(fm[t])})).toArray()]);return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map((function(t){return["tox-notification","tox-notification--in","tox-notification--"+t]})).getOr(["tox-notification","tox-notification--in"])},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:dm(s,t.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[e.asSpec()],behaviours:ia([Uf.config({})])}].concat(t.progress?[i.asSpec()]:[]).concat(t.closeButton?[am.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:cm("close",t.iconProvider),attributes:{"aria-label":t.translationProvider("Close")}}}],action:function(e){t.onAction(e)}})]:[]),apis:o}},configFields:[Ee("level"),ve("progress"),ve("icon"),ve("onAction"),ve("text"),ve("iconProvider"),ve("translationProvider"),Fe("closeButton",!0)],apis:{updateProgress:function(t,e,n){t.updateProgress(e,n)},updateText:function(t,e,n){t.updateText(e,n)}}}),mm=function(e,n){var r=null;return{cancel:function(){null!==r&&(t.clearTimeout(r),r=null)},throttle:function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];null!==r&&t.clearTimeout(r),r=t.setTimeout((function(){e.apply(null,i),r=null}),n)}}},pm=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),gm=function(t,e,n,r,i){var o=pm(t,(function(e){return function(t,e){return t.isBlock(e)||N(["BR","IMG","HR","INPUT"],e.nodeName)||"false"===t.getContentEditable(e)}(t,e)}));return b.from(o.backwards(e,n,r,i))},vm=function(t){return rs(t,"[data-mce-autocompleter]")},bm=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},ym=function(t){return""!==t&&-1!==" \xa0\f\n\r\t\v".indexOf(t)},_m=function(t,e){return t.substring(e.length)},wm=function(t,e,n,r){return void 0===r&&(r=0),vm(qe(e.startContainer)).fold((function(){return function(t,e,n,r){if(void 0===r&&(r=0),!(i=e).collapsed||3!==i.startContainer.nodeType)return b.none();var i,o=t.getParent(e.startContainer,t.isBlock)||t.getRoot();return gm(t,e.startContainer,e.startOffset,(function(t,e,r){return function(t,e,n){var r;for(r=e-1;r>=0;r--){var i=t.charAt(r);if(ym(i))return b.none();if(i===n)break}return b.some(r)}(r,e,n).getOr(e)}),o).bind((function(t){var i=e.cloneRange();if(i.setStart(t.container,t.offset),i.setEnd(e.endContainer,e.endOffset),i.collapsed)return b.none();var o=bm(i);return 0!==o.lastIndexOf(n)||_m(o,n).length<r?b.none():b.some({text:_m(o,n),range:i,triggerChar:n})}))}(t,e,n,r)}),(function(e){var r=t.createRng();r.selectNode(e.dom());var i=bm(r);return b.some({range:r,text:_m(i,n),triggerChar:n})}))},xm=tinymce.util.Tools.resolve("tinymce.util.Promise"),Cm=function(t,e){return{container:t,offset:e}},Sm=function(e){if(function(e){return e.nodeType===t.Node.TEXT_NODE}(e))return Cm(e,e.data.length);var n=e.childNodes;return n.length>0?Sm(n[n.length-1]):Cm(e,n.length)},km=function(e,n){var r=e.childNodes;return r.length>0&&n<r.length?km(r[n],0):r.length>0&&function(e){return e.nodeType===t.Node.ELEMENT_NODE}(e)&&r.length===n?Sm(r[r.length-1]):Cm(e,n)},Em=function(t,e,n,r){void 0===r&&(r={});var i=e(),o=t.selection.getRng().startContainer.nodeValue,s=L(i.lookupByChar(n.triggerChar),(function(e){return n.text.length>=e.minChars&&e.matches.getOrThunk((function(){return function(t){return function(e){var n=km(e.startContainer,e.startOffset);return!function(t,e){return gm(t,e.container,e.offset,(function(t,e){return 0===e?-1:e}),t.getRoot()).filter((function(t){var e=t.container.data.charAt(t.offset-1);return!ym(e)})).isSome()}(t,n)}}(t.dom)}))(n.range,o,n.text)}));if(0===s.length)return b.none();var a=xm.all(F(s,(function(t){return t.fetch(n.text,t.maxResults,r).then((function(e){return{matchText:n.text,items:e,columns:t.columns,onAction:t.onAction}}))})));return b.some({lookupData:a,context:n})},Om=Wt([_e("type"),Ae("text")]),Tm=Wt([He("type",(function(){return"autocompleteitem"})),He("active",(function(){return!1})),He("disabled",(function(){return!1})),Re("meta",{}),_e("value"),Ae("text"),Ae("icon")]),Am=Wt([_e("type"),_e("ch"),Ne("minChars",1),Re("columns",1),Ne("maxResults",10),De("matches"),xe("fetch"),xe("onAction")]),Dm=[Fe("disabled",!1),Ae("text"),Ae("shortcut"),Xt("value","value",Dt((function(){return _i("menuitem-value")})),ue()),Re("meta",{})],Mm=Wt([_e("type"),Be("onSetup",(function(){return e})),Be("onAction",e),Ae("icon")].concat(Dm)),Rm=Wt([_e("type"),xe("getSubmenuItems"),Be("onSetup",(function(){return e})),Ae("icon")].concat(Dm)),Im=Wt([_e("type"),Fe("active",!1),Be("onSetup",(function(){return e})),xe("onAction")].concat(Dm)),Nm=Wt([_e("type"),Fe("active",!1),Ae("icon")].concat(Dm)),zm=Wt([_e("type"),we("fancytype",["inserttable","colorswatch"]),Be("onAction",e)]),Pm=function(t,e,n){var r=lu(t.element(),"."+n);if(r.length>0){var i=U(r,(function(t){var n=t.dom().getBoundingClientRect().top,i=r[0].dom().getBoundingClientRect().top;return Math.abs(n-i)>e})).getOr(r.length);return b.some({numColumns:i,numRows:Math.ceil(r.length/i)})}return b.none()},Fm=function(t){return function(t,e){return ia([$f(t,e)])}(_i("unnamed-events"),t)},Bm=[ve("lazySink"),ve("tooltipDom"),Re("exclusive",!0),Re("tooltipComponents",[]),Re("delay",300),Pe("mode","normal",["normal","follow-highlight"]),Re("anchor",(function(t){return{anchor:"hotspot",hotspot:t,layouts:{onLtr:r([Gs,qs,js,$s,Us,Ws]),onRtl:r([Gs,qs,js,$s,Us,Ws])}}})),bs("onHide"),bs("onShow")],Lm=Object.freeze({__proto__:null,init:function(){var e=Ve(b.none()),n=Ve(b.none()),i=function(){e.get().each((function(e){t.clearTimeout(e)}))},o=r("not-implemented");return Fi({getTooltip:function(){return n.get()},isShowing:function(){return n.get().isSome()},setTooltip:function(t){n.set(b.some(t))},clearTooltip:function(){n.set(b.none())},clearTimer:i,resetTimer:function(n,r){i(),e.set(b.some(t.setTimeout((function(){n()}),r)))},readState:o})}}),Hm=_i("tooltip.exclusive"),Vm=_i("tooltip.show"),jm=_i("tooltip.hide"),Um=function(t,e,n){t.getSystem().broadcastOn([Hm],{})},$m=Object.freeze({__proto__:null,hideAllExclusive:Um,setComponents:function(t,e,n,r){n.getTooltip().each((function(t){t.getSystem().isConnected()&&Uf.set(t,r)}))}}),Wm=sa({fields:Bm,name:"tooltipping",active:Object.freeze({__proto__:null,events:function(t,e){var n=function(n){e.getTooltip().each((function(r){Ju(r),t.onHide(n,r),e.clearTooltip()})),e.clearTimer()};return Sr($([[Or(Vm,(function(n){e.resetTimer((function(){!function(n){if(!e.isShowing()){Um(n);var r=t.lazySink(n).getOrDie(),i=n.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Sr("normal"===t.mode?[Or(Pn(),(function(t){br(n,Vm)})),Or(Nn(),(function(t){br(n,jm)}))]:[]),behaviours:ia([Uf.config({})])});e.setTooltip(i),Xu(r,i),t.onShow(n,i),Wu.position(r,t.anchor(n),i)}}(n)}),t.delay)})),Or(jm,(function(r){e.resetTimer((function(){n(r)}),t.delay)})),Or(Xn(),(function(t,e){N(e.channels(),Hm)&&n(t)})),Pr((function(t){n(t)}))],"normal"===t.mode?[Or(Fn(),(function(t){br(t,Vm)})),Or(Yn(),(function(t){br(t,jm)})),Or(Pn(),(function(t){br(t,Vm)})),Or(Nn(),(function(t){br(t,jm)}))]:[Or(gr(),(function(t,e){br(t,Vm)})),Or(vr(),(function(t){br(t,jm)}))]]))}}),state:Lm,apis:$m}),qm=tinymce.util.Tools.resolve("tinymce.util.I18n"),Gm="tox-menu-nav__js",Ym="tox-collection__item",Km={normal:Gm,color:"tox-swatch"},Xm="tox-collection__item-label",Zm="tox-collection__item--active",Qm=function(t){return lt(Km,t).getOr(Gm)},Jm=tinymce.util.Tools.resolve("tinymce.Env"),tp=function(t){var e=Jm.mac?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl",access:"Shift+Alt"},n=t.split("+");return F(n,(function(t){var n=t.toLowerCase().trim();return ct(e,n)?e[n]:t})).join(Jm.mac?"":"+")},ep=function(t){return{dom:{tag:"div",classes:["tox-collection__item-icon"],innerHtml:t}}},np=function(t){return{dom:{tag:"div",classes:[Xm]},components:[vo(qm.translate(t))]}},rp=function(t,e){return{dom:{tag:"div",classes:[Xm]},components:[{dom:{tag:t.tag,styles:t.styles},components:[vo(qm.translate(e))]}]}},ip=function(t){return{dom:{tag:"div",classes:["tox-collection__item-accessory"],innerHtml:tp(t)}}},op=function(t){return{dom:{tag:"div",classes:["tox-collection__item-icon","tox-collection__item-checkmark"],innerHtml:cm("checkmark",t)}}},sp=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"],ap=["list-bull-circle","list-bull-default","list-bull-square"],up=function(t,e,n,r){void 0===r&&(r=b.none());var i,s=qm.isRtl()&&t.iconContent.exists((function(t){return N(ap,t)})),a=(i=t.iconContent,i.map((function(t){return qm.isRtl()&&N(sp,t)?t+"-rtl":t}))).map((function(t){return function(t,e,n){return b.from(e()[t]).or(n).getOrThunk((function(){return lm(e)}))}(t,e.icons,r)})),u=b.from(t.meta).fold((function(){return np}),(function(t){return ct(t,"style")?o(rp,t.style):np}));return"color"===t.presets?function(t,e,n,r){var i,o;return{dom:(i=n.getOr(""),o={tag:"div",attributes:t.map((function(t){return{title:r.translate(t)}})).getOr({}),classes:["tox-swatch"]},d(d({},o),"custom"===e?{tag:"button",classes:h(o.classes,["tox-swatches__picker-btn"]),innerHtml:i}:"remove"===e?{classes:h(o.classes,["tox-swatch--remove"]),innerHtml:i}:{attributes:d(d({},o.attributes),{"data-mce-color":e}),styles:{"background-color":e}})),optComponents:[]}}(t.ariaLabel,t.value,a,e):function(t,e,n,r,i){var o=n?t.checkMark.orThunk((function(){return e.or(b.some("")).map(ep)})):b.none(),s=t.ariaLabel.map((function(t){return{attributes:{title:qm.translate(t)}}})).getOr({});return{dom:d({tag:"div",classes:[Gm,Ym].concat(i?["tox-collection__item-icon-rtl"]:[])},s),optComponents:[o,t.htmlContent.fold((function(){return t.textContent.map(r)}),(function(t){return b.some(function(t){return{dom:{tag:"div",classes:[Xm],innerHtml:t}}}(t))})),t.shortcutContent.map(ip),t.caret]}}(t,a,n,u,s)},lp=["input","button","textarea","select"],cp=function(t,e,n){e.disabled&&gp(t,e)},dp=function(t,e){return!0===e.useNative&&N(lp,si(t.element()))},fp=function(t){di(t.element(),"disabled","disabled")},hp=function(t){pi(t.element(),"disabled")},mp=function(t){di(t.element(),"aria-disabled","true")},pp=function(t){di(t.element(),"aria-disabled","false")},gp=function(t,e,n){e.disableClass.each((function(e){qi(t.element(),e)})),(dp(t,e)?fp:mp)(t),e.onDisabled(t)},vp=function(t,e,n){e.disableClass.each((function(e){Gi(t.element(),e)})),(dp(t,e)?hp:pp)(t),e.onEnabled(t)},bp=function(t,e){return dp(t,e)?function(t){return mi(t.element(),"disabled")}(t):function(t){return"true"===fi(t.element(),"aria-disabled")}(t)},yp=Object.freeze({__proto__:null,enable:vp,disable:gp,isDisabled:bp,onLoad:cp,set:function(t,e,n,r){(r?gp:vp)(t,e,n)}}),_p=Object.freeze({__proto__:null,exhibit:function(t,e){return Li({classes:e.disabled?e.disableClass.map(K).getOr([]):[]})},events:function(t,e){return Sr([kr(Zn(),(function(e,n){return bp(e,t)})),ea(t,e,cp)])}}),wp=[Re("disabled",!1),Re("useNative",!0),Ee("disableClass"),bs("onDisabled"),bs("onEnabled")],xp=sa({fields:wp,name:"disabling",active:_p,apis:yp}),Cp=function(t){return xp.config({disabled:t})},Sp=function(t,e){var n=t.getApi(e);return function(t){t(n)}},kp=function(t,e){return zr((function(n){Sp(t,n)((function(n){var r=t.onSetup(n);null!=r&&e.set(r)}))}))},Ep=function(t,e){return Pr((function(n){return Sp(t,n)(e.get())}))};!function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"}(em||(em={}));var Op,Tp=em,Ap=function(t,e){return Br((function(n,r){Sp(t,n)(t.onAction),t.triggersSubmenu||e!==Tp.CLOSE_ON_EXECUTE||(br(n,er()),r.stop())}))},Dp={"alloy.execute":["disabling","alloy.base.behaviour","toggling","item-events"]},Mp=function(t){return W(t,(function(t){return t.toArray()}))},Rp=function(t,n,r){var i,o=Ve(e);return{type:"item",dom:n.dom,components:Mp(n.optComponents),data:t.data,eventOrder:Dp,hasSubmenu:t.triggersSubmenu,itemBehaviours:ia([$f("item-events",[Ap(t,r),kp(t,o),Ep(t,o)]),(i=t.disabled,xp.config({disabled:i,disableClass:"tox-collection__item--state-disabled"})),Uf.config({})].concat(t.itemBehaviours))}},Ip=function(t){return{value:t.value,meta:d({text:t.text.getOr("")},t.meta)}},Np=function(t,e){return lt(t,"tooltipWorker").map((function(t){return[Wm.config({lazySink:e.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(t){return{anchor:"submenu",item:t,overrides:{maxHeightFunction:za}}},mode:"follow-highlight",onShow:function(e,n){t((function(t){Wm.setComponents(e,[bo({element:qe(t)})])}))}})]})).getOr([])},zp=r(hc("item-widget",gh())),Pp=_i("cell-over"),Fp=_i("cell-execute"),Bp=function(t,e,n){var r,i=function(n){return yr(n,Fp,{row:t,col:e})},o=function(t,e){e.stop(),i(t)};return _o({dom:{tag:"div",attributes:(r={role:"button"},r["aria-labelledby"]=n,r)},behaviours:ia([$f("insert-table-picker-cell",[Or(Pn(),Kf.focus),Or(Zn(),i),Or(Un(),o),Or(Jn(),o)]),ah.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Kf.config({onFocus:function(n){return yr(n,Pp,{row:t,col:e})}})])})},Lp=function(t){return W(t,(function(t){return F(t,wo)}))},Hp=function(t,e){return vo(e+1+"x"+(t+1))},Vp=function(t){return{value:r(t)}},jp=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Up=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,$p=function(t){return jp.test(t)||Up.test(t)},Wp=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e},qp=function(t){var e=Wp(t.red())+Wp(t.green())+Wp(t.blue());return Vp(e)},Gp=Math.min,Yp=Math.max,Kp=Math.round,Xp=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,Zp=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Qp=function(t,e,n,i){return{red:r(t),green:r(e),blue:r(n),alpha:r(i)}},Jp=function(t){var e=parseInt(t,10);return e.toString()===t&&e>=0&&e<=255},tg=function(t){var e,n,r,i=(t.hue()||0)%360,o=t.saturation()/100,s=t.value()/100;if(o=Yp(0,Gp(o,1)),s=Yp(0,Gp(s,1)),0===o)return e=n=r=Kp(255*s),Qp(e,n,r,1);var a=i/60,u=s*o,l=u*(1-Math.abs(a%2-1)),c=s-u;switch(Math.floor(a)){case 0:e=u,n=l,r=0;break;case 1:e=l,n=u,r=0;break;case 2:e=0,n=u,r=l;break;case 3:e=0,n=l,r=u;break;case 4:e=l,n=0,r=u;break;case 5:e=u,n=0,r=l;break;default:e=n=r=0}return e=Kp(255*(e+c)),n=Kp(255*(n+c)),r=Kp(255*(r+c)),Qp(e,n,r,1)},eg=function(t){var e,n,i=(e=function(t){var e=t.value().replace(jp,(function(t,e,n,r){return e+e+n+n+r+r}));return{value:r(e)}}(t),null===(n=Up.exec(e.value()))?["FFFFFF","FF","FF","FF"]:n),o=parseInt(i[1],16),s=parseInt(i[2],16),a=parseInt(i[3],16);return Qp(o,s,a,1)},ng=function(t,e,n,r){var i=parseInt(t,10),o=parseInt(e,10),s=parseInt(n,10),a=parseFloat(r);return Qp(i,o,s,a)},rg=function(t){return"rgba("+t.red()+","+t.green()+","+t.blue()+","+t.alpha()+")"},ig=r(Qp(255,0,0,1)),og=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),sg="choiceitem",ag=[{type:sg,text:"Light Green",value:"#BFEDD2"},{type:sg,text:"Light Yellow",value:"#FBEEB8"},{type:sg,text:"Light Red",value:"#F8CAC6"},{type:sg,text:"Light Purple",value:"#ECCAFA"},{type:sg,text:"Light Blue",value:"#C2E0F4"},{type:sg,text:"Green",value:"#2DC26B"},{type:sg,text:"Yellow",value:"#F1C40F"},{type:sg,text:"Red",value:"#E03E2D"},{type:sg,text:"Purple",value:"#B96AD9"},{type:sg,text:"Blue",value:"#3598DB"},{type:sg,text:"Dark Turquoise",value:"#169179"},{type:sg,text:"Orange",value:"#E67E23"},{type:sg,text:"Dark Red",value:"#BA372A"},{type:sg,text:"Dark Purple",value:"#843FA1"},{type:sg,text:"Dark Blue",value:"#236FA1"},{type:sg,text:"Light Gray",value:"#ECF0F1"},{type:sg,text:"Medium Gray",value:"#CED4D9"},{type:sg,text:"Gray",value:"#95A5A6"},{type:sg,text:"Dark Gray",value:"#7E8C8D"},{type:sg,text:"Navy Blue",value:"#34495E"},{type:sg,text:"Black",value:"#000000"},{type:sg,text:"White",value:"#ffffff"}],ug=function(t){void 0===t&&(t=10);var e,n=og.getItem("tinymce-custom-colors"),r=C(n)?JSON.parse(n):[],i=t-(e=r).length<0?e.slice(0,t):e,o=function(t){i.splice(t,1)};return{add:function(e){(function(t,e){var n=I(t,e);return-1===n?b.none():b.some(n)})(i,e).each(o),i.unshift(e),i.length>t&&i.pop(),og.setItem("tinymce-custom-colors",JSON.stringify(i))},state:function(){return i.slice(0)}}}(10),lg=function(t){return!1!==t.getParam("custom_colors")},cg=function(e){var n=function(t){return t.getParam("color_map")}(e);return void 0!==n?function(e){var n=[],r=t.document.createElement("canvas");r.height=1,r.width=1;for(var i=r.getContext("2d"),o=function(t,e){var n=e/255;return("0"+Math.round(t*n+255*(1-n)).toString(16)).slice(-2).toUpperCase()},s=function(t){if(/^[0-9A-Fa-f]{6}$/.test(t))return"#"+t.toUpperCase();i.clearRect(0,0,r.width,r.height),i.fillStyle="#FFFFFF",i.fillStyle=t,i.fillRect(0,0,1,1);var e=i.getImageData(0,0,1,1).data,n=e[1],s=e[2],a=e[3];return"#"+o(e[0],a)+o(n,a)+o(s,a)},a=0;a<e.length;a+=2)n.push({text:e[a+1],value:s(e[a]),type:"choiceitem"});return n}(n):ag},dg=function(t){ug.add(t)},fg=function(t,e){return t.fire("ResizeContent",e)},hg=function(t,e){var n;return t.dom.getParents(t.selection.getStart(),(function(t){var r;(r=t.style["forecolor"===e?"color":"background-color"])&&(n=n||r)})),n},mg=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},pg=function(t){var e=cg(t);return function(t,e){return t.getParam("color_cols",e,"number")}(t,mg(e.length))},gg=function(t,e,n,r){"custom"===n?xg(t)((function(n){n.each((function(n){dg(n),t.execCommand("mceApplyTextcolor",e,n),r(n)}))}),"#000000"):"remove"===n?(r(""),t.execCommand("mceRemoveTextcolor",e)):(r(n),t.execCommand("mceApplyTextcolor",e,n))},vg=function(t,e){return t.concat(F(ug.state(),(function(t){return{type:sg,text:t,value:t}})).concat(function(t){var e={type:"choiceitem",text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[e,{type:"choiceitem",text:"Custom color",icon:"color-picker",value:"custom"}]:[e]}(e)))},bg=function(t,e){return function(n){n(vg(t,e))}},yg=function(t,e,n){var r,i;t.setIconFill(r="forecolor"===e?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color",i=n),t.setIconStroke(r,i)},_g=function(t,e,n,r,i){t.ui.registry.addSplitButton(e,{tooltip:r,presets:"color",icon:"forecolor"===e?"text-color":"highlight-bg-color",select:function(e){return b.from(hg(t,n)).bind((function(t){return function(t){if("transparent"===t)return b.some(Qp(0,0,0,0));var e=Xp.exec(t);if(null!==e)return b.some(ng(e[1],e[2],e[3],"1"));var n=Zp.exec(t);return null!==n?b.some(ng(n[1],n[2],n[3],n[4])):b.none()}(t).map((function(t){var n=qp(t).value();return an(e.toLowerCase(),n)}))})).getOr(!1)},columns:pg(t),fetch:bg(cg(t),lg(t)),onAction:function(e){null!==i.get()&&gg(t,n,i.get(),(function(){}))},onItemAction:function(r,o){gg(t,n,o,(function(n){i.set(n),function(t,e){t.fire("TextColorChange",e)}(t,{name:e,color:n})}))},onSetup:function(n){null!==i.get()&&yg(n,e,i.get());var r=function(t){t.name===e&&yg(n,t.name,t.color)};return t.on("TextColorChange",r),function(){t.off("TextColorChange",r)}}})},wg=function(t,n,r,i){t.ui.registry.addNestedMenuItem(n,{text:i,icon:"forecolor"===n?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(n){gg(t,r,n.value,e)}}]}})},xg=function(t){return function(e,n){var r={colorpicker:n},i=function(t){return function(e){var n=e.getData();t(b.from(n.colorpicker)),e.close()}}(e);t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onAction:function(t,e){"hex-valid"===e.name&&(e.value?t.enable("ok"):t.disable("ok"))},onSubmit:i,onClose:function(){},onCancel:function(){e(b.none())}})}},Cg={register:function(t){!function(t){t.addCommand("mceApplyTextcolor",(function(e,n){!function(t,e,n){t.undoManager.transact((function(){t.focus(),t.formatter.apply(e,{value:n}),t.nodeChanged()}))}(t,e,n)})),t.addCommand("mceRemoveTextcolor",(function(e){!function(t,e){t.undoManager.transact((function(){t.focus(),t.formatter.remove(e,{value:null},null,!0),t.nodeChanged()}))}(t,e)}))}(t);var e=Ve(null),n=Ve(null);_g(t,"forecolor","forecolor","Text color",e),_g(t,"backcolor","hilitecolor","Background color",n),wg(t,"forecolor","forecolor","Text color"),wg(t,"backcolor","hilitecolor","Background color")},getColors:vg,getFetch:bg,colorPickerDialog:xg,getCurrentColor:hg,getColorCols:pg,calcCols:mg},Sg=function(t){return"color"===t?"tox-swatches":"tox-menu"},kg=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:Sg(t),tieredMenu:"tox-tiered-menu"}},Eg=function(t){var e=kg(t);return{backgroundMenu:e.backgroundMenu,selectedMenu:e.selectedMenu,menu:e.menu,selectedItem:e.selectedItem,item:Qm(t)}},Og=function(t,e,n){var r=kg(n);return{tag:"div",classes:$([[r.menu,"tox-menu-"+e+"-column"],t?[r.hasIcons]:[]])}},Tg=[xh.parts().items({})],Ag=function(t,e,n){var r=kg(n);return{dom:{tag:"div",classes:$([[r.tieredMenu]])},markers:Eg(n)}},Dg=function(t,e){return function(n){var r=P(n,e);return F(r,(function(e){return{dom:t,components:e}}))}},Mg=function(t,e){var n=[],r=[];return B(t,(function(t,i){e(t,i)?(r.length>0&&n.push(r),r=[],ct(t.dom,"innerHtml")&&r.push(t)):r.push(t)})),r.length>0&&n.push(r),F(n,(function(t){return{dom:{tag:"div",classes:["tox-collection__group"]},components:t}}))},Rg=function(t,e,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===t?["tox-collection--list"]:["tox-collection--grid"])},components:[xh.parts().items({preprocess:function(n){return"auto"!==t&&t>1?Dg({tag:"div",classes:["tox-collection__group"]},t)(n):Mg(n,(function(t,n){return"separator"===e[n].type}))}})]}},Ig=function(t){return void 0!==t.icon||"togglemenuitem"===t.type||"choicemenuitem"===t.type},Ng=function(e){return t.console.error(oe(e)),t.console.log(e),b.none()},zg=function(t,e,n,r,i){var o,s=(o=n,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[xh.parts().items({preprocess:function(t){return Mg(t,(function(t,e){return"separator"===o[e].type}))}})]});return{value:t,dom:s.dom,components:s.components,items:n}},Pg=function(t,e,n,r,o){var s;return"color"===o?{value:t,dom:(s=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[xh.parts().items({preprocess:"auto"!==t?Dg({tag:"div",classes:["tox-swatches__row"]},t):i})]}]}}(r)).dom,components:s.components,items:n}:"normal"===o&&"auto"===r?{value:t,dom:(s=Rg(r,n)).dom,components:s.components,items:n}:"normal"===o&&1===r?{value:t,dom:(s=Rg(1,n)).dom,components:s.components,items:n}:"normal"===o?{value:t,dom:(s=Rg(r,n)).dom,components:s.components,items:n}:"listpreview"===o&&"auto"!==r?{value:t,dom:(s=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[xh.parts().items({preprocess:Dg({tag:"div",classes:["tox-collection__group"]},t)})]}}(r)).dom,components:s.components,items:n}:{value:t,dom:Og(e,r,o),components:Tg,items:n}},Fg=function(t,e,n,r,i,o,s,a){var u=z(e,Ig),l=Bg(e,n,r,"color"!==i?"normal":"color",o,s,a);return Pg(t,u,l,r,i)},Bg=function(t,e,n,r,i,o,s){return Pc(F(t,(function(t){return"choiceitem"===t.type?(a=t,ne("choicemenuitem",Nm,a)).fold(Ng,(function(a){return b.some(function(t,e,n,r,i,o,s){var a=up({presets:n,textContent:e?t.text:b.none(),htmlContent:b.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:e?t.shortcut:b.none(),checkMark:e?b.some(op(s.icons)):b.none(),caret:b.none(),value:t.value},s,!0);return pt(Rp({data:Ip(t),disabled:t.disabled,getApi:function(t){return{setActive:function(e){ah.set(t,e)},isActive:function(){return ah.isOn(t)},isDisabled:function(){return xp.isDisabled(t)},setDisabled:function(e){return xp.set(t,e)}}},onAction:function(e){return r(t.value)},onSetup:function(t){return t.setActive(i),function(){}},triggersSubmenu:!1,itemBehaviours:[]},a,o),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:t.active}})}(a,1===n,r,e,o(t.value),i,s))})):b.none();var a})))},Lg=function(t,e){var n=Eg(e);return 1===t?{mode:"menu",moveOnTab:!0}:"auto"===t?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===e?"tox-swatches__row":"tox-collection__group")}},Hg={inserttable:function(t){var e=_i("size-label"),n=function(t,e,n){for(var r=[],i=0;i<10;i++){for(var o=[],s=0;s<10;s++)o.push(Bp(i,s,t));r.push(o)}return r}(e),r=um({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:e}},components:[vo("0x0")],behaviours:ia([Uf.config({})])});return{type:"widget",data:{value:_i("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[zp().widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:Lp(n).concat(r.asSpec()),behaviours:ia([$f("insert-table-picker",[Mr(Pp,(function(t,e,i){var o=i.event().row(),s=i.event().col();!function(t,e,n,r,i){for(var o=0;o<10;o++)for(var s=0;s<10;s++)ah.set(t[o][s],o<=e&&s<=n)}(n,o,s),Uf.set(r.get(t),[Hp(o,s)])})),Mr(Fp,(function(e,n,r){t.onAction({numRows:r.event().row()+1,numColumns:r.event().col()+1}),br(e,er())}))]),Bf.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:function(t,e){var n=Cg.getColors(e.colorinput.getColors(),e.colorinput.hasCustomColors()),r=e.colorinput.getColorCols(),i=Fg(_i("menu-value"),n,(function(e){t.onAction({value:e})}),r,"color",Tp.CLOSE_ON_EXECUTE,(function(){return!1}),e.shared.providers),o=d(d({},i),{markers:Eg("color"),movement:Lg(r,"color")});return{type:"widget",data:{value:_i("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[zp().widget(xh.sketch(o))]}}},Vg=function(t){var e=t.text.fold((function(){return{}}),(function(t){return{innerHtml:t}}));return{type:"separator",dom:d({tag:"div",classes:[Ym,"tox-collection__group-heading"]},e),components:[]}};!function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"}(Op||(Op={}));var jg=function(t){return void 0!==t.icon||"togglemenuitem"===t.type||"choicemenuitem"===t.type},Ug=function(t){return z(t,jg)},$g=function(n,r,i,o,s){var a=Ug(r),u=Pc(F(r,(function(n){var r=function(n){return function(n,r,i,o,s){var a,u=i.shared.providers,l=function(t){return s?d(d({},t),{shortcut:b.none(),icon:t.text.isSome()?b.none():t.icon}):t};switch(n.type){case"menuitem":return(a=n,ne("menuitem",Mm,a)).fold(Ng,(function(t){return b.some(function(t,e,n,r){void 0===r&&(r=!0);var i=up({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:b.none(),ariaLabel:t.text,caret:b.none(),checkMark:b.none(),shortcutContent:t.shortcut},n,r);return Rp({data:Ip(t),getApi:function(t){return{isDisabled:function(){return xp.isDisabled(t)},setDisabled:function(e){return xp.set(t,e)}}},disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,e)}(l(t),r,u,o))}));case"nestedmenuitem":return function(t){return ne("nestedmenuitem",Rm,t)}(n).fold(Ng,(function(t){return b.some(function(t,n,r,i,o){void 0===i&&(i=!0),void 0===o&&(o=!1);var s=o?{dom:{tag:"div",classes:["tox-collection__item-caret"],innerHtml:cm("chevron-down",r.icons)}}:function(t){return{dom:{tag:"div",classes:["tox-collection__item-caret"],innerHtml:cm("chevron-right",t)}}}(r.icons),a=up({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:b.none(),ariaLabel:t.text,caret:b.some(s),checkMark:b.none(),shortcutContent:t.shortcut},r,i);return Rp({data:Ip(t),getApi:function(t){return{isDisabled:function(){return xp.isDisabled(t)},setDisabled:function(e){return xp.set(t,e)}}},disabled:t.disabled,onAction:e,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},a,n)}(l(t),r,u,o,s))}));case"togglemenuitem":return function(t){return ne("togglemenuitem",Im,t)}(n).fold(Ng,(function(t){return b.some(function(t,e,n){var r=up({iconContent:b.none(),textContent:t.text,htmlContent:b.none(),ariaLabel:t.text,checkMark:b.some(op(n.icons)),caret:b.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},n,!0);return pt(Rp({data:Ip(t),disabled:t.disabled,getApi:function(t){return{setActive:function(e){ah.set(t,e)},isActive:function(){return ah.isOn(t)},isDisabled:function(){return xp.isDisabled(t)},setDisabled:function(e){return xp.set(t,e)}}},onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,e),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:t.active}})}(l(t),r,u))}));case"separator":return function(t){return ne("separatormenuitem",Om,t)}(n).fold(Ng,(function(t){return b.some(Vg(t))}));case"fancymenuitem":return function(t){return ne("fancymenuitem",zm,t)}(n).fold(Ng,(function(t){return function(t,e){return(n=Hg,r=t.fancytype,Object.prototype.hasOwnProperty.call(n,r)?b.some(n[r]):b.none()).map((function(n){return n(t,e)}));var n,r}(l(t),i)}));default:return t.console.error("Unknown item in general menu",n),b.none()}}(n,i,o,function(t){return s?!t.hasOwnProperty("text"):a}(n),s)};return"nestedmenuitem"===n.type&&n.getSubmenuItems().length<=0?r(d(d({},n),{disabled:!0})):r(n)})));return(s?zg:Pg)(n,a,u,1,"normal")},Wg=function(t){return Oh.singleData(t.value,t)},qg=function(e,n){var r=Ve(b.none()),i=Ve(!1),o=_o(Th.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:ia([$f("dismissAutocompleter",[Or(cr(),(function(){return u()}))])]),lazySink:n.getSink})),s=function(){return r.get().isSome()},a=function(){s()&&Th.hide(o)},u=function(){if(s()){var t=r.get().map((function(t){return t.element}));vm(t.getOr(qe(e.selection.getNode()))).each(ri),a(),r.set(b.none()),i.set(!1)}},l=vt((function(){return function(t){var e=t.ui.registry.getAll().popups,n=it(e,(function(t){return(e=t,ne("Autocompleter",Am,e)).fold((function(t){throw new Error(oe(t))}),(function(t){return t}));var e})),r=function(t){var e={};return B(t,(function(t){e[t]={}})),et(e)}(st(n,(function(t){return t.ch}))),i=ut(n);return{dataset:n,triggerChars:r,lookupByChar:function(t){return L(i,(function(e){return e.ch===t}))}}}(e)})),c=function(d){(function(t){return r.get().map((function(n){return wm(e.dom,e.selection.getRng(),n.triggerChar).bind((function(n){return Em(e,l,n,t)}))})).getOrThunk((function(){return function(t,e){var n=e(),r=t.selection.getRng();return function(t,e,n){return tt(n.triggerChars,(function(n){return wm(t,e,n)}))}(t.dom,r,n).bind((function(n){return Em(t,e,n)}))}(e,l)}))})(d).fold(u,(function(l){!function(t){if(!s()){var n=function(t,e){return vm(qe(t.selection.getNode())).getOrThunk((function(){var n=Ue('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return Jr(n,qe(e.extractContents())),e.insertNode(n.dom()),qr(n).each((function(t){return t.dom().normalize()})),function(t){return e=uu,(n=function(t){for(var r=Yr(t),i=r.length-1;i>=0;i--){var o=r[i];if(e(o))return b.some(o);var s=n(o);if(s.isSome())return s}return b.none()})(t);var e,n}(n).map((function(e){t.selection.setCursorLocation(e.dom(),function(t){return"img"===si(t)?1:su(t).fold((function(){return Yr(t).length}),(function(t){return t.length}))}(e))})),n}))}(e,t.range);r.set(b.some({triggerChar:t.triggerChar,element:n,matchLength:t.text.length})),i.set(!1)}}(l.context),l.lookupData.then((function(s){r.get().map((function(r){var d,f,h,m=l.context;if(r.triggerChar===m.triggerChar){var p=(d=m.triggerChar,h=tt(f=s,(function(t){return b.from(t.columns)})).getOr(1),W(f,(function(r){return function(t,e,n,r,i,o){var s=1===r,a=!s||Ug(t);return Pc(F(t,(function(t){return"separator"===t.type?(r=t,ne("Autocompleter.Separator",Om,r)).fold(Ng,(function(t){return b.some(Vg(t))})):function(t){return ne("Autocompleter.Item",Tm,t)}(t).fold(Ng,(function(t){return b.some(function(t,e,n,r,i,o,s,a){void 0===a&&(a=!0);var u=up({presets:r,textContent:b.none(),htmlContent:n?t.text.map((function(t){return function(t,e){var n=function(t){return Vh.DOM.encode(t)}(qm.translate(t));if(e.length>0){var r=new RegExp(function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(e),"gi");return n.replace(r,(function(t){return'<span class="tox-autocompleter-highlight">'+t+"</span>"}))}return n}(t,e)})):b.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:b.none(),checkMark:b.none(),caret:b.none(),value:t.value},s.providers,a,t.icon);return Rp({data:Ip(t),disabled:t.disabled,getApi:function(){return{}},onAction:function(e){return i(t.value,t.meta)},onSetup:function(){return function(){}},triggersSubmenu:!1,itemBehaviours:Np(t.meta,s)},u,o)}(t,e,s,"normal",n,i,o,a))}));var r})))}(r.items,r.matchText,(function(n,o){var s=e.selection.getRng();wm(e.dom,s,d).fold((function(){return t.console.error("Lost context. Cursor probably moved")}),(function(t){var e=t.range,s={hide:function(){u()},reload:function(t){a(),c(t)}};i.set(!0),r.onAction(s,e,n,o),i.set(!1)}))}),h,Tp.BUBBLE_TO_SANDBOX,n)})));p.length>0?function(t,n,r,i){t.matchLength=n.text.length;var s=tt(r,(function(t){return b.from(t.columns)})).getOr(1);Th.showAt(o,{anchor:"node",root:qe(e.getBody()),node:b.from(t.element)},xh.sketch(function(t,e,n,r){var i=n===Op.ContentFocus?ld():ud(),o=Lg(e,"normal"),s=Eg("normal");return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:s.selectedItem,item:s.item},movement:o,fakeFocus:n===Op.ContentFocus,focusManager:i,menuBehaviours:Fm("auto"!==e?[]:[zr((function(t,e){Pm(t,4,s.item).each((function(e){Bf.setGridSize(t,e.numRows,e.numColumns)}))}))])}}(Pg("autocompleter-value",!0,i,s,"normal"),s,Op.ContentFocus))),Th.getContent(o).each(Xc.highlightFirst)}(r,m,s,p):m.text.length-r.matchLength>=10?u():a()}}))}))}))};!function(t,e){e.on("keypress compositionend",t.onKeypress.throttle),e.on("remove",t.onKeypress.cancel);var n=function(t,e){yr(t,Ln(),{raw:e})};e.on("keydown",(function(e){var r=function(){return t.getView().bind(Xc.getHighlighted)};8===e.which&&t.onKeypress.throttle(e),t.isActive()&&(27===e.which&&t.cancelIfNecessary(),t.isMenuOpen()?13===e.which?(r().each(_r),e.preventDefault()):40===e.which?(r().fold((function(){t.getView().each(Xc.highlightFirst)}),(function(t){n(t,e)})),e.preventDefault(),e.stopImmediatePropagation()):37!==e.which&&38!==e.which&&39!==e.which||r().each((function(t){n(t,e),e.preventDefault(),e.stopImmediatePropagation()})):13!==e.which&&38!==e.which&&40!==e.which||t.cancelIfNecessary())})),e.on("NodeChange",(function(e){t.isActive()&&!t.isProcessingAction()&&vm(qe(e.element)).isNone()&&t.cancelIfNecessary()}))}({onKeypress:mm((function(t){27!==t.which&&c()}),50),cancelIfNecessary:u,isMenuOpen:function(){return Th.isOpen(o)},isActive:s,isProcessingAction:i.get,getView:function(){return Th.getContent(o)}},e)},Gg=r(!0),Yg=function(t,e,n){return function(t,e,n,r){return zo(t,e,n,r,!1)}(t,e,Gg,n)},Kg=function(t,e,n){return function(t,e,n,r){return zo(t,e,n,r,!0)}(t,e,Gg,n)},Xg=No,Zg=function(t,e,n){return rs(t,e,n).isSome()};function Qg(e,n){var r=null;return{cancel:function(){null!==r&&(t.clearTimeout(r),r=null)},schedule:function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];r=t.setTimeout((function(){e.apply(null,i),r=null}),n)}}}var Jg=function(t){var e=t.raw();return void 0===e.touches||1!==e.touches.length?b.none():b.some(e.touches[0])},tv=mn().browser.isFirefox(),ev=$t([xe("triggerEvent"),Re("stopBackspace",!0)]),nv=function(t,e){var n=lt(t,"target").map((function(t){return t()})).getOr(e);return Ve(n)},rv=ft([{stopped:[]},{resume:["element"]},{complete:[]}]),iv=function(t,e,n,i,o,s){var a=t(e,i),u=function(t,e){var n=Ve(!1),i=Ve(!1);return{stop:function(){n.set(!0)},cut:function(){i.set(!0)},isStopped:n.get,isCut:i.get,event:r(t),setSource:e.set,getSource:e.get}}(n,o);return a.fold((function(){return s.logEventNoHandlers(e,i),rv.complete()}),(function(t){var n=t.descHandler();return Hi(n)(u),u.isStopped()?(s.logEventStopped(e,t.element(),n.purpose()),rv.stopped()):u.isCut()?(s.logEventCut(e,t.element(),n.purpose()),rv.complete()):qr(t.element()).fold((function(){return s.logNoParent(e,t.element(),n.purpose()),rv.complete()}),(function(r){return s.logEventResponse(e,t.element(),n.purpose()),rv.resume(r)}))}))},ov=function(t,e,n,r,i,o){return iv(t,e,n,r,i,o).fold((function(){return!0}),(function(r){return ov(t,e,n,r,i,o)}),(function(){return!1}))},sv=function(t,e,n,r,i){var o=nv(n,r);return ov(t,e,n,r,o,i)},av=Lr("element","descHandler");function uv(){var t,e=(t={},{registerId:function(e,n,i){rt(i,(function(i,s){var a=void 0!==t[s]?t[s]:{};a[n]=function(t,e){return n=o.apply(void 0,[t.handler].concat(e)),i=t.purpose(),{cHandler:n,purpose:r(i)};var n,i}(i,e),t[s]=a}))},unregisterId:function(e){rt(t,(function(t,n){t.hasOwnProperty(e)&&delete t[e]}))},filterByType:function(e){return lt(t,e).map((function(t){return st(t,(function(t,e){return function(t,e){return{id:r(t),descHandler:r(e)}}(e,t)}))})).getOr([])},find:function(e,n,r){var i=lt(t,n);return kn(r,(function(t){return function(t,e){return Ei(e).fold((function(){return b.none()}),(function(n){return t.bind((function(t){return lt(t,n)})).map((function(t){return av(e,t)}))}))}(i,t)}),e)}}),n={},i=function(t){Ei(t.element()).each((function(t){delete n[t],e.unregisterId(t)}))};return{find:function(t,n,r){return e.find(t,n,r)},filter:function(t){return e.filterByType(t)},register:function(t){var r=function(t){var e=t.element();return Ei(e).fold((function(){return function(t,e){var n=_i(Ci+"uid-");return ki(e,n),n}(0,t.element())}),(function(t){return t}))}(t);dt(n,r)&&function(t,e){var r=n[e];if(r!==t)throw new Error('The tagId "'+e+'" is already used by: '+gi(r.element())+"\nCannot use it for: "+gi(t.element())+"\nThe conflicting element is"+(Qi(r.element())?" ":" not ")+"already in the DOM");i(t)}(t,r),e.registerId([t],r,t.events()),n[r]=t},unregister:i,getById:function(t){return lt(n,t)}}}var lv=Nc({name:"Container",factory:function(t){var e=t.dom,n=e.attributes,r=f(e,["attributes"]);return{uid:t.uid,dom:d({tag:"div",attributes:d({role:"presentation"},n)},r),components:t.components,behaviours:zl(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[Re("components",[]),Nl("containerBehaviours",[]),Re("events",{}),Re("domModification",{}),Re("eventOrder",{})]}),cv=function(n){var i,o,s,u,l,c,d,f,h,m,p=function(t){return qr(n.element()).fold((function(){return!0}),(function(e){return xn(t,e)}))},g=uv(),v=function(t,e){return g.find(p,t,e)},y=(i=n.element(),o=ie("Getting GUI events settings",ev,{triggerEvent:function(t,e){return ls(t,e.target(),(function(n){return function(t,e,n,r){var i=n.target();return sv(t,e,n,i,r)}(v,t,e,n)}))}}),s=function(t){var e=Ve(b.none()),n=Ve(!1),i=Qg((function(e){t.triggerEvent(tr(),e),n.set(!0)}),400),o=zt([{key:Tn(),value:function(t){return Jg(t).each((function(o){i.cancel();var s={x:r(o.clientX),y:r(o.clientY),target:t.target};i.schedule(t),n.set(!1),e.set(b.some(s))})),b.none()}},{key:An(),value:function(t){return i.cancel(),Jg(t).each((function(t){e.get().each((function(n){(function(t,e){var n=Math.abs(t.clientX-e.x()),r=Math.abs(t.clientY-e.y());return n>5||r>5})(t,n)&&e.set(b.none())}))})),b.none()}},{key:Dn(),value:function(r){return i.cancel(),e.get().filter((function(t){return xn(t.target(),r.target())})).map((function(e){return n.get()?(r.prevent(),!1):t.triggerEvent(Jn(),r)}))}}]);return{fireIfReady:function(t,e){return lt(o,e).bind((function(e){return e(t)}))}}}(o),u=F(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(t){return Yg(i,t,(function(e){s.fireIfReady(e,t).each((function(t){t&&e.kill()})),o.triggerEvent(t,e)&&e.kill()}))})),l=Ve(b.none()),c=Yg(i,"paste",(function(e){s.fireIfReady(e,"paste").each((function(t){t&&e.kill()})),o.triggerEvent("paste",e)&&e.kill(),l.set(b.some(t.setTimeout((function(){o.triggerEvent(Kn(),e)}),0)))})),d=Yg(i,"keydown",(function(t){o.triggerEvent("keydown",t)?t.kill():!0===o.stopBackspace&&function(t){return 8===t.raw().which&&!N(["input","textarea"],si(t.target()))&&!Zg(t.target(),'[contenteditable="true"]')}(t)&&t.prevent()})),f=function(t,e){return tv?Kg(t,"focus",e):Yg(t,"focusin",e)}(i,(function(t){o.triggerEvent("focusin",t)&&t.kill()})),h=Ve(b.none()),m=function(t,e){return tv?Kg(t,"blur",e):Yg(t,"focusout",e)}(i,(function(e){o.triggerEvent("focusout",e)&&e.kill(),h.set(b.some(t.setTimeout((function(){o.triggerEvent(Yn(),e)}),0)))})),{unbind:function(){B(u,(function(t){t.unbind()})),d.unbind(),f.unbind(),m.unbind(),c.unbind(),l.get().each(t.clearTimeout),h.get().each(t.clearTimeout)}}),_={debugInfo:r("real"),triggerEvent:function(t,e,n){ls(t,e,(function(r){return sv(v,t,n,e,r)}))},triggerFocus:function(t,n){Ei(t).fold((function(){ma(t)}),(function(i){ls(Gn(),t,(function(i){return function(t,e,n,r,i){var o=nv(n,r);iv(t,e,n,r,o,i)}(v,Gn(),{originator:r(n),kill:e,prevent:e,target:r(t)},t,i),!1}))}))},triggerEscape:function(t,e){_.triggerEvent("keydown",t.element(),e.event())},getByUid:function(t){return D(t)},getByDom:function(t){return M(t)},build:_o,addToGui:function(t){S(t)},removeFromGui:function(t){k(t)},addToWorld:function(t){x(t)},removeFromWorld:function(t){C(t)},broadcast:function(t){O(t)},broadcastOn:function(t,e){T(t,e)},broadcastEvent:function(t,e){A(t,e)},isConnected:r(!0)},x=function(t){t.connect(_),li(t.element())||(g.register(t),B(t.components(),x),_.triggerEvent(rr(),t.element(),{target:r(t.element())}))},C=function(t){li(t.element())||(B(t.components(),C),g.unregister(t)),t.disconnect()},S=function(t){Xu(n,t)},k=function(t){Ju(t)},E=function(t){var e=g.filter(Xn());B(e,(function(e){var n=e.descHandler();Hi(n)(t)}))},O=function(t){E({universal:r(!0),data:r(t)})},T=function(t,e){E({universal:r(!1),channels:r(t),data:r(e)})},A=function(t,n){return i=g.filter(t),o=function(t){var n=Ve(!1);return{stop:function(){n.set(!0)},cut:e,isStopped:n.get,isCut:r(!1),event:r(t),setSource:a("Cannot set source of a broadcasted event"),getSource:a("Cannot get source of a broadcasted event")}}(n),B(i,(function(t){var e=t.descHandler();Hi(e)(o)})),o.isStopped();var i,o},D=function(t){return g.getById(t).fold((function(){return w.error(new Error('Could not find component with uid: "'+t+'" in system.'))}),w.value)},M=function(t){var e=Ei(t).getOr("not found");return D(e)};return x(n),{root:r(n),element:n.element,destroy:function(){y.unbind(),ni(n.element())},add:S,remove:k,getByUid:D,getByDom:M,addToWorld:x,removeFromWorld:C,broadcast:O,broadcastOn:T,broadcastEvent:A}},dv=_i("form-component-change"),fv=_i("form-close"),hv=_i("form-cancel"),mv=_i("form-action"),pv=_i("form-submit"),gv=_i("form-block"),vv=_i("form-unblock"),bv=_i("form-tabchange"),yv=_i("form-resize"),_v=r([Re("prefix","form-field"),Nl("fieldBehaviours",[Hc,Il])]),wv=r([uc({schema:[ve("dom")],name:"label"}),uc({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[ve("text")],name:"aria-descriptor"}),sc({factory:{sketch:function(t){var e=It(t,["factory"]);return t.factory.sketch(e)}},schema:[ve("factory")],name:"field"})]),xv=zc({name:"FormField",configFields:_v(),partFields:wv(),factory:function(t,e,n,r){var i=Pl(t.fieldBehaviours,[Hc.config({find:function(e){return _c(e,t,"field")}}),Il.config({store:{mode:"manual",getValue:function(t){return Hc.getCurrent(t).bind(Il.getValue)},setValue:function(t,e){Hc.getCurrent(t).each((function(t){Il.setValue(t,e)}))}}})]),o=Sr([zr((function(e,n){var r=xc(e,t,["label","field","aria-descriptor"]);r.field().each((function(e){var n=_i(t.prefix);r.label().each((function(t){di(t.element(),"for",n),di(e.element(),"id",n)})),r["aria-descriptor"]().each((function(n){var r=_i(t.prefix);di(n.element(),"id",r),di(e.element(),"aria-describedby",r)}))}))}))]);return{uid:t.uid,dom:t.dom,components:e,behaviours:i,events:o,apis:{getField:function(e){return _c(e,t,"field")},getLabel:function(e){return _c(e,t,"label")}}}},apis:{getField:function(t,e){return t.getField(e)},getLabel:function(t,e){return t.getLabel(e)}}}),Cv=r([Ee("data"),Re("inputAttributes",{}),Re("inputStyles",{}),Re("tag","input"),Re("inputClasses",[]),bs("onSetValue"),Re("styles",{}),Re("eventOrder",{}),Nl("inputBehaviours",[Il,Kf]),Re("selectOnFocus",!0)]),Sv=function(t){return ia([Kf.config({onFocus:t.selectOnFocus?function(t){var e=t.element(),n=mo(e);e.dom().setSelectionRange(0,n.length)}:e})])},kv=function(t){return d(d({},Sv(t)),Pl(t.inputBehaviours,[Il.config({store:d(d({mode:"manual"},t.data.map((function(t){return{initialValue:t}})).getOr({})),{getValue:function(t){return mo(t.element())},setValue:function(t,e){mo(t.element())!==e&&po(t.element(),e)}}),onSetValue:t.onSetValue})]))},Ev=function(t){return{tag:t.tag,attributes:d({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},Ov=Nc({name:"Input",configFields:Cv(),factory:function(t,e){return{uid:t.uid,dom:Ev(t),components:[],behaviours:kv(t),eventOrder:t.eventOrder}}}),Tv={},Av={exports:Tv};!function(t,e,n,r){!function(t){"object"==typeof e&&void 0!==n?n.exports=t():("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=t()}((function(){return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};e[s][0].call(l.exports,(function(t){return i(e[s][1][t]||t)}),l,l.exports,t,e,n,r)}return n[s].exports}for(var o=!1,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){var r,i,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(t){r=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,c=[],d=!1,f=-1;function h(){d&&l&&(d=!1,l.length?c=l.concat(c):f=-1,c.length&&m())}function m(){if(!d){var t=u(h);d=!0;for(var e=c.length;e;){for(l=c,c=[];++f<e;)l&&l[f].run();f=-1,e=c.length}l=null,d=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||d||u(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){!function(n){var r=setTimeout;function i(){}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function s(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(i){return void u(e.promise,i)}a(e.promise,r)}else(1===t._state?a:u)(e.promise,t._value)}))):t._deferreds.push(e)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void d((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(s){u(t,s)}var r,i}function u(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&o._immediateFn((function(){t._handled||o._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)s(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function d(t,e){var n=!1;try{t((function(t){n||(n=!0,a(e,t))}),(function(t){n||(n=!0,u(e,t))}))}catch(r){if(n)return;n=!0,u(e,r)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(i);return s(this,new c(t,e,n)),n},o.all=function(t){var e=Array.prototype.slice.call(t);return new o((function(t,n){if(0===e.length)return t([]);var r=e.length;function i(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){i(o,t)}),n)}e[o]=s,0==--r&&t(e)}catch(u){n(u)}}for(var o=0;o<e.length;o++)i(o,e[o])}))},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o((function(e){e(t)}))},o.reject=function(t){return new o((function(e,n){n(t)}))},o.race=function(t){return new o((function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)}))},o._immediateFn="function"==typeof t?function(e){t(e)}:function(t){r(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},o._setImmediateFn=function(t){o._immediateFn=t},o._setUnhandledRejectionFn=function(t){o._unhandledRejectionFn=t},void 0!==e&&e.exports?e.exports=o:n.Promise||(n.Promise=o)}(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,r){var i=t("process/browser.js").nextTick,o=Function.prototype.apply,s=Array.prototype.slice,a={},u=0;function l(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new l(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new l(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=u++,r=!(arguments.length<2)&&s.call(arguments,1);return a[e]=!0,i((function(){a[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof r?r:function(t){delete a[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var r=t("promise-polyfill"),i="undefined"!=typeof window?window:Function("return this;")();e.exports={boltExport:i.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))}(0,Tv,Av);var Dv,Mv=Av.exports.boltExport,Rv=function(e){var n=b.none(),r=[],i=function(t){o()?s(t):r.push(t)},o=function(){return n.isSome()},s=function(e){n.each((function(n){t.setTimeout((function(){e(n)}),0)}))};return e((function(t){n=b.some(t),B(r,s),r=[]})),{get:i,map:function(t){return Rv((function(e){i((function(n){e(t(n))}))}))},isReady:o}},Iv={nu:Rv,pure:function(t){return Rv((function(e){e(t)}))}},Nv=function(e){t.setTimeout((function(){throw e}),0)},zv=function(t){var e=function(e){t().then(e,Nv)};return{map:function(e){return zv((function(){return t().then(e)}))},bind:function(e){return zv((function(){return t().then((function(t){return e(t).toPromise()}))}))},anonBind:function(e){return zv((function(){return t().then((function(){return e.toPromise()}))}))},toLazy:function(){return Iv.nu(e)},toCached:function(){var e=null;return zv((function(){return null===e&&(e=t()),e}))},toPromise:t,get:e}},Pv=function(t){return zv((function(){return new Mv(t)}))},Fv=function(t){return zv((function(){return Mv.resolve(t)}))},Bv=["input","textarea"],Lv=function(t){var e=si(t);return N(Bv,e)},Hv=function(t,e){var n=e.getRoot(t).getOr(t.element());Gi(n,e.invalidClass),e.notify.each((function(e){Lv(t.element())&&di(t.element(),"aria-invalid",!1),e.getContainer(t).each((function(t){oi(t,e.validHtml)})),e.onValid(t)}))},Vv=function(t,e,n,r){var i=e.getRoot(t).getOr(t.element());qi(i,e.invalidClass),e.notify.each((function(e){Lv(t.element())&&di(t.element(),"aria-invalid",!0),e.getContainer(t).each((function(t){oi(t,r)})),e.onInvalid(t,r)}))},jv=function(t,e,n){return e.validator.fold((function(){return Fv(w.value(!0))}),(function(e){return e.validate(t)}))},Uv=function(t,e,n){return e.notify.each((function(e){e.onValidate(t)})),jv(t,e).map((function(n){return t.getSystem().isConnected()?n.fold((function(n){return Vv(t,e,0,n),w.error(n)}),(function(n){return Hv(t,e),w.value(n)})):w.error("No longer in system")}))},$v=Object.freeze({__proto__:null,markValid:Hv,markInvalid:Vv,query:jv,run:Uv,isInvalid:function(t,e){var n=e.getRoot(t).getOr(t.element());return Yi(n,e.invalidClass)}}),Wv=Object.freeze({__proto__:null,events:function(t,n){return t.validator.map((function(n){return Sr([Or(n.onEvent,(function(e){Uv(e,t).get(i)}))].concat(n.validateOnLoad?[zr((function(n){Uv(n,t).get(e)}))]:[]))})).getOr({})}}),qv=[ve("invalidClass"),Re("getRoot",b.none),Me("notify",[Re("aria","alert"),Re("getContainer",b.none),Re("validHtml",""),bs("onValid"),bs("onInvalid"),bs("onValidate")]),Me("validator",[ve("validate"),Re("onEvent","input"),Re("validateOnLoad",!0)])],Gv=sa({fields:qv,name:"invalidating",active:Wv,apis:$v,extra:{validation:function(t){return function(e){var n=Il.getValue(e);return Fv(t(n))}}}}),Yv=Object.freeze({__proto__:null,exhibit:function(t,e){return Li({attributes:zt([{key:e.tabAttr,value:"true"}])})}}),Kv=[Re("tabAttr","data-alloy-tabstop")],Xv=sa({fields:Kv,name:"tabstopping",active:Yv}),Zv=function(t,e,n,r){var i=Qv(t,e,n,r);return xv.sketch(i)},Qv=function(t,e,n,r){return{dom:Jv(n),components:t.toArray().concat([e]),fieldBehaviours:ia(r)}},Jv=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},tb=function(t,e){return xv.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}})},eb=Object.freeze({__proto__:null,getCoupled:function(t,e,n,r){return n.getOrCreate(t,e,r)}}),nb=[be("others",ee(w.value,ue()))],rb=sa({fields:nb,name:"coupling",apis:eb,state:Object.freeze({__proto__:null,init:function(){var t={},e=r({});return Fi({readState:e,getOrCreate:function(e,n,r){var i=et(n.others);if(i)return lt(t,r).getOrThunk((function(){var i=lt(n.others,r).getOrDie("No information found for coupled component: "+r)(e),o=e.getSystem().build(i);return t[r]=o,o}));throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(i,null,2))}})}})}),ib=r("sink"),ob=r(uc({name:ib(),overrides:r({dom:{tag:"div"},behaviours:ia([Wu.config({useFixed:l})]),events:Sr([Rr(Ln()),Rr(Rn()),Rr(Un())])})}));!function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"}(Dv||(Dv={}));var sb=function(t,e){var n=t.getHotspot(e).getOr(e),r=t.getAnchorOverrides();return t.layouts.fold((function(){return{anchor:"hotspot",hotspot:n,overrides:r}}),(function(t){return{anchor:"hotspot",hotspot:n,overrides:r,layouts:t}}))},ab=function(t,e,n,r,i,o,s){return function(t,e,n,r,i,o,s){var a=function(t,e,n){return(0,t.fetch)(n).map(e)}(t,e,r),u=cb(r,t);return a.map((function(t){return t.bind((function(t){return b.from(Oh.sketch(d(d({},o.menu()),{uid:Oi(""),data:t,highlightImmediately:s===Dv.HighlightFirst,onOpenMenu:function(t,e){var r=u().getOrDie();Wu.position(r,n,e),hl.decloak(i)},onOpenSubmenu:function(t,e,n){var r=u().getOrDie();Wu.position(r,{anchor:"submenu",item:e},n),hl.decloak(i)},onRepositionMenu:function(t,e,r){var i=u().getOrDie();Wu.position(i,n,e),B(r,(function(t){Wu.position(i,{anchor:"submenu",item:t.triggeringItem},t.triggeredMenu)}))},onEscape:function(){return Kf.focus(r),hl.close(i),b.some(!0)}})))}))}))}(t,e,sb(t,n),n,r,i,s).map((function(t){return t.fold((function(){hl.isOpen(r)&&hl.close(r)}),(function(t){hl.cloak(r),hl.open(r,t),o(r)})),r}))},ub=function(t,e,n,r,i,o,s){return hl.close(r),Fv(r)},lb=function(t,e,n,r,i,o){var s=rb.getCoupled(n,"sandbox");return(hl.isOpen(s)?ub:ab)(t,e,n,s,r,i,o)},cb=function(t,e){return t.getSystem().getByUid(e.uid+"-"+ib()).map((function(t){return function(){return w.value(t)}})).getOrThunk((function(){return e.lazySink.fold((function(){return function(){return w.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(e){return function(){return e(t)}}))}))},db=function(t){hl.getState(t).each((function(t){Oh.repositionMenus(t)}))},fb=function(t,e,n){var r=is(),i=cb(e,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:r.id(),role:"listbox"}},behaviours:Bl(t.sandboxBehaviours,[Il.config({store:{mode:"memory",initialValue:e}}),hl.config({onOpen:function(i,o){var s=sb(t,e);r.link(e.element()),t.matchWidth&&function(t,e,n){var r=Hc.getCurrent(e).getOr(e),i=Ro(t.element());n?ro(r.element(),"min-width",i+"px"):function(t,e){Mo.set(t,e)}(r.element(),i)}(s.hotspot,o,t.useMinWidth),t.onOpen(s,i,o),void 0!==n&&void 0!==n.onOpen&&n.onOpen(i,o)},onClose:function(t,i){r.unlink(e.element()),void 0!==n&&void 0!==n.onClose&&n.onClose(t,i)},isPartOf:function(t,n,r){return os(n,r)||os(e,r)},getAttachPoint:function(){return i().getOrDie()}}),Hc.config({find:function(t){return hl.getState(t).bind((function(t){return Hc.getCurrent(t)}))}}),fa.config({channels:d(d({},bl({isExtraPart:u})),_l({doReposition:db}))})])}},hb=function(t){var e=rb.getCoupled(t,"sandbox");db(e)},mb=function(){return[Re("sandboxClasses",[]),Fl("sandboxBehaviours",[Hc,fa,hl,Il])]},pb=r([ve("dom"),ve("fetch"),bs("onOpen"),ys("onExecute"),Re("getHotspot",b.some),Re("getAnchorOverrides",r({})),qa(),Nl("dropdownBehaviours",[ah,rb,Bf,Kf]),ve("toggleClass"),Re("eventOrder",{}),Ee("lazySink"),Re("matchWidth",!1),Re("useMinWidth",!1),Ee("role")].concat(mb())),gb=r([ac({schema:[ps()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),ob()]),vb=zc({name:"Dropdown",configFields:pb(),partFields:gb(),factory:function(t,n,r,i){var o,s=function(t){hl.getState(t).each((function(t){Oh.highlightPrimary(t)}))},a={expand:function(n){ah.isOn(n)||lb(t,(function(t){return t}),n,i,e,Dv.HighlightNone).get(e)},open:function(n){ah.isOn(n)||lb(t,(function(t){return t}),n,i,e,Dv.HighlightFirst).get(e)},isOpen:ah.isOn,close:function(n){ah.isOn(n)&&lb(t,(function(t){return t}),n,i,e,Dv.HighlightFirst).get(e)},repositionMenus:function(t){ah.isOn(t)&&hb(t)}},u=function(t,e){return _r(t),b.some(!0)};return{uid:t.uid,dom:t.dom,components:n,behaviours:Pl(t.dropdownBehaviours,[ah.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),rb.config({others:{sandbox:function(e){return fb(t,e,{onOpen:function(){ah.on(e)},onClose:function(){ah.off(e)}})}}}),Bf.config({mode:"special",onSpace:u,onEnter:u,onDown:function(t,e){if(vb.isOpen(t)){var n=rb.getCoupled(t,"sandbox");s(n)}else vb.open(t);return b.some(!0)},onEscape:function(t,e){return vb.isOpen(t)?(vb.close(t),b.some(!0)):b.none()}}),Kf.config({})]),events:lh(b.some((function(n){lb(t,(function(t){return t}),n,i,s,Dv.HighlightFirst).get(e)}))),eventOrder:d(d({},t.eventOrder),(o={},o[Zn()]=["disabling","toggling","alloy.base.behaviour"],o)),apis:a,domModification:{attributes:d(d({"aria-haspopup":"true"},t.role.fold((function(){return{}}),(function(t){return{role:t}}))),"button"===t.dom.tag?{type:lt(t.dom,"attributes").bind((function(t){return lt(t,"type")})).getOr("button")}:{})}}},apis:{open:function(t,e){return t.open(e)},expand:function(t,e){return t.expand(e)},close:function(t,e){return t.close(e)},isOpen:function(t,e){return t.isOpen(e)},repositionMenus:function(t,e){return t.repositionMenus(e)}}}),bb=sa({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:function(){return Sr([kr(Wn(),r(!0))])},exhibit:function(){return Li({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}})}),yb=_i("color-input-change"),_b=_i("color-swatch-change"),wb=_i("color-picker-cancel"),xb=function(t,e,n){return{hue:r(t),saturation:r(e),value:r(n)}},Cb=r(_i("rgb-hex-update")),Sb=r(_i("slider-update")),kb=r(_i("palette-update")),Eb=uc({schema:[ve("dom")],name:"label"}),Ob=function(t){return uc({name:t+"-edge",overrides:function(e){return e.model.manager.edgeActions[t].fold((function(){return{}}),(function(t){return{events:Sr([Tr(Tn(),(function(e,n,r){return t(e,r)}),[e]),Tr(Rn(),(function(e,n,r){return t(e,r)}),[e]),Tr(In(),(function(e,n,r){r.mouseIsDown.get()&&t(e,r)}),[e])])}}))}})},Tb=Ob("top-left"),Ab=Ob("top"),Db=Ob("top-right"),Mb=Ob("right"),Rb=Ob("bottom-right"),Ib=Ob("bottom"),Nb=Ob("bottom-left"),zb=[Eb,Ob("left"),Mb,Ab,Ib,Tb,Db,Nb,Rb,sc({name:"thumb",defaults:r({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:Sr([Dr(Tn(),t,"spectrum"),Dr(An(),t,"spectrum"),Dr(Dn(),t,"spectrum"),Dr(Rn(),t,"spectrum"),Dr(In(),t,"spectrum"),Dr(zn(),t,"spectrum")])}}}),sc({schema:[He("mouseIsDown",(function(){return Ve(!1)}))],name:"spectrum",overrides:function(t){var e=t.model.manager,n=function(n,r){return e.getValueFromEvent(r).map((function(r){return e.setValueFrom(n,t,r)}))};return{behaviours:ia([Bf.config({mode:"special",onLeft:function(n){return e.onLeft(n,t)},onRight:function(n){return e.onRight(n,t)},onUp:function(n){return e.onUp(n,t)},onDown:function(n){return e.onDown(n,t)}}),Kf.config({})]),events:Sr([Or(Tn(),n),Or(An(),n),Or(Rn(),n),Or(In(),(function(e,r){t.mouseIsDown.get()&&n(e,r)}))])}}})],Pb=r("slider.change.value"),Fb=function(t){var e=t.event().raw();return function(t){return-1!==t.type.indexOf("touch")}(e)?void 0!==e.touches&&1===e.touches.length?b.some(e.touches[0]).map((function(t){return Oo(t.clientX,t.clientY)})):b.none():void 0!==e.clientX?b.some(e).map((function(t){return Oo(t.clientX,t.clientY)})):b.none()},Bb=function(t){return t.model.minX},Lb=function(t){return t.model.minY},Hb=function(t){return t.model.minX-1},Vb=function(t){return t.model.minY-1},jb=function(t){return t.model.maxX},Ub=function(t){return t.model.maxY},$b=function(t){return t.model.maxX+1},Wb=function(t){return t.model.maxY+1},qb=function(t,e,n){return e(t)-n(t)},Gb=function(t){return qb(t,jb,Bb)},Yb=function(t){return qb(t,Ub,Lb)},Kb=function(t){return Gb(t)/2},Xb=function(t){return Yb(t)/2},Zb=function(t){return t.stepSize},Qb=function(t){return t.snapToGrid},Jb=function(t){return t.snapStart},ty=function(t){return t.rounded},ey=function(t,e){return void 0!==t[e+"-edge"]},ny=function(t){return ey(t,"left")},ry=function(t){return ey(t,"right")},iy=function(t){return ey(t,"top")},oy=function(t){return ey(t,"bottom")},sy=function(t){return t.model.value.get()},ay=function(t){return{x:r(t)}},uy=function(t){return{y:r(t)}},ly=function(t,e){return{x:r(t),y:r(e)}},cy=function(t,e){yr(t,Pb(),{value:e})},dy=function(t,e,n,r){return t<e?t:t>n?n:t===e?e-1:Math.max(e,t-r)},fy=function(t,e,n,r){return t>n?t:t<e?e:t===n?n+1:Math.min(n,t+r)},hy=function(t,e,n){return Math.max(e,Math.min(n,t))},my=function(t){var e=t.min,n=t.max,r=t.range,i=t.value,o=t.step,s=t.snap,a=t.snapStart,u=t.rounded,l=t.minBound,c=t.maxBound,d=t.screenRange,f=t.hasMinEdge?e-1:e,h=t.hasMaxEdge?n+1:n;if(i<l)return f;if(i>c)return h;var m=function(t,e,n){return Math.min(n,Math.max(t,e))-e}(i,l,c),p=hy(m/d*r+e,f,h);return s&&p>=e&&p<=n?function(t,e,n,r,i){return i.fold((function(){var i=Math.round((t-e)/r)*r;return hy(e+i,e-1,n+1)}),(function(e){var i=Math.round((t-e)%r/r),o=Math.floor((t-e)/r),s=Math.floor((n-e)/r),a=Math.min(s,o+i);return Math.max(e,e+a*r)}))}(p,e,n,o,a):u?Math.round(p):p},py=function(t){var e=t.min,n=t.value;return n<e?t.hasMinEdge?0:t.centerMinEdge:n>t.max?t.hasMaxEdge?t.maxBound:t.centerMaxEdge:(n-e)/t.range*t.maxOffset},gy=function(t){return t.element().dom().getBoundingClientRect()},vy=function(t,e){return t[e]},by=function(t){var e=gy(t);return vy(e,"left")},yy=function(t){var e=gy(t);return vy(e,"right")},_y=function(t){var e=gy(t);return vy(e,"top")},wy=function(t){var e=gy(t);return vy(e,"bottom")},xy=function(t){var e=gy(t);return vy(e,"width")},Cy=function(t){var e=gy(t);return vy(e,"height")},Sy=function(t,e,n){return(t+e)/2-n},ky=function(t,e){var n=gy(t),r=gy(e),i=vy(n,"left"),o=vy(n,"right"),s=vy(r,"left");return Sy(i,o,s)},Ey=function(t,e){var n=gy(t),r=gy(e),i=vy(n,"top"),o=vy(n,"bottom"),s=vy(r,"top");return Sy(i,o,s)},Oy=function(t,e){yr(t,Pb(),{value:e})},Ty=function(t){return{x:r(t)}},Ay=function(t,e,n){var r={min:Bb(e),max:jb(e),range:Gb(e),value:n,step:Zb(e),snap:Qb(e),snapStart:Jb(e),rounded:ty(e),hasMinEdge:ny(e),hasMaxEdge:ry(e),minBound:by(t),maxBound:yy(t),screenRange:xy(t)};return my(r)},Dy=function(t){return function(e,n){return function(t,e,n){var r=(t>0?fy:dy)(sy(n).x(),Bb(n),jb(n),Zb(n));return Oy(e,Ty(r)),b.some(r)}(t,e,n).map((function(){return!0}))}},My=function(t,e,n,r,i,o){var s=function(t,e,n,r,i){var o=xy(t),s=r.bind((function(e){return b.some(ky(e,t))})).getOr(0),a=i.bind((function(e){return b.some(ky(e,t))})).getOr(o),u={min:Bb(e),max:jb(e),range:Gb(e),value:n,hasMinEdge:ny(e),hasMaxEdge:ry(e),minBound:by(t),minOffset:0,maxBound:yy(t),maxOffset:o,centerMinEdge:s,centerMaxEdge:a};return py(u)}(e,o,n,r,i);return by(e)-by(t)+s},Ry=Dy(-1),Iy=Dy(1),Ny=b.none,zy=b.none,Py={"top-left":b.none(),top:b.none(),"top-right":b.none(),right:b.some((function(t,e){cy(t,ay($b(e)))})),"bottom-right":b.none(),bottom:b.none(),"bottom-left":b.none(),left:b.some((function(t,e){cy(t,ay(Hb(e)))}))},Fy=Object.freeze({__proto__:null,setValueFrom:function(t,e,n){var r=Ay(t,e,n),i=Ty(r);return Oy(t,i),r},setToMin:function(t,e){var n=Bb(e);Oy(t,Ty(n))},setToMax:function(t,e){var n=jb(e);Oy(t,Ty(n))},findValueOfOffset:Ay,getValueFromEvent:function(t){return Fb(t).map((function(t){return t.left()}))},findPositionOfValue:My,setPositionFromValue:function(t,e,n,r){var i=sy(n),o=My(t,r.getSpectrum(t),i.x(),r.getLeftEdge(t),r.getRightEdge(t),n),s=Ro(e.element())/2;ro(e.element(),"left",o-s+"px")},onLeft:Ry,onRight:Iy,onUp:Ny,onDown:zy,edgeActions:Py}),By=function(t,e){yr(t,Pb(),{value:e})},Ly=function(t){return{y:r(t)}},Hy=function(t,e,n){var r={min:Lb(e),max:Ub(e),range:Yb(e),value:n,step:Zb(e),snap:Qb(e),snapStart:Jb(e),rounded:ty(e),hasMinEdge:iy(e),hasMaxEdge:oy(e),minBound:_y(t),maxBound:wy(t),screenRange:Cy(t)};return my(r)},Vy=function(t){return function(e,n){return function(t,e,n){var r=(t>0?fy:dy)(sy(n).y(),Lb(n),Ub(n),Zb(n));return By(e,Ly(r)),b.some(r)}(t,e,n).map((function(){return!0}))}},jy=function(t,e,n,r,i,o){var s=function(t,e,n,r,i){var o=Cy(t),s=r.bind((function(e){return b.some(Ey(e,t))})).getOr(0),a=i.bind((function(e){return b.some(Ey(e,t))})).getOr(o),u={min:Lb(e),max:Ub(e),range:Yb(e),value:n,hasMinEdge:iy(e),hasMaxEdge:oy(e),minBound:_y(t),minOffset:0,maxBound:wy(t),maxOffset:o,centerMinEdge:s,centerMaxEdge:a};return py(u)}(e,o,n,r,i);return _y(e)-_y(t)+s},Uy=b.none,$y=b.none,Wy=Vy(-1),qy=Vy(1),Gy={"top-left":b.none(),top:b.some((function(t,e){cy(t,uy(Vb(e)))})),"top-right":b.none(),right:b.none(),"bottom-right":b.none(),bottom:b.some((function(t,e){cy(t,uy(Wb(e)))})),"bottom-left":b.none(),left:b.none()},Yy=Object.freeze({__proto__:null,setValueFrom:function(t,e,n){var r=Hy(t,e,n),i=Ly(r);return By(t,i),r},setToMin:function(t,e){var n=Lb(e);By(t,Ly(n))},setToMax:function(t,e){var n=Ub(e);By(t,Ly(n))},findValueOfOffset:Hy,getValueFromEvent:function(t){return Fb(t).map((function(t){return t.top()}))},findPositionOfValue:jy,setPositionFromValue:function(t,e,n,r){var i=sy(n),o=jy(t,r.getSpectrum(t),i.y(),r.getTopEdge(t),r.getBottomEdge(t),n),s=So(e.element())/2;ro(e.element(),"top",o-s+"px")},onLeft:Uy,onRight:$y,onUp:Wy,onDown:qy,edgeActions:Gy}),Ky=function(t,e){yr(t,Pb(),{value:e})},Xy=function(t,e){return{x:r(t),y:r(e)}},Zy=function(t,e){return function(n,r){return function(t,e,n,r){var i=t>0?fy:dy,o=e?sy(r).x():i(sy(r).x(),Bb(r),jb(r),Zb(r)),s=e?i(sy(r).y(),Lb(r),Ub(r),Zb(r)):sy(r).y();return Ky(n,Xy(o,s)),b.some(o)}(t,e,n,r).map((function(){return!0}))}},Qy=Zy(-1,!1),Jy=Zy(1,!1),t_=Zy(-1,!0),e_=Zy(1,!0),n_={"top-left":b.some((function(t,e){cy(t,ly(Hb(e),Vb(e)))})),top:b.some((function(t,e){cy(t,ly(Kb(e),Vb(e)))})),"top-right":b.some((function(t,e){cy(t,ly($b(e),Vb(e)))})),right:b.some((function(t,e){cy(t,ly($b(e),Xb(e)))})),"bottom-right":b.some((function(t,e){cy(t,ly($b(e),Wb(e)))})),bottom:b.some((function(t,e){cy(t,ly(Kb(e),Wb(e)))})),"bottom-left":b.some((function(t,e){cy(t,ly(Hb(e),Wb(e)))})),left:b.some((function(t,e){cy(t,ly(Hb(e),Xb(e)))}))},r_=Object.freeze({__proto__:null,setValueFrom:function(t,e,n){var r=Ay(t,e,n.left()),i=Hy(t,e,n.top()),o=Xy(r,i);return Ky(t,o),o},setToMin:function(t,e){var n=Bb(e),r=Lb(e);Ky(t,Xy(n,r))},setToMax:function(t,e){var n=jb(e),r=Ub(e);Ky(t,Xy(n,r))},getValueFromEvent:function(t){return Fb(t)},setPositionFromValue:function(t,e,n,r){var i=sy(n),o=My(t,r.getSpectrum(t),i.x(),r.getLeftEdge(t),r.getRightEdge(t),n),s=jy(t,r.getSpectrum(t),i.y(),r.getTopEdge(t),r.getBottomEdge(t),n),a=Ro(e.element())/2,u=So(e.element())/2;ro(e.element(),"left",o-a+"px"),ro(e.element(),"top",s-u+"px")},onLeft:Qy,onRight:Jy,onUp:t_,onDown:e_,edgeActions:n_}),i_=zc({name:"Slider",configFields:[Re("stepSize",1),Re("onChange",e),Re("onChoose",e),Re("onInit",e),Re("onDragStart",e),Re("onDragEnd",e),Re("snapToGrid",!1),Re("rounded",!0),Ee("snapStart"),be("model",ae("mode",{x:[Re("minX",0),Re("maxX",100),He("value",(function(t){return Ve(t.mode.minX)})),ve("getInitialValue"),xs("manager",Fy)],y:[Re("minY",0),Re("maxY",100),He("value",(function(t){return Ve(t.mode.minY)})),ve("getInitialValue"),xs("manager",Yy)],xy:[Re("minX",0),Re("maxX",100),Re("minY",0),Re("maxY",100),He("value",(function(t){return Ve({x:r(t.mode.minX),y:r(t.mode.minY)})})),ve("getInitialValue"),xs("manager",r_)]})),Nl("sliderBehaviours",[Bf,Il]),He("mouseIsDown",(function(){return Ve(!1)}))],partFields:zb,factory:function(t,e,n,i){var o,s=function(e){return wc(e,t,"thumb")},a=function(e){return wc(e,t,"spectrum")},u=function(e){return _c(e,t,"left-edge")},l=function(e){return _c(e,t,"right-edge")},c=function(e){return _c(e,t,"top-edge")},d=function(e){return _c(e,t,"bottom-edge")},f=t.model,h=f.manager,m=function(e,n){h.setPositionFromValue(e,n,t,{getLeftEdge:u,getRightEdge:l,getTopEdge:c,getBottomEdge:d,getSpectrum:a})},p=function(e,n){f.value.set(n);var r=s(e);return m(e,r),t.onChange(e,r,n),b.some(!0)},g=function(e){var n=t.mouseIsDown.get();t.mouseIsDown.set(!1),n&&_c(e,t,"thumb").each((function(n){var r=f.value.get();t.onChoose(e,n,r)}))},v=function(e,n){n.stop(),t.mouseIsDown.set(!0),t.onDragStart(e,s(e))},y=function(e,n){n.stop(),t.onDragEnd(e,s(e)),g(e)};return{uid:t.uid,dom:t.dom,components:e,behaviours:Pl(t.sliderBehaviours,[Bf.config({mode:"special",focusIn:function(e){return _c(e,t,"spectrum").map(Bf.focusIn).map(r(!0))}}),Il.config({store:{mode:"manual",getValue:function(t){return f.value.get()}}}),fa.config({channels:(o={},o[gl()]={onReceive:g},o)})]),events:Sr([Or(Pb(),(function(t,e){p(t,e.event().value())})),zr((function(e,n){var r=f.getInitialValue();f.value.set(r);var i=s(e);m(e,i);var o=a(e);t.onInit(e,i,o,f.value.get())})),Or(Tn(),v),Or(Dn(),y),Or(Rn(),v),Or(zn(),y)]),apis:{resetToMin:function(e){h.setToMin(e,t)},resetToMax:function(e){h.setToMax(e,t)},changeValue:p,refresh:m},domModification:{styles:{position:"relative"}}}},apis:{resetToMin:function(t,e){t.resetToMin(e)},resetToMax:function(t,e){t.resetToMax(e)},refresh:function(t,e){t.refresh(e)}}}),o_=function(t,e){var n=i_.parts().spectrum({dom:{tag:"div",classes:[e("hue-slider-spectrum")],attributes:{role:"presentation"}}}),i=i_.parts().thumb({dom:{tag:"div",classes:[e("hue-slider-thumb")],attributes:{role:"presentation"}}});return i_.sketch({dom:{tag:"div",classes:[e("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:r({y:r(0)})},components:[n,i],sliderBehaviours:ia([Kf.config({})]),onChange:function(t,e,n){yr(t,Sb(),{value:n})}})},s_=[Nl("formBehaviours",[Il])],a_=function(t){return"<alloy.field."+t+">"},u_=function(t,e){return{uid:t.uid,dom:t.dom,components:e,behaviours:Pl(t.formBehaviours,[Il.config({store:{mode:"manual",getValue:function(e){var n=Cc(e,t);return it(n,(function(t,e){return t().bind((function(t){var n,r;return n=Hc.getCurrent(t),r=new Error("Cannot find a current component to extract the value from for form part '"+e+"': "+gi(t.element())),n.fold((function(){return w.error(r)}),w.value)})).map(Il.getValue)}))},setValue:function(e,n){rt(n,(function(n,r){_c(e,t,r).each((function(t){Hc.getCurrent(t).each((function(t){Il.setValue(t,n)}))}))}))}}})]),apis:{getField:function(e,n){return _c(e,t,n).bind(Hc.getCurrent)}}}},l_={getField:zi((function(t,e,n){return t.getField(e,n)})),sketch:function(t){var e=function(){var t=[];return{field:function(e,n){return t.push(e),pc("form",a_(e),n)},record:function(){return t}}}(),n=t(e),r=e.record(),i=F(r,(function(t){return sc({name:t,pname:a_(t)})}));return Dc("form",s_,i,u_,n)}},c_=_i("valid-input"),d_=_i("invalid-input"),f_=_i("validating-input"),h_=function(t,n){return Nc({name:"ColourPicker",configFields:[ve("dom"),Re("onValidHex",e),Re("onInvalidHex",e)],factory:function(i){var o,s=function(t,n,i,o){var s=function(e,r){return Gv.config({invalidClass:n("invalid"),notify:{onValidate:function(t){yr(t,f_,{type:e})},onValid:function(t){yr(t,c_,{type:e,value:Il.getValue(t)})},onInvalid:function(t){yr(t,d_,{type:e,value:Il.getValue(t)})}},validator:{validate:function(e){var n=Il.getValue(e),i=r(n)?w.value(!0):w.error(t("aria.input.invalid"));return Fv(i)},validateOnLoad:!1}})},a=function(r,i,o,a,u){var l=t("colorcustom.rgb.range"),c=[xv.parts().label({dom:{tag:"label",innerHtml:o,attributes:{"aria-label":a}}}),xv.parts().field({data:u,factory:Ov,inputAttributes:d({type:"text"},"hex"===i?{"aria-live":"polite"}:{}),inputClasses:[n("textfield")],inputBehaviours:ia([s(i,r),Xv.config({})]),onSetValue:function(t){Gv.isInvalid(t)&&Gv.run(t).get(e)}})],f="hex"!==i?[xv.parts()["aria-descriptor"]({text:l})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:c.concat(f)}},u=function(t,e){var n=e.red(),r=e.green(),i=e.blue();Il.setValue(t,{red:n,green:r,blue:i})},l=um({dom:{tag:"div",classes:[n("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),c=function(t,e){l.getOpt(t).each((function(t){ro(t.element(),"background-color","#"+e.value())}))};return Nc({factory:function(){var e={red:r(Ve(b.some(255))),green:r(Ve(b.some(255))),blue:r(Ve(b.some(255))),hex:r(Ve(b.some("ffffff")))},s=function(t){return e[t]().get()},d=function(t,n){e[t]().set(n)},f=function(t){var e=t.red(),n=t.green(),r=t.blue();d("red",b.some(e)),d("green",b.some(n)),d("blue",b.some(r))},h=function(t,e){var n=e.event();"hex"!==n.type()?d(n.type(),b.none()):o(t)},m=function(t,e){var n=e.event();!function(t){return"hex"===t.type()}(n)?function(t,e,n){var r=parseInt(n,10);d(e,b.some(r)),s("red").bind((function(t){return s("green").bind((function(e){return s("blue").map((function(n){return Qp(t,e,n,1)}))}))})).each((function(e){var n=function(t,e){var n=qp(e);return l_.getField(t,"hex").each((function(e){Kf.isFocused(e)||Il.setValue(t,{hex:n.value()})})),n}(t,e);c(t,n)}))}(t,n.type(),n.value()):function(t,e){i(t);var n=Vp(e);d("hex",b.some(e));var r=eg(n);u(t,r),f(r),yr(t,Cb(),{hex:n}),c(t,n)}(t,n.value())},p=function(e){return{label:t("colorcustom.rgb."+e+".label"),description:t("colorcustom.rgb."+e+".description")}},g=p("red"),v=p("green"),y=p("blue"),_=p("hex");return pt(l_.sketch((function(e){return{dom:{tag:"form",classes:[n("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[e.field("red",xv.sketch(a(Jp,"red",g.label,g.description,255))),e.field("green",xv.sketch(a(Jp,"green",v.label,v.description,255))),e.field("blue",xv.sketch(a(Jp,"blue",y.label,y.description,255))),e.field("hex",xv.sketch(a($p,"hex",_.label,_.description,"ffffff"))),l.asSpec()],formBehaviours:ia([Gv.config({invalidClass:n("form-invalid")}),$f("rgb-form-events",[Or(c_,m),Or(d_,h),Or(f_,h)])])}})),{apis:{updateHex:function(t,e){Il.setValue(t,{hex:e.value()}),function(t,e){var n=eg(e);u(t,n),f(n)}(t,e),c(t,e)}}})},name:"RgbForm",configFields:[],apis:{updateHex:function(t,e,n){t.updateHex(e,n)}},extraApis:{}})}(t,n,i.onValidHex,i.onInvalidHex),a=function(t,e){var n=i_.parts().spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[e("sv-palette-spectrum")]}}),i=i_.parts().thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette-thumb")],innerHtml:"<div class="+e("sv-palette-inner-thumb")+' role="presentation"></div>'}}),o=function(t,e){var n=t.width,r=t.height,i=t.getContext("2d");if(null!==i){i.fillStyle=e,i.fillRect(0,0,n,r);var o=i.createLinearGradient(0,0,n,0);o.addColorStop(0,"rgba(255,255,255,1)"),o.addColorStop(1,"rgba(255,255,255,0)"),i.fillStyle=o,i.fillRect(0,0,n,r);var s=i.createLinearGradient(0,0,0,r);s.addColorStop(0,"rgba(0,0,0,0)"),s.addColorStop(1,"rgba(0,0,0,1)"),i.fillStyle=s,i.fillRect(0,0,n,r)}};return Nc({factory:function(t){var s=r({x:r(0),y:r(0)}),a=ia([Hc.config({find:b.some}),Kf.config({})]);return i_.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette")]},model:{mode:"xy",getInitialValue:s},rounded:!1,components:[n,i],onChange:function(t,e,n){yr(t,kb(),{value:n})},onInit:function(t,e,n,r){o(n.element().dom(),rg(ig()))},sliderBehaviours:a})},name:"SaturationBrightnessPalette",configFields:[],apis:{setRgba:function(t,e,n){!function(t,e){var n=t.components()[0].element().dom();o(n,rg(e))}(e,n)}},extraApis:{}})}(0,n),u={paletteRgba:r(Ve(ig()))},l=um(a.sketch({})),c=um(s.sketch({})),f=function(t,e){l.getOpt(t).each((function(t){var n=eg(e);u.paletteRgba().set(n),a.setRgba(t,n)}))},h=function(t,e){c.getOpt(t).each((function(t){s.updateHex(t,e)}))},m=function(t,e,n){B(n,(function(n){n(t,e)}))};return{uid:i.uid,dom:i.dom,components:[l.asSpec(),o_(0,n),c.asSpec()],behaviours:ia([$f("colour-picker-events",[Or(kb(),(o=[h],function(t,e){var n=e.event().value(),r=function(t){var e,n=0,r=0,i=t.red()/255,o=t.green()/255,s=t.blue()/255,a=Math.min(i,Math.min(o,s)),u=Math.max(i,Math.max(o,s));return a===u?xb(0,0,100*(r=a)):(n=60*((n=i===a?3:s===a?1:5)-(i===a?o-s:s===a?i-o:s-i)/(u-a)),e=(u-a)/u,r=u,xb(Math.round(n),Math.round(100*e),Math.round(100*r)))}(u.paletteRgba().get()),i=xb(r.hue(),n.x(),100-n.y()),s=tg(i),a=qp(s);m(t,a,o)})),Or(Sb(),function(){var t=[f,h];return function(e,n){var r=function(t){var e=xb((100-t)/100*360,100,100),n=tg(e);return qp(n)}(n.event().value().y());m(e,r,t)}}())]),Hc.config({find:function(t){return c.getOpt(t)}}),Bf.config({mode:"acyclic"})])}}})},m_=function(){return Hc.config({find:b.some})},p_=function(t){return Hc.config({find:function(e){return Kr(e.element(),t).bind((function(t){return e.getSystem().getByDom(t).toOption()}))}})},g_={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},v_=function(t){return function(t){return g_[t]}(t)},b_=tinymce.util.Tools.resolve("tinymce.Resource"),y_=Wt([Re("preprocess",i),Re("postprocess",i)]),__=function(t,e,n){return Il.config(pt({store:{mode:"manual",getValue:e,setValue:n}},t.map((function(t){return{store:{initialValue:t}}})).getOr({})))},w_=function(t,e){var n=ie("RepresentingConfigs.memento processors",y_,e);return Il.config({store:{mode:"manual",getValue:function(e){var r=t.get(e),i=Il.getValue(r);return n.postprocess(i)},setValue:function(e,r){var i=n.preprocess(r),o=t.get(e);Il.setValue(o,i)}}})},x_=__,C_=function(t){return Il.config({store:{mode:"memory",initialValue:t}})},S_=_i("alloy-fake-before-tabstop"),k_=_i("alloy-fake-after-tabstop"),E_=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:ia([Kf.config({ignore:!0}),Xv.config({})])}},O_=function(t,e){yr(t,Ln(),{raw:{which:9,shiftKey:e}})},T_=function(t){return Zg(t,["."+S_,"."+k_].join(","),r(!1))},A_=function(t,e){var n=e.element();Yi(n,S_)?O_(t,!0):Yi(n,k_)&&O_(t,!1)},D_=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[E_([S_]),t,E_([k_])],behaviours:ia([p_(1)])}},M_=!(mn().browser.isIE()||mn().browser.isEdge());function R_(e,n){return z_(t.document.createElement("canvas"),e,n)}function I_(t){var e=R_(t.width,t.height);return N_(e).drawImage(t,0,0),e}function N_(t){return t.getContext("2d")}function z_(t,e,n){return t.width=e,t.height=n,t}function P_(t){return t.naturalWidth||t.width}function F_(t){return t.naturalHeight||t.height}var B_=window.Promise?window.Promise:function(){var e=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(t,r(s,this),r(a,this))},n=e.immediateFn||"function"==typeof window.setImmediate&&window.setImmediate||function(e){t.setTimeout(e,1)};function r(t,e){return function(){return t.apply(e,arguments)}}var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t){var e=this;null!==this._state?n((function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(i){return void t.reject(i)}t.resolve(r)}else(e._state?t.resolve:t.reject)(e._value)})):this._deferreds.push(t)}function s(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void c(r(e,t),r(s,this),r(a,this))}this._state=!0,this._value=t,u.call(this)}catch(n){a.call(this,n)}}function a(t){this._state=!1,this._value=t,u.call(this)}function u(){for(var t=0,e=this._deferreds;t<e.length;t++)o.call(this,e[t]);this._deferreds=[]}function l(t,e,n,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r}function c(t,e,n){var r=!1;try{t((function(t){r||(r=!0,e(t))}),(function(t){r||(r=!0,n(t))}))}catch(i){if(r)return;r=!0,n(i)}}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.then=function(t,n){var r=this;return new e((function(e,i){o.call(r,new l(t,n,e,i))}))},e.all=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Array.prototype.slice.call(1===t.length&&i(t[0])?t[0]:t);return new e((function(t,e){if(0===r.length)return t([]);var n=r.length;function i(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){i(o,t)}),e)}r[o]=s,0==--n&&t(r)}catch(u){e(u)}}for(var o=0;o<r.length;o++)i(o,r[o])}))},e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===e?t:new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].then(e,n)}))},e}();function L_(e,n,r){return n=n||"image/png",t.HTMLCanvasElement.prototype.toBlob?new B_((function(t,i){e.toBlob((function(e){e?t(e):i()}),n,r)})):(i=e.toDataURL(n,r),new B_((function(e,n){(function(e){var n=e.split(","),r=/data:([^;]+)/.exec(n[0]);if(!r)return b.none();for(var i=r[1],o=t.atob(n[1]),s=o.length,a=Math.ceil(s/1024),u=new Array(a),l=0;l<a;++l){for(var c=1024*l,d=Math.min(c+1024,s),f=new Array(d-c),h=c,m=0;h<d;++m,++h)f[m]=o[h].charCodeAt(0);u[l]=new Uint8Array(f)}return b.some(new t.Blob(u,{type:i}))})(i).fold((function(){n("uri is not base64: "+i)}),e)})));var i}function H_(t,e,n){function i(e,n){return t.then((function(t){return function(t,e,n){return t.toDataURL(e=e||"image/png",n)}(t,e,n)}))}return{getType:r(e.type),toBlob:function(){return B_.resolve(e)},toDataURL:function(){return n},toBase64:function(){return n.split(",")[1]},toAdjustedBlob:function(e,n){return t.then((function(t){return L_(t,e,n)}))},toAdjustedDataURL:i,toAdjustedBase64:function(t,e){return i(t,e).then((function(t){return t.split(",")[1]}))},toCanvas:function(){return t.then(I_)}}}function V_(t,e){return L_(t,e).then((function(e){return H_(B_.resolve(t),e,t.toDataURL())}))}function j_(t,e,n){var r="string"==typeof t?parseFloat(t):t;return r>n?r=n:r<e&&(r=e),r}var U_=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];function $_(t,e){for(var n,r=[],i=new Array(25),o=0;o<5;o++){for(var s=0;s<5;s++)r[s]=e[s+5*o];for(s=0;s<5;s++){n=0;for(var a=0;a<5;a++)n+=t[s+5*a]*r[a];i[s+5*o]=n}}return i}function W_(t,e){return t.toCanvas().then((function(n){return function(t,e,n){var r=N_(t),i=function(t,e){for(var n,r,i,o,s=t.data,a=e[0],u=e[1],l=e[2],c=e[3],d=e[4],f=e[5],h=e[6],m=e[7],p=e[8],g=e[9],v=e[10],b=e[11],y=e[12],_=e[13],w=e[14],x=e[15],C=e[16],S=e[17],k=e[18],E=e[19],O=0;O<s.length;O+=4)s[O]=(n=s[O])*a+(r=s[O+1])*u+(i=s[O+2])*l+(o=s[O+3])*c+d,s[O+1]=n*f+r*h+i*m+o*p+g,s[O+2]=n*v+r*b+i*y+o*_+w,s[O+3]=n*x+r*C+i*S+o*k+E;return t}(r.getImageData(0,0,t.width,t.height),n);return r.putImageData(i,0,0),V_(t,e)}(n,t.getType(),e)}))}function q_(t){return function(e,n){return W_(e,t([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],n))}}var G_,Y_,K_=function(t){return function(e){return W_(e,t)}}([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),X_=q_((function(t,e){return $_(t,[1,0,0,0,e=j_(255*e,-255,255),0,1,0,0,e,0,0,1,0,e,0,0,0,1,0,0,0,0,0,1])})),Z_=q_((function(t,e){var n;return e=j_(e,-1,1),$_(t,[(n=(e*=100)<0?127+e/100*127:127*(n=0==(n=e%1)?U_[e]:U_[Math.floor(e)]*(1-n)+U_[Math.floor(e)+1]*n)+127)/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])})),Q_=(G_=[0,-1,0,-1,5,-1,0,-1,0],function(t){return function(t,e){return t.toCanvas().then((function(n){return function(t,e,n){var r=N_(t),i=r.getImageData(0,0,t.width,t.height),o=r.getImageData(0,0,t.width,t.height);return o=function(t,e,n){function r(t,e,n){return t>n?t=n:t<e&&(t=e),t}for(var i=Math.round(Math.sqrt(n.length)),o=Math.floor(i/2),s=t.data,a=e.data,u=t.width,l=t.height,c=0;c<l;c++)for(var d=0;d<u;d++){for(var f=0,h=0,m=0,p=0;p<i;p++)for(var g=0;g<i;g++){var v=r(d+g-o,0,u-1),b=4*(r(c+p-o,0,l-1)*u+v),y=n[p*i+g];f+=s[b]*y,h+=s[b+1]*y,m+=s[b+2]*y}var _=4*(c*u+d);a[_]=r(f,0,255),a[_+1]=r(h,0,255),a[_+2]=r(m,0,255)}return e}(i,o,n),r.putImageData(o,0,0),V_(t,e)}(n,t.getType(),e)}))}(t,G_)}),J_=(Y_=function(t,e){return 255*Math.pow(t/255,1-e)},function(t,e){return t.toCanvas().then((function(n){return function(t,e,n){for(var r=N_(t),i=new Array(256),o=0;o<i.length;o++)i[o]=Y_(o,n);var s=function(t,e){for(var n=t.data,r=0;r<n.length;r+=4)n[r]=e[n[r]],n[r+1]=e[n[r+1]],n[r+2]=e[n[r+2]];return t}(r.getImageData(0,0,t.width,t.height),i);return r.putImageData(s,0,0),V_(t,e)}(n,t.getType(),e)}))}),tw=function(t){return K_(t)},ew=function(t){return Q_(t)},nw=function(t,e){return J_(t,e)},rw=function(t,e){return X_(t,e)},iw=function(t,e){return Z_(t,e)},ow=function(t,e){return function(t,e){return t.toCanvas().then((function(n){return function(t,e,n){var r=R_(t.width,t.height),i=N_(r);return"v"===n?(i.scale(1,-1),i.drawImage(t,0,-r.height)):(i.scale(-1,1),i.drawImage(t,-r.width,0)),V_(r,e)}(n,t.getType(),e)}))}(t,e)},sw=function(t,e){return function(t,e){return t.toCanvas().then((function(n){return function(t,e,n){var r=R_(t.width,t.height),i=N_(r),o=0,s=0;return 90!==(n=n<0?360+n:n)&&270!==n||z_(r,r.height,r.width),90!==n&&180!==n||(o=r.width),270!==n&&180!==n||(s=r.height),i.translate(o,s),i.rotate(n*Math.PI/180),i.drawImage(t,0,0),V_(r,e)}(n,t.getType(),e)}))}(t,e)},aw=function(t,e){return d({dom:{tag:"span",innerHtml:t,classes:["tox-icon","tox-tbtn__icon-wrap"]}},e)},uw=function(t,e){return aw(cm(t,e),{})},lw=function(t,e){return aw(cm(t,e),{behaviours:ia([Uf.config({})])})},cw=function(t,e,n){return{dom:{tag:"span",innerHtml:n.translate(t),classes:[e+"__select-label"]},behaviours:ia([Uf.config({})])}},dw=_i("toolbar.button.execute"),fw={"alloy.execute":["disabling","alloy.base.behaviour","toggling","toolbar-button-events"]},hw=_i("update-menu-text"),mw=_i("update-menu-icon"),pw=function(t,n,r){var i=Ve(e),o=t.text.map((function(t){return um(cw(t,n,r.providers))})),s=t.icon.map((function(t){return um(lw(t,r.providers.icons))})),a=function(t,e){var n=Il.getValue(t);return Kf.focus(n),yr(n,"keydown",{raw:e.event().raw()}),vb.close(n),b.some(!0)},u=t.role.fold((function(){return{}}),(function(t){return{role:t}})),l=t.tooltip.fold((function(){return{}}),(function(t){var e=r.providers.translate(t);return{title:e,"aria-label":e}}));return um(vb.sketch(d(d({},u),{dom:{tag:"button",classes:[n,n+"--select"].concat(F(t.classes,(function(t){return n+"--"+t}))),attributes:d({},l)},components:Mp([s.map((function(t){return t.asSpec()})),o.map((function(t){return t.asSpec()})),b.some({dom:{tag:"div",classes:[n+"__select-chevron"],innerHtml:cm("chevron-down",r.providers.icons)}})]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:ia(h(t.dropdownBehaviours,[Cp(t.disabled),bb.config({}),Uf.config({}),$f("dropdown-events",[kp(t,i),Ep(t,i)]),$f("menubutton-update-display-text",[Or(hw,(function(t,e){o.bind((function(e){return e.getOpt(t)})).each((function(t){Uf.set(t,[vo(r.providers.translate(e.event().text()))])}))})),Or(mw,(function(t,e){s.bind((function(e){return e.getOpt(t)})).each((function(t){Uf.set(t,[lw(e.event().icon(),r.providers.icons)])}))}))])])),eventOrder:pt(fw,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:ia([Bf.config({mode:"special",onLeft:a,onRight:a})]),lazySink:r.getSink,toggleClass:n+"--active",parts:{menu:Ag(0,0,t.presets)},fetch:function(){return Pv(t.fetch)}}))).asSpec()},gw=function(t){return"separator"===t.type},vw={type:"separator"},bw=function(t,e){var n=function(t,e){var n=V(t,(function(t,n){return function(t){return C(t)}(n)?""===n?t:"|"===n?t.length>0&&!gw(t[t.length-1])?t.concat([vw]):t:ct(e,n.toLowerCase())?t.concat([e[n.toLowerCase()]]):t:t.concat([n])}),[]);return n.length>0&&gw(n[n.length-1])&&n.pop(),n}(C(t)?t.split(" "):t,e);return H(n,(function(t,n){var r=function(t,e){return function(t){return ct(t,"getSubmenuItems")}(t)?function(t,e){var n=t.getSubmenuItems(),r=bw(n,e);return{item:t,menus:pt(r.menus,Nt(t.value,r.items)),expansions:pt(r.expansions,Nt(t.value,t.value))}}(t,e):{item:t,menus:{},expansions:{}}}(function(t){if(gw(t))return t;var e=lt(t,"value").getOrThunk((function(){return _i("generated-menu-item")}));return pt({value:e},t)}(n),e);return{menus:pt(t.menus,r.menus),items:[r.item].concat(t.items),expansions:pt(t.expansions,r.expansions)}}),{menus:{},expansions:{},items:[]})},yw=function(t,e,n,r){var i=_i("primary-menu"),o=bw(t,n.shared.providers.menuItems());if(0===o.items.length)return b.none();var s=$g(i,o.items,e,n,r),a=it(o.menus,(function(t,r){return $g(r,t,e,n,!1)})),u=pt(a,Nt(i,s));return b.from(Oh.tieredData(i,u,o.expansions))},_w=function(t){return{isDisabled:function(){return xp.isDisabled(t)},setDisabled:function(e){return xp.set(t,e)},setActive:function(e){var n=t.element();e?(qi(n,"tox-tbtn--enabled"),di(n,"aria-pressed",!0)):(Gi(n,"tox-tbtn--enabled"),pi(n,"aria-pressed"))},isActive:function(){return Yi(t.element(),"tox-tbtn--enabled")}}},ww=function(t,e,n,r){return pw({text:t.text,icon:t.icon,tooltip:t.tooltip,role:r,fetch:function(e){t.fetch((function(t){e(yw(t,Tp.CLOSE_ON_EXECUTE,n,!1))}))},onSetup:t.onSetup,getApi:_w,columns:1,presets:"normal",classes:[],dropdownBehaviours:[Xv.config({})]},e,n.shared)},xw=function(t,e,n){var r=function(t){return function(r){var i=!r.isActive();r.setActive(i),t.storage.set(i),n.shared.getSink().each((function(n){e().getOpt(n).each((function(e){ma(e.element()),yr(e,mv,{name:t.name,value:t.storage.get()})}))}))}},i=function(t){return function(e){e.setActive(t.storage.get())}};return function(e){e(F(t,(function(t){var e=t.text.fold((function(){return{}}),(function(t){return{text:t}}));return d(d({type:t.type,active:!1},e),{onAction:r(t),onSetup:i(t)})})))}},Cw=function(t,e,n,r,i){void 0===n&&(n=[]);var o=e.fold((function(){return{}}),(function(t){return{action:t}})),s=d({buttonBehaviours:ia([Cp(t.disabled),Xv.config({}),$f("button press",[Er("click"),Er("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},o),a=pt(s,{dom:r});return pt(a,{components:i})},Sw=function(t,e,n,r){void 0===r&&(r=[]);var i={tag:"button",classes:["tox-tbtn"],attributes:t.tooltip.map((function(t){return{"aria-label":n.translate(t),title:n.translate(t)}})).getOr({})},o=t.icon.map((function(t){return uw(t,n.icons)})),s=Mp([o]);return Cw(t,e,r,i,s)},kw=function(t,e,n,r){void 0===r&&(r=[]);var i=Sw(t,b.some(e),n,r);return am.sketch(i)},Ew=function(t,e,n,r,i){void 0===r&&(r=[]),void 0===i&&(i=[]);var o=n.translate(t.text),s=t.icon?t.icon.map((function(t){return uw(t,n.icons)})):b.none(),a=s.isSome()?Mp([s]):[],u=s.isSome()?{}:{innerHtml:o},l=h(t.primary||t.borderless?["tox-button"]:["tox-button","tox-button--secondary"],s.isSome()?["tox-button--icon"]:[],t.borderless?["tox-button--naked"]:[],i),c=d(d({tag:"button",classes:l},u),{attributes:{title:o}});return Cw(t,e,r,c,a)},Ow=function(t,e,n,r,i){void 0===r&&(r=[]),void 0===i&&(i=[]);var o=Ew(t,b.some(e),n,r,i);return am.sketch(o)},Tw=function(e,n){return function(r){"custom"===n?yr(r,mv,{name:e,value:{}}):"submit"===n?br(r,pv):"cancel"===n?br(r,hv):t.console.error("Unknown button type: ",n)}},Aw=function(n,r,i){if(function(t,e){return"menu"===e}(0,r)){var o=n,s=d(d({},n),{onSetup:function(t){return t.setDisabled(n.disabled),e},fetch:xw(o.items,(function(){return a}),i)}),a=um(ww(s,"tox-tbtn",i,b.none()));return a.asSpec()}if(function(t,e){return"custom"===e||"cancel"===e||"submit"===e}(0,r)){var u=Tw(n.name,r),l=d(d({},n),{borderless:!1});return Ow(l,u,i.shared.providers,[])}t.console.error("Unknown footer button type: ",r)},Dw=r([Re("field1Name","field1"),Re("field2Name","field2"),_s("onLockedChange"),gs(["lockClass"]),Re("locked",!1),Fl("coupledFieldBehaviours",[Hc,Il])]),Mw=function(t,e){return sc({factory:xv,name:t,overrides:function(t){return{fieldBehaviours:ia([$f("coupled-input-behaviour",[Or(Vn(),(function(n){(function(t,e,n){return _c(t,e,n).bind(Hc.getCurrent)})(n,t,e).each((function(e){_c(n,t,"lock").each((function(r){ah.isOn(r)&&t.onLockedChange(n,e,r)}))}))}))])])}}})},Rw=r([Mw("field1","field2"),Mw("field2","field1"),sc({factory:am,schema:[ve("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:ia([ah.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),Iw=zc({name:"FormCoupledInputs",configFields:Dw(),partFields:Rw(),factory:function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:Bl(t.coupledFieldBehaviours,[Hc.config({find:b.some}),Il.config({store:{mode:"manual",getValue:function(e){var n,r=kc(e,t,["field1","field2"]);return(n={})[t.field1Name]=Il.getValue(r.field1()),n[t.field2Name]=Il.getValue(r.field2()),n},setValue:function(e,n){var r=kc(e,t,["field1","field2"]);dt(n,t.field1Name)&&Il.setValue(r.field1(),n[t.field1Name]),dt(n,t.field2Name)&&Il.setValue(r.field2(),n[t.field2Name])}}})]),apis:{getField1:function(e){return _c(e,t,"field1")},getField2:function(e){return _c(e,t,"field2")},getLock:function(e){return _c(e,t,"lock")}}}},apis:{getField1:function(t,e){return t.getField1(e)},getField2:function(t,e){return t.getField2(e)},getLock:function(t,e){return t.getLock(e)}}}),Nw=function(t){var e=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(null!==e){var n=parseFloat(e[1]);return w.value({value:n,unit:e[2]})}return w.error(t)},zw=function(t,e){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=function(t){return Object.prototype.hasOwnProperty.call(n,t)};return t.unit===e?b.some(t.value):r(t.unit)&&r(e)?b.some(n[t.unit]===n[e]?t.value:t.value/n[t.unit]*n[e]):b.none()},Pw=function(t){return b.none()},Fw=function(t,e){var n=Pw,r=_i("ratio-event"),i=Iw.parts().lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:e.translate(t.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:cm("lock",e.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:cm("unlock",e.icons)}}],buttonBehaviours:ia([Cp(t.disabled),Xv.config({})])}),o=function(t){return{dom:{tag:"div",classes:["tox-form__group"]},components:t}},s=function(e){return xv.parts().field({factory:Ov,inputClasses:["tox-textfield"],inputBehaviours:ia([xp.config({disabled:t.disabled}),Xv.config({}),$f("size-input-events",[Or(Fn(),(function(t,n){yr(t,r,{isField1:e})})),Or(jn(),(function(e,n){yr(e,dv,{name:t.name})}))])]),selectOnFocus:!1})},a=function(t){return{dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}}},u=Iw.parts().field1(o([xv.parts().label(a("Width")),s(!0)])),l=Iw.parts().field2(o([xv.parts().label(a("Height")),s(!1)]));return Iw.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[u,l,o([a("&nbsp;"),i])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(t,e,r){Nw(Il.getValue(t)).each((function(t){n(t).each((function(t){Il.setValue(e,function(t){var e,n={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},r=t.value.toFixed((e=t.unit)in n?n[e]:1);return-1!==r.indexOf(".")&&(r=r.replace(/\.?0*$/,"")),r+t.unit}(t))}))}))},coupledFieldBehaviours:ia([xp.config({disabled:t.disabled,onDisabled:function(t){Iw.getField1(t).bind(xv.getField).each(xp.disable),Iw.getField2(t).bind(xv.getField).each(xp.disable),Iw.getLock(t).each(xp.disable)},onEnabled:function(t){Iw.getField1(t).bind(xv.getField).each(xp.enable),Iw.getField2(t).bind(xv.getField).each(xp.enable),Iw.getLock(t).each(xp.enable)}}),$f("size-input-events2",[Or(r,(function(t,e){var r,i,o,s,a=e.event().isField1(),u=a?Iw.getField1(t):Iw.getField2(t),l=a?Iw.getField2(t):Iw.getField1(t),c=u.map(Il.getValue).getOr("");r=l.map(Il.getValue).getOr(""),n=(i=Nw(c).toOption(),o=Nw(r).toOption(),s=function(t,e){return zw(t,e.unit).map((function(t){return e.value/t})).map((function(t){return n=t,r=e.unit,function(t){return zw(t,r).map((function(t){return{value:t*n,unit:r}}))};var n,r})).getOr(Pw)},i.isSome()&&o.isSome()?b.some(s(i.getOrDie(),o.getOrDie())):b.none()).getOr(Pw)}))])])})},Bw={undo:r(_i("undo")),redo:r(_i("redo")),zoom:r(_i("zoom")),back:r(_i("back")),apply:r(_i("apply")),swap:r(_i("swap")),transform:r(_i("transform")),tempTransform:r(_i("temp-transform")),transformApply:r(_i("transform-apply"))},Lw=r("save-state"),Hw=r("disable"),Vw=r("enable"),jw={formActionEvent:mv,saveState:Lw,disable:Hw,enable:Vw},Uw=function(t,n){var i=function(t,e,r,i){return um(Ow({name:t,text:t,disabled:r,primary:i,icon:b.none(),borderless:!1},e,n))},o=function(t,e,r,i){return um(kw({name:t,icon:b.some(t),tooltip:b.some(e),disabled:i,primary:!1,borderless:!1},r,n))},s=function(t,e){t.map((function(t){var n=t.get(e);n.hasConfigured(xp)&&xp.disable(n)}))},a=function(t,e){t.map((function(t){var n=t.get(e);n.hasConfigured(xp)&&xp.enable(n)}))},u={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},l=e,c=function(t,e,n){yr(t,e,n)},d=function(t){return br(t,jw.disable())},f=function(t){return br(t,jw.enable())},h=function(t,e){d(t),c(t,Bw.transform(),{transform:e}),f(t)},m=function(t){return function(){J.getOpt(t).each((function(t){Uf.set(t,[Z])}))}},p=function(t,e){d(t),c(t,Bw.transformApply(),{transform:e,swap:m(t)}),f(t)},g=function(){return i("Back",(function(t){return c(t,Bw.back(),{swap:m(t)})}),!1,!1)},v=function(){return um({dom:{tag:"div",classes:["tox-spacer"]},behaviours:ia([xp.config({})])})},y=function(){return i("Apply",(function(t){return c(t,Bw.apply(),{swap:m(t)})}),!0,!0)},_=[g(),v(),i("Apply",(function(e){p(e,(function(e){var n=t.getRect();return function(t,e,n,r,i){return function(t,e,n,r,i){return t.toCanvas().then((function(o){return function(t,e,n,r,i,o){var s=R_(i,o);return N_(s).drawImage(t,-n,-r),V_(s,e)}(o,t.getType(),e,n,r,i)}))}(t,e,n,r,i)}(e,n.x,n.y,n.w,n.h)})),t.hideCrop()}),!1,!0)],w=lv.sketch({dom:u,components:_.map((function(t){return t.asSpec()})),containerBehaviours:ia([$f("image-tools-crop-buttons-events",[Or(jw.disable(),(function(t,e){s(_,t)})),Or(jw.enable(),(function(t,e){a(_,t)}))])])}),x=um(Fw({name:"size",label:b.none(),constrain:!0,disabled:!1},n)),C=[g(),v(),x,v(),i("Apply",(function(t){x.getOpt(t).each((function(e){var n,r,i=Il.getValue(e),o=(n=parseInt(i.width,10),r=parseInt(i.height,10),function(t){return function(t,e,n){return function(t,e,n){return t.toCanvas().then((function(r){return function t(e,n,r){var i=P_(e),o=F_(e),s=n/i,a=r/o,u=!1;(s<.5||s>2)&&(s=s<.5?.5:2,u=!0),(a<.5||a>2)&&(a=a<.5?.5:2,u=!0);var l=function(t,e,n){return new B_((function(r){var i=P_(t),o=F_(t),s=Math.floor(i*e),a=Math.floor(o*n),u=R_(s,a);N_(u).drawImage(t,0,0,i,o,0,0,s,a),r(u)}))}(e,s,a);return u?l.then((function(e){return t(e,n,r)})):l}(r,e,n).then((function(e){return V_(e,t.getType())}))}))}(t,e,n)}(t,n,r)});p(t,o)}))}),!1,!0)],S=lv.sketch({dom:u,components:C.map((function(t){return t.asSpec()})),containerBehaviours:ia([$f("image-tools-resize-buttons-events",[Or(jw.disable(),(function(t,e){s(C,t)})),Or(jw.enable(),(function(t,e){a(C,t)}))])])}),k=function(t,e){return function(n){return t(n,e)}},E=k(ow,"h"),O=k(ow,"v"),T=k(sw,-90),A=k(sw,90),D=function(t,e){!function(t,e){d(t),c(t,Bw.tempTransform(),{transform:e}),f(t)}(t,e)},M=[g(),v(),o("flip-horizontally","Flip horizontally",(function(t){D(t,E)}),!1),o("flip-vertically","Flip vertically",(function(t){D(t,O)}),!1),o("rotate-left","Rotate counterclockwise",(function(t){D(t,T)}),!1),o("rotate-right","Rotate clockwise",(function(t){D(t,A)}),!1),v(),y()],R=lv.sketch({dom:u,components:M.map((function(t){return t.asSpec()})),containerBehaviours:ia([$f("image-tools-fliprotate-buttons-events",[Or(jw.disable(),(function(t,e){s(M,t)})),Or(jw.enable(),(function(t,e){a(M,t)}))])])}),I=function(t,e,i,o,s){var a=i_.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:n.translate(t)}}),u=i_.parts().spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),l=i_.parts().thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return um(i_.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:i,maxX:s,getInitialValue:r({x:r(o)})},components:[a,u,l],sliderBehaviours:ia([Kf.config({})]),onChoose:e}))},N=function(t,e,n,r,i){return I(t,(function(t,n,r){var i=k(e,r.x()/100);h(t,i)}),n,r,i)},z=function(t,e,n,r,i){var o=function(t,e,n,r,i){return[g(),N(t,e,n,r,i),y()]}(t,e,n,r,i);return lv.sketch({dom:u,components:o.map((function(t){return t.asSpec()})),containerBehaviours:ia([$f("image-tools-filter-panel-buttons-events",[Or(jw.disable(),(function(t,e){s(o,t)})),Or(jw.enable(),(function(t,e){a(o,t)}))])])})},P=[g(),v(),y()],F=lv.sketch({dom:u,components:P.map((function(t){return t.asSpec()}))}),B=z("Brightness",rw,-100,0,100),L=z("Contrast",iw,-100,0,100),H=z("Gamma",nw,-100,0,100),V=function(t){return I(t,(function(t,e,n){var r=j.getOpt(t),i=$.getOpt(t),o=U.getOpt(t);r.each((function(e){i.each((function(n){o.each((function(r){var i=function(t,e,n){return function(r){return function(t,e,n,r){return function(t,e,n,r){return W_(t,function(t,e,n,r){return $_([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],[e=j_(e,0,2),0,0,0,0,0,n=j_(n,0,2),0,0,0,0,0,r=j_(r,0,2),0,0,0,0,0,1,0,0,0,0,0,1])}(0,e,n,r))}(t,e,n,r)}(r,t,e,n)}}(Il.getValue(e).x()/100,Il.getValue(r).x()/100,Il.getValue(n).x()/100);h(t,i)}))}))}))}),0,100,200)},j=V("R"),U=V("G"),$=V("B"),W=[g(),j,U,$,y()],q=lv.sketch({dom:u,components:W.map((function(t){return t.asSpec()}))}),G=function(t,e,n){return function(r){c(r,Bw.swap(),{transform:e,swap:function(){J.getOpt(r).each((function(e){Uf.set(e,[t]),n(e)}))}})}},Y=b.some(ew),K=b.some(tw),X=[o("crop","Crop",G(w,b.none(),(function(e){t.showCrop()})),!1),o("resize","Resize",G(S,b.none(),(function(e){x.getOpt(e).each((function(e){var n=t.getMeasurements();Il.setValue(e,{width:n.width,height:n.height})}))})),!1),o("orientation","Orientation",G(R,b.none(),l),!1),o("brightness","Brightness",G(B,b.none(),l),!1),o("sharpen","Sharpen",G(F,Y,l),!1),o("contrast","Contrast",G(L,b.none(),l),!1),o("color-levels","Color levels",G(q,b.none(),l),!1),o("gamma","Gamma",G(H,b.none(),l),!1),o("invert","Invert",G(F,K,l),!1)],Z=lv.sketch({dom:u,components:X.map((function(t){return t.asSpec()}))}),Q=lv.sketch({dom:{tag:"div"},components:[Z],containerBehaviours:ia([Uf.config({})])}),J=um(Q);return{memContainer:J,getApplyButton:function(t){return J.getOpt(t).map((function(t){var e=t.components()[0];return e.components()[e.components().length-1]}))}}},$w=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Ww=tinymce.util.Tools.resolve("tinymce.geom.Rect"),qw=tinymce.util.Tools.resolve("tinymce.util.Observable"),Gw=tinymce.util.Tools.resolve("tinymce.util.Tools"),Yw=tinymce.util.Tools.resolve("tinymce.util.VK");function Kw(t){var e,n;if(t.changedTouches)for(e="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<e.length;n++)t[e[n]]=t.changedTouches[0][e[n]]}function Xw(e,n){var r,i,o,s,a,u,l,c=n.document||t.document,d=c.getElementById((n=n||{}).handle||e);o=function(e){var o,f,h=function(t){var e,n,r,i,o,s,a,u=Math.max;return r=u((e=t.documentElement).scrollWidth,(n=t.body).scrollWidth),i=u(e.clientWidth,n.clientWidth),o=u(e.offsetWidth,n.offsetWidth),s=u(e.scrollHeight,n.scrollHeight),a=u(e.clientHeight,n.clientHeight),{width:r<o?i:r,height:s<u(e.offsetHeight,n.offsetHeight)?a:s}}(c);Kw(e),e.preventDefault(),i=e.button,o=d,u=e.screenX,l=e.screenY,f=t.window.getComputedStyle?t.window.getComputedStyle(o,null).getPropertyValue("cursor"):o.runtimeStyle.cursor,r=$w("<div></div>").css({position:"absolute",top:0,left:0,width:h.width,height:h.height,zIndex:2147483647,opacity:1e-4,cursor:f}).appendTo(c.body),$w(c).on("mousemove touchmove",a).on("mouseup touchend",s),n.start(e)},a=function(t){if(Kw(t),t.button!==i)return s(t);t.deltaX=t.screenX-u,t.deltaY=t.screenY-l,t.preventDefault(),n.drag(t)},s=function(t){Kw(t),$w(c).off("mousemove touchmove",a).off("mouseup touchend",s),r.remove(),n.stop&&n.stop(t)},this.destroy=function(){$w(d).off()},$w(d).on("mousedown touchstart",o)}var Zw,Qw,Jw,tx=0,ex=function(t,e,n,r,i){return kw({name:t,icon:b.some(e),disabled:n,tooltip:b.some(t),primary:!1,borderless:!1},r,i)},nx=function(t,e){e?xp.enable(t):xp.disable(t)},rx=function(n,r){var i=function(e){var n=Ve(e),r=Ve(b.none()),i=function(){var t=[],e=-1;function n(){return e>0}function r(){return-1!==e&&e<t.length-1}return{data:t,add:function(n){var r;return r=t.splice(++e),t.push(n),{state:n,removed:r}},undo:function(){if(n())return t[--e]},redo:function(){if(r())return t[++e]},canUndo:n,canRedo:r}}();i.add(e);var o=function(t){n.set(t)},s=function(e){return{blob:e,url:t.URL.createObjectURL(e)}},a=function(e){t.URL.revokeObjectURL(e.url)},u=function(){r.get().each(a),r.set(b.none())},l=function(t){var e=s(t);o(e);var n=i.add(e).removed;return Gw.each(n,a),e.url};return{getBlobState:function(){return n.get()},setBlobState:o,addBlobState:l,getTempState:function(){return r.get().fold((function(){return n.get()}),(function(t){return t}))},updateTempState:function(t){var e=s(t);return u(),r.set(b.some(e)),e.url},addTempState:function(t){var e=s(t);return r.set(b.some(e)),e.url},applyTempState:function(t){return r.get().fold((function(){}),(function(e){l(e.blob),t()}))},destroyTempState:u,undo:function(){var t=i.undo();return o(t),t.url},redo:function(){var t=i.redo();return o(t),t.url},getHistoryStates:function(){return{undoEnabled:i.canUndo(),redoEnabled:i.canRedo()}}}}(n.currentState),o=function(t){var e=i.getHistoryStates();m.updateButtonUndoStates(t,e.undoEnabled,e.redoEnabled),yr(t,jw.formActionEvent,{name:jw.saveState(),value:e.undoEnabled})},s=function(t){return t.toBlob()},a=function(t){yr(t,jw.formActionEvent,{name:jw.disable(),value:{}})},u=function(t){p.getApplyButton(t).each((function(t){xp.enable(t)})),yr(t,jw.formActionEvent,{name:jw.enable(),value:{}})},l=function(t,e){return a(t),h.updateSrc(t,e)},c=function(e,n,r,i,c){return a(e),function(e){return function(e){return function(e){return new B_((function(n){var r=new t.FileReader;r.onloadend=function(){n(r.result)},r.readAsDataURL(e)}))}(e).then((function(n){return H_(function(e){return function(e){return new B_((function(n,r){var i=t.URL.createObjectURL(e),o=new t.Image,s=function(){o.removeEventListener("load",a),o.removeEventListener("error",u)};function a(){s(),n(o)}function u(){s(),r("Unable to load data of type "+e.type+": "+i)}o.addEventListener("load",a),o.addEventListener("error",u),o.src=i,o.complete&&a()}))}(e).then((function(e){!function(e){t.URL.revokeObjectURL(e.src)}(e);var n=R_(P_(e),F_(e));return N_(n).drawImage(e,0,0),n}))}(e),e,n)}))}(e)}(n).then(r).then(s).then(i).then((function(t){return l(e,t).then((function(t){return o(e),c(),u(e),t}))})).catch((function(n){return t.console.log(n),u(e),n}))},d=function(t,e,n){var r=i.getBlobState().blob;c(t,r,e,(function(t){return i.updateTempState(t)}),n)},f=function(t){var e=i.getBlobState().url;return i.destroyTempState(),o(t),e},h=function(t){var e=um({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),n=Ve(1),r=Ve(b.none()),i=Ve({x:0,y:0,w:1,h:1}),o=Ve({x:0,y:0,w:1,h:1}),s=function(t,o){l.getOpt(t).each((function(t){var s=n.get(),a=Ro(t.element()),u=So(t.element()),l=o.dom().naturalWidth*s,c=o.dom().naturalHeight*s,d=Math.max(0,a/2-l/2),f=Math.max(0,u/2-c/2),h={left:d.toString()+"px",top:f.toString()+"px",width:l.toString()+"px",height:c.toString()+"px",position:"absolute"};io(o,h),e.getOpt(t).each((function(t){io(t.element(),h)})),r.get().each((function(t){var e=i.get();t.setRect({x:e.x*s+d,y:e.y*s+f,w:e.w*s,h:e.h*s}),t.setClampRect({x:d,y:f,w:l,h:c}),t.setViewPortRect({x:0,y:0,w:a,h:u})}))}))},a=function(t,e){var r,a=$e("img");return di(a,"src",e),(r=a.dom(),new xm((function(t){var e=function(){r.removeEventListener("load",e),t(r)};r.complete?t(r):r.addEventListener("load",e)}))).then((function(){return l.getOpt(t).map((function(t){var e=bo({element:a});Uf.replaceAt(t,1,b.some(e));var r=o.get(),u={x:0,y:0,w:a.dom().naturalWidth,h:a.dom().naturalHeight};o.set(u);var c=Ww.inflate(u,-20,-20);return i.set(c),r.w===u.w&&r.h===u.h||function(t,e){l.getOpt(t).each((function(t){var r=Ro(t.element()),i=So(t.element()),o=e.dom().naturalWidth,s=e.dom().naturalHeight,a=Math.min(r/o,i/s);n.set(a>=1?1:a)}))}(t,a),s(t,a),a}))}))},u=lv.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[e.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:ia([$f("image-panel-crop-events",[zr((function(t){l.getOpt(t).each((function(t){var e=function(t,e,n,r,i){var o,s,a,u="tox-crid-"+tx++,l=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}];a=["top","right","bottom","left"];var c=function(t,e){return{x:e.x-t.x,y:e.y-t.y,w:e.w,h:e.h}};function d(e,r,i,s){var a,u,l,d,f;a=r.x,u=r.y,l=r.w,d=r.h,(l+=i*e.deltaW)<20&&(l=20),(d+=s*e.deltaH)<20&&(d=20),f=t=Ww.clamp({x:a+=i*e.deltaX,y:u+=s*e.deltaY,w:l,h:d},n,"move"===e.name),f=c(n,f),o.fire("updateRect",{rect:f}),m(f)}function f(t){function n(t,e){e.h<0&&(e.h=0),e.w<0&&(e.w=0),$w("#"+u+"-"+t,r).css({left:e.x,top:e.y,width:e.w,height:e.h})}Gw.each(l,(function(e){$w("#"+u+"-"+e.name,r).css({left:t.w*e.xMul+t.x,top:t.h*e.yMul+t.y})})),n("top",{x:e.x,y:e.y,w:e.w,h:t.y-e.y}),n("right",{x:t.x+t.w,y:t.y,w:e.w-t.x-t.w+e.x,h:t.h}),n("bottom",{x:e.x,y:t.y+t.h,w:e.w,h:e.h-t.y-t.h+e.y}),n("left",{x:e.x,y:t.y,w:t.x-e.x,h:t.h}),n("move",t)}function h(e){f(t=e)}function m(t){var e,r;h({x:(r=t).x+(e=n).x,y:r.y+e.y,w:r.w,h:r.h})}return $w('<div id="'+u+'" class="tox-croprect-container" role="grid" aria-dropeffect="execute">').appendTo(r),Gw.each(a,(function(t){$w("#"+u,r).append('<div id="'+u+"-"+t+'"class="tox-croprect-block" style="display: none" data-mce-bogus="all">')})),Gw.each(l,(function(t){$w("#"+u,r).append('<div id="'+u+"-"+t.name+'" class="tox-croprect-handle tox-croprect-handle-'+t.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+t.label+'" aria-grabbed="false" title="'+t.label+'">')})),s=Gw.map(l,(function(e){var n;return new Xw(u,{document:r.ownerDocument,handle:u+"-"+e.name,start:function(){n=t},drag:function(t){d(e,n,t.deltaX,t.deltaY)}})})),f(t),$w(r).on("focusin focusout",(function(t){$w(t.target).attr("aria-grabbed","focus"===t.type?"true":"false")})),$w(r).on("keydown",(function(e){var n;function r(t,e,r,i,o){t.stopPropagation(),t.preventDefault(),d(n,r,i,o)}switch(Gw.each(l,(function(t){if(e.target.id===u+"-"+t.name)return n=t,!1})),e.keyCode){case Yw.LEFT:r(e,0,t,-10,0);break;case Yw.RIGHT:r(e,0,t,10,0);break;case Yw.UP:r(e,0,t,0,-10);break;case Yw.DOWN:r(e,0,t,0,10);break;case Yw.ENTER:case Yw.SPACEBAR:e.preventDefault()}})),o=Gw.extend({toggleVisibility:function(t){var e;e=Gw.map(l,(function(t){return"#"+u+"-"+t.name})).concat(Gw.map(a,(function(t){return"#"+u+"-"+t}))).join(","),t?$w(e,r).show():$w(e,r).hide()},setClampRect:function(e){n=e,f(t)},setRect:h,getInnerRect:function(){return c(n,t)},setInnerRect:m,setViewPortRect:function(n){e=n,f(t)},destroy:function(){Gw.each(s,(function(t){t.destroy()})),s=[]}},qw)}({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},t.element().dom());e.toggleVisibility(!1),e.on("updateRect",(function(t){var e=t.rect,r=n.get(),o={x:Math.round(e.x/r),y:Math.round(e.y/r),w:Math.round(e.w/r),h:Math.round(e.h/r)};i.set(o)})),r.set(b.some(e))}))}))])])}],containerBehaviours:ia([Uf.config({}),$f("image-panel-events",[zr((function(e){a(e,t)}))])])}),l=um(u);return{memContainer:l,updateSrc:a,zoom:function(t,e){var r=n.get(),i=e>0?Math.min(2,r+.1):Math.max(.1,r-.1);n.set(i),l.getOpt(t).each((function(t){var e=t.components()[1].element();s(t,e)}))},showCrop:function(){r.get().each((function(t){t.toggleVisibility(!0)}))},hideCrop:function(){r.get().each((function(t){t.toggleVisibility(!1)}))},getRect:function(){return i.get()},getMeasurements:function(){var t=o.get();return{width:t.w,height:t.h}}}}(n.currentState.url),m=function(t){var e=um(ex("Undo","undo",!0,(function(t){yr(t,Bw.undo(),{direction:1})}),t)),n=um(ex("Redo","redo",!0,(function(t){yr(t,Bw.redo(),{direction:1})}),t));return{container:lv.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[e.asSpec(),n.asSpec(),ex("Zoom in","zoom-in",!1,(function(t){yr(t,Bw.zoom(),{direction:1})}),t),ex("Zoom out","zoom-out",!1,(function(t){yr(t,Bw.zoom(),{direction:-1})}),t)]}),updateButtonUndoStates:function(t,r,i){e.getOpt(t).each((function(t){nx(t,r)})),n.getOpt(t).each((function(t){nx(t,i)}))}}}(r),p=Uw(h,r);return{dom:{tag:"div",attributes:{role:"presentation"}},components:[p.memContainer.asSpec(),h.memContainer.asSpec(),m.container],behaviours:ia([Il.config({store:{mode:"manual",getValue:function(){return i.getBlobState()}}}),$f("image-tools-events",[Or(Bw.undo(),(function(t,e){var n=i.undo();l(t,n).then((function(e){u(t),o(t)}))})),Or(Bw.redo(),(function(t,e){var n=i.redo();l(t,n).then((function(e){u(t),o(t)}))})),Or(Bw.zoom(),(function(t,e){var n=e.event().direction();h.zoom(t,n)})),Or(Bw.back(),(function(t,e){!function(t){var e=f(t);l(t,e).then((function(e){u(t)}))}(t),e.event().swap()(),h.hideCrop()})),Or(Bw.apply(),(function(t,e){i.applyTempState((function(){f(t),e.event().swap()()}))})),Or(Bw.transform(),(function(t,n){return d(t,n.event().transform(),e)})),Or(Bw.tempTransform(),(function(t,n){return function(t,n){var r=i.getTempState().blob;c(t,r,n,(function(t){return i.addTempState(t)}),e)}(t,n.event().transform())})),Or(Bw.transformApply(),(function(t,e){return function(t,e,n){var r=i.getBlobState().blob;c(t,r,e,(function(e){var n=i.addBlobState(e);return f(t),n}),n)}(t,e.event().transform(),e.event().swap())})),Or(Bw.swap(),(function(t,e){!function(t){m.updateButtonUndoStates(t,!1,!1)}(t);var n=e.event().transform(),r=e.event().swap();n.fold((function(){r()}),(function(e){d(t,e,r)}))}))]),m_()])}},ix=Nc({name:"HtmlSelect",configFields:[ve("options"),Nl("selectBehaviours",[Kf,Il]),Re("selectClasses",[]),Re("selectAttributes",{}),Ee("data")],factory:function(t,e){var n=F(t.options,(function(t){return{dom:{tag:"option",value:t.value,innerHtml:t.text}}})),r=t.data.map((function(t){return Nt("initialValue",t)})).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:n,behaviours:Pl(t.selectBehaviours,[Kf.config({}),Il.config({store:d({mode:"manual",getValue:function(t){return mo(t.element())},setValue:function(e,n){j(t.options,(function(t){return t.value===n})).isSome()&&po(e.element(),n)}},r)})])}}}),ox=function(t,e){var n=t.label.map((function(t){return tb(t,e)})),i=[xp.config({disabled:t.disabled}),Bf.config({mode:"execution",useEnter:!0!==t.multiline,useControlEnter:!0===t.multiline,execute:function(t){return br(t,pv),b.some(!0)}}),$f("textfield-change",[Or(Vn(),(function(e,n){yr(e,dv,{name:t.name})})),Or(Kn(),(function(e,n){yr(e,dv,{name:t.name})}))]),Xv.config({})],o=t.validation.map((function(t){return Gv.config({getRoot:function(t){return qr(t.element())},invalidClass:"tox-invalid",validator:{validate:function(e){var n=Il.getValue(e),r=t.validator(n);return Fv(!0===r?w.value(n):w.error(r))},validateOnLoad:t.validateOnLoad}})})).toArray(),s=t.placeholder.fold(r({}),(function(t){return{placeholder:e.translate(t)}})),a=t.inputMode.fold(r({}),(function(t){return{inputmode:t}})),u=d(d({},s),a),l=xv.parts().field({tag:!0===t.multiline?"textarea":"input",inputAttributes:u,inputClasses:[t.classname],inputBehaviours:ia($([i,o])),selectOnFocus:!1,factory:Ov}),c=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),f=[xp.config({disabled:t.disabled,onDisabled:function(t){xv.getField(t).each(xp.disable)},onEnabled:function(t){xv.getField(t).each(xp.enable)}})];return Zv(n,l,c,f)},sx=Object.freeze({__proto__:null,events:function(t,e){var n=t.stream.streams.setup(t,e);return Sr([Or(t.event,n),Pr((function(){return e.cancel()}))].concat(t.cancelEvent.map((function(t){return[Or(t,(function(){return e.cancel()}))]})).getOr([])))}}),ax=function(t){var e=Ve(null);return Fi({readState:function(){return{timer:null!==e.get()?"set":"unset"}},setTimer:function(t){e.set(t)},cancel:function(){var t=e.get();null!==t&&t.cancel()}})},ux=Object.freeze({__proto__:null,throttle:ax,init:function(t){return t.stream.streams.state(t)}}),lx=[be("stream",ae("mode",{throttle:[ve("delay"),Re("stopEvent",!0),xs("streams",{setup:function(t,e){var n=t.stream,r=mm(t.onStream,n.delay);return e.setTimer(r),function(t,e){r.throttle(t,e),n.stopEvent&&e.stop()}},state:ax})]})),Re("event","input"),Ee("cancelEvent"),_s("onStream")],cx=sa({fields:lx,name:"streaming",active:sx,state:ux}),dx=function(t,e,n){var r=Il.getValue(n);Il.setValue(e,r),hx(e)},fx=function(t,e){var n=t.element(),r=mo(n),i=n.dom();"number"!==fi(n,"type")&&e(i,r)},hx=function(t){fx(t,(function(t,e){return t.setSelectionRange(e.length,e.length)}))},mx=r("alloy.typeahead.itemexecute"),px=r([Ee("lazySink"),ve("fetch"),Re("minChars",5),Re("responseTime",1e3),bs("onOpen"),Re("getHotspot",b.some),Re("getAnchorOverrides",r({})),Re("layouts",b.none()),Re("eventOrder",{}),Le("model",{},[Re("getDisplayText",(function(t){return void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.value})),Re("selectsOver",!0),Re("populateFromBrowse",!0)]),bs("onSetValue"),ys("onExecute"),bs("onItemExecute"),Re("inputClasses",[]),Re("inputAttributes",{}),Re("inputStyles",{}),Re("matchWidth",!0),Re("useMinWidth",!1),Re("dismissOnBlur",!0),gs(["openClass"]),Ee("initialData"),Nl("typeaheadBehaviours",[Kf,Il,cx,Bf,ah,rb]),He("previewing",(function(){return Ve(!0)}))].concat(Cv()).concat(mb())),gx=r([ac({schema:[ps()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(e,n){t.previewing.get()?e.getSystem().getByUid(t.uid).each((function(r){(function(t,e,n){if(t.selectsOver){var r=Il.getValue(e),i=t.getDisplayText(r),o=Il.getValue(n);return 0===t.getDisplayText(o).indexOf(i)?b.some((function(){dx(0,e,n),function(t,e){fx(t,(function(t,n){return t.setSelectionRange(e,n.length)}))}(e,i.length)})):b.none()}return b.none()})(t.model,r,n).fold((function(){return Xc.dehighlight(e,n)}),(function(t){return t()}))})):e.getSystem().getByUid(t.uid).each((function(e){t.model.populateFromBrowse&&dx(0,e,n)})),t.previewing.set(!1)},onExecute:function(e,n){return e.getSystem().getByUid(t.uid).toOption().map((function(t){return yr(t,mx(),{item:n}),!0}))},onHover:function(e,n){t.previewing.set(!1),e.getSystem().getByUid(t.uid).each((function(e){t.model.populateFromBrowse&&dx(0,e,n)}))}}}})]),vx=zc({name:"Typeahead",configFields:px(),partFields:gx(),factory:function(t,n,r,i){var o=function(n,r,o){t.previewing.set(!1);var s=rb.getCoupled(n,"sandbox");hl.isOpen(s)?Hc.getCurrent(s).each((function(t){Xc.getHighlighted(t).fold((function(){o(t)}),(function(){Cr(s,t.element(),"keydown",r)}))})):ab(t,a(n),n,s,i,(function(t){Hc.getCurrent(t).each(o)}),Dv.HighlightFirst).get(e)},s=Sv(t),a=function(t){return function(e){return e.map((function(e){var n=ut(e.menus),r=W(n,(function(t){return L(t.items,(function(t){return"item"===t.type}))}));return Il.getState(t).update(F(r,(function(t){return t.data}))),e}))}},u=[Kf.config({}),Il.config({onSetValue:t.onSetValue,store:d({mode:"dataset",getDataKey:function(t){return mo(t.element())},getFallbackEntry:function(t){return{value:t,meta:{}}},setValue:function(e,n){po(e.element(),t.model.getDisplayText(n))}},t.initialData.map((function(t){return Nt("initialValue",t)})).getOr({}))}),cx.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(n,r){var o=rb.getCoupled(n,"sandbox");if(Kf.isFocused(n)&&mo(n.element()).length>=t.minChars){var s=Hc.getCurrent(o).bind((function(t){return Xc.getHighlighted(t).map(Il.getValue)}));t.previewing.set(!0),ab(t,a(n),n,o,i,(function(e){Hc.getCurrent(o).each((function(e){s.fold((function(){t.model.selectsOver&&Xc.highlightFirst(e)}),(function(t){Xc.highlightBy(e,(function(e){return Il.getValue(e).value===t.value})),Xc.getHighlighted(e).orThunk((function(){return Xc.highlightFirst(e),b.none()}))}))}))}),Dv.HighlightFirst).get(e)}},cancelEvent:nr()}),Bf.config({mode:"special",onDown:function(t,e){return o(t,e,Xc.highlightFirst),b.some(!0)},onEscape:function(t){var e=rb.getCoupled(t,"sandbox");return hl.isOpen(e)?(hl.close(e),b.some(!0)):b.none()},onUp:function(t,e){return o(t,e,Xc.highlightLast),b.some(!0)},onEnter:function(e){var n=rb.getCoupled(e,"sandbox"),r=hl.isOpen(n);if(r&&!t.previewing.get())return Hc.getCurrent(n).bind((function(t){return Xc.getHighlighted(t)})).map((function(t){return yr(e,mx(),{item:t}),!0}));var i=Il.getValue(e);return br(e,nr()),t.onExecute(n,e,i),r&&hl.close(n),b.some(!0)}}),ah.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),rb.config({others:{sandbox:function(e){return fb(t,e,{onOpen:function(){return ah.on(e)},onClose:function(){return ah.off(e)}})}}}),$f("typeaheadevents",[Br((function(n){var r=e;lb(t,a(n),n,i,r,Dv.HighlightFirst).get(e)})),Or(mx(),(function(e,n){var r=rb.getCoupled(e,"sandbox");dx(0,e,n.event().item()),br(e,nr()),t.onItemExecute(e,r,n.event().item(),Il.getValue(e)),hl.close(r),hx(e)}))].concat(t.dismissOnBlur?[Or(Yn(),(function(t){var e=rb.getCoupled(t,"sandbox");ga(e.element()).isNone()&&hl.close(e)}))]:[]))];return{uid:t.uid,dom:Ev(pt(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:d(d({},s),Pl(t.typeaheadBehaviours,u)),eventOrder:t.eventOrder}}}),bx=function(e){return d(d({},e),{toCached:function(){return bx(e.toCached())},bindFuture:function(t){return bx(e.bind((function(e){return e.fold((function(t){return Fv(w.error(t))}),(function(e){return t(e)}))})))},bindResult:function(t){return bx(e.map((function(e){return e.bind(t)})))},mapResult:function(t){return bx(e.map((function(e){return e.map(t)})))},mapError:function(t){return bx(e.map((function(e){return e.mapError(t)})))},foldResult:function(t,n){return e.map((function(e){return e.fold(t,n)}))},withTimeout:function(n,r){return bx(Pv((function(i){var o=!1,s=t.setTimeout((function(){o=!0,i(w.error(r()))}),n);e.get((function(e){o||(t.clearTimeout(s),i(e))}))})))}})},yx={type:"separator"},_x=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:function(){}}},wx=function(t,e){return{type:"menuitem",value:e,text:t,meta:{attach:void 0},onAction:function(){}}},xx=function(t,e){return function(t){return F(t,_x)}(function(t,e){return L(e,(function(e){return e.type===t}))}(t,e))},Cx=function(t){return xx("header",t.targets)},Sx=function(t){return xx("anchor",t.targets)},kx=function(t){return b.from(t.anchorTop).map((function(t){return wx("<top>",t)})).toArray()},Ex=function(t){return b.from(t.anchorBottom).map((function(t){return wx("<bottom>",t)})).toArray()},Ox=function(t,e){var n=t.toLowerCase();return L(e,(function(t){return an((void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.text).toLowerCase(),n)||an(t.value.toLowerCase(),n)}))},Tx=_i("aria-invalid"),Ax=function(t){return function(e,n,r){return lt(n,"name").fold((function(){return t(n,r)}),(function(i){return e.field(i,t(n,r))}))}},Dx={bar:Ax((function(t,e){return function(t,e){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:F(t.items,e.interpreter)}}(t,e.shared)})),collection:Ax((function(t,e){return function(t,e){var n,r=t.label.map((function(t){return tb(t,e)})),o=function(t){return function(e,n){rs(n.event().target(),"[data-collection-item-value]").each((function(r){t(e,n,r,fi(r,"data-collection-item-value"))}))}},s=o((function(e,n,r,i){n.stop(),yr(e,mv,{name:t.name,value:i})})),a=[Or(Pn(),o((function(t,e,n){ma(n)}))),Or(Un(),s),Or(Jn(),s),Or(Fn(),o((function(t,e,n){ns(t.element(),"."+Zm).each((function(t){Gi(t,Zm)})),qi(n,Zm)}))),Or(Bn(),o((function(t){ns(t.element(),"."+Zm).each((function(t){Gi(t,Zm)}))}))),Br(o((function(e,n,r,i){yr(e,mv,{name:t.name,value:i})})))],u=xv.parts().field({dom:{tag:"div",classes:["tox-collection"].concat(1!==t.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:i},behaviours:ia([Uf.config({}),Il.config({store:{mode:"memory",initialValue:[]},onSetValue:function(e,n){!function(e,n){var r=F(n,(function(e){var n,r=qm.translate(e.text),i=1===t.columns?'<div class="tox-collection__item-label">'+r+"</div>":"",o='<div class="tox-collection__item-icon">'+e.icon+"</div>",s={_:" "," - ":" ","-":" "},a=r.replace(/\_| \- |\-/g,(function(t){return s[t]}));return'<div class="tox-collection__item" tabindex="-1" data-collection-item-value="'+('"'===(n=e.value)?"&quot;":n)+'" title="'+a+'" aria-label="'+a+'">'+o+i+"</div>"})),i=t.columns>1&&"auto"!==t.columns?P(r,t.columns):[r],o=F(i,(function(t){return'<div class="tox-collection__group">'+t.join("")+"</div>"}));oi(e.element(),o.join(""))}(e,n),"auto"===t.columns&&Pm(e,5,"tox-collection__item").each((function(t){Bf.setGridSize(e,t.numRows,t.numColumns)})),br(e,yv)}}),Xv.config({}),Bf.config((n=t.columns,1===n?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===n?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:"."+Ym}})),$f("collection-events",a)])});return Zv(r,u,["tox-form__group--collection"],[])}(t,e.shared.providers)})),alertbanner:Ax((function(t,e){return function(t,e){return lv.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[am.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:cm(t.icon,e.icons),attributes:{title:e.translate(t.iconTooltip)}},action:function(e){yr(e,mv,{name:"alert-banner",value:t.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:e.translate(t.text)}}]})}(t,e.shared.providers)})),input:Ax((function(t,e){return function(t,e){return ox({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:b.none(),maximized:t.maximized},e)}(t,e.shared.providers)})),textarea:Ax((function(t,e){return function(t,e){return ox({name:t.name,multiline:!0,label:t.label,inputMode:b.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:b.none(),maximized:t.maximized},e)}(t,e.shared.providers)})),label:Ax((function(t,e){return function(t,e){var n,r,i,o={dom:{tag:"label",innerHtml:e.providers.translate(t.label),classes:["tox-label"]}},s=F(t.items,e.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[o].concat(s),behaviours:ia([m_(),Uf.config({}),(n=b.none(),r=ii,i=oi,__(n,(function(t){return r(t.element())}),(function(t,e){return i(t.element(),e)}))),Bf.config({mode:"acyclic"})])}}(t,e.shared)})),iframe:(Jw=function(t,e){return function(t,e){var n=M_&&t.sandboxed,r=d(d({},t.label.map((function(t){return{title:t}})).getOr({})),n?{sandbox:"allow-scripts allow-same-origin"}:{}),i=function(t){var e=Ve("");return{getValue:function(t){return e.get()},setValue:function(n,r){if(t)di(n.element(),"srcdoc",r);else{di(n.element(),"src","javascript:''");var i=n.element().dom().contentWindow.document;i.open(),i.write(r),i.close()}e.set(r)}}}(n),o=t.label.map((function(t){return tb(t,e)})),s=xv.parts().field({factory:{sketch:function(t){return D_({uid:t.uid,dom:{tag:"iframe",attributes:r},behaviours:ia([Xv.config({}),Kf.config({}),x_(b.none(),i.getValue,i.setValue)])})}}});return Zv(o,s,["tox-form__group--stretched"],[])}(t,e.shared.providers)},function(t,e,n){var r=pt(e,{source:"dynamic"});return Ax(Jw)(t,r,n)}),button:Ax((function(t,e){return function(t,e){var n,r,i=Tw(t.name,"custom");return n=b.none(),r=xv.parts().field(d({factory:am},Ew(t,b.some(i),e,[C_(""),m_()]))),Zv(n,r,[],[])}(t,e.shared.providers)})),checkbox:Ax((function(t,e){return function(t,e){var n=Il.config({store:{mode:"manual",getValue:function(t){return t.element().dom().checked},setValue:function(t,e){t.element().dom().checked=e}}}),r=function(t){return t.element().dom().click(),b.some(!0)},o=xv.parts().field({factory:{sketch:i},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:ia([m_(),xp.config({disabled:t.disabled}),Xv.config({}),Kf.config({}),n,Bf.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:!0}),$f("checkbox-events",[Or(jn(),(function(e,n){yr(e,dv,{name:t.name})}))])])}),s=xv.parts().label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:e.translate(t.label)},behaviours:ia([bb.config({})])}),a=function(t){return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+t],innerHtml:cm("checked"===t?"selected":"unselected",e.icons)}}},u=um({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[a("checked"),a("unchecked")]});return xv.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,u.asSpec(),s],fieldBehaviours:ia([xp.config({disabled:t.disabled,disableClass:"tox-checkbox--disabled",onDisabled:function(t){xv.getField(t).each(xp.disable)},onEnabled:function(t){xv.getField(t).each(xp.enable)}})])})}(t,e.shared.providers)})),colorinput:Ax((function(t,e){return function(t,e,n){var r=xv.parts().field({factory:Ov,inputClasses:["tox-textfield"],onSetValue:function(t){return Gv.run(t).get((function(){}))},inputBehaviours:ia([Xv.config({}),Gv.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(t){return qr(t.element())},notify:{onValid:function(t){var e=Il.getValue(t);yr(t,yb,{color:e})}},validator:{validateOnLoad:!1,validate:function(t){var e=Il.getValue(t);if(0===e.length)return Fv(w.value(!0));var n=$e("span");ro(n,"background-color",e);var r=uo(n,"background-color").fold((function(){return w.error("blah")}),(function(t){return w.value(e)}));return Fv(r)}}})]),selectOnFocus:!1}),i=t.label.map((function(t){return tb(t,e.providers)})),o=function(t,e){yr(t,_b,{value:e})},s=um(function(t,e){return vb.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:ia([bb.config({}),Xv.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:e.getSink,fetch:function(n){return Pv((function(e){return t.fetch(e)})).map((function(r){return b.from(Wg(pt(Fg(_i("menu-value"),r,(function(e){t.onItemAction(n,e)}),t.columns,t.presets,Tp.CLOSE_ON_EXECUTE,(function(){return!1}),e.providers),{movement:Lg(t.columns,t.presets)})))}))},parts:{menu:Ag(0,0,t.presets)}})}({dom:{tag:"span",attributes:{"aria-label":e.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Us,js,Gs]},onLtr:function(){return[js,Us,Gs]}},components:[],fetch:Cg.getFetch(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:function(t,e){s.getOpt(t).each((function(t){"custom"===e?n.colorPicker((function(e){e.fold((function(){return br(t,wb)}),(function(e){o(t,e),dg(e)}))}),"#ffffff"):o(t,"remove"===e?"":e)}))}},e));return xv.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:i.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,s.asSpec()]}]),fieldBehaviours:ia([$f("form-field-events",[Or(yb,(function(e,n){s.getOpt(e).each((function(t){ro(t.element(),"background-color",n.event().color())})),yr(e,dv,{name:t.name})})),Or(_b,(function(t,e){xv.getField(t).each((function(n){Il.setValue(n,e.event().value()),Hc.getCurrent(t).each(Kf.focus)}))})),Or(wb,(function(t,e){xv.getField(t).each((function(e){Hc.getCurrent(t).each(Kf.focus)}))}))])])})}(t,e.shared,e.colorinput)})),colorpicker:Ax((function(e){var n=function(t){return"tox-"+t},r=h_(v_,n),i=um(r.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:function(t){yr(t,mv,{name:"hex-valid",value:!0})},onInvalidHex:function(t){yr(t,mv,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[i.asSpec()],behaviours:ia([Il.config({store:{mode:"manual",getValue:function(t){var e=i.get(t);return Hc.getCurrent(e).bind((function(t){return Il.getValue(t).hex})).map((function(t){return"#"+t})).getOr("")},setValue:function(e,n){var r=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(n),o=i.get(e);Hc.getCurrent(o).fold((function(){t.console.log("Can not find form")}),(function(t){Il.setValue(t,{hex:b.from(r[1]).getOr("")}),l_.getField(t,"hex").each((function(t){br(t,Vn())}))}))}}}),m_()])}})),dropzone:Ax((function(t,e){return function(t,e){var n=function(t,e){e.stop()},r=function(t){return function(e,n){B(t,(function(t){t(e,n)}))}},i=function(t,e){if(!xp.isDisabled(t)){var n=e.event().raw();s(t,n.dataTransfer.files)}},o=function(t,e){var n=e.event().raw().target.files;s(t,n)},s=function(e,n){Il.setValue(e,function(t){var e=new RegExp("("+".jpg,.jpeg,.png,.gif".split(/\s*,\s*/).join("|")+")$","i");return L(J(t),(function(t){return e.test(t.name)}))}(n)),yr(e,dv,{name:t.name})},a=um({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:ia([$f("input-file-events",[Rr(Un()),Rr(Jn())])])}),u=t.label.map((function(t){return tb(t,e)})),l=xv.parts().field({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:ia([C_([]),m_(),xp.config({}),ah.config({toggleClass:"dragenter",toggleOnExecute:!1}),$f("dropzone-events",[Or("dragenter",r([n,ah.toggle])),Or("dragleave",r([n,ah.toggle])),Or("dragover",n),Or("drop",r([n,i])),Or(jn(),o)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:e.translate("Drop an image here")}},am.sketch({dom:{tag:"button",innerHtml:e.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[a.asSpec()],action:function(t){a.get(t).element().dom().click()},buttonBehaviours:ia([Xv.config({})])})]}]}}}});return Zv(u,l,["tox-form__group--stretched"],[])}(t,e.shared.providers)})),grid:Ax((function(t,e){return function(t,e){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:F(t.items,e.interpreter)}}(t,e.shared)})),selectbox:Ax((function(t,e){return function(t,e){var n=F(t.items,(function(t){return{text:e.translate(t.text),value:t.value}})),r=t.label.map((function(t){return tb(t,e)})),i=xv.parts().field({dom:{},selectAttributes:{size:t.size},options:n,factory:ix,selectBehaviours:ia([xp.config({disabled:t.disabled}),Xv.config({}),$f("selectbox-change",[Or(jn(),(function(e,n){yr(e,dv,{name:t.name})}))])])}),o=t.size>1?b.none():b.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:cm("chevron-down",e.icons)}}),s={dom:{tag:"div",classes:["tox-selectfield"]},components:$([[i],o.toArray()])};return xv.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:$([r.toArray(),[s]]),fieldBehaviours:ia([xp.config({disabled:t.disabled,onDisabled:function(t){xv.getField(t).each(xp.disable)},onEnabled:function(t){xv.getField(t).each(xp.enable)}})])})}(t,e.shared.providers)})),sizeinput:Ax((function(t,e){return Fw(t,e.shared.providers)})),urlinput:Ax((function(t,n){return function(t,n,r){var i,o,s,a,u=n.shared.providers,l=function(e){var n=Il.getValue(e);r.addToHistory(n.value,t.filetype)},c=xv.parts().field({factory:vx,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":Tx,type:"url"},minChars:0,responseTime:0,fetch:function(e){var i=function(t,e,n){var r=Il.getValue(e),i=void 0!==r.meta.text?r.meta.text:r.value;return n.getLinkInformation().fold((function(){return[]}),(function(e){var r,o=Ox(i,function(t){return F(t,(function(t){return wx(t,t)}))}(n.getHistory(t)));return"file"===t?(r=[o,Ox(i,Cx(e)),Ox(i,$([kx(e),Sx(e),Ex(e)]))],V(r,(function(t,e){return 0===t.length||0===e.length?t.concat(e):t.concat(yx,e)}),[])):o}))}(t.filetype,e,r),o=yw(i,Tp.BUBBLE_TO_SANDBOX,n,!1);return Fv(o)},getHotspot:function(t){return v.getOpt(t)},onSetValue:function(t,n){t.hasConfigured(Gv)&&Gv.run(t).get(e)},typeaheadBehaviours:ia($([r.getValidationHandler().map((function(e){return Gv.config({getRoot:function(t){return qr(t.element())},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(t,e){h.getOpt(t).each((function(t){di(t.element(),"title",u.translate(e))}))}},validator:{validate:function(n){var r=Il.getValue(n);return bx(Pv((function(n){e({type:t.filetype,url:r.value},(function(t){if("invalid"===t.status){var e=w.error(t.message);n(e)}else{var r=w.value(t.message);n(r)}}))})))},validateOnLoad:!1}})})).toArray(),[xp.config({disabled:t.disabled}),Xv.config({}),$f("urlinput-events",$(["file"===t.filetype?[Or(Vn(),(function(e){yr(e,dv,{name:t.name})}))]:[],[Or(jn(),(function(e){yr(e,dv,{name:t.name}),l(e)})),Or(Kn(),(function(e){yr(e,dv,{name:t.name}),l(e)}))]]))]])),eventOrder:(i={},i[Vn()]=["streaming","urlinput-events","invalidating"],i),model:{getDisplayText:function(t){return t.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:n.shared.getSink,parts:{menu:Ag(0,0,"normal")},onExecute:function(t,e,n){yr(e,pv,{})},onItemExecute:function(e,n,r,i){l(e),yr(e,dv,{name:t.name})}}),f=t.label.map((function(t){return tb(t,u)})),h=um((o=b.some(Tx),void 0===(s="warning")&&(s="invalid"),void 0===a&&(a="invalid"),{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-invalid"],innerHtml:cm(s,u.icons),attributes:d({title:u.translate(a),"aria-live":"polite"},o.fold((function(){return{}}),(function(t){return{id:t}})))}})),m=um({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[h.asSpec()]}),p=r.getUrlPicker(t.filetype),g=_i("browser.url.event"),v=um({dom:{tag:"div",classes:["tox-control-wrap"]},components:[c,m.asSpec()],behaviours:ia([xp.config({disabled:t.disabled})])}),y=um(Ow({name:t.name,icon:b.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},(function(t){return br(t,g)}),u,[],["tox-browse-url"]));return xv.sketch({dom:Jv([]),components:f.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:$([[v.asSpec()],p.map((function(){return y.asSpec()})).toArray()])}]),fieldBehaviours:ia([xp.config({disabled:t.disabled,onDisabled:function(t){xv.getField(t).each(xp.disable),y.getOpt(t).each(xp.disable)},onEnabled:function(t){xv.getField(t).each(xp.enable),y.getOpt(t).each(xp.enable)}}),$f("url-input-events",[Or(g,(function(e){Hc.getCurrent(e).each((function(n){var r=Il.getValue(n),i=d({fieldname:t.name},r);p.each((function(r){r(i).get((function(r){Il.setValue(n,r),yr(e,dv,{name:t.name})}))}))}))}))])])})}(t,n,n.urlinput)})),customeditor:Ax((function(t){var e=Ve(b.none()),n=um({dom:{tag:t.tag}}),r=Ve(b.none());return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:ia([$f("editor-foo-events",[zr((function(i){n.getOpt(i).each((function(n){(!function(t){return Object.prototype.hasOwnProperty.call(t,"init")}(t)?b_.load(t.scriptId,t.scriptUrl).then((function(e){return e(n.element().dom(),t.settings)})):t.init(n.element().dom())).then((function(t){r.get().each((function(e){t.setValue(e)})),r.set(b.none()),e.set(b.some(t))}))}))}))]),Il.config({store:{mode:"manual",getValue:function(){return e.get().fold((function(){return r.get().getOr("")}),(function(t){return t.getValue()}))},setValue:function(t,n){e.get().fold((function(){r.set(b.some(n))}),(function(t){return t.setValue(n)}))}}}),m_()]),components:[n.asSpec()]}})),htmlpanel:Ax((function(t){return lv.sketch("presentation"===t.presets?{dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}:{dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:ia([Xv.config({}),Kf.config({})])})})),imagetools:Ax((function(t,e){return rx(t,e.shared.providers)})),table:Ax((function(t,e){return function(t,e){var n,r,i=function(t){return{dom:{tag:"td",innerHtml:e.translate(t)}}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(r=t.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:F(r,(function(t){return{dom:{tag:"th",innerHtml:e.translate(t)}}}))}]}),(n=t.cells,{dom:{tag:"tbody"},components:F(n,(function(t){return{dom:{tag:"tr"},components:F(t,i)}}))})],behaviours:ia([Xv.config({}),Kf.config({})])}}(t,e.shared.providers)})),panel:Ax((function(t,e){return function(t,e){return{dom:{tag:"div",classes:t.classes},components:F(t.items,e.shared.interpreter)}}(t,e)}))},Mx={field:function(t,e){return e}},Rx=function(t,e,n){var r=pt(n,{shared:{interpreter:function(e){return Ix(t,e,r)}}});return Ix(t,e,r)},Ix=function(e,n,r){return lt(Dx,n.type).fold((function(){return t.console.error('Unknown factory type "'+n.type+'", defaulting to container: ',n),n}),(function(t){return t(e,n,r)}))},Nx={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},zx=function(t,e,n){var r=La(-12,12,Nx),i={maxHeightFunction:za()};return n?function(){return{anchor:"node",root:to(Ur(t())),node:b.from(t()),bubble:r,layouts:{onRtl:function(){return[Fh]},onLtr:function(){return[Ph]}},overrides:i}}:function(){return{anchor:"hotspot",hotspot:e(),bubble:r,layouts:{onRtl:function(){return[js]},onLtr:function(){return[Us]}},overrides:i}}},Px=function(t,e,n){return n?function(){return{anchor:"node",root:to(Ur(t())),node:b.from(t()),layouts:{onRtl:function(){return[Bh]},onLtr:function(){return[Bh]}}}}:function(){return{anchor:"hotspot",hotspot:e(),layouts:{onRtl:function(){return[Gs]},onLtr:function(){return[Gs]}}}}},Fx=function(t,e){return function(){return{anchor:"selection",root:e(),getSelection:function(){var e=t.selection.getRng();return b.some(Ja.range(qe(e.startContainer),e.startOffset,qe(e.endContainer),e.endOffset))}}}},Bx=function(t){return function(e){return{anchor:"node",root:t(),node:e}}},Lx=function(t,e){var n=function(){return qe(t.getBody())},r=function(){return qe(t.getContentAreaContainer())},i=im(t)||!nm(t);return{inlineDialog:zx(r,e,i),banner:Px(r,e,i),cursor:Fx(t,n),node:Bx(n)}},Hx=function(t){return function(e,n){Cg.colorPickerDialog(t)(e,n)}},Vx=function(t){return function(){return lg(t)}},jx=function(t){return function(){return cg(t)}},Ux=function(t){return function(){return Cg.getColorCols(t)}},$x=function(t){return{colorPicker:Hx(t),hasCustomColors:Vx(t),getColors:jx(t),getColorCols:Ux(t)}},Wx=function(t){return function(){return function(t){return t.getParam("draggable_modal",!1,"boolean")}(t)}},qx=function(t){return{isDraggableModal:Wx(t)}},Gx=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strike-through",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",icon:"align-left",format:"alignleft"},{title:"Center",icon:"align-center",format:"aligncenter"},{title:"Right",icon:"align-right",format:"alignright"},{title:"Justify",icon:"align-justify",format:"alignjustify"}]}],Yx=function(t){return V(t,(function(t,e){if(ct(e,"items")){var n=Yx(e.items);return{customFormats:t.customFormats.concat(n.customFormats),formats:t.formats.concat([{title:e.title,items:n.formats}])}}if(function(t){return ct(t,"inline")}(e)||function(t){return ct(t,"block")}(e)||function(t){return ct(t,"selector")}(e)){var r="custom-"+e.title.toLowerCase();return{customFormats:t.customFormats.concat([{name:r,format:e}]),formats:t.formats.concat([{title:e.title,format:r,icon:e.icon}])}}return d(d({},t),{formats:t.formats.concat(e)})}),{customFormats:[],formats:[]})},Kx=function(t){return function(t){return b.from(t.getParam("style_formats")).filter(k)}(t).map((function(e){var n=function(t,e){var n=Yx(e),r=function(e){B(e,(function(e){t.formatter.has(e.name)||t.formatter.register(e.name,e.format)}))};return t.formatter?r(n.customFormats):t.on("init",(function(){r(n.customFormats)})),n.formats}(t,e);return function(t){return t.getParam("style_formats_merge",!1,"boolean")}(t)?Gx.concat(n):n})).getOr(Gx)},Xx=function(t,e,n){var r={type:"formatter",isSelected:e(t.format),getStylePreview:n(t.format)};return pt(t,r)},Zx=function(t,e,n,r){var i=function(e){return F(e,(function(e){var o=et(e);if(dt(e,"items")){var s=i(e.items);return pt(function(t){return pt(t,{type:"submenu"})}(e),{getStyleItems:function(){return s}})}return dt(e,"format")?function(t){return Xx(t,n,r)}(e):1===o.length&&N(o,"title")?pt(e,{type:"separator"}):function(e){var i=_i(e.title),o={type:"formatter",format:i,isSelected:n(i),getStylePreview:r(i)},s=pt(e,o);return t.formatter.register(i,s),s}(e)}))};return i(e)},Qx=function(t){var e=function(e){return function(){return t.formatter.match(e)}},n=function(e){return function(){var n=t.formatter.get(e);return void 0!==n?b.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):b.none()}},r=function(t){var e=t.items;return void 0!==e&&e.length>0?W(e,r):[t.format]},i=Ve([]),o=Ve([]),s=Ve([]),a=Ve([]),u=Ve(!1);return t.on("PreInit",(function(s){var a=Kx(t),u=Zx(t,a,e,n);i.set(u),o.set(W(u,r))})),t.on("addStyleModifications",(function(i){var o=Zx(t,i.items,e,n);s.set(o),u.set(i.replace),a.set(W(o,r))})),{getData:function(){var t=u.get()?[]:i.get(),e=s.get();return t.concat(e)},getFlattenedKeys:function(){var t=u.get()?[]:o.get(),e=a.get();return t.concat(e)}}},Jx=Gw.trim,tC=function(t){return function(e){if(e&&1===e.nodeType){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},eC=tC("true"),nC=tC("false"),rC=function(t,e,n,r,i){return{type:t,title:e,url:n,level:r,attach:i}},iC=function(t){return t.innerText||t.textContent},oC=function(t){return function(t){return t&&"A"===t.nodeName&&void 0!==(t.id||t.name)}(t)&&aC(t)},sC=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},aC=function(t){return function(t){for(;t=t.parentNode;){var e=t.contentEditable;if(e&&"inherit"!==e)return eC(t)}return!1}(t)&&!nC(t)},uC=function(t){return sC(t)&&aC(t)},lC=function(t){var e=function(t){return t.id?t.id:_i("h")}(t);return rC("header",iC(t),"#"+e,function(t){return sC(t)?parseInt(t.nodeName.substr(1),10):0}(t),(function(){t.id=e}))},cC=function(t){var n=t.id||t.name,r=iC(t);return rC("anchor",r||"#"+n,"#"+n,0,e)},dC=function(t){return Jx(t.title).length>0},fC="tinymce-url-history",hC=function(t){return C(t)&&/^https?/.test(t)},mC=function(t){return S(t)&&at(t,(function(t){return!(k(e=t)&&e.length<=5&&q(e,hC));var e})).isNone()},pC=function(){var e,n=t.localStorage.getItem(fC);if(null===n)return{};try{e=JSON.parse(n)}catch(r){if(r instanceof SyntaxError)return t.console.log("Local storage "+fC+" was not valid JSON",r),{};throw r}return mC(e)?e:(t.console.log("Local storage "+fC+" was not valid format",e),{})},gC=function(t){var e=pC();return Object.prototype.hasOwnProperty.call(e,t)?e[t]:[]},vC=function(e,n){if(hC(e)){var r=pC(),i=Object.prototype.hasOwnProperty.call(r,n)?r[n]:[],o=L(i,(function(t){return t!==e}));r[n]=[e].concat(o).slice(0,5),function(e){if(!mC(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));t.localStorage.setItem(fC,JSON.stringify(e))}(r)}},bC=Object.prototype.hasOwnProperty,yC=function(t){return!!t},_C=function(t){return it(Gw.makeMap(t,/[, ]/),yC)},wC=function(t,e,n){var r,i,o=(r=t,i=e,bC.call(r,i)?b.some(r[i]):b.none()).getOr(n);return C(o)?b.some(o):b.none()},xC=function(t){return b.some(t.file_picker_callback).filter(O)},CC=function(t){return{getHistory:gC,addToHistory:vC,getLinkInformation:function(){return function(t){return!1===t.settings.typeahead_urls?b.none():b.some({targets:(e=t.getBody(),n=function(t){return F(lu(qe(t),"h1,h2,h3,h4,h5,h6,a:not([href])"),(function(t){return t.dom()}))}(e),L(function(t){return F(L(t,uC),lC)}(n).concat(function(t){return F(L(t,oC),cC)}(n)),dC)),anchorTop:wC(t.settings,"anchor_top","#top").getOrUndefined(),anchorBottom:wC(t.settings,"anchor_bottom","#bottom").getOrUndefined()});var e,n}(t)},getValidationHandler:function(){return function(t){return b.from(t.settings.file_picker_validator_handler).filter(O).orThunk((function(){return b.from(t.settings.filepicker_validator_handler).filter(O)}))}(t)},getUrlPicker:function(e){return function(t,e){return function(t,e){var n=function(t){var e=b.some(t.file_picker_types).filter(yC),n=b.some(t.file_browser_callback_types).filter(yC),r=e.or(n).map(_C);return xC(t).fold((function(){return!1}),(function(t){return r.fold((function(){return!0}),(function(t){return et(t).length>0&&t}))}))}(t);return E(n)?n?xC(t):b.none():n[e]?xC(t):b.none()}(t.settings,e).map((function(n){return function(r){return Pv((function(i){var o=d({filetype:e,fieldname:r.fieldname},b.from(r.meta).getOr({}));n.call(t,(function(t,e){if(!C(t))throw new Error("Expected value to be string");if(void 0!==e&&!S(e))throw new Error("Expected meta to be a object");i({value:t,meta:e})}),r.value,o)}))}}))}(t,e)}}},SC=r((function(t,e){!function(t,e){var n=Mo.max(t,e,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);ro(t,"max-width",n+"px")}(t,Math.floor(e))})),kC=r([ve("items"),gs(["itemSelector"]),Nl("tgroupBehaviours",[Bf])]),EC=r([lc({name:"items",unit:"item"})]),OC=zc({name:"ToolbarGroup",configFields:kC(),partFields:EC(),factory:function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:Pl(t.tgroupBehaviours,[Bf.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}}),TC=r([ve("dom"),Re("shell",!0),Nl("toolbarBehaviours",[Uf])]),AC=r([uc({name:"groups",overrides:function(){return{behaviours:ia([Uf.config({})])}}})]),DC=zc({name:"Toolbar",configFields:TC(),partFields:AC(),factory:function(e,n,r,i){var o=e.shell?{behaviours:[Uf.config({})],components:[]}:{behaviours:[],components:n};return{uid:e.uid,dom:e.dom,components:o.components,behaviours:Pl(e.toolbarBehaviours,o.behaviours),apis:{setGroups:function(n,r){var i;(i=n,e.shell?b.some(i):_c(i,e,"groups")).fold((function(){throw t.console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(t){Uf.set(t,r)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(t,e,n){t.setGroups(e,n)}}}),MC=Lr("within","extra","withinWidth"),RC=function(t,e,n){var i,o=(i=function(t,e){var i=n(t);return b.some({element:r(t),start:r(e),finish:r(e+i),width:r(i)})},V(t,(function(t,e){return i(e,t.len).fold(r(t),(function(e){return{len:e.finish(),list:t.list.concat([e])}}))}),{len:0,list:[]}).list),s=L(o,(function(t){return t.finish()<=e})),a=H(s,(function(t,e){return t+e.width()}),0),u=o.slice(s.length);return{within:r(s),extra:r(u),withinWidth:r(a)}},IC=function(t){return F(t,(function(t){return t.element()}))},NC=function(t,e){var n=F(e,(function(t){return wo(t)}));DC.setGroups(t,n)},zC=function(t,e,n){var r=wc(t,e,"primary"),i=rb.getCoupled(t,"overflowGroup");ro(r.element(),"visibility","hidden");var o=e.builtGroups.get().concat([i]),s=tt(o,(function(t){return ga(t.element()).bind((function(e){return t.getSystem().getByDom(e).toOption()}))}));n([]),NC(r,o);var a,u,l,c,d,f,h,m,p=Ro(r.element()),g=(a=p,u=e.builtGroups.get(),c=i,f=(d=function(t,e,n){var r=RC(e,t,n);return 0===r.extra().length?b.some(r):b.none()}(a,u,l=function(t){return Ro(t.element())}).getOrThunk((function(){return RC(u,a-l(c),l)}))).within(),h=d.extra(),m=d.withinWidth(),1===h.length&&h[0].width()<=l(c)?function(t,e,n){var r=IC(t.concat(e));return MC(r,[],n)}(f,h,m):h.length>=1?function(t,e,n,r){var i=IC(t).concat([n]);return MC(i,IC(e),r)}(f,h,c,m):function(t,e,n){return MC(IC(t),[],n)}(f,0,m));0===g.extra().length?(Uf.remove(r,i),n([])):(NC(r,g.within()),n(g.extra())),fo(r.element(),"visibility"),ho(r.element()),s.each(Kf.focus)},PC=r([Nl("splitToolbarBehaviours",[rb]),He("builtGroups",(function(){return Ve([])}))]),FC=r([gs(["overflowToggledClass"]),De("getOverflowBounds"),ve("lazySink"),He("overflowGroups",(function(){return Ve([])}))].concat(PC())),BC=r([sc({factory:DC,schema:TC(),name:"primary"}),ac({schema:TC(),name:"overflow"}),ac({name:"overflow-button"}),ac({name:"overflow-group"})]),LC=r([gs(["toggledClass"]),ve("lazySink"),xe("fetch"),De("getBounds"),Me("fireDismissalEventInstead",[Re("event",cr())]),qa()]),HC=r([ac({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:ia([ah.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),ac({factory:DC,schema:TC(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:ia([Bf.config({mode:"cyclic",onEscape:function(e){return _c(e,t,"button").each(Kf.focus),b.none()}})])}}})]),VC=function(t,e){var n=rb.getCoupled(t,"toolbarSandbox");hl.isOpen(n)?hl.close(n):hl.open(n,e.toolbar())},jC=function(t,e,n,r){var i=n.getBounds.map((function(t){return t()})),o=n.lazySink(t).getOrDie();Wu.positionWithinBounds(o,{anchor:"hotspot",hotspot:t,layouts:r,overrides:{maxWidthFunction:SC()}},e,i)},UC=function(t,e,n,r,i){DC.setGroups(e,i),jC(t,e,n,r),ah.on(t)},$C=zc({name:"FloatingToolbarButton",factory:function(t,e,n,r){return d(d({},am.sketch(d(d({},r.button()),{action:function(t){VC(t,r)},buttonBehaviours:Bl({dump:r.button().buttonBehaviours},[rb.config({others:{toolbarSandbox:function(e){return function(t,e,n){var r=is();return{dom:{tag:"div",attributes:{id:r.id()}},behaviours:ia([Bf.config({mode:"special",onEscape:function(t){return hl.close(t),b.some(!0)}}),hl.config({onOpen:function(i,o){n.fetch().get((function(i){UC(t,o,n,e.layouts,i),r.link(t.element()),Bf.focusIn(o)}))},onClose:function(){ah.off(t),Kf.focus(t),r.unlink(t.element())},isPartOf:function(e,n,r){return os(n,r)||os(t,r)},getAttachPoint:function(){return n.lazySink(t).getOrDie()}}),fa.config({channels:d(d({},bl(d({isExtraPart:u},n.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),_l({doReposition:function(){hl.getState(rb.getCoupled(t,"toolbarSandbox")).each((function(r){jC(t,r,n,e.layouts)}))}}))})])}}(e,n,t)}}})])}))),{apis:{setGroups:function(e,r){hl.getState(rb.getCoupled(e,"toolbarSandbox")).each((function(i){UC(e,i,t,n.layouts,r)}))},reposition:function(e){hl.getState(rb.getCoupled(e,"toolbarSandbox")).each((function(r){jC(e,r,t,n.layouts)}))},toggle:function(t){VC(t,r)},getToolbar:function(t){return hl.getState(rb.getCoupled(t,"toolbarSandbox"))}}})},configFields:LC(),partFields:HC(),apis:{setGroups:function(t,e,n){t.setGroups(e,n)},reposition:function(t,e){t.reposition(e)},toggle:function(t,e){t.toggle(e)},getToolbar:function(t,e){return t.getToolbar(e)}}}),WC=function(t){return F(t,(function(t){return wo(t)}))},qC=function(t,e,n){zC(t,n,(function(r){n.overflowGroups.set(r),e.getOpt(t).each((function(t){$C.setGroups(t,WC(r))}))}))},GC=zc({name:"SplitFloatingToolbar",configFields:FC(),partFields:BC(),factory:function(t,e,n,r){var i=um($C.sketch({fetch:function(){return Pv((function(e){e(WC(t.overflowGroups.get()))}))},layouts:{onLtr:function(){return[Us,js]},onRtl:function(){return[js,Us]},onBottomLtr:function(){return[Ws,$s]},onBottomRtl:function(){return[$s,Ws]}},getBounds:n.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()}}));return{uid:t.uid,dom:t.dom,components:e,behaviours:Pl(t.splitToolbarBehaviours,[rb.config({others:{overflowGroup:function(){return OC.sketch(d(d({},r["overflow-group"]()),{items:[i.asSpec()]}))}}})]),apis:{setGroups:function(e,n){t.builtGroups.set(F(n,e.getSystem().build)),qC(e,i,t)},refresh:function(e){return qC(e,i,t)},toggle:function(t){i.getOpt(t).each((function(t){$C.toggle(t)}))},reposition:function(t){i.getOpt(t).each((function(t){$C.reposition(t)}))},getOverflow:function(t){return i.getOpt(t).bind((function(t){return $C.getToolbar(t)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(t,e,n){t.setGroups(e,n)},refresh:function(t,e){t.refresh(e)},reposition:function(t,e){t.reposition(e)},toggle:function(t,e){t.toggle(e)},getOverflow:function(t,e){return t.getOverflow(e)}}}),YC=function(t,e){return e.getAnimationRoot.fold((function(){return t.element()}),(function(e){return e(t)}))},KC=function(t){return t.dimension.property},XC=function(t,e){return t.dimension.getDimension(e)},ZC=function(t,e){var n=YC(t,e);Xi(n,[e.shrinkingClass,e.growingClass])},QC=function(t,e){Gi(t.element(),e.openClass),qi(t.element(),e.closedClass),ro(t.element(),KC(e),"0px"),ho(t.element())},JC=function(t,e){Gi(t.element(),e.closedClass),qi(t.element(),e.openClass),fo(t.element(),KC(e))},tS=function(t,e,n,r){n.setCollapsed(),ro(t.element(),KC(e),XC(e,t.element())),ho(t.element()),ZC(t,e),QC(t,e),e.onStartShrink(t),e.onShrunk(t)},eS=function(t,e,n,r){var i=r.getOrThunk((function(){return XC(e,t.element())}));n.setCollapsed(),ro(t.element(),KC(e),i),ho(t.element());var o=YC(t,e);Gi(o,e.growingClass),qi(o,e.shrinkingClass),QC(t,e),e.onStartShrink(t)},nS=function(t,e,n){var r=XC(e,t.element());("0px"===r?tS:eS)(t,e,n,b.some(r))},rS=function(t,e,n){var r=YC(t,e),i=Yi(r,e.shrinkingClass),o=XC(e,t.element());JC(t,e);var s=XC(e,t.element());(i?function(){ro(t.element(),KC(e),o),ho(t.element())}:function(){QC(t,e)})(),Gi(r,e.shrinkingClass),qi(r,e.growingClass),JC(t,e),ro(t.element(),KC(e),s),n.setExpanded(),e.onStartGrow(t)},iS=function(t,e,n){var r=YC(t,e);return!0===Yi(r,e.growingClass)},oS=function(t,e,n){var r=YC(t,e);return!0===Yi(r,e.shrinkingClass)},sS=Object.freeze({__proto__:null,refresh:function(t,e,n){if(n.isExpanded()){fo(t.element(),KC(e));var r=XC(e,t.element());ro(t.element(),KC(e),r)}},grow:function(t,e,n){n.isExpanded()||rS(t,e,n)},shrink:function(t,e,n){n.isExpanded()&&nS(t,e,n)},immediateShrink:function(t,e,n){n.isExpanded()&&tS(t,e,n,b.none())},hasGrown:function(t,e,n){return n.isExpanded()},hasShrunk:function(t,e,n){return n.isCollapsed()},isGrowing:iS,isShrinking:oS,isTransitioning:function(t,e,n){return!0===iS(t,e)||!0===oS(t,e)},toggleGrow:function(t,e,n){(n.isExpanded()?nS:rS)(t,e,n)},disableTransitions:ZC}),aS=Object.freeze({__proto__:null,exhibit:function(t,e){return Li(e.expanded?{classes:[e.openClass],styles:{}}:{classes:[e.closedClass],styles:Nt(e.dimension.property,"0px")})},events:function(t,e){return Sr([Nr($n(),(function(n,r){r.event().raw().propertyName===t.dimension.property&&(ZC(n,t),e.isExpanded()&&fo(n.element(),t.dimension.property),(e.isExpanded()?t.onGrown:t.onShrunk)(n))}))])}}),uS=[ve("closedClass"),ve("openClass"),ve("shrinkingClass"),ve("growingClass"),Ee("getAnimationRoot"),bs("onShrunk"),bs("onStartShrink"),bs("onGrown"),bs("onStartGrow"),Re("expanded",!1),be("dimension",ae("property",{width:[xs("property","width"),xs("getDimension",(function(t){return Ro(t)+"px"}))],height:[xs("property","height"),xs("getDimension",(function(t){return So(t)+"px"}))]}))],lS=sa({fields:uS,name:"sliding",active:aS,apis:sS,state:Object.freeze({__proto__:null,init:function(t){var e=Ve(t.expanded);return Fi({isExpanded:function(){return!0===e.get()},isCollapsed:function(){return!1===e.get()},setCollapsed:o(e.set,!1),setExpanded:o(e.set,!0),readState:function(){return"expanded: "+e.get()}})}})}),cS=r([gs(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),bs("onOpened"),bs("onClosed")].concat(PC())),dS=r([sc({factory:DC,schema:TC(),name:"primary"}),sc({factory:DC,schema:TC(),name:"overflow",overrides:function(t){return{toolbarBehaviours:ia([lS.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(e){_c(e,t,"overflow-button").each((function(t){ah.off(t),Kf.focus(t)})),t.onClosed(e)},onGrown:function(e){Bf.focusIn(e),t.onOpened(e)},onStartGrow:function(e){_c(e,t,"overflow-button").each(ah.on)}}),Bf.config({mode:"acyclic",onEscape:function(e){return _c(e,t,"overflow-button").each(Kf.focus),b.some(!0)}})])}}}),ac({name:"overflow-button",overrides:function(t){return{buttonBehaviours:ia([ah.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),ac({name:"overflow-group"})]),fS=function(t,e){_c(t,e,"overflow").each((function(n){zC(t,e,(function(t){var e=F(t,(function(t){return wo(t)}));DC.setGroups(n,e)})),_c(t,e,"overflow-button").each((function(t){lS.hasGrown(n)&&ah.on(t)})),lS.refresh(n)}))},hS=zc({name:"SplitSlidingToolbar",configFields:cS(),partFields:dS(),factory:function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:Pl(t.splitToolbarBehaviours,[rb.config({others:{overflowGroup:function(t){return OC.sketch(d(d({},r["overflow-group"]()),{items:[am.sketch(d(d({},r["overflow-button"]()),{action:function(e){br(t,"alloy.toolbar.toggle")}}))]}))}}}),$f("toolbar-toggle-events",[Or("alloy.toolbar.toggle",(function(e){_c(e,t,"overflow").each((function(n){fS(e,t),lS.toggleGrow(n)}))}))])]),apis:{setGroups:function(e,n){!function(e,n){var r=F(n,e.getSystem().build);t.builtGroups.set(r)}(e,n),fS(e,t)},refresh:function(e){return fS(e,t)},toggle:function(e){return function(t,e){_c(t,e,"overflow").each((function(n){fS(t,e),lS.toggleGrow(n)}))}(e,t)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(t,e,n){t.setGroups(e,n)},refresh:function(t,e){t.refresh(e)},toggle:function(t,e){t.toggle(e)}}}),mS=r(_i("toolbar-height-change")),pS=Wt([be("readonly",fe)]),gS=function(t,e){var n=t.outerContainer;!function(t,e){var n=t.outerContainer.element();e&&(t.mothership.broadcastOn([ml()],{target:n}),t.uiMothership.broadcastOn([ml()],{target:n})),t.mothership.broadcastOn(["silver.readonly"],{readonly:e}),t.uiMothership.broadcastOn(["silver.readonly"],{readonly:e})}(t,e),wn("*",n.element()).forEach((function(t){n.getSystem().getByDom(t).each((function(t){t.hasConfigured(xp)&&xp.set(t,e)}))}))},vS=function(t,e){t.on("init",(function(){t.mode.isReadOnly()&&gS(e,!0)})),t.on("SwitchMode",(function(){return gS(e,t.mode.isReadOnly())})),function(t){return t.getParam("readonly",!1,"boolean")}(t)&&t.setMode("readonly")},bS=function(t){var e;return fa.config({channels:(e={},e["silver.readonly"]={schema:pS,onReceive:function(e,n){t(e).each((function(t){!function(t,e){wn("*",t.element()).forEach((function(n){t.getSystem().getByDom(n).each((function(t){t.hasConfigured(xp)&&xp.set(t,e)}))}))}(t,n.readonly)}))}},e)})},yS=function(t){var e=t.title.fold((function(){return{}}),(function(t){return{attributes:{title:t}}}));return{dom:d({tag:"div",classes:["tox-toolbar__group"]},e),components:[OC.parts().items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:ia([Xv.config({}),Kf.config({})])}},_S=function(t){return OC.sketch(yS(t))},wS=function(t,e,n){var r=zr((function(e){var n=F(t.initGroups,_S);DC.setGroups(e,n)}));return ia([Bf.config({mode:e,onEscape:t.onEscape,selector:".tox-toolbar__group"}),$f("toolbar-events",[r]),bS(n)])},xS=function(t,e){var n=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":yS({title:b.none(),items:[]}),"overflow-button":Sw({name:"more",icon:b.some("more-drawer"),disabled:!1,tooltip:b.some("More..."),primary:!1,borderless:!1},b.none(),t.backstage.shared.providers)},splitToolbarBehaviours:wS(t,n,e)}},CS=function(t){var e=xS(t,GC.getOverflow),n=GC.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return GC.sketch(d(d({},e),{lazySink:t.getSink,getOverflowBounds:function(){var e=t.moreDrawerData.lazyHeader().element(),n=Yo(e),r=$r(e),i=Yo(r),o=Math.max(r.dom().scrollHeight,i.height());return qo(n.x()+4,i.y(),n.width()-8,o)},parts:d(d({},e.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},SS=function(t){var e=hS.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=hS.parts().overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),r=xS(t,b.none);return hS.sketch(d(d({},r),{components:[e,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(t){t.getSystem().broadcastOn([mS()],{type:"opened"})},onClosed:function(t){t.getSystem().broadcastOn([mS()],{type:"closed"})}}))},kS=function(t){var e=t.cyclicKeying?"cyclic":"acyclic";return DC.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===cd.scrolling?["tox-toolbar--scrolling"]:[])},components:[DC.parts().groups({})],toolbarBehaviours:wS(t,e,r(b.none()))})},ES=[Fe("disabled",!1),Ae("tooltip"),Ae("icon"),Ae("text"),Be("onSetup",(function(){return e}))],OS=Wt([_e("type"),xe("onAction")].concat(ES)),TS=function(t){return ne("toolbarbutton",OS,t)},AS=[Ae("text"),Ae("tooltip"),Ae("icon"),xe("fetch"),Be("onSetup",(function(){return e}))],DS=Wt(h([_e("type")],AS)),MS=function(t){return ne("menubutton",DS,t)},RS=Wt([_e("type"),Ae("tooltip"),Ae("icon"),Ae("text"),De("select"),xe("fetch"),Be("onSetup",(function(){return e})),Pe("presets","normal",["normal","color","listpreview"]),Re("columns",1),xe("onAction"),xe("onItemAction")]),IS=[Fe("active",!1)].concat(ES),NS=Wt(IS.concat([_e("type"),xe("onAction")])),zS=function(t){return ne("ToggleButton",NS,t)},PS=Wt([_e("type"),be("items",(Zw=[Jt([_e("name"),ke("items",de)]),de],{extract:function(t,e,n){for(var r=[],i=0,o=Zw;i<o.length;i++){var s=o[i].extract(t,e,n);if(s.stype===m.Value)return s;r.push(s)}return Ft(r)},toString:function(){return"oneOf("+F(Zw,(function(t){return t.toString()})).join(", ")+")"}}))].concat(ES)),FS=[Be("predicate",(function(){return!1})),Pe("scope","node",["node","editor"]),Pe("position","selection",["node","selection","line"])],BS=ES.concat([Re("type","contextformbutton"),Re("primary",!1),xe("onAction"),He("original",i)]),LS=IS.concat([Re("type","contextformbutton"),Re("primary",!1),xe("onAction"),He("original",i)]),HS=ES.concat([Re("type","contextformbutton")]),VS=IS.concat([Re("type","contextformtogglebutton")]),jS=ae("type",{contextformbutton:BS,contextformtogglebutton:LS}),US=Wt([Re("type","contextform"),Be("initValue",(function(){return""})),Ae("label"),ke("commands",jS),Oe("launch",ae("type",{contextformbutton:HS,contextformtogglebutton:VS}))].concat(FS)),$S=Wt([Re("type","contexttoolbar"),_e("items")].concat(FS)),WS=Object.freeze({__proto__:null,getState:function(t,e,n){return n}}),qS=Object.freeze({__proto__:null,events:function(t,e){var n=function(n,r){t.updateState.each((function(t){var i=t(n,r);e.set(i)})),t.renderComponents.each((function(t){var i=t(r,e.get()),o=F(i,n.getSystem().build);Ku(n,o)}))};return Sr([Or(Xn(),(function(e,r){var i=r,o=t.channel;N(i.channels(),o)&&n(e,i.data())})),zr((function(e,r){t.initialData.each((function(t){n(e,t)}))}))])}}),GS=Object.freeze({__proto__:null,init:function(){var t=Ve(b.none());return{readState:function(){return t.get().fold((function(){return"none"}),(function(t){return t}))},get:function(){return t.get()},set:function(e){return t.set(e)},clear:function(){return t.set(b.none())}}}}),YS=[ve("channel"),Ee("renderComponents"),Ee("updateState"),Ee("initialData")],KS=sa({fields:YS,name:"reflecting",active:qS,apis:WS,state:GS}),XS=r([ve("toggleClass"),ve("fetch"),_s("onExecute"),Re("getHotspot",b.some),Re("getAnchorOverrides",r({})),qa(),_s("onItemExecute"),Ee("lazySink"),ve("dom"),bs("onOpen"),Nl("splitDropdownBehaviours",[rb,Bf,Kf]),Re("matchWidth",!1),Re("useMinWidth",!1),Re("eventOrder",{}),Ee("role")].concat(mb())),ZS=sc({factory:am,schema:[ve("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:ia([Kf.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(e){e.getSystem().getByUid(t.uid).each(_r)},buttonBehaviours:ia([ah.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),QS=sc({factory:am,schema:[ve("dom")],name:"button",defaults:function(){return{buttonBehaviours:ia([Kf.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(e){e.getSystem().getByUid(t.uid).each((function(n){t.onExecute(n,e)}))}}}}),JS=r([ZS,QS,uc({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[ve("text")],name:"aria-descriptor"}),ac({schema:[ps()],name:"menu",defaults:function(t){return{onExecute:function(e,n){e.getSystem().getByUid(t.uid).each((function(r){t.onItemExecute(r,e,n)}))}}}}),ob()]),tk=zc({name:"SplitDropdown",configFields:XS(),partFields:JS(),factory:function(t,n,r,i){var o=function(t){Hc.getCurrent(t).each((function(t){Xc.highlightFirst(t),Bf.focusIn(t)}))},s=function(n){lb(t,(function(t){return t}),n,i,o,Dv.HighlightFirst).get(e)},a=function(e){var n=wc(e,t,"button");return _r(n),b.some(!0)},u=d(d({},Sr([zr((function(e,n){_c(e,t,"aria-descriptor").each((function(t){var n=_i("aria");di(t.element(),"id",n),di(e.element(),"aria-describedby",n)}))}))])),lh(b.some(s)));return{uid:t.uid,dom:t.dom,components:n,apis:{repositionMenus:function(t){ah.isOn(t)&&hb(t)}},eventOrder:d(d({},t.eventOrder),{"alloy.execute":["disabling","toggling","alloy.base.behaviour"]}),events:u,behaviours:Pl(t.splitDropdownBehaviours,[rb.config({others:{sandbox:function(e){var n=wc(e,t,"arrow");return fb(t,e,{onOpen:function(){ah.on(n),ah.on(e)},onClose:function(){ah.off(n),ah.off(e)}})}}}),Bf.config({mode:"special",onSpace:a,onEnter:a,onDown:function(t){return s(t),b.some(!0)}}),Kf.config({}),ah.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:function(t,e){return t.repositionMenus(e)}}}),ek=function(t){return{isDisabled:function(){return xp.isDisabled(t)},setDisabled:function(e){return xp.set(t,e)}}},nk=function(t){return{setActive:function(e){ah.set(t,e)},isActive:function(){return ah.isOn(t)},isDisabled:function(){return xp.isDisabled(t)},setDisabled:function(e){return xp.set(t,e)}}},rk=function(t,e){return t.map((function(t){return{"aria-label":e.translate(t),title:e.translate(t)}})).getOr({})},ik=_i("focus-button"),ok=["checklist","ordered-list"],sk=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"],ak=function(t,e,n,r,i,o){var s,a=function(t){return qm.isRtl()&&N(ok,t)?t+"-rtl":t},u=qm.isRtl()&&t.exists((function(t){return N(sk,t)}));return{dom:{tag:"button",classes:["tox-tbtn"].concat(e.isSome()?["tox-tbtn--select"]:[]).concat(u?["tox-tbtn__icon-rtl"]:[]),attributes:rk(n,o)},components:Mp([t.map((function(t){return uw(a(t),o.icons)})),e.map((function(t){return cw(t,"tox-tbtn",o)}))]),eventOrder:(s={},s[Rn()]=["focusing","alloy.base.behaviour","common-button-display-events"],s),buttonBehaviours:ia([$f("common-button-display-events",[Or(Rn(),(function(t,e){e.event().prevent(),br(t,ik)}))])].concat(r.map((function(n){return KS.config({channel:n,initialData:{icon:t,text:e},renderComponents:function(t,e){return Mp([t.icon.map((function(t){return uw(a(t),o.icons)})),t.text.map((function(t){return cw(t,"tox-tbtn",o)}))])}})})).toArray()).concat(i.getOr([])))}},uk=function(t,n,r){var i,o,s=Ve(e),a=ak(t.icon,t.text,t.tooltip,b.none(),b.none(),r);return am.sketch({dom:a.dom,components:a.components,eventOrder:fw,buttonBehaviours:ia([$f("toolbar-button-events",[(i={onAction:t.onAction,getApi:n.getApi},Br((function(t,e){Sp(i,t)((function(e){yr(t,dw,{buttonApi:e}),i.onAction(e)}))}))),kp(n,s),Ep(n,s)]),(o=t.disabled,xp.config({disabled:o,disableClass:"tox-tbtn--disabled",useNative:!1}))].concat(n.toolbarButtonBehaviours))})},lk=function(t,e,n){return uk(t,{toolbarButtonBehaviours:[].concat(n.length>0?[$f("toolbarButtonWith",n)]:[]),getApi:ek,onSetup:t.onSetup},e)},ck=function(t,e,n){return pt(uk(t,{toolbarButtonBehaviours:[Uf.config({}),ah.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[$f("toolbarToggleButtonWith",n)]:[]),getApi:nk,onSetup:t.onSetup},e))},dk=function(t,e,n){return function(r){return Pv((function(t){return e.fetch(t)})).map((function(i){return b.from(Wg(pt(Fg(_i("menu-value"),i,(function(n){e.onItemAction(t(r),n)}),e.columns,e.presets,Tp.CLOSE_ON_EXECUTE,e.select.getOr((function(){return!1})),n),{movement:Lg(e.columns,e.presets),menuBehaviours:Fm("auto"!==e.columns?[]:[zr((function(t,n){Pm(t,4,Qm(e.presets)).each((function(e){Bf.setGridSize(t,e.numRows,e.numColumns)}))}))])})))}))}},fk=function(t,e){return Or(dw,(function(n,r){var i=function(t){return{hide:function(){return br(t,er())},getValue:function(){return Il.getValue(t)}}}(t.get(n));e.onAction(i,r.event().buttonApi())}))},hk=function(e){var n=Ho(t.window),r=Go(qe(e.getContentAreaContainer())),i=Kh(e)||Xh(e)||Qh(e),o=function(t,e){var n=Math.max(e.x(),t.x()),r=t.right()-n,i=e.width()-(n-e.x());return{x:n,width:Math.min(r,i)}}(r,n),s=o.x,a=o.width;if(e.inline&&!i)return qo(s,n.y(),a,n.height());var u=function(t,e,n){var r=qe(t.getContainer()),i=ns(r,".tox-editor-header").getOr(r),o=Go(i),s=o.y()>=e.bottom(),a=nm(t)&&!s;if(t.inline&&a)return{y:Math.max(o.bottom(),n.y()),bottom:n.bottom()};if(t.inline&&!a)return{y:n.y(),bottom:Math.min(o.y(),n.bottom())};var u=Go(r);return a?{y:Math.max(o.bottom(),n.y()),bottom:Math.min(u.bottom(),n.bottom())}:{y:Math.max(u.y(),n.y()),bottom:Math.min(o.y(),n.bottom())}}(e,r,n),l=u.y;return qo(s,l,a,u.bottom-l)},mk=function(t,e){return tt(e,(function(e){return e.predicate(t.dom())?b.some({toolbarApi:e,elem:t}):b.none()}))},pk=_i("forward-slide"),gk=_i("backward-slide"),vk=_i("change-slide-event"),bk=function(t,e,n){var r=function(t,r,o,s){var a=e.shared.providers.translate(t.title);if("separator"===t.type)return b.some({type:"separator",text:a});if("submenu"===t.type){var u=W(t.getStyleItems(),(function(t){return i(t,r,s)}));return 0===r&&u.length<=0?b.none():b.some({type:"nestedmenuitem",text:a,disabled:u.length<=0,getSubmenuItems:function(){return W(t.getStyleItems(),(function(t){return i(t,r,s)}))}})}return b.some(d({type:"togglemenuitem",text:a,active:t.isSelected(s),disabled:o,onAction:n.onAction(t)},t.getStylePreview().fold((function(){return{}}),(function(t){return{meta:{style:t}}}))))},i=function(t,e,i){var o="formatter"===t.type&&n.isInvalid(t);return 0===e?o?[]:r(t,e,!1,i).toArray():r(t,e,o,i).toArray()},o=function(t){var e=n.getCurrentValue(),r=n.shouldHide?0:1;return W(t,(function(t){return i(t,r,e)}))};return{validateItems:o,getFetch:function(t,e){return function(n){var r=e(),i=o(r);n(yw(i,Tp.CLOSE_ON_EXECUTE,t,!1))}}}},yk=function(t,e,n){var r=n.dataset,i="basic"===r.type?function(){return F(r.data,(function(t){return Xx(t,n.isSelectedFor,n.getPreviewFor)}))}:r.getData;return{items:bk(0,e,n),getStyleItems:i}},_k=function(t,n,r){var i=yk(0,n,r),o=i.items,s=i.getStyleItems;return pw({text:r.icon.isSome()?b.none():b.some(""),icon:r.icon,tooltip:b.from(r.tooltip),role:b.none(),fetch:o.getFetch(n,s),onSetup:function(n){return r.setInitialValue.each((function(t){return t(n.getComponent())})),r.nodeChangeHandler.map((function(e){var r=e(n.getComponent());return t.on("NodeChange",r),function(){t.off("NodeChange",r)}})).getOr(e)},getApi:function(t){return{getComponent:function(){return t}}},columns:1,presets:"normal",classes:r.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",n.shared)};!function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"}(Qw||(Qw={}));var wk,xk,Ck=function(t,e,n,r){return{type:"basic",data:function(t){return F(t,(function(t){var e=t,n=t,r=t.split("=");return r.length>1&&(e=r[0],n=r[1]),{title:e,format:n}}))}(function(t,e){return e===Qw.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")}(lt(t.settings,e).getOr(n),r))}},Sk=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],kk=function(t){var e=function(e){var n=j(Sk,(function(e){return t.formatter.match(e.format)})).fold((function(){return"left"}),(function(t){return t.title.toLowerCase()}));yr(e,mw,{icon:"align-"+n})},n=b.some((function(t){return function(){return e(t)}})),i=b.some((function(t){return e(t)})),o={type:"basic",data:Sk};return{tooltip:"Align",icon:b.some("align-left"),isSelectedFor:function(e){return function(){return t.formatter.match(e)}},getCurrentValue:r(b.none()),getPreviewFor:function(t){return function(){return b.none()}},onAction:function(e){return function(){return j(Sk,(function(t){return t.format===e.format})).each((function(e){return t.execCommand(e.command)}))}},setInitialValue:i,nodeChangeHandler:n,dataset:o,shouldHide:!1,isInvalid:function(e){return!t.formatter.canApply(e.format)}}},Ek=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],Ok=function(t){var e=t.split(/\s*,\s*/);return F(e,(function(t){return t.replace(/^['"]+|['"]+$/g,"")}))},Tk=function(t){var e=function(){var e=function(t){return t?Ok(t)[0]:""},n=t.queryCommandValue("FontName"),r=o.data,i=n?n.toLowerCase():"";return{matchOpt:j(r,(function(t){var n=t.format;return n.toLowerCase()===i||e(n).toLowerCase()===e(i).toLowerCase()})).orThunk((function(){return function(t){var e;return 0===t.indexOf("-apple-system")&&(e=Ok(t.toLowerCase()),q(Ek,(function(t){return e.indexOf(t.toLowerCase())>-1})))}(i)?b.from({title:"System Font",format:i}):b.none()})),font:n}},n=function(t){var n=e(),r=n.font,i=n.matchOpt.fold((function(){return r}),(function(t){return t.title}));yr(t,hw,{text:i})},r=b.some((function(t){return function(){return n(t)}})),i=b.some((function(t){return n(t)})),o=Ck(t,"font_formats","Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",Qw.SemiColon);return{tooltip:"Fonts",icon:b.none(),isSelectedFor:function(t){return function(e){return e.exists((function(e){return e.format===t}))}},getCurrentValue:function(){return e().matchOpt},getPreviewFor:function(t){return function(){return b.some({tag:"div",styles:-1===t.indexOf("dings")?{"font-family":t}:{}})}},onAction:function(e){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("FontName",!1,e.format)}))}},setInitialValue:i,nodeChangeHandler:r,dataset:o,shouldHide:!1,isInvalid:function(){return!1}}},Ak={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},Dk=function(t){var e=function(){var e=b.none(),n=a.data,r=t.queryCommandValue("FontSize");if(r)for(var i=function(t){var i=function(t,e){return/[0-9.]+px$/.test(t)?function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}(72*parseInt(t,10)/96,e||0)+"pt":t}(r,t),o=function(t){return lt(Ak,t).getOr("")}(i);e=j(n,(function(t){return t.format===r||t.format===i||t.format===o}))},o=3;e.isNone()&&o>=0;o--)i(o);return{matchOpt:e,size:r}},n=r(r(b.none())),i=function(t){var n=e(),r=n.size,i=n.matchOpt.fold((function(){return r}),(function(t){return t.title}));yr(t,hw,{text:i})},o=b.some((function(t){return function(){return i(t)}})),s=b.some((function(t){return i(t)})),a=Ck(t,"fontsize_formats","8pt 10pt 12pt 14pt 18pt 24pt 36pt",Qw.Space);return{tooltip:"Font sizes",icon:b.none(),isSelectedFor:function(t){return function(e){return e.exists((function(e){return e.format===t}))}},getPreviewFor:n,getCurrentValue:function(){return e().matchOpt},onAction:function(e){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("FontSize",!1,e.format)}))}},setInitialValue:s,nodeChangeHandler:o,dataset:a,shouldHide:!1,isInvalid:function(){return!1}}},Mk=function(t,e,n){var r=e();return tt(n,(function(e){return j(r,(function(n){return t.formatter.matchNode(e,n.format)}))})).orThunk((function(){return t.formatter.match("p")?b.some({title:"Paragraph",format:"p"}):b.none()}))},Rk=function(t){var e=t.selection.getStart(!0)||t.getBody();return t.dom.getParents(e,(function(){return!0}),t.getBody())},Ik=function(t,e){return function(n){var r=Ve(b.none()),i=function(){n.setActive(t.formatter.match(e));var i=t.formatter.formatChanged(e,n.setActive).unbind;r.set(b.some(i))};return t.initialized?i():t.on("init",i),function(){return r.get().each((function(t){return t()}))}}},Nk=function(t){return function(e){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("mceToggleFormat",!1,e.format)}))}}},zk=function(t){var e=function(e,n){var r=Mk(t,(function(){return o.data}),e).fold((function(){return"Paragraph"}),(function(t){return t.title}));yr(n,hw,{text:r})},n=b.some((function(t){return function(n){return e(n.parents,t)}})),i=b.some((function(n){var r=Rk(t);e(r,n)})),o=Ck(t,"block_formats","Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",Qw.SemiColon);return{tooltip:"Blocks",icon:b.none(),isSelectedFor:function(e){return function(){return t.formatter.match(e)}},getCurrentValue:r(b.none()),getPreviewFor:function(e){return function(){var n=t.formatter.get(e);return b.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))})}},onAction:Nk(t),setInitialValue:i,nodeChangeHandler:n,dataset:o,shouldHide:!1,isInvalid:function(e){return!t.formatter.canApply(e.format)}}},Pk=function(t,e){var n=function(e,n){var r=function(t){var e=t.items;return void 0!==e&&e.length>0?W(e,r):[{title:t.title,format:t.format}]},i=W(Kx(t),r),o=Mk(t,(function(){return i}),e).fold((function(){return"Paragraph"}),(function(t){return t.title}));yr(n,hw,{text:o})},i=b.some((function(t){return function(e){return n(e.parents,t)}})),o=b.some((function(e){var r=Rk(t);n(r,e)}));return{tooltip:"Formats",icon:b.none(),isSelectedFor:function(e){return function(){return t.formatter.match(e)}},getCurrentValue:r(b.none()),getPreviewFor:function(e){return function(){var n=t.formatter.get(e);return void 0!==n?b.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):b.none()}},onAction:Nk(t),setInitialValue:o,nodeChangeHandler:i,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(e){return!t.formatter.canApply(e.format)},dataset:e}},Fk=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Bk=function(t,e){return function(n,r,i){var o=t(n).mapError((function(t){return oe(t)})).getOrDie();return e(o,r,i)}},Lk={button:Bk(TS,(function(t,e){return lk(t,e.backstage.shared.providers,[])})),togglebutton:Bk(zS,(function(t,e){return ck(t,e.backstage.shared.providers,[])})),menubutton:Bk(MS,(function(t,e){return ww(t,"tox-tbtn",e.backstage,b.none())})),splitbutton:Bk((function(t){return ne("SplitButton",RS,t)}),(function(t,n){return function(t,n){var r,i=_i("channel-update-split-dropdown-display"),o=function(t){return{isDisabled:function(){return xp.isDisabled(t)},setDisabled:function(e){return xp.set(t,e)},setIconFill:function(e,n){ns(t.element(),'svg path[id="'+e+'"], rect[id="'+e+'"]').each((function(t){di(t,"fill",n)}))},setIconStroke:function(e,n){ns(t.element(),'svg path[id="'+e+'"], rect[id="'+e+'"]').each((function(t){di(t,"stroke",n)}))},setActive:function(e){di(t.element(),"aria-pressed",e),ns(t.element(),"span").each((function(n){t.getSystem().getByDom(n).each((function(t){return ah.set(t,e)}))}))},isActive:function(){return ns(t.element(),"span").exists((function(e){return t.getSystem().getByDom(e).exists(ah.isOn)}))}}},s=Ve(e),a={getApi:o,onSetup:t.onSetup};return tk.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:d({"aria-pressed":!1},rk(t.tooltip,n.providers))},onExecute:function(e){t.onAction(o(e))},onItemExecute:function(t,e,n){},splitDropdownBehaviours:ia([(!1,xp.config({disabled:!1,disableClass:"tox-tbtn--disabled"})),$f("split-dropdown-events",[Or(ik,Kf.focus),kp(a,s),Ep(a,s)]),bb.config({})]),eventOrder:(r={},r[ur()]=["alloy.base.behaviour","split-dropdown-events"],r),toggleClass:"tox-tbtn--enabled",lazySink:n.getSink,fetch:dk(o,t,n.providers),parts:{menu:Ag(0,0,t.presets)},components:[tk.parts().button(ak(t.icon,t.text,b.none(),b.some(i),b.some([ah.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),n.providers)),tk.parts().arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:cm("chevron-down",n.providers.icons)}}),tk.parts()["aria-descriptor"]({text:n.providers.translate("To open the popup, press Shift+Enter")})]})}(t,n.backstage.shared)})),grouptoolbarbutton:Bk((function(t){return ne("GroupToolbarButton",PS,t)}),(function(t,e,n){var r,i=n.ui.registry.getAll().buttons,o=((r={})[$a]=nm(n)?ss.TopToBottom:ss.BottomToTop,r);switch(tm(n)){case cd.floating:return function(t,e,n,r){var i=e.shared;return $C.sketch({lazySink:i.getSink,fetch:function(){return Pv((function(e){e(F(n(t.items),_S))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:ak(t.icon,t.text,t.tooltip,b.none(),b.none(),i.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})}(t,e.backstage,(function(t){return Vk(n,{buttons:i,toolbar:t,allowToolbarGroups:!1},e,b.none())}),o);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})),styleSelectButton:function(t,e){return function(t,e){var n=d({type:"advanced"},e.styleselect);return _k(t,e,Pk(t,n))}(t,e.backstage)},fontsizeSelectButton:function(t,e){return function(t,e){return _k(t,e,Dk(t))}(t,e.backstage)},fontSelectButton:function(t,e){return function(t,e){return _k(t,e,Tk(t))}(t,e.backstage)},formatButton:function(t,e){return function(t,e){return _k(t,e,zk(t))}(t,e.backstage)},alignMenuButton:function(t,e){return function(t,e){return _k(t,e,kk(t))}(t,e.backstage)}},Hk={styleselect:Lk.styleSelectButton,fontsizeselect:Lk.fontsizeSelectButton,fontselect:Lk.fontSelectButton,formatselect:Lk.formatButton,align:Lk.alignMenuButton},Vk=function(e,n,r,i){var o=function(e){var n,r,i,o=e.toolbar;return!1===o?[]:void 0===o||!0===o?(r=e.buttons,i=F(Fk,(function(t){var e=L(t.items,(function(t){return ct(r,t)||ct(Hk,t)}));return{name:t.name,items:e}})),L(i,(function(t){return t.items.length>0}))):C(o)?(n=o.split("|"),F(n,(function(t){return{items:t.trim().split(" ")}}))):function(t){return A(t,(function(t){return ct(t,"name")&&ct(t,"items")}))}(o)?o:(t.console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])}(n),s=F(o,(function(o){var s=W(o.items,(function(o){return 0===o.trim().length?[]:function(e,n,r,i,o,s){return lt(n,r.toLowerCase()).orThunk((function(){return s.bind((function(t){return tt(t,(function(t){return lt(n,t+r.toLowerCase())}))}))})).fold((function(){return lt(Hk,r.toLowerCase()).map((function(t){return t(e,o)})).orThunk((function(){return b.none()}))}),(function(n){return"grouptoolbarbutton"!==n.type||i?function(e,n,r){return lt(Lk,e.type).fold((function(){return t.console.error("skipping button defined by",e),b.none()}),(function(t){return b.some(t(e,n,r))}))}(n,o,e):(t.console.warn("Ignoring the '"+r+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),b.none())}))}(e,n.buttons,o,n.allowToolbarGroups,r,i).toArray()}));return{title:b.from(e.translate(o.name)),items:s}}));return L(s,(function(t){return t.items.length>0}))},jk={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Uk={maxHeightFunction:za(),maxWidthFunction:SC()},$k={onLtr:function(){return[qs,Gs,$s,js,Ws,Us,Bh,Lh,Ph,Nh,Fh,zh]},onRtl:function(){return[qs,Gs,Ws,Us,$s,js,Bh,Lh,Fh,zh,Ph,Nh]}},Wk={onLtr:function(){return[Gs,js,Us,$s,Ws,qs,Bh,Lh,Ph,Nh,Fh,zh]},onRtl:function(){return[Gs,Us,js,Ws,$s,qs,Bh,Lh,Fh,zh,Ph,Nh]}},qk=function(t,e,n,r){var i,o,a=mn().deviceType.isTouch,u=_o((i={sink:n,onEscape:function(){return t.focus(),b.some(!0)}},o=Ve([]),Th.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(t){o.set([]),Th.getContent(t).each((function(t){fo(t.element(),"visibility")})),Gi(t.element(),"tox-pop--resizing"),fo(t.element(),"width")},inlineBehaviours:ia([$f("context-toolbar-events",[Nr($n(),(function(t,e){Th.getContent(t).each((function(t){})),Gi(t.element(),"tox-pop--resizing"),fo(t.element(),"width")})),Or(vk,(function(t,e){fo(t.element(),"width");var n=Ro(t.element());Th.setContent(t,e.event().contents()),qi(t.element(),"tox-pop--resizing");var r=Ro(t.element());ro(t.element(),"width",n+"px"),Th.getContent(t).each((function(n){e.event().focus().bind((function(e){return ma(e),ga(t.element())})).orThunk((function(){return Bf.focusIn(n),pa()}))})),Hh.setTimeout((function(){ro(t.element(),"width",r+"px")}),0)})),Or(pk,(function(t,e){Th.getContent(t).each((function(t){o.set(o.get().concat([{bar:t,focus:pa()}]))})),yr(t,vk,{contents:e.event().forwardContents(),focus:b.none()})})),Or(gk,(function(t,e){Q(o.get()).each((function(e){o.set(o.get().slice(0,o.get().length-1)),yr(t,vk,{contents:wo(e.bar),focus:e.focus})}))}))]),Bf.config({mode:"special",onEscape:function(t){return Q(o.get()).fold((function(){return i.onEscape()}),(function(e){return br(t,gk),b.some(!0)}))}})]),lazySink:function(){return w.value(i.sink)}}))),l=function(){return hk(t)},c=function(){if(a()&&r.backstage.isContextMenuOpen())return!0;var e,n,i,o,s,u,c=(e=g.get().map((function(t){return t.getBoundingClientRect()})).getOrThunk((function(){return t.selection.getRng().getBoundingClientRect()})),n=t.inline?Fo().top():Yo(qe(t.getBody())).y(),{y:e.top+n,bottom:e.bottom+n}),d=l();return i=c.y,o=c.bottom,s=d.y(),u=d.bottom(),!(Math.max(i,s)<=Math.min(o,u))},h=function(){Th.hide(u)},m=function(){p.get().each((function(t){var e=u.element();fo(e,"display"),c()?ro(e,"display","none"):Wu.positionWithinBounds(n,t,u,b.some(l()))}))},p=Ve(b.none()),g=Ve(b.none()),v=Ve(null),y=function(e){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[e],behaviours:ia([Bf.config({mode:"acyclic"}),$f("pop-dialog-wrap-events",[zr((function(e){t.shortcuts.add("ctrl+F9","focus statusbar",(function(){return Bf.focusIn(e)}))})),Pr((function(e){t.shortcuts.remove("ctrl+F9")}))])])}},_=vt((function(){return n=function(t){var e=x(t);yr(u,pk,{forwardContents:y(e)})},r={},i=[],o=[],s={},a={},l=et(t=e),B(l,(function(e){var u=t[e];"contextform"===u.type?function(t,e){var u=re(ne("ContextForm",US,e));r[t]=u,u.launch.map((function(r){s["form:"+t]=d(d({},e.launch),{type:"contextformtogglebutton"===r.type?"togglebutton":"button",onAction:function(){n(u)}})})),"editor"===u.scope?o.push(u):i.push(u),a[t]=u}(e,u):"contexttoolbar"===u.type&&function(t,e){var n;(n=e,ne("ContextToolbar",$S,n)).each((function(n){"editor"===e.scope?o.push(n):i.push(n),a[t]=n}))}(e,u)})),{forms:r,inNodeScope:i,inEditorScope:o,lookupTable:a,formNavigators:s};var t,n,r,i,o,s,a,l})),x=function(e){var n,i,o=t.ui.registry.getAll().buttons,a=tm(t)===cd.scrolling?cd.scrolling:cd.default,u=_();return"contexttoolbar"===e.type?(n=d(d({},o),u.formNavigators),i=Vk(t,{buttons:n,toolbar:e.items,allowToolbarGroups:!1},r,b.some(["form:"])),kS({type:a,uid:_i("context-toolbar"),initGroups:i,onEscape:b.none,cyclicKeying:!0})):function(t,e,n){var r=e.label.fold((function(){return{}}),(function(t){return{"aria-label":t}})),i=um(Ov.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:r,selectOnFocus:!0,inputBehaviours:ia([Bf.config({mode:"special",onEnter:function(t){return o.findPrimary(t).map((function(t){return _r(t),!0}))},onLeft:function(t,e){return e.cut(),b.none()},onRight:function(t,e){return e.cut(),b.none()}})])})),o=function(t,e,n){var r=F(e,(function(e){return um(function(t,e,n){var r={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===e.type?function(t,e,n){var r=f(e.original,["primary"]),i=re(zS(d(d({},r),{type:"togglebutton",onAction:function(){}})));return ck(i,n.backstage.shared.providers,[fk(t,e)])}(t,e,r):function(t,e,n){var r=f(e.original,["primary"]),i=re(TS(d(d({},r),{type:"button",onAction:function(){}})));return lk(i,n.backstage.shared.providers,[fk(t,e)])}(t,e,r)}(t,e,n))}));return{asSpecs:function(){return F(r,(function(t){return t.asSpec()}))},findPrimary:function(t){return tt(e,(function(e,n){return e.primary?b.from(r[n]).bind((function(e){return e.getOpt(t)})).filter(s(xp.isDisabled)):b.none()}))}}}(i,e.commands,n.shared.providers);return kS({type:t,uid:_i("context-toolbar"),initGroups:[{title:b.none(),items:[i.asSpec()]},{title:b.none(),items:o.asSpecs()}],onEscape:b.none,cyclicKeying:!0})}(a,e,r.backstage)};t.on("contexttoolbar-show",(function(e){var n=_();lt(n.lookupTable,e.toolbarKey).each((function(n){C(n,e.target===t?b.none():b.some(e)),Th.getContent(u).each(Bf.focusIn)}))}));var C=function(t,e){if(k(),!a()||!r.backstage.isContextMenuOpen()){var n=x(t),i=e.map(qe),o=function(t,e){var n="node"===t?r.backstage.shared.anchors.node(e):r.backstage.shared.anchors.cursor();return pt(n,function(t,e){return"line"===t?{bubble:La(12,0,jk),layouts:{onLtr:function(){return[Ys]},onRtl:function(){return[Ks]}},overrides:Uk}:{bubble:La(0,12,jk),layouts:e?Wk:$k,overrides:Uk}}(t,a()))}(t.position,i);p.set(b.some(o)),g.set(e);var s=u.element();fo(s,"display"),Th.showWithinBounds(u,o,y(n),(function(){return b.some(l())})),c()&&ro(s,"display","none")}},S=function(){t.hasFocus()&&function(t,e){var n=qe(e.getBody()),r=function(t){return xn(t,n)},i=qe(e.selection.getNode());return function(t){return!r(t)&&!Cn(n,t)}(i)?b.none():mk(i,t.inNodeScope).orThunk((function(){return mk(i,t.inEditorScope).orThunk((function(){return r(i)?b.none():Sn(i,(function(e){return mk(e,t.inNodeScope)}),r)}))}))}(_(),t).fold((function(){p.set(b.none()),Th.hide(u)}),(function(t){C(t.toolbarApi,b.some(t.elem.dom()))}))},k=function(){var t=v.get();null!==t&&(Hh.clearTimeout(t),v.set(null))},E=function(t){k(),v.set(t)};t.on("init",(function(){t.on("contexttoolbar-hide",h),t.on("ScrollContent ScrollWindow longpress",m),t.on("click keyup focus SetContent ObjectResized ResizeEditor",(function(){E(Hh.setEditorTimeout(t,S,0))})),t.on("focusout",(function(e){Hh.setEditorTimeout(t,(function(){ga(n.element()).isNone()&&ga(u.element()).isNone()&&(p.set(b.none()),Th.hide(u))}),0)})),t.on("SwitchMode",(function(){t.mode.isReadOnly()&&(p.set(b.none()),Th.hide(u))})),t.on("NodeChange",(function(e){ga(u.element()).fold((function(){E(Hh.setEditorTimeout(t,S,0))}),(function(t){}))}))}))},Gk=Tc,Yk=dc,Kk=r([Re("shell",!1),ve("makeItem"),Re("setupItem",e),Fl("listBehaviours",[Uf])]),Xk=uc({name:"items",overrides:function(){return{behaviours:ia([Uf.config({})])}}}),Zk=r([Xk]),Qk=zc({name:r("CustomList")(),configFields:Kk(),partFields:Zk(),factory:function(e,n,r,i){var o=e.shell?{behaviours:[Uf.config({})],components:[]}:{behaviours:[],components:n};return{uid:e.uid,dom:e.dom,components:o.components,behaviours:Pl(e.listBehaviours,o.behaviours),apis:{setItems:function(n,r){var i;(i=n,e.shell?b.some(i):_c(i,e,"items")).fold((function(){throw t.console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(t){var i=Uf.contents(t),o=r.length,s=o-i.length,a=s>0?function(t,n){for(var r=[],i=0;i<t;i++)r.push(e.makeItem());return r}(s):[],u=i.slice(o);B(u,(function(e){return Uf.remove(t,e)})),B(a,(function(e){return Uf.append(t,e)}));var l=Uf.contents(t);B(l,(function(t,i){e.setupItem(n,t,r[i],i)}))}))}}}},apis:{setItems:function(t,e,n){t.setItems(e,n)}}}),Jk=function(t){return(uo(t,"position").is("fixed")?b.none():Gr(t)).orThunk((function(){var e=$e("span");return qr(t).bind((function(t){Jr(t,e);var n=Gr(e);return ni(e),n}))}))},tE=function(t){return Jk(t).map(Ao).getOrThunk((function(){return Oo(0,0)}))},eE=ft([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),nE=function(t,e){var n=t.element();qi(n,e.transitionClass),Gi(n,e.fadeOutClass),qi(n,e.fadeInClass),e.onShow(t)},rE=function(t,e){var n=t.element();qi(n,e.transitionClass),Gi(n,e.fadeInClass),qi(n,e.fadeOutClass),e.onHide(t)},iE=function(t,e,n){return q(t,(function(t){switch(t){case"bottom":return function(t,e){return t.bottom()<=e.bottom()}(e,n);case"top":return function(t,e){return t.y()>=e.y()}(e,n)}}))},oE=function(t,e){return e.getInitialPosition().map((function(e){return qo(e.bounds.x(),e.bounds.y(),Ro(t),So(t))}))},sE=function(t,e,n){return n.getInitialPosition().bind((function(r){switch(n.setInitialPosition(b.none()),r.position){case"static":return b.some(eE.static());case"absolute":var i=Jk(t).map(Go).getOrThunk((function(){return Go(Ji())}));return b.some(eE.absolute(ba("absolute",lt(r.style,"left").map((function(t){return e.x()-i.x()})),lt(r.style,"top").map((function(t){return e.y()-i.y()})),lt(r.style,"right").map((function(t){return i.right()-e.right()})),lt(r.style,"bottom").map((function(t){return i.bottom()-e.bottom()})))));default:return b.none()}}))},aE=function(t,e){B(["left","right","top","bottom","position"],(function(e){return fo(t.element(),e)})),e.onUndocked(t)},uE=function(t,e,n){ya(t.element(),n),("fixed"===n.position()?e.onDocked:e.onUndocked)(t)},lE=function(t,e,n,r,i){void 0===i&&(i=!1),e.contextual.each((function(e){e.lazyContext(t).each((function(o){var s=function(t,e){return t.y()<e.bottom()&&t.bottom()>e.y()}(o,r);s!==n.isVisible()&&(n.setVisible(s),i&&!s?(Ki(t.element(),[e.fadeOutClass]),e.onHide(t)):(s?nE:rE)(t,e))}))}))},cE=function(t,e,n){t.getSystem().isConnected()&&function(t,e,n){var r=e.lazyViewport(t),i=n.isDocked();i&&lE(t,e,n,r),function(t,e,n,r){var i=t.element();return uo(i,"position").is("fixed")?function(t,e,n,r){return oE(t,r).filter((function(t){return iE(e.modes,t,n)})).bind((function(e){return sE(t,e,r)}))}(i,e,n,r):function(t,e,n,r){var i=Go(t);if(iE(e.modes,i,n))return b.none();!function(t,e,n){n.setInitialPosition(b.some({style:lo(t),position:so(t,"position")||"static",bounds:e}))}(t,i,r);var o=Ko(),s=i.x()-o.x(),a=n.y()-o.y(),u=o.bottom()-n.bottom(),l=i.y()<=n.y();return b.some(eE.fixed(ba("fixed",b.some(s),l?b.some(a):b.none(),b.none(),l?b.none():b.some(u))))}(i,e,n,r)}(t,e,r,n).each((function(o){n.setDocked(!i),o.fold((function(){return aE(t,e)}),(function(n){return uE(t,e,n)}),(function(i){lE(t,e,n,r,!0),uE(t,e,i)}))}))}(t,e,n)},dE=function(t,n,r){r.isDocked()&&function(t,n,r){var i=t.element();r.setDocked(!1),function(t,e){var n=t.element();return oE(n,e).bind((function(t){return sE(n,t,e)}))}(t,r).each((function(r){r.fold((function(){return aE(t,n)}),(function(e){return uE(t,n,e)}),e)})),r.setVisible(!0),n.contextual.each((function(e){Xi(i,[e.fadeInClass,e.fadeOutClass,e.transitionClass]),e.onShow(t)})),cE(t,n,r)}(t,n,r)},fE=Object.freeze({__proto__:null,refresh:cE,reset:dE,isDocked:function(t,e,n){return n.isDocked()}}),hE=Object.freeze({__proto__:null,events:function(t,e){return Sr([Nr($n(),(function(n,r){t.contextual.each((function(t){Yi(n.element(),t.transitionClass)&&(Xi(n.element(),[t.transitionClass,t.fadeInClass]),(e.isVisible()?t.onShown:t.onHidden)(n)),r.stop()}))})),Or(sr(),(function(n,r){cE(n,t,e)})),Or(ar(),(function(n,r){dE(n,t,e)}))])}}),mE=[Me("contextual",[_e("fadeInClass"),_e("fadeOutClass"),_e("transitionClass"),xe("lazyContext"),bs("onShow"),bs("onShown"),bs("onHide"),bs("onHidden")]),Be("lazyViewport",Ko),(xk=de,Ie("modes",["top","bottom"],qt(xk))),bs("onDocked"),bs("onUndocked")],pE=sa({fields:mE,name:"docking",active:hE,apis:fE,state:Object.freeze({__proto__:null,init:function(){var t=Ve(!1),e=Ve(!0),n=Ve(b.none());return Fi({isDocked:function(){return t.get()},setDocked:function(e){return t.set(e)},getInitialPosition:function(){return n.get()},setInitialPosition:function(t){return n.set(t)},isVisible:function(){return e.get()},setVisible:function(t){return e.set(t)},readState:function(){return"docked:  "+t.get()+", visible: "+e.get()}})}})}),gE={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},vE=function(t,e){var n=t.element();qr(n).each((function(r){var i="padding-"+(e?"top":"bottom");if(pE.isDocked(t)){var o=Ro(r);ro(n,"width",o+"px"),ro(r,i,function(t){return ko(t)+(parseInt(so(t,"margin-top"),10)||0)+(parseInt(so(t,"margin-bottom"),10)||0)}(n)+"px")}else fo(n,"width"),fo(r,i)}))},bE=function(t,e){e?(Gi(t,gE.fadeOutClass),Ki(t,[gE.transitionClass,gE.fadeInClass])):(Gi(t,gE.fadeInClass),Ki(t,[gE.fadeOutClass,gE.transitionClass]))},yE=function(t,e){var n=qe(t.getContainer());e?(qi(n,"tox-tinymce--toolbar-sticky-on"),Gi(n,"tox-tinymce--toolbar-sticky-off")):(qi(n,"tox-tinymce--toolbar-sticky-off"),Gi(n,"tox-tinymce--toolbar-sticky-on"))},_E=function(t,e){var n=Ve(b.none()),r=nm(t),i=function(t){e().each((function(e){return t(e.element())}))},o=function(n){t.inline||vE(n,r),yE(t,pE.isDocked(n)),n.getSystem().broadcastOn([pl()],{}),e().each((function(t){return t.getSystem().broadcastOn([pl()],{})}))},s=t.inline?[]:function(t){var e;return[fa.config({channels:(e={},e[mS()]={onReceive:function(e){vE(e,t)}},e)})]}(r);return h([Kf.config({}),pE.config({contextual:d({lazyContext:function(e){var n=ko(e.element()),i=t.inline?t.getContentAreaContainer():t.getContainer(),o=Go(qe(i)),s=o.height()-n,a=o.y()+(r?0:n);return b.some(qo(o.x(),a,o.width(),s))},onShow:function(){i((function(t){return bE(t,!0)}))},onShown:function(t){i((function(t){return Xi(t,[gE.transitionClass,gE.fadeInClass])})),n.get().each((function(e){var r,i,o;r=t.element(),o=Ur(i=e),pa(o).filter((function(t){return!xn(i,t)})).filter((function(t){return xn(t,qe(o.dom().body))||Cn(r,t)})).each((function(){return ma(i)})),n.set(b.none())}))},onHide:function(t){n.set(function(t,e){return ga(t).orThunk((function(){return e().toOption().bind((function(t){return ga(t.element())}))}))}(t.element(),e)),i((function(t){return bE(t,!1)}))},onHidden:function(){i((function(t){return Xi(t,[gE.transitionClass])}))}},gE),modes:[r?"top":"bottom"],onDocked:o,onUndocked:o})],s)},wE=Object.freeze({__proto__:null,setup:function(t,e){t.inline||(nm(t)||t.on("ResizeEditor",(function(){e().each(pE.reset)})),t.on("ResizeWindow ResizeEditor",(function(){e().each((function(e){return vE(e,nm(t))}))})),t.on("SkinLoaded",(function(){e().each((function(t){pE.isDocked(t)?pE.reset(t):pE.refresh(t)}))})),t.on("FullscreenStateChanged",(function(){e().each(pE.reset)}))),t.on("AfterScrollIntoView",(function(t){e().each((function(e){pE.refresh(e);var n=e.element();Dd(n)&&function(t,e){var n=Ur(e),r=n.dom().defaultView.innerHeight,i=Fo(n),o=qe(t.elm),s=Yo(o),a=So(o),u=s.y(),l=u+a,c=Ao(e),d=So(e),f=c.top(),h=f+d,m=Math.abs(f-i.top())<2,p=Math.abs(h-(i.top()+r))<2;if(m&&u<h)Bo(i.left(),u-d,n);else if(p&&l>f){var g=u-r+a+d;Bo(i.left(),g,n)}}(t,n)}))})),t.on("PostRender",(function(){yE(t,!1)}))},isDocked:function(t){return t().map(pE.isDocked).getOr(!1)},getBehaviours:_E}),xE=e,CE=u,SE=r([]),kE=Object.freeze({__proto__:null,setup:xE,isDocked:CE,getBehaviours:SE}),EE=Nc({factory:function(t,e){var n={focus:Bf.focusIn,setMenus:function(t,n){var r=F(n,(function(t){var n=MS({type:"menubutton",text:t.text,fetch:function(e){e(t.getItems())}}).mapError((function(t){return oe(t)})).getOrDie();return ww(n,"tox-mbtn",e.backstage,b.some("menuitem"))}));Uf.set(t,r)}};return{uid:t.uid,dom:t.dom,components:[],behaviours:ia([Uf.config({}),$f("menubar-events",[zr((function(e){t.onSetup(e)})),Or(Pn(),(function(t,e){ns(t.element(),".tox-mbtn--active").each((function(n){rs(e.event().target(),".tox-mbtn").each((function(e){xn(n,e)||t.getSystem().getByDom(n).each((function(n){t.getSystem().getByDom(e).each((function(t){vb.expand(t),vb.close(n),Kf.focus(t)}))}))}))}))})),Or(fr(),(function(t,e){e.event().prevFocus().bind((function(e){return t.getSystem().getByDom(e).toOption()})).each((function(n){e.event().newFocus().bind((function(e){return t.getSystem().getByDom(e).toOption()})).each((function(t){vb.isOpen(n)&&(vb.expand(t),vb.close(n))}))}))}))]),Bf.config({mode:"flow",selector:".tox-mbtn",onEscape:function(e){return t.onEscape(e),b.some(!0)}}),Xv.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[ve("dom"),ve("uid"),ve("onEscape"),ve("backstage"),Re("onSetup",e)],apis:{focus:function(t,e){t.focus(e)},setMenus:function(t,e,n){t.setMenus(e,n)}}}),OE=[Nl("slotBehaviours",[])],TE=function(t){return"<alloy.field."+t+">"},AE=function(t,e){var n,r=function(e){return Sc(t)},i=function(e,n){return function(r,i){return _c(r,t,i).map((function(t){return e(t,i)})).getOr(n)}},o=function(t,e){return"true"!==fi(t.element(),"aria-hidden")},s=i(o,!1),a=i((function(t,e){if(o(t)){var n=t.element();ro(n,"display","none"),di(n,"aria-hidden","true"),yr(t,hr(),{name:e,visible:!1})}})),u=(n=a,function(t,e){B(e,(function(e){return n(t,e)}))}),l=i((function(t,e){if(!o(t)){var n=t.element();fo(n,"display"),pi(n,"aria-hidden"),yr(t,hr(),{name:e,visible:!0})}})),c={getSlotNames:r,getSlot:function(e,n){return _c(e,t,n)},isShowing:s,hideSlot:a,hideAllSlots:function(t){return u(t,r())},showSlot:l};return{uid:t.uid,dom:t.dom,components:e,behaviours:zl(t.slotBehaviours),apis:c}},DE=it({getSlotNames:function(t,e){return t.getSlotNames(e)},getSlot:function(t,e,n){return t.getSlot(e,n)},isShowing:function(t,e,n){return t.isShowing(e,n)},hideSlot:function(t,e,n){return t.hideSlot(e,n)},hideAllSlots:function(t,e){return t.hideAllSlots(e)},showSlot:function(t,e,n){return t.showSlot(e,n)}},(function(t){return zi(t)})),ME=d(d({},DE),{sketch:function(t){var e=function(){var t=[];return{slot:function(e,n){return t.push(e),pc("container",TE(e),n)},record:function(){return t}}}(),n=t(e),r=e.record(),i=F(r,(function(t){return sc({name:t,pname:TE(t)})}));return Dc("container",OE,i,AE,n)}}),RE=Wt([Ae("icon"),Ae("tooltip"),Be("onShow",e),Be("onHide",e),Be("onSetup",(function(){return e}))]),IE=function(t){return{element:function(){return t.element().dom()}}},NE=function(t,n){var r=F(et(n),(function(t){var e=re(ne("sidebar",RE,n[t]));return{name:t,getApi:IE,onSetup:e.onSetup,onShow:e.onShow,onHide:e.onHide}}));return F(r,(function(n){var i=Ve(e);return t.slot(n.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Fm([kp(n,i),Ep(n,i),Or(hr(),(function(t,e){var n=e.event();j(r,(function(t){return t.name===n.name()})).each((function(e){(n.visible()?e.onShow:e.onHide)(e.getApi(t))}))}))])})}))},zE=function(t){return ME.sketch((function(e){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:NE(e,t),slotBehaviours:Fm([zr((function(t){return ME.hideAllSlots(t)}))])}}))},PE=function(t){return Hc.getCurrent(t).bind((function(t){return lS.isGrowing(t)||lS.hasGrown(t)?Hc.getCurrent(t).bind((function(t){return j(ME.getSlotNames(t),(function(e){return ME.isShowing(t,e)}))})):b.none()}))},FE=_i("FixSizeEvent"),BE=_i("AutoSizeEvent"),LE=function(t){var e=Ue(t),n=Yr(e),r=function(t){var e=void 0!==t.dom().attributes?t.dom().attributes:[];return V(e,(function(t,e){var n;return"class"===e.name?t:d(d({},t),((n={})[e.name]=e.value,n))}),{})}(e),i=function(t){return Array.prototype.slice.call(t.dom().classList,0)}(e),o=0===n.length?{}:{innerHtml:ii(e)};return d({tag:si(e),classes:i,attributes:r},o)},HE=function(t){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:LE('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:ia([Bf.config({mode:"special",onTab:function(){return b.some(!0)},onShiftTab:function(){return b.some(!0)}}),Kf.config({})])}},VE=Yk.optional({factory:EE,name:"menubar",schema:[ve("backstage")]}),jE=Yk.optional({factory:{sketch:function(t){return Qk.sketch({uid:t.uid,dom:t.dom,listBehaviours:ia([Bf.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return kS({type:t.type,uid:_i("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],onEscape:function(){return b.none()}})},setupItem:function(t,e,n,r){DC.setGroups(e,n)},shell:!0})}},name:"multiple-toolbar",schema:[ve("dom"),ve("onEscape")]}),UE=Yk.optional({factory:{sketch:function(t){return function(t){return t.type===cd.sliding?SS:t.type===cd.floating?CS:kS}(t)({type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),b.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,backstage:t.backstage,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes})}},name:"toolbar",schema:[ve("dom"),ve("onEscape"),ve("getSink")]}),$E=Yk.optional({factory:{sketch:function(t){return{uid:t.uid,dom:t.dom,components:t.components,behaviours:ia((t.sticky?_E:SE)(t.editor,t.getSink))}}},name:"header",schema:[ve("dom")]}),WE=Yk.optional({name:"socket",schema:[ve("dom")]}),qE=Yk.optional({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:ia([Xv.config({}),Kf.config({}),lS.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(t){Hc.getCurrent(t).each(ME.hideAllSlots),br(t,BE)},onGrown:function(t){br(t,BE)},onStartGrow:function(t){yr(t,FE,{width:uo(t.element(),"width").getOr("")})},onStartShrink:function(t){yr(t,FE,{width:Ro(t.element())+"px"})}}),Uf.config({}),Hc.config({find:function(t){var e=Uf.contents(t);return Z(e)}})])}],behaviours:ia([p_(0),$f("sidebar-sliding-events",[Or(FE,(function(t,e){ro(t.element(),"width",e.event().width())})),Or(BE,(function(t,e){fo(t.element(),"width")}))])])}}},name:"sidebar",schema:[ve("dom")]}),GE=Yk.optional({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:ia([Uf.config({})]),components:[]}}},name:"throbber",schema:[ve("dom")]}),YE=zc({name:"OuterContainer",factory:function(t,e,n){return{uid:t.uid,dom:t.dom,components:e,apis:{getSocket:function(e){return Gk.getPart(e,t,"socket")},setSidebar:function(e,n){Gk.getPart(e,t,"sidebar").each((function(t){return function(t,e){Hc.getCurrent(t).each((function(t){return Uf.set(t,[zE(e)])}))}(t,n)}))},toggleSidebar:function(e,n){Gk.getPart(e,t,"sidebar").each((function(t){return function(t,e){Hc.getCurrent(t).each((function(t){Hc.getCurrent(t).each((function(n){lS.hasGrown(t)?ME.isShowing(n,e)?lS.shrink(t):(ME.hideAllSlots(n),ME.showSlot(n,e)):(ME.hideAllSlots(n),ME.showSlot(n,e),lS.grow(t))}))}))}(t,n)}))},whichSidebar:function(e){return Gk.getPart(e,t,"sidebar").bind(PE).getOrNull()},getHeader:function(e){return Gk.getPart(e,t,"header")},getToolbar:function(e){return Gk.getPart(e,t,"toolbar")},setToolbar:function(e,n){Gk.getPart(e,t,"toolbar").each((function(t){t.getApis().setGroups(t,n)}))},setToolbars:function(e,n){Gk.getPart(e,t,"multiple-toolbar").each((function(t){Qk.setItems(t,n)}))},refreshToolbar:function(e){Gk.getPart(e,t,"toolbar").each((function(t){return t.getApis().refresh(t)}))},getThrobber:function(e){return Gk.getPart(e,t,"throbber")},focusToolbar:function(e){Gk.getPart(e,t,"toolbar").orThunk((function(){return Gk.getPart(e,t,"multiple-toolbar")})).each((function(t){Bf.focusIn(t)}))},setMenubar:function(e,n){Gk.getPart(e,t,"menubar").each((function(t){EE.setMenus(t,n)}))},focusMenubar:function(e){Gk.getPart(e,t,"menubar").each((function(t){EE.focus(t)}))}},behaviours:t.behaviours}},configFields:[ve("dom"),ve("behaviours")],partFields:[$E,VE,UE,jE,WE,qE,GE],apis:{getSocket:function(t,e){return t.getSocket(e)},setSidebar:function(t,e,n){t.setSidebar(e,n)},toggleSidebar:function(t,e,n){t.toggleSidebar(e,n)},whichSidebar:function(t,e){return t.whichSidebar(e)},getHeader:function(t,e){return t.getHeader(e)},getToolbar:function(t,e){return t.getToolbar(e)},setToolbar:function(t,e,n){var r=F(n,(function(t){return _S(t)}));t.setToolbar(e,r)},setToolbars:function(t,e,n){var r=F(n,(function(t){return F(t,_S)}));t.setToolbars(e,r)},refreshToolbar:function(t,e){return t.refreshToolbar(e)},getThrobber:function(t,e){return t.getThrobber(e)},setMenubar:function(t,e,n){t.setMenubar(e,n)},focusMenubar:function(t,e){t.focusMenubar(e)},focusToolbar:function(t,e){t.focusToolbar(e)}}}),KE={file:{title:"File",items:"newdocument restoredraft | preview | print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},XE=function(t){return"string"==typeof t?t.split(" "):t},ZE=function(t,e){var n=d(d({},KE),e.menus),r=et(e.menus).length>0,i=XE(void 0===e.menubar||!0===e.menubar?"file edit view insert format tools table help":!1===e.menubar?"":e.menubar),o=L(i,(function(t){return r&&e.menus.hasOwnProperty(t)&&e.menus[t].hasOwnProperty("items")||KE.hasOwnProperty(t)})),s=F(o,(function(r){var i=n[r];return function(t,e,n){var r=function(t){return t.getParam("removed_menuitems","")}(n).split(/[ ,]/);return{text:t.title,getItems:function(){return W(t.items,(function(t){var n=t.toLowerCase();return 0===n.trim().length||z(r,(function(t){return t===n}))?[]:"separator"===n||"|"===n?[{type:"separator"}]:e.menuItems[n]?[e.menuItems[n]]:[]}))}}}({title:i.title,items:XE(i.items)},e,t)}));return L(s,(function(t){return t.getItems().length>0&&z(t.getItems(),(function(t){return"separator"!==t.type}))}))},QE=function(t){var e=function(){t._skinLoaded=!0,function(t){t.fire("SkinLoaded")}(t)};return function(){t.initialized?e():t.on("init",e)}},JE=function(t,e){var n,r=function(t){var e=t.settings,n=e.skin,r=e.skin_url;if(!1!==n){var i=n||"oxide";r=r?t.documentBaseURI.toAbsolute(r):jh.baseURL+"/skins/ui/"+i}return r}(e);r&&(n=r+"/skin.min.css",e.contentCSS.push(r+(t?"/content.inline":"/content")+".min.css")),!1===function(t){return!1===t.getParam("skin")}(e)&&n?Vh.DOM.styleSheetLoader.load(n,QE(e),function(t,e){return function(){return function(t,e){return t.fire("SkinLoadError",e)}(t,{message:"Skin could not be loaded"})}}(e)):QE(e)()},tO=o(JE,!1),eO=o(JE,!0),nO=function(t,e,n,r){var i=e.outerContainer,o=n.toolbar,s=n.buttons;if(A(o,C)){var a=o.map((function(e){return Vk(t,{toolbar:e,buttons:s,allowToolbarGroups:n.allowToolbarGroups},{backstage:r},b.none())}));YE.setToolbars(i,a)}else YE.setToolbar(i,Vk(t,n,{backstage:r},b.none()))},rO=Vh.DOM,iO=mn(),oO=iO.os.isiOS()&&iO.os.version.major<=12,sO={render:function(e,n,r,i,o){var s=Ve(0);tO(e),function(t,e){nl(t,e,Zr)}(qe(o.targetNode),n.mothership),el(Ji(),n.uiMothership),e.on("PostRender",(function(){nO(e,n,r,i),s.set(e.getWin().innerWidth),YE.setMenubar(n.outerContainer,ZE(e,r)),YE.setSidebar(n.outerContainer,r.sidebar),function(t){var e=t.getWin(),n=t.getDoc().documentElement,r=Ve(Oo(e.innerWidth,e.innerHeight)),i=Ve(Oo(n.offsetWidth,n.offsetHeight)),o=function(n){var o=t.getDoc().documentElement,s=r.get(),a=i.get();s.left()!==e.innerWidth||s.top()!==e.innerHeight?(r.set(Oo(e.innerWidth,e.innerHeight)),fg(t,n)):a.left()===o.offsetWidth&&a.top()===o.offsetHeight||(i.set(Oo(o.offsetWidth,o.offsetHeight)),fg(t,n))},s=function(e){return function(t,e){return t.fire("ScrollContent",e)}(t,e)};rO.bind(e,"resize",o),rO.bind(e,"scroll",s);var a=Kg(qe(t.getBody()),"load",o);t.on("remove",(function(){a.unbind(),rO.unbind(e,"resize",o),rO.unbind(e,"scroll",s)}))}(e)}));var a,u,l=YE.getSocket(n.outerContainer).getOrDie("Could not find expected socket element");if(!0===oO){io(l.element(),{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var c=(a=function(){e.fire("ScrollContent")},u=null,{cancel:function(){null!==u&&(t.clearTimeout(u),u=null)},throttle:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===u&&(u=t.setTimeout((function(){a.apply(null,e),u=null}),20))}});Yg(l.element(),"scroll",c.throttle)}vS(e,n),e.addCommand("ToggleSidebar",(function(t,r){YE.toggleSidebar(n.outerContainer,r),e.fire("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(function(){return YE.whichSidebar(n.outerContainer)}));var d=tm(e);return d!==cd.sliding&&d!==cd.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(function(){var t=e.getWin().innerWidth;t!==s.get()&&(YE.refreshToolbar(n.outerContainer),s.set(t))})),{iframeContainer:l.element().dom(),editorContainer:n.outerContainer.element().dom()}}},aO=function(t,e,n){var r=e.filter((function(e){return t<e})),i=n.filter((function(e){return t>e}));return r.or(i).getOr(t)},uO=function(t){return/^[0-9\.]+(|px)$/i.test(""+t)?b.some(parseInt(""+t,10)):b.none()},lO=function(t){return T(t)?t+"px":t},cO=function(t){var e=$h(t),n=Wh(t),r=Gh(t);return uO(e).map((function(t){return aO(t,n,r)}))},dO=function(t,e){var n=Go(t);return{pos:e?n.y():n.bottom(),height:n.height()}},fO={render:function(t,e,n,r,i){var o,s=e.mothership,a=e.uiMothership,u=e.outerContainer,l=Vh.DOM,c=im(t),d=sm(t),f=qe(i.targetNode),h=Gh(t).or(cO(t)),m=tm(t),p=m===cd.sliding||m===cd.floating,g=nm(t),v=Ve(dO(f,g)),b=Ve(!1);eO(t);var y=function(){a.broadcastOn([pl()],{})},_=function(t){void 0===t&&(t=!1),p&&YE.refreshToolbar(u),c||function(t){var e=p?t.fold((function(){return 0}),(function(t){return t.components().length>1?So(t.components()[1].element()):0})):0,n=Go(f),r=g?n.y()-So(o.element())+e:n.bottom();io(u.element(),{position:"absolute",top:Math.round(r)+"px",left:Math.round(n.x())+"px"});var i=h.getOrThunk((function(){var t=uO(so(Ji(),"margin-left")).getOr(0);return Ro(Ji())-n.x()+t}));ro(o.element(),"max-width",i+"px")}(YE.getToolbar(u)),d&&(t?pE.reset(o):pE.refresh(o)),y()},w=function(){b.set(!0),ro(u.element(),"display","flex"),l.addClass(t.getBody(),"mce-edit-focus"),fo(a.element(),"display"),_()},x=function(){b.set(!1),e.outerContainer&&(ro(u.element(),"display","none"),l.removeClass(t.getBody(),"mce-edit-focus")),ro(a.element(),"display","none")},C=function(){if(o)w();else{o=YE.getHeader(u).getOrDie();var i=function(t){return rm(t).getOr(Ji())}(t);el(i,s),el(i,a),nO(t,e,n,r),YE.setMenubar(u,ZE(t,n)),w(),t.on("activate",w),t.on("deactivate",x),t.on("SkinLoaded ResizeWindow",(function(){b.get()&&_(!0)})),t.on("NodeChange keydown",(function(){Hh.requestAnimationFrame((function(){var t=dO(f,g),e=v.get();b.get()&&(t.pos!==e.pos?(_(!0),v.set(t)):t.height!==e.height&&(y(),v.set(t)))}))})),t.nodeChanged()}};return t.on("focus",C),t.on("blur hide",x),t.on("init",(function(){t.hasFocus()&&C()})),vS(t,e),{editorContainer:u.element().dom()}}},hO=function(t,e){return function(){t.execCommand("mceToggleFormat",!1,e)}},mO=function(t,e,n){var r=function(){return!!e.undoManager&&e.undoManager[n]()},i=function(){t.setDisabled(e.mode.isReadOnly()||!r())};return t.setDisabled(!r()),e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i),function(){return e.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i)}},pO=function(t,e){(function(t){Gw.each([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],(function(e){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,onAction:function(){return t.execCommand(e.cmd)},icon:e.icon,onSetup:Ik(t,e.name)})})),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",onAction:function(){return t.execCommand("JustifyNone")},icon:"align-none"})})(t),function(t){(function(t){!function(t){Gw.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(e,n){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onSetup:Ik(t,e.name),onAction:hO(t,e.name)})}));for(var e=1;e<=6;e++){var n="h"+e;t.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+e,onSetup:Ik(t,n),onAction:hO(t,n)})}}(t),function(t){Gw.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],(function(e){t.ui.registry.addButton(e.name,{tooltip:e.text,icon:e.icon,onAction:function(){return t.execCommand(e.action)}})}))}(t),function(t){Gw.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(e){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:function(){return t.execCommand(e.action)},onSetup:Ik(t,e.name)})}))}(t)})(t),function(t){Gw.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],(function(e){t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,shortcut:e.shortcut,onAction:function(){return t.execCommand(e.action)}})})),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:hO(t,"code")})}(t)}(t),function(t,e){!function(t,e){var n=yk(0,e,kk(t));t.ui.registry.addNestedMenuItem("align",{text:e.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(t,e),function(t,e){var n=yk(0,e,Tk(t));t.ui.registry.addNestedMenuItem("fontformats",{text:e.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(t,e),function(t,e){var n=d({type:"advanced"},e.styleselect),r=yk(0,e,Pk(t,n));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})}(t,e),function(t,e){var n=yk(0,e,zk(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(t,e),function(t,e){var n=yk(0,e,Dk(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(t,e)}(t,e),function(t){!function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(e){return mO(e,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(e){return mO(e,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}})}(t),function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(e){return mO(e,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(e){return mO(e,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}})}(t)}(t),Cg.register(t),function(t){!function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return t.execCommand("mceToggleVisualAid")}})}(t),function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(e){return function(t,e){t.setActive(e.hasVisual);var n=function(e){t.setActive(e.hasVisual)};return e.on("VisualAid",n),function(){return e.off("VisualAid",n)}}(e,t)},onAction:function(){t.execCommand("mceToggleVisualAid")}})}(t)}(t),function(t){!function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(e){return function(t,e){t.setDisabled(!e.queryCommandState("outdent"));var n=function(){t.setDisabled(!e.queryCommandState("outdent"))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}}(e,t)},onAction:function(){return t.execCommand("outdent")}}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return t.execCommand("indent")}})}(t)}(t)},gO=function(t,e){return{anchor:"makeshift",x:t,y:e}},vO=function(t){return"longpress"===t.type||0===t.type.indexOf("touch")},bO=function(t,e){return"contextmenu"===e.type||"longpress"===e.type?t.inline?function(t){if(vO(t)){var e=t.touches[0];return gO(e.pageX,e.pageY)}return gO(t.pageX,t.pageY)}(e):function(t,e){var n=Vh.DOM.getPos(t);return function(t,e,n){return gO(t.x+e,t.y+n)}(e,n.x,n.y)}(t.getContentAreaContainer(),function(t){if(vO(t)){var e=t.touches[0];return gO(e.clientX,e.clientY)}return gO(t.clientX,t.clientY)}(e)):yO(t)},yO=function(t){return{anchor:"selection",root:qe(t.selection.getNode())}},_O=function(t){return{anchor:"node",node:b.some(qe(t.selection.getNode())),root:qe(t.getBody())}},wO=function(t,e,n,r,i,o){var s=n(),a=function(t,e,n){return n?_O(t):bO(t,e)}(t,e,o);yw(s,Tp.CLOSE_ON_EXECUTE,r,!1).map((function(t){e.preventDefault(),Th.showMenuAt(i,a,{menu:{markers:Eg("normal")},data:t})}))},xO={onLtr:function(){return[Gs,js,Us,$s,Ws,qs,Bh,Lh,Ph,Nh,Fh,zh]},onRtl:function(){return[Gs,Us,js,Ws,$s,qs,Bh,Lh,Fh,zh,Ph,Nh]}},CO={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},SO=function(t,e,n,r,i,o){var s=mn(),a=s.os.isiOS(),u=s.os.isOSX(),l=s.os.isAndroid(),c=s.deviceType.isTouch(),f=function(){var s=n();!function(t,e,n,r,i,o,s){var a=function(t,e,n){var r=e?_O(t):bO(t,n);return d({bubble:La(0,12,CO),layouts:xO,overrides:{maxWidthFunction:SC(),maxHeightFunction:za()}},r)}(t,o,e);yw(n,Tp.CLOSE_ON_EXECUTE,r,!0).map((function(n){e.preventDefault(),Th.showMenuWithinBounds(i,a,{menu:{markers:Eg("normal"),highlightImmediately:s},data:n,type:"horizontal"},(function(){return b.some(hk(t))})),t.fire("contexttoolbar-hide")}))}(t,e,s,r,i,o,!(l||a||u&&c))};if(!u&&!a||o)l&&!o&&t.selection.setCursorLocation(e.target,0),f();else{var h=function(){!function(t){var e=t.selection.getRng(),n=function(){Hh.setEditorTimeout(t,(function(){t.selection.setRng(e)}),10),o()};t.once("touchend",n);var r=function(t){t.preventDefault(),t.stopImmediatePropagation()};t.on("mousedown",r,!0);var i=function(){return o()};t.once("longpresscancel",i);var o=function(){t.off("touchend",n),t.off("longpresscancel",i),t.off("mousedown",r)}}(t),f()};!function(t,e){var n=t.selection;if(n.isCollapsed()||e.touches.length<1)return!1;var r=e.touches[0],i=n.getRng();return du(t.getWin(),Ja.domRange(i)).exists((function(t){return t.left()<=r.clientX&&t.right()>=r.clientX&&t.top()<=r.clientY&&t.bottom()>=r.clientY}))}(t,e)?(t.once("selectionchange",h),t.once("touchend",(function(){return t.off("selectionchange",h)}))):h()}},kO=function(t){return"string"==typeof t?t.split(/[ ,]/):t},EO=function(t){return t.settings.contextmenu_never_use_native||!1},OO=function(t){return C(t)?"|"===t:"separator"===t.type},TO={type:"separator"},AO=function(t){if(C(t))return t;switch(t.type){case"separator":return TO;case"submenu":return{type:"nestedmenuitem",text:t.text,icon:t.icon,getSubmenuItems:function(){var e=t.getSubmenuItems();return C(e)?e:F(e,AO)}};default:return{type:"menuitem",text:t.text,icon:t.icon,onAction:(e=t.onAction,function(){return e()})}}var e},DO=function(t,e){if(0===e.length)return t;var n=Q(t).filter((function(t){return!OO(t)})).fold((function(){return[]}),(function(t){return[TO]}));return t.concat(n).concat(e).concat([TO])},MO=function(t,e,n){var r=mn().deviceType.isTouch,i=_o(Th.sketch({dom:{tag:"div"},lazySink:e,onEscape:function(){return t.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:ia([$f("dismissContextMenu",[Or(cr(),(function(e,n){hl.close(e),t.focus()}))])])})),o=function(t){return Th.hide(i)},s=function(e){if(EO(t)&&e.preventDefault(),!function(t,e){return e.ctrlKey&&!EO(t)}(t,e)&&!function(t){return!1===t.getParam("contextmenu")}(t)){var o=function(t,e){return"longpress"!==e.type&&(2!==e.button||e.target===t.getBody()&&""===e.pointerType)}(t,e);(r()?SO:wO)(t,e,(function(){var n=o?t.selection.getStart(!0):e.target,r=t.ui.registry.getAll(),i=function(t){return function(t,e,n){var r=t.ui.registry.getAll().contextMenus;return lt(t.settings,"contextmenu").map(kO).getOrThunk((function(){return L(kO("link linkchecker image imagetools table spellchecker configurepermanentpen"),(function(t){return ct(r,t)}))}))}(t)}(t);return function(t,e,n){var r=V(e,(function(e,r){if(ct(t,r)){var i=t[r].update(n);if(C(i))return DO(e,i.split(" "));if(i.length>0){var o=F(i,AO);return DO(e,o)}return e}return e.concat([r])}),[]);return r.length>0&&OO(r[r.length-1])&&r.pop(),r}(r.contextMenus,i,n)}),n,i,o)}};t.on("init",(function(){var e="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(r()?"":" ResizeWindow");t.on(e,o),t.on("longpress contextmenu",s)}))},RO=ft([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),IO=function(t){return function(e){return e.translate(-t.left(),-t.top())}},NO=function(t){return function(e){return e.translate(t.left(),t.top())}},zO=function(t){return function(e,n){return V(t,(function(t,e){return e(t)}),Oo(e,n))}},PO=function(t,e,n){return t.fold(zO([NO(n),IO(e)]),zO([IO(e)]),zO([]))},FO=function(t,e,n){return t.fold(zO([NO(n)]),zO([]),zO([NO(e)]))},BO=function(t,e,n){return t.fold(zO([]),zO([IO(n)]),zO([NO(e),IO(n)]))},LO=function(t,e,n){var r=t.fold((function(t,e){return{position:b.some("absolute"),left:b.some(t+"px"),top:b.some(e+"px")}}),(function(t,e){return{position:b.some("absolute"),left:b.some(t-n.left()+"px"),top:b.some(e-n.top()+"px")}}),(function(t,e){return{position:b.some("fixed"),left:b.some(t+"px"),top:b.some(e+"px")}}));return d({right:b.none(),bottom:b.none()},r)},HO=function(t,e,n,r){var i=function(t,i){return function(o,s){var a=t(e,n,r);return i(o.getOr(a.left()),s.getOr(a.top()))}};return t.fold(i(BO,VO),i(FO,jO),i(PO,UO))},VO=RO.offset,jO=RO.absolute,UO=RO.fixed,$O=function(t,e,n,i){return tt(t,(function(t){var o=t.sensor();return function(t,e,n,r,i,o){var s=FO(t,i,o),a=FO(e,i,o);return Math.abs(s.left()-a.left())<=n&&Math.abs(s.top()-a.top())<=r}(e,o,t.range().left(),t.range().top(),n,i)?b.some({output:r(HO(t.output(),e,n,i)),extra:t.extra}):b.none()}))},WO=function(t,e,n,i,o){var s=e.getSnapPoints(t);return $O(s,n,i,o).orThunk((function(){return V(s,(function(t,e){var r=e.sensor(),s=function(t,e,n,r,i,o){var s=FO(t,i,o),a=FO(e,i,o),u=Math.abs(s.left()-a.left()),l=Math.abs(s.top()-a.top());return Oo(u,l)}(n,r,e.range().left(),e.range().top(),i,o);return t.deltas.fold((function(){return{deltas:b.some(s),snap:b.some(e)}}),(function(n){return(s.left()+s.top())/2<=(n.left()+n.top())/2?{deltas:b.some(s),snap:b.some(e)}:t}))}),{deltas:b.none(),snap:b.none()}).snap.map((function(t){return{output:r(HO(t.output(),n,i,o)),extra:t.extra}}))}))},qO=function(t,e,n,r,i){var o=e.getSnapPoints(t);return $O(o,n,r,i)},GO=Object.freeze({__proto__:null,snapTo:function(t,e,n,r){var i=e.getTarget(t.element());if(e.repositionTarget){var o=Ur(t.element()),s=Fo(o),a=tE(i),u=function(t,e,n){return{coord:HO(t.output(),t.output(),e,n),extra:t.extra()}}(r,s,a),l=LO(u.coord,0,a);oo(i,l)}}}),YO=function(t,e){t.getSystem().addToGui(e),function(t){qr(t.element()).filter(ui).each((function(e){uo(e,"z-index").each((function(t){di(e,"data-initial-z-index",t)})),ro(e,"z-index",so(t.element(),"z-index"))}))}(e)},KO=function(t){!function(t){qr(t.element()).filter(ui).each((function(t){var e=fi(t,"data-initial-z-index");mi(t,"data-initial-z-index")?ro(t,"z-index",e):fo(t,"z-index"),pi(t,"data-initial-z-index")}))}(t),t.getSystem().removeFromGui(t)},XO=function(t,e,n){return t.getSystem().build(lv.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[e]},events:n}))},ZO=Me("snaps",[ve("getSnapPoints"),bs("onSensor"),ve("leftAttr"),ve("topAttr"),Re("lazyViewport",Ko),Re("mustSnap",!1)]),QO=[Re("useFixed",u),ve("blockerClass"),Re("getTarget",i),Re("onDrag",e),Re("repositionTarget",!0),Re("onDrop",e),Be("getBounds",Ko),ZO],JO=function(t,e){return{bounds:t.getBounds(),height:ko(e.element()),width:Io(e.element())}},tT=function(t,e,n,r,i){var o=n.update(r,i),s=n.getStartData().getOrThunk((function(){return JO(e,t)}));o.each((function(n){!function(t,e,n,r){var i=e.getTarget(t.element());if(e.repositionTarget){var o=Ur(t.element()),s=Fo(o),a=tE(i),u=function(t){return(e=uo(t,"left"),n=uo(t,"top"),r=uo(t,"position"),i=function(t,e,n){return("fixed"===n?UO:VO)(parseInt(t,10),parseInt(e,10))},e.isSome()&&n.isSome()&&r.isSome()?b.some(i(e.getOrDie(),n.getOrDie(),r.getOrDie())):b.none()).getOrThunk((function(){var e=Ao(t);return jO(e.left(),e.top())}));var e,n,r,i}(i),l=function(t,e,n,r,i,o,s){return function(t,e,n,r,i){var o=i.bounds,s=FO(e,n,r),a=Aa(s.left(),o.x(),o.x()+o.width()-i.width),u=Aa(s.top(),o.y(),o.y()+o.height()-i.height),l=jO(a,u);return e.fold((function(){var t=BO(l,n,r);return VO(t.left(),t.top())}),(function(){return l}),(function(){var t=PO(l,n,r);return UO(t.left(),t.top())}))}(0,e.fold((function(){var t,e,s,a=(t=n,e=o.left(),s=o.top(),t.fold((function(t,n){return VO(t+e,n+s)}),(function(t,n){return jO(t+e,n+s)}),(function(t,n){return UO(t+e,n+s)}))),u=PO(a,r,i);return UO(u.left(),u.top())}),(function(e){var s=function(t,e,n,r,i,o){var s=function(t,e,n,r){return function(t,e){var n=t.element(),r=parseInt(fi(n,e.leftAttr),10),i=parseInt(fi(n,e.topAttr),10);return isNaN(r)||isNaN(i)?b.none():b.some(Oo(r,i))}(t,e).fold((function(){return n}),(function(t){return UO(t.left()+r.left(),t.top()+r.top())}))}(t,e,n,r),a=e.mustSnap?WO(t,e,s,i,o):qO(t,e,s,i,o),u=PO(s,i,o);return function(t,e,n){var r=t.element();di(r,e.leftAttr,n.left()+"px"),di(r,e.topAttr,n.top()+"px")}(t,e,u),a.fold((function(){return{coord:UO(u.left(),u.top()),extra:b.none()}}),(function(t){return{coord:t.output(),extra:t.extra()}}))}(t,e,n,o,r,i);return s.extra.each((function(n){e.onSensor(t,n)})),s.coord})),r,i,s)}(t,e.snaps,u,s,a,r,n),c=LO(l,0,a);oo(i,c)}e.onDrag(t,i,r)}(t,e,s,n)}))},eT=function(t,e,n,r){e.each(KO),n.snaps.each((function(e){!function(t,e){!function(t,e){var n=t.element();pi(n,e.leftAttr),pi(n,e.topAttr)}(t,e)}(t,e)}));var i=n.getTarget(t.element());r.reset(),n.onDrop(t,i)},nT=function(t){return function(e,n){var r=function(t){n.setStartData(JO(e,t))};return Sr(h([Or(sr(),(function(t){n.getStartData().each((function(){return r(t)}))}))],t(e,n,r)))}},rT=Object.freeze({__proto__:null,getData:function(t){return b.from(Oo(t.x(),t.y()))},getDelta:function(t,e){return Oo(e.left()-t.left(),e.top()-t.top())}}),iT=function(t,e,n){return[Or(Rn(),(function(r,i){if(0===i.event().raw().button){i.stop();var o=function(){return eT(r,b.some(a),t,e)},s=Qg(o,200),a=XO(r,t.blockerClass,(u={drop:o,delayDrop:s.schedule,forceDrop:o,move:function(n){s.cancel(),tT(r,t,e,rT,n)}},Sr([Or(Rn(),u.forceDrop),Or(zn(),u.drop),Or(In(),(function(t,e){u.move(e.event())})),Or(Nn(),u.delayDrop)])));n(r),YO(r,a)}var u}))]},oT=h(QO,[xs("dragger",{handlers:nT(iT)})]),sT=Object.freeze({__proto__:null,getData:function(t){var e=t.raw().touches;return 1===e.length?function(t){var e=t[0];return b.some(Oo(e.clientX,e.clientY))}(e):b.none()},getDelta:function(t,e){return Oo(e.left()-t.left(),e.top()-t.top())}}),aT=function(t,e,n){var r=Ve(b.none());return[Or(Tn(),(function(i,o){o.stop();var s,a=function(){eT(i,r.get(),t,e),r.set(b.none())},u=XO(i,t.blockerClass,(s={drop:a,delayDrop:function(){},forceDrop:a,move:function(n){tT(i,t,e,sT,n)}},Sr([Or(Tn(),s.forceDrop),Or(Dn(),s.drop),Or(Mn(),s.drop),Or(An(),(function(t,e){s.move(e.event())}))])));r.set(b.some(u)),n(i),YO(i,u)})),Or(An(),(function(n,r){r.stop(),tT(n,t,e,sT,r.event())})),Or(Dn(),(function(n,i){i.stop(),eT(n,r.get(),t,e),r.set(b.none())})),Or(Mn(),(function(n){eT(n,r.get(),t,e),r.set(b.none())}))]},uT=h(QO,[xs("dragger",{handlers:nT(aT)})]),lT=h(QO,[xs("dragger",{handlers:nT((function(t,e,n){return h(iT(t,e,n),aT(t,e,n))}))})]),cT=Object.freeze({__proto__:null,mouse:oT,touch:uT,mouseOrTouch:lT}),dT=Object.freeze({__proto__:null,init:function(){var t=b.none(),e=b.none(),n=r({});return Fi({readState:n,reset:function(){t=b.none(),e=b.none()},update:function(e,n){return e.getData(n).bind((function(n){return function(e,n){var r=t.map((function(t){return e.getDelta(t,n)}));return t=b.some(n),r}(e,n)}))},getStartData:function(){return e},setStartData:function(t){e=b.some(t)}})}}),fT=ua({branchKey:"mode",branches:cT,name:"dragging",active:{events:function(t,e){return t.dragger.handlers(t,e)}},extra:{snap:jr(["sensor","range","output"],["extra"])},state:dT,apis:GO}),hT=mn(),mT=function(t,e,n,r,i,o){return t.fold((function(){return fT.snap({sensor:jO(n-20,r-20),range:Oo(i,o),output:jO(b.some(n),b.some(r)),extra:{td:e}})}),(function(t){var i=n-20,o=r-20,s=t.element().dom().getBoundingClientRect();return fT.snap({sensor:jO(i,o),range:Oo(40,40),output:jO(b.some(n-s.width/2),b.some(r-s.height/2)),extra:{td:e}})}))},pT=function(t,e,n){return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(t,r){var i=r.td;(function(t,e){return t.exists((function(t){return xn(t,e)}))})(e.get(),i)||(e.set(b.some(i)),n(i))},mustSnap:!0}},gT=function(t){return um(am.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:ia([fT.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),bb.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))};!function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"}(wk||(wk={}));var vT,bT=function(t){if(1===t.nodeType){if("BR"===t.nodeName||t.getAttribute("data-mce-bogus"))return!0;if("bookmark"===t.getAttribute("data-mce-type"))return!0}return!1},yT=function(t,e){return{dom:{tag:"div",classes:["tox-statusbar"]},components:function(){var n=function(){var n,r=[];return t.getParam("elementpath",!0,"boolean")&&r.push(function(t,e){return e.delimiter||(e.delimiter="\xbb"),{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:ia([Bf.config({mode:"flow",selector:"div[role=button]"}),Xv.config({}),Uf.config({}),$f("elementPathEvents",[zr((function(n,r){t.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return Bf.focusIn(n)})),t.on("NodeChange",(function(r){var i,o,s=function(e){for(var n=[],r=e.length;r-- >0;){var i=e[r];if(1===i.nodeType&&!bT(i)){var o=t.fire("ResolveName",{name:i.nodeName.toLowerCase(),target:i});if(o.isDefaultPrevented()||n.push({name:o.name,element:i}),o.isPropagationStopped())break}}return n}(r.parents);Uf.set(n,s.length>0?(i=F(s||[],(function(e,n){return am.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":n,"tab-index":-1,"aria-level":n+1},innerHtml:e.name},action:function(n){t.focus(),t.selection.select(e.element),t.nodeChanged()}})})),o={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+e.delimiter+" "}},V(i.slice(1),(function(t,e){var n=t;return n.push(o),n.push(e),n}),[i[0]])):[])}))}))])]),components:[]}}(t,{})),an(t.settings.plugins,"wordcount")&&r.push(function(t,e){var n=function(t,n,r){return Uf.set(t,[vo(e.translate(["{0} "+r,n[r]]))])};return am.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:ia([Xv.config({}),Uf.config({}),Il.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),$f("wordcount-events",[Br((function(t){var e=Il.getValue(t),r="words"===e.mode?"characters":"words";Il.setValue(t,{mode:r,count:e.count}),n(t,e.count,r)})),zr((function(e){t.on("wordCountUpdate",(function(t){var r=Il.getValue(e).mode;Il.setValue(e,{mode:r,count:t.wordCount}),n(e,t.wordCount,r)}))}))])])})}(t,e)),t.getParam("branding",!0,"boolean")&&r.push({dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:'<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+(n=qm.translate(["Powered by {0}","Tiny"]))+'">'+n+"</a>"}}),r.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:r}]:[]}(),r=function(t){var e=!an(t.settings.plugins,"autoresize"),n=t.getParam("resize",e);return!1===n?wk.None:"both"===n?wk.Both:wk.Vertical}(t);return r!==wk.None&&n.push(function(n){return{dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:e.translate("Resize"),"aria-hidden":"true"},innerHtml:cm("resize-handle",e.icons)},behaviours:ia([fT.config({mode:"mouse",repositionTarget:!1,onDrag:function(e,r,i){!function(t,e,n){var r=qe(t.getContainer()),i=function(t,e,n,r,i){var o={};return o.height=aO(r+e.top(),qh(t),Yh(t)),n===wk.Both&&(o.width=aO(i+e.left(),Wh(t),Gh(t))),o}(t,e,n,So(r),Ro(r));rt(i,(function(t,e){return ro(r,e,lO(t))})),function(t){t.fire("ResizeEditor")}(t)}(t,i,n)},blockerClass:"tox-blocker"})])}}(r)),n}()}},_T=function(e){var n,r=e.inline,i=r?fO:sO,o=sm(e)?wE:kE,s=b.none(),a=mn(),u=a.browser.isIE()?["tox-platform-ie"]:[],l=a.deviceType.isTouch()?["tox-platform-touch"]:[],c=nm(e),f=qm.isRtl()?{attributes:{dir:"rtl"}}:{},h={attributes:(n={},n[$a]=c?ss.TopToBottom:ss.BottomToTop,n)},m=function(){return s.bind(YE.getHeader)},p=_o({dom:d({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(u).concat(l)},f),behaviours:ia([Wu.config({useFixed:function(){return o.isDocked(m)}})])}),g=function(){return w.value(p)},v=um({dom:{tag:"div",classes:["tox-anchorbar"]}}),y=function(){return s.bind((function(t){return YE.getThrobber(t)})).getOrDie("Could not find throbber element")},_=function(t,e,n){var r=Ve(!1),i={shared:{providers:{icons:function(){return e.ui.registry.getAll().icons},menuItems:function(){return e.ui.registry.getAll().menuItems},translate:qm.translate},interpreter:function(t){return function(t,e){return Ix(Mx,t,e)}(t,i)},anchors:Lx(e,(function(){return s.bind((function(t){return v.getOpt(t)})).getOrDie("Could not find a anchor bar element")})),getSink:function(){return w.value(t)}},urlinput:CC(e),styleselect:Qx(e),colorinput:$x(e),dialog:qx(e),isContextMenuOpen:function(){return r.get()},setContextMenuState:function(t){return r.set(t)}};return i}(p,e),x=YE.parts().menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:_,onEscape:function(){e.focus()}}),C=tm(e),S=YE.parts().toolbar(d({dom:{tag:"div",classes:["tox-toolbar"]},getSink:g,backstage:_,onEscape:function(){e.focus()},type:C,lazyToolbar:function(){return s.bind((function(t){return YE.getToolbar(t)})).getOrDie("Could not find more toolbar element")},lazyHeader:function(){return m().getOrDie("Could not find header element")}},h)),k=YE.parts()["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},onEscape:function(){},type:C}),E=YE.parts().socket({dom:{tag:"div",classes:["tox-edit-area"]}}),O=YE.parts().sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),A=YE.parts().throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:_}),D=e.getParam("statusbar",!0,"boolean")&&!r?b.some(yT(e,_.shared.providers)):b.none(),M={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[E,O]},R=Qh(e),I=Xh(e),N=Kh(e),z=YE.parts().header({dom:d({tag:"div",classes:["tox-editor-header"]},h),components:$([N?[x]:[],R?[k]:I?[S]:[],im(e)?[]:[v.asSpec()]]),sticky:sm(e),editor:e,getSink:g}),P=$([c?[z]:[],r?[]:[M],c?[]:[z]]),L=$([[{dom:{tag:"div",classes:["tox-editor-container"]},components:P}],r?[]:D.toArray(),[A]]),H=om(e),V=d(d({role:"application"},qm.isRtl()?{dir:"rtl"}:{}),H?{"aria-hidden":"true"}:{}),j=_o(YE.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(r?["tox-tinymce-inline"]:[]).concat(c?[]:["tox-tinymce--toolbar-bottom"]).concat(l).concat(u),styles:d({visibility:"hidden"},H?{opacity:"0",border:"0"}:{}),attributes:V},components:L,behaviours:ia([Bf.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a"})])}));s=b.some(j),e.shortcuts.add("alt+F9","focus menubar",(function(){YE.focusMenubar(j)})),e.shortcuts.add("alt+F10","focus toolbar",(function(){YE.focusToolbar(j)}));var U=cv(j),W=cv(p);!function(e,n,r){var i=function(t,e){B([n,r],(function(n){n.broadcastEvent(t,e)}))},o=function(t,e){B([n,r],(function(n){n.broadcastOn([t],e)}))},s=function(t){return o(ml(),{target:t.target()})},a=Yg(qe(t.document),"touchstart",s),u=Yg(qe(t.document),"touchmove",(function(t){return i(ir(),t)})),l=Yg(qe(t.document),"touchend",(function(t){return i(or(),t)})),c=Yg(qe(t.document),"mousedown",s),d=Yg(qe(t.document),"mouseup",(function(t){0===t.raw().button&&o(gl(),{target:t.target()})})),f=function(t){return o(ml(),{target:qe(t.target)})},h=function(t){0===t.button&&o(gl(),{target:qe(t.target)})},m=function(t){return i(sr(),Xg(t))},p=function(t){o(pl(),{}),i(ar(),Xg(t))},g=function(){return o(pl(),{})};e.on("PostRender",(function(){e.on("click",f),e.on("tap",f),e.on("mouseup",h),e.on("ScrollWindow",m),e.on("ResizeWindow",p),e.on("ResizeEditor",g)})),e.on("remove",(function(){e.off("click",f),e.off("tap",f),e.off("mouseup",h),e.off("ScrollWindow",m),e.off("ResizeWindow",p),e.off("ResizeEditor",g),c.unbind(),a.unbind(),u.unbind(),l.unbind(),d.unbind()})),e.on("detach",(function(){rl(n),rl(r),n.destroy(),r.destroy()}))}(e,U,W);return{mothership:U,uiMothership:W,backstage:_,renderUI:function(){o.setup(e,m),pO(e,_),MO(e,g,_),function(t){var e=t.ui.registry.getAll().sidebars;B(et(e),(function(n){var r=e[n],i=function(){return b.from(t.queryCommandValue("ToggleSidebar")).is(n)};t.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:function(e){t.execCommand("ToggleSidebar",!1,n),e.setActive(i())},onSetup:function(e){var n=function(){return e.setActive(i())};return t.on("ToggleSidebar",n),function(){t.off("ToggleSidebar",n)}}})}))}(e),function(t,e,n){var r=Ve(!1),i=Ve(b.none()),o=function(t){t!==r.get()&&(function(t,e,n){var r=t.element();!0===e?(Uf.set(t,[HE(n)]),fo(r,"display"),pi(r,"aria-hidden")):(Uf.set(t,[]),ro(r,"display","none"),di(r,"aria-hidden","true"))}(e(),t,n.providers),r.set(t))};t.on("ProgressState",(function(e){if(i.get().each(Hh.clearTimeout),T(e.time)){var n=Hh.setEditorTimeout(t,(function(){return o(e.state)}),e.time);i.set(b.some(n))}else o(e.state),i.set(b.none())}))}(e,y,_.shared),it(function(t){return t.getParam("toolbar_groups",{},"object")}(e),(function(t,n){e.ui.registry.addGroupToolbarButton(n,t)}));var t=e.ui.registry.getAll(),n=t.buttons,r=t.menuItems,s=t.contextToolbars,a=t.sidebars,u=Zh(e),l={menuItems:r,menus:e.settings.menu?it(e.settings.menu,(function(t){return d(d({},t),{items:t.items})})):{},menubar:e.settings.menubar,toolbar:u.getOrThunk((function(){return e.getParam("toolbar",!0)})),allowToolbarGroups:C===cd.floating,buttons:n,sidebar:a};qk(e,s,p,{backstage:_}),function(t,e){var n=Ve([]),r=Ve([]),i=Ve(!1),o=Ve(b.none()),s=Ve(b.none()),a=function(t){var n=Yo(t);return mT(d.getOpt(e),t,n.x(),n.y(),n.width(),n.height())},u=function(t){var n=Yo(t);return mT(f.getOpt(e),t,n.right(),n.bottom(),n.width(),n.height())},l=pT((function(){return F(n.get(),(function(t){return a(t)}))}),o,(function(e){s.get().each((function(n){t.fire("TableSelectorChange",{start:e,finish:n})}))})),c=pT((function(){return F(r.get(),(function(t){return u(t)}))}),s,(function(e){o.get().each((function(n){t.fire("TableSelectorChange",{start:n,finish:e})}))})),d=gT(l),f=gT(c),h=_o(d.asSpec()),m=_o(f.asSpec()),p=function(e,n,r,i){var o=r(n);fT.snapTo(e,o),function(e,n,r,o){var s=n.dom().getBoundingClientRect();fo(e.element(),"display");var a=Wr(qe(t.getBody())).dom().innerHeight,u=function(t){return t[i]<0}(s),l=function(t,e){return t[i]>e}(s,a);(u||l)&&ro(e.element(),"display","none")}(e,n)},g=function(t){return p(h,t,a,"top")},v=function(t){return p(m,t,u,"bottom")};hT.deviceType.isTouch()&&(t.on("TableSelectionChange",(function(t){i.get()||(Xu(e,h),Xu(e,m),i.set(!0)),o.set(b.some(t.start)),s.set(b.some(t.finish)),t.otherCells.each((function(e){n.set(e.upOrLeftCells),r.set(e.downOrRightCells),g(t.start),v(t.finish)}))})),t.on("ResizeEditor ResizeWindow ScrollContent",(function(){o.get().each(g),s.get().each(v)})),t.on("TableSelectionClear",(function(){i.get()&&(Ju(h),Ju(m),i.set(!1)),o.set(b.none()),s.set(b.none())})))}(e,p);var c,f,h=e.getElement(),v=(c=lO(function(t){return function(t){var e=Uh(t),n=qh(t),r=Yh(t);return uO(e).map((function(t){return aO(t,n,r)}))}(t).getOr(Uh(t))}(e)),f=lO(function(t){return cO(t).getOr($h(t))}(e)),e.inline||(co("div","width",f)&&ro(j.element(),"width",f),co("div","height",c)?ro(j.element(),"height",c):ro(j.element(),"height","200px")),c);return i.render(e,{mothership:U,uiMothership:W,outerContainer:j},l,_,{targetNode:h,height:v})},getUi:function(){return{channels:{broadcastAll:W.broadcast,broadcastOn:W.broadcastOn,register:function(){}}}}}},wT=r([ve("lazySink"),Ee("dragBlockClass"),Be("getBounds",Ko),Re("useTabstopAt",r(!0)),Re("eventOrder",{}),Nl("modalBehaviours",[Bf]),ys("onExecute"),ws("onEscape")]),xT={sketch:i},CT=r([uc({name:"draghandle",overrides:function(t,e){return{behaviours:ia([fT.config({mode:"mouse",getTarget:function(t){return es(t,'[role="dialog"]').getOr(t)},blockerClass:t.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(e,null,2)).message),getBounds:t.getDragBounds})])}}}),sc({schema:[ve("dom")],name:"title"}),sc({factory:xT,schema:[ve("dom")],name:"close"}),sc({factory:xT,schema:[ve("dom")],name:"body"}),uc({factory:xT,schema:[ve("dom")],name:"footer"}),ac({factory:{sketch:function(t,e){return d(d({},t),{dom:e.dom,components:e.components})}},schema:[Re("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Re("components",[])],name:"blocker"})]),ST=zc({name:"ModalDialog",configFields:wT(),partFields:CT(),factory:function(t,e,n,r){var o=_i("alloy.dialog.busy"),s=_i("alloy.dialog.idle"),a=ia([Bf.config({mode:"special",onTab:function(){return b.some(!0)},onShiftTab:function(){return b.some(!0)}}),Kf.config({})]),u=_i("modal-events"),l=d(d({},t.eventOrder),{"alloy.system.attached":[u].concat(t.eventOrder["alloy.system.attached"]||[])});return{uid:t.uid,dom:t.dom,components:e,apis:{show:function(e){var n=t.lazySink(e).getOrDie(),i=Ve(b.none()),u=r.blocker(),l=n.getSystem().build(d(d({},u),{components:u.components.concat([wo(e)]),behaviours:ia([Kf.config({}),$f("dialog-blocker-events",[Nr(Fn(),(function(){Bf.focusIn(e)})),Or(s,(function(t,n){mi(e.element(),"aria-busy")&&(pi(e.element(),"aria-busy"),i.get().each((function(t){return Uf.remove(e,t)})))})),Or(o,(function(t,n){di(e.element(),"aria-busy","true");var r=n.event().getBusySpec();i.get().each((function(t){Uf.remove(e,t)}));var o=r(e,a),s=t.getSystem().build(o);i.set(b.some(s)),Uf.append(e,wo(s)),s.hasConfigured(Bf)&&Bf.focusIn(s)}))])])}));Xu(n,l),Bf.focusIn(e)},hide:function(t){qr(t.element()).each((function(e){t.getSystem().getByDom(e).each((function(t){Ju(t)}))}))},getBody:function(e){return wc(e,t,"body")},getFooter:function(e){return wc(e,t,"footer")},setIdle:function(t){br(t,s)},setBusy:function(t,e){yr(t,o,{getBusySpec:e})}},eventOrder:l,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Pl(t.modalBehaviours,[Uf.config({}),Bf.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),$f(u,[zr((function(e){var n,r,o,s,a,u;s=e.element(),a=wc(e,t,"title").element(),u=b.from(fi(s,"id")).fold((function(){var t=_i("dialog-label");return di(a,"id",t),t}),i),di(s,"aria-labelledby",u),n=e.element(),r=wc(e,t,"body").element(),o=b.from(fi(n,"id")).fold((function(){var t=_i("dialog-describe");return di(r,"id",t),t}),i),di(n,"aria-describedby",o)}))])])}},apis:{show:function(t,e){t.show(e)},hide:function(t,e){t.hide(e)},getBody:function(t,e){return t.getBody(e)},getFooter:function(t,e){return t.getFooter(e)},setBusy:function(t,e,n){t.setBusy(e,n)},setIdle:function(t,e){t.setIdle(e)}}}),kT=[_e("type"),_e("text"),we("level",["info","warn","error","success"]),_e("icon"),Re("url","")],ET=Wt(kT),OT=[_e("type"),_e("text"),Fe("disabled",!1),Fe("primary",!1),Xt("name","name",Dt((function(){return _i("button-name")})),de),Ae("icon"),Fe("borderless",!1)],TT=Wt(OT),AT=[_e("type"),_e("name"),_e("label"),Fe("disabled",!1)],DT=Wt(AT),MT=fe,RT=[_e("type"),_e("name")],IT=RT.concat([Ae("label")]),NT=Wt(IT),zT=de,PT=Wt(IT),FT=de,BT=Wt(IT),LT=qt(Qt),HT=function(t){return[_e("type"),ye("columns"),t]},VT=IT.concat([Fe("sandboxed",!0)]),jT=Wt(VT),UT=de,$T=IT.concat([Ae("inputMode"),Ae("placeholder"),Fe("maximized",!1),Fe("disabled",!1)]),WT=Wt($T),qT=de,GT=IT.concat([Se("items",[_e("text"),_e("value")]),Ne("size",1),Fe("disabled",!1)]),YT=Wt(GT),KT=de,XT=IT.concat([Fe("constrain",!0),Fe("disabled",!1)]),ZT=Wt(XT),QT=Wt([_e("width"),_e("height")]),JT=IT.concat([Ae("placeholder"),Fe("maximized",!1),Fe("disabled",!1)]),tA=Wt(JT),eA=de,nA=IT.concat([Pe("filetype","file",["image","media","file"]),Re("disabled",!1)]),rA=Wt(nA),iA=Wt([_e("value"),Re("meta",{})]),oA=RT.concat([ze("tag","textarea"),_e("scriptId"),_e("scriptUrl"),Ie("settings",void 0,pe)]),sA=RT.concat([ze("tag","textarea"),xe("init")]),aA=te((function(t){return ne("customeditor.old",$t(sA),t).orThunk((function(){return ne("customeditor.new",$t(oA),t)}))})),uA=de,lA=[_e("type"),_e("html"),Pe("presets","presentation",["presentation","document"])],cA=Wt(lA),dA=IT.concat([be("currentState",Wt([ve("blob"),_e("url")]))]),fA=Wt(dA),hA=IT.concat([Re("columns","auto")]),mA=Wt(hA),pA=Jt([_e("value"),_e("text"),_e("icon")]),gA=function(t){return[_e("type"),_e("label"),t]},vA=[_e("type"),ke("header",de),ke("cells",qt(de))],bA=Wt(vA),yA=function(t){return Xt("items","items",Tt(),qt(te((function(e){return ne("Checking item of "+t,_A,e).fold((function(t){return w.error(oe(t))}),(function(t){return w.value(t)}))}))))},_A=(vT=function(){return se("type",{alertbanner:ET,bar:Wt((t=yA("bar"),[_e("type"),t])),button:TT,checkbox:DT,colorinput:NT,colorpicker:PT,dropzone:BT,grid:Wt(HT(yA("grid"))),iframe:jT,input:WT,selectbox:YT,sizeinput:ZT,textarea:tA,urlinput:rA,customeditor:aA,htmlpanel:cA,imagetools:fA,collection:mA,label:Wt(gA(yA("label"))),table:bA,panel:xA});var t},{extract:function(t,e,n){return vT().extract(t,e,n)},toString:function(){return vT().toString()}}),wA=[_e("type"),Re("classes",[]),ke("items",_A)],xA=Wt(wA),CA=[Xt("name","name",Dt((function(){return _i("tab-name")})),de),_e("title"),ke("items",_A)],SA=[_e("type"),Se("tabs",CA)],kA=Wt(SA),EA=Wt([_e("type"),_e("name")].concat(Dm)),OA=fe,TA=[Xt("name","name",Dt((function(){return _i("button-name")})),de),Ae("icon"),Pe("align","end",["start","end"]),Fe("primary",!1),Fe("disabled",!1)],AA=h(TA,[_e("text")]),DA=h([we("type",["submit","cancel","custom"])],AA),MA=h([we("type",["menu"]),Ae("text"),Ae("tooltip"),Ae("icon"),ke("items",EA)],TA),RA=AA,IA=ae("type",{submit:DA,cancel:DA,custom:DA,menu:MA}),NA=Wt([_e("title"),be("body",se("type",{panel:xA,tabpanel:kA})),ze("size","normal"),ke("buttons",IA),Re("initialData",{}),Be("onAction",e),Be("onChange",e),Be("onSubmit",e),Be("onClose",e),Be("onCancel",e),Re("onTabChange",e)]),zA=function(t){return S(t)?[t].concat(W(ut(t),zA)):k(t)?W(t,zA):[]},PA=function(t){return C(t.type)&&C(t.name)},FA={checkbox:MT,colorinput:zT,colorpicker:FT,dropzone:LT,input:qT,iframe:UT,sizeinput:QT,selectbox:KT,size:QT,textarea:eA,urlinput:iA,customeditor:uA,collection:pA,togglemenuitem:OA},BA=function(t){var e=function(t){return L(zA(t),PA)}(t),n=W(e,(function(t){return function(t){return b.from(FA[t.type])}(t).fold((function(){return[]}),(function(e){return[be(t.name,e)]}))}));return Wt(n)},LA=Wt(h([we("type",["cancel","custom"])],RA)),HA=Wt([_e("title"),_e("url"),Te("height"),Te("width"),function(t,e){return Oe("buttons",qt(e))}(0,LA),Be("onAction",e),Be("onCancel",e),Be("onClose",e),Be("onMessage",e)]),VA=function(t){return{internalDialog:re(ne("dialog",NA,t)),dataValidator:BA(t),initialData:t.initialData}},jA={open:function(t,e){var n=VA(e);return t(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(t,e){return t(re(ne("dialog",HA,e)))},redial:function(t){return VA(t)}},UA=function(t){var e=[],n={};return rt(t,(function(t,r){t.fold((function(){e.push(r)}),(function(t){n[r]=t}))})),e.length>0?w.error(e):w.value(n)},$A=function(e,n){var r,i=um(l_.sketch((function(t){return{dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:F(e.items,(function(e){return Rx(t,e,n)}))}})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[i.asSpec()]}],behaviours:ia([Bf.config({mode:"acyclic",useTabstopAt:s(T_)}),(r=i,Hc.config({find:r.getOpt})),w_(i,{postprocess:function(e){return UA(e).fold((function(e){return t.console.error(e),{}}),(function(t){return t}))}})])}},WA=Nc({name:"TabButton",configFields:[Re("uid",void 0),ve("value"),Xt("dom","dom",Mt((function(){return{attributes:{role:"tab",id:_i("aria"),"aria-selected":"false"}}})),ue()),Ee("action"),Re("domModification",{}),Nl("tabButtonBehaviours",[Kf,Bf,Il]),ve("view")],factory:function(t,e){return{uid:t.uid,dom:t.dom,components:t.components,events:lh(t.action),behaviours:Pl(t.tabButtonBehaviours,[Kf.config({}),Bf.config({mode:"execution",useSpace:!0,useEnter:!0}),Il.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}}}),qA=r([ve("tabs"),ve("dom"),Re("clickToDismiss",!1),Nl("tabbarBehaviours",[Xc,Bf]),gs(["tabClass","selectedClass"])]),GA=lc({factory:WA,name:"tabs",unit:"tab",overrides:function(t){var n=function(t,e){Xc.dehighlight(t,e),yr(t,pr(),{tabbar:t,button:e})},r=function(t,e){Xc.highlight(t,e),yr(t,mr(),{tabbar:t,button:e})};return{action:function(i){var o=i.getSystem().getByUid(t.uid).getOrDie(),s=Xc.isHighlighted(o,i);(s&&t.clickToDismiss?n:s?e:r)(o,i)},domModification:{classes:[t.markers.tabClass]}}}}),YA=r([GA]),KA=zc({name:"Tabbar",configFields:qA(),partFields:YA(),factory:function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Pl(t.tabbarBehaviours,[Xc.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(t,e){di(e.element(),"aria-selected","true")},onDehighlight:function(t,e){di(e.element(),"aria-selected","false")}}),Bf.config({mode:"flow",getInitial:function(t){return Xc.getHighlighted(t).map((function(t){return t.element()}))},selector:"."+t.markers.tabClass,executeOnMove:!0})])}}}),XA=Nc({name:"Tabview",configFields:[Nl("tabviewBehaviours",[Uf])],factory:function(t,e){return{uid:t.uid,dom:t.dom,behaviours:Pl(t.tabviewBehaviours,[Uf.config({})]),domModification:{attributes:{role:"tabpanel"}}}}}),ZA=r([Re("selectFirst",!0),bs("onChangeTab"),bs("onDismissTab"),Re("tabs",[]),Nl("tabSectionBehaviours",[])]),QA=sc({factory:KA,schema:[ve("dom"),Ce("markers",[ve("tabClass"),ve("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),JA=sc({factory:XA,name:"tabview"}),tD=r([QA,JA]),eD=zc({name:"TabSection",configFields:ZA(),partFields:tD(),factory:function(t,e,n,r){var i=function(e,n){_c(e,t,"tabbar").each((function(t){n(t).each(_r)}))};return{uid:t.uid,dom:t.dom,components:e,behaviours:zl(t.tabSectionBehaviours),events:Sr($([t.selectFirst?[zr((function(t,e){i(t,Xc.getFirst)}))]:[],[Or(mr(),(function(e,n){var r,i;r=n.event().button(),i=Il.getValue(r),_c(r,t,"tabview").each((function(e){j(t.tabs,(function(t){return t.value===i})).each((function(n){var i=n.view();hi(r.element(),"id").each((function(t){di(e.element(),"aria-labelledby",t)})),Uf.set(e,i),t.onChangeTab(e,r,i)}))}))})),Or(pr(),(function(e,n){var r=n.event().button();t.onDismissTab(e,r)}))]])),apis:{getViewItems:function(e){return _c(e,t,"tabview").map((function(t){return Uf.contents(t)})).getOr([])},showTab:function(t,e){i(t,(function(t){var n=Xc.getCandidates(t);return j(n,(function(t){return Il.getValue(t)===e})).filter((function(e){return!Xc.isHighlighted(t,e)}))}))}}}},apis:{getViewItems:function(t,e){return t.getViewItems(e)},showTab:function(t,e,n){t.showTab(e,n)}}}),nD=function(t,e){ro(t,"height",e+"px"),mn().browser.isIE()?fo(t,"flex-basis"):ro(t,"flex-basis",e+"px")},rD=function(e,n,r){es(e,'[role="dialog"]').each((function(e){ns(e,'[role="tablist"]').each((function(i){r.get().map((function(r){return ro(n,"height","0"),ro(n,"flex-basis","0"),Math.min(r,function(e,n,r){var i,o=$r(e).dom(),s=es(e,".tox-dialog-wrap").getOr(e);i="fixed"===so(s,"position")?Math.max(o.clientHeight,t.window.innerHeight):Math.max(o.offsetHeight,o.scrollHeight);var a=So(n),u=n.dom().offsetLeft>=r.dom().offsetLeft+Ro(r)?Math.max(So(r),a):a,l=parseInt(so(e,"margin-top"),10)||0,c=parseInt(so(e,"margin-bottom"),10)||0;return i-(So(e)+l+c-u)}(e,n,i))})).each((function(t){nD(n,t)}))}))}))},iD=function(t){return ns(t,'[role="tabpanel"]')},oD=function(t,e){var n=Ve({}),r=function(t){var e=Il.getValue(t),r=UA(e).getOr({}),i=n.get(),o=pt(i,r);n.set(o)},i=function(t){var e=n.get();Il.setValue(t,e)},o=Ve(null),a=F(t.tabs,(function(t){return{value:t.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:e.shared.providers.translate(t.title)},view:function(){return[l_.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"]},components:F(t.items,(function(t){return Rx(n,t,e)})),formBehaviours:ia([Bf.config({mode:"acyclic",useTabstopAt:s(T_)}),$f("TabView.form.events",[zr(i),Pr(r)]),fa.config({channels:zt([{key:"send-data-to-section",value:{onReceive:r}},{key:"send-data-to-view",value:{onReceive:i}}])})])}}))]}}})),u=function(t){var e;return{smartTabHeight:(e=Ve(b.none()),{extraEvents:[zr((function(n){var r=n.element();iD(r).each((function(i){ro(i,"visibility","hidden"),n.getSystem().getByDom(i).toOption().each((function(n){var r,o=(r=function(t,e,n){return F(t,(function(r,i){Uf.set(n,t[i].view());var o=e.dom().getBoundingClientRect();return Uf.set(n,[]),o.height}))}(t,i,n),Z(X(r,(function(t,e){return t>e?-1:t<e?1:0}))));e.set(o)})),rD(r,i,e),fo(i,"visibility"),function(t,e){Z(t).each((function(t){return eD.showTab(e,t.value)}))}(t,n),Hh.requestAnimationFrame((function(){rD(r,i,e)}))}))})),Or(ar(),(function(t){var n=t.element();iD(n).each((function(t){rD(n,t,e)}))})),Or(yv,(function(t,n){var r=t.element();iD(r).each((function(t){var n=pa();ro(t,"visibility","hidden");var i=uo(t,"height").map((function(t){return parseInt(t,10)}));fo(t,"height"),fo(t,"flex-basis");var o=t.dom().getBoundingClientRect().height;i.forall((function(t){return o>t}))?(e.set(b.from(o)),rD(r,t,e)):i.each((function(e){nD(t,e)})),fo(t,"visibility"),n.each(ma)}))}))],selectFirst:!1}),naiveTabHeight:{extraEvents:[],selectFirst:!0}}}(a).smartTabHeight;return eD.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(t,e,n){var r=Il.getValue(e);yr(t,bv,{name:r,oldName:o.get()}),o.set(r)},tabs:a,components:[eD.parts().tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[KA.parts().tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:ia([Xv.config({})])}),eD.parts().tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:u.selectFirst,tabSectionBehaviours:ia([$f("tabpanel",u.extraEvents),Bf.config({mode:"acyclic"}),Hc.config({find:function(t){return Z(eD.getViewItems(t))}}),Il.config({store:{mode:"manual",getValue:function(t){return t.getSystem().broadcastOn(["send-data-to-section"],{}),n.get()},setValue:function(t,e){n.set(e),t.getSystem().broadcastOn(["send-data-to-view"],{})}}})])})},sD=_i("update-dialog"),aD=_i("update-title"),uD=_i("update-body"),lD=_i("update-footer"),cD=_i("body-send-message"),dD=function(t,e,n,r){return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:d(d({},e.map((function(t){return{id:t}})).getOr({})),r?{"aria-live":"polite"}:{})},components:[],behaviours:ia([p_(0),KS.config({channel:uD,updateState:function(t,e){return b.some({isTabPanel:function(){return"tabpanel"===e.body.type}})},renderComponents:function(t){switch(t.body.type){case"tabpanel":return[oD(t.body,n)];default:return[$A(t.body,n)]}},initialData:t})])}},fD=Jm.deviceType.isTouch(),hD=function(t,e){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,e]}},mD=function(t,e){return ST.parts().close(am.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close")}},action:t,buttonBehaviours:ia([Xv.config({})])}))},pD=function(){return ST.parts().title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},gD=function(t,e){return ST.parts().body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:LE("<p>"+e.translate(t)+"</p>")}]}]})},vD=function(t){return ST.parts().footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},bD=function(t,e){return[lv.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),lv.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:e})]},yD=function(t){var e,n="tox-dialog",r=n+"-wrap",i=r+"__backdrop",o=n+"__disable-scroll";return ST.sketch({lazySink:t.lazySink,onEscape:function(e){return t.onEscape(e),b.some(!0)},useTabstopAt:function(t){return!T_(t)},dom:{tag:"div",classes:[n].concat(t.extraClasses),styles:d({position:"relative"},t.extraStyles)},components:h([t.header,t.body],t.footer.toArray()),parts:{blocker:{dom:LE('<div class="'+r+'"></div>'),components:[{dom:{tag:"div",classes:fD?[i,i+"--opaque"]:[i]}}]}},dragBlockClass:r,modalBehaviours:ia(h([Kf.config({}),$f("dialog-events",t.dialogEvents.concat([Nr(Fn(),(function(t,e){Bf.focusIn(t)}))])),$f("scroll-lock",[zr((function(){qi(Ji(),o)})),Pr((function(){Gi(Ji(),o)}))])],t.extraBehaviours)),eventOrder:d((e={},e[Zn()]=["dialog-events"],e[ur()]=["scroll-lock","dialog-events","alloy.base.behaviour"],e[lr()]=["alloy.base.behaviour","dialog-events","scroll-lock"],e),t.eventOrder)})},_D=function(t){return am.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M17.953 7.453L13.422 12l4.531 4.547-1.406 1.406L12 13.422l-4.547 4.531-1.406-1.406L10.578 12 6.047 7.453l1.406-1.406L12 10.578l4.547-4.531z" fill-rule="evenodd"></path></svg>'}}],action:function(t){br(t,hv)}})},wD=function(t,e,n){var r=function(t){return[vo(n.translate(t.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:d({},e.map((function(t){return{id:t}})).getOr({}))},components:r(t),behaviours:ia([KS.config({channel:aD,renderComponents:r})])}},xD=function(){return{dom:LE('<div class="tox-dialog__draghandle"></div>')}},CD=function(t,e){return function(t,e){var n=ST.parts().title(wD(t,b.none(),e)),r=ST.parts().draghandle(xD()),i=ST.parts().close(_D(e)),o=[n].concat(t.draggable?[r]:[]).concat([i]);return lv.sketch({dom:LE('<div class="tox-dialog__header"></div>'),components:o})}({title:e.shared.providers.translate(t),draggable:e.dialog.isDraggableModal()},e.shared.providers)},SD=function(t,e){return{onClose:function(){return e.closeWindow()},onBlock:function(e){ST.setBusy(t(),(function(t,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":e.message()},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:n,components:[{dom:LE('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}))},onUnblock:function(){ST.setIdle(t())}}},kD=function(t,e,n,r){var i;return _o(yD(d(d({},t),{lazySink:r.shared.getSink,extraBehaviours:h([KS.config({channel:sD,updateState:function(t,e){return b.some(e)},initialData:e}),C_({})],t.extraBehaviours),onEscape:function(t){br(t,hv)},dialogEvents:n,eventOrder:(i={},i[Xn()]=["reflecting","receiving"],i[ur()]=["scroll-lock","reflecting","messages","dialog-events","alloy.base.behaviour"],i[lr()]=["alloy.base.behaviour","dialog-events","messages","reflecting","scroll-lock"],i)})))},ED=function(t){return F(t,(function(t){return"menu"===t.type?function(t){var e=F(t.items,(function(t){var e=Ve(!1);return d(d({},t),{storage:e})}));return d(d({},t),{items:e})}(t):t}))},OD=function(t){return V(t,(function(t,e){return"menu"===e.type?V(e.items,(function(t,e){return t[e.name]=e.storage,t}),t):t}),{})},TD=function(t,e){return[Mr(Fn(),A_),t(fv,(function(t,n){e.onClose(),n.onClose()})),t(hv,(function(t,e,n,r){e.onCancel(t),br(r,fv)})),Or(vv,(function(t,n){return e.onUnblock()})),Or(gv,(function(t,n){return e.onBlock(n.event())}))]},AD=function(t,e,n){var r=function(e,n){return Or(e,(function(e,r){i(e,(function(i,o){n(t(),i,r.event(),e)}))}))},i=function(t,e){KS.getState(t).get().each((function(n){e(n.internalDialog,t)}))};return h(TD(r,e),[r(pv,(function(t,e){return e.onSubmit(t)})),r(dv,(function(t,e,n){e.onChange(t,{name:n.name()})})),r(mv,(function(t,e,r,i){var o=function(){return Bf.focusIn(i)},s=function(t){return mi(t,"disabled")||hi(t,"aria-disabled").exists((function(t){return"true"===t}))},a=pa();e.onAction(t,{name:r.name(),value:r.value()}),pa().fold(o,(function(t){s(t)||a.exists((function(e){return Cn(t,e)&&s(e)}))?o():n().toOption().filter((function(e){return!Cn(e.element(),t)})).each(o)}))})),r(bv,(function(t,e,n){e.onTabChange(t,{newTabName:n.name(),oldTabName:n.oldName()})})),Pr((function(e){var n=t();Il.setValue(e,n.getData())}))])},DD=function(t,e){var n=function(t,e){for(var n=[],r=[],i=0,o=t.length;i<o;i++){var s=t[i];(a=s,"start"===a.align?n:r).push(s)}var a;return{pass:n,fail:r}}(e.map((function(t){return t.footerButtons})).getOr([])),r=function(t,e){return lv.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+t]},components:F(e,(function(t){return t.memento.asSpec()}))})};return[r("start",n.pass),r("end",n.fail)]},MD=function(t,e){return{dom:LE('<div class="tox-dialog__footer"></div>'),components:[],behaviours:ia([KS.config({channel:lD,initialData:t,updateState:function(t,n){var r=F(n.buttons,(function(t){var n=um(function(t,e){return Aw(t,t.type,e)}(t,e));return{name:t.name,align:t.align,memento:n}}));return b.some({lookupByName:function(t,e){return function(t,e,n){return j(e,(function(t){return t.name===n})).bind((function(e){return e.memento.getOpt(t)}))}(t,r,e)},footerButtons:r})},renderComponents:DD})])}},RD=function(t,e){return ST.parts().footer(MD(t,e))},ID=function(t,e){if(t.getRoot().getSystem().isConnected()){var n=Hc.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return l_.getField(n,e).fold((function(){var r=t.getFooter();return KS.getState(r).get().bind((function(t){return t.lookupByName(n,e)}))}),(function(t){return b.some(t)}))}return b.none()},ND=function(t,e,n){var r=function(e){var n=t.getRoot();n.getSystem().isConnected()&&e(n)},i={getData:function(){var e=t.getRoot(),r=e.getSystem().isConnected()?t.getFormWrapper():e,i=Il.getValue(r),o=it(n,(function(t){return t.get()}));return d(d({},i),o)},setData:function(e){r((function(r){var o=i.getData(),s=d(d({},o),e),a=function(t,e){var n=t.getRoot();return KS.getState(n).get().map((function(t){return re(ne("data",t.dataValidator,e))})).getOr(e)}(t,s),u=t.getFormWrapper();Il.setValue(u,a),rt(n,(function(t,e){ct(s,e)&&t.set(s[e])}))}))},disable:function(e){ID(t,e).each(xp.disable)},enable:function(e){ID(t,e).each(xp.enable)},focus:function(e){ID(t,e).each(Kf.focus)},block:function(t){if(!C(t))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r((function(e){yr(e,gv,{message:t})}))},unblock:function(){r((function(t){br(t,vv)}))},showTab:function(e){r((function(n){var r=t.getBody();KS.getState(r).get().exists((function(t){return t.isTabPanel()}))&&Hc.getCurrent(r).each((function(t){eD.showTab(t,e)}))}))},redial:function(t){r((function(n){var r=e(t);n.getSystem().broadcastOn([sD],r),n.getSystem().broadcastOn([aD],r.internalDialog),n.getSystem().broadcastOn([uD],r.internalDialog),n.getSystem().broadcastOn([lD],r.internalDialog),i.setData(r.initialData)}))},close:function(){r((function(t){br(t,fv)}))}};return i},zD=tinymce.util.Tools.resolve("tinymce.util.URI"),PD=["insertContent","setContent","execCommand","close","block","unblock"],FD=function(t){return S(t)&&-1!==PD.indexOf(t.mceAction)},BD=function(e,n,r,i){var o,a,u,l,c,f,m,p,g=CD(e.title,i),v=(p={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[D_({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:ia([Xv.config({}),Kf.config({})])})]}],behaviours:ia([Bf.config({mode:"acyclic",useTabstopAt:s(T_)})])},ST.parts().body(p)),y=e.buttons.bind((function(t){return 0===t.length?b.none():b.some(RD({buttons:t},i))})),_=(l=function(){return M},c=SD((function(){return D}),n),f=function(t,e){return Or(t,(function(t,n){m(t,(function(r,i){e(l(),r,n.event(),t)}))}))},m=function(t,e){KS.getState(t).get().each((function(n){e(n,t)}))},h(TD(f,c),[f(mv,(function(t,e,n){e.onAction(t,{name:n.name()})}))])),w=d(d({},e.height.fold((function(){return{}}),(function(t){return{height:t+"px","max-height":t+"px"}}))),e.width.fold((function(){return{}}),(function(t){return{width:t+"px","max-width":t+"px"}}))),x=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],k=new zD(e.url,{base_uri:new zD(t.window.location.href)}),O=k.protocol+"://"+k.host+(k.port?":"+k.port:""),T=Ve(b.none()),A=[$f("messages",[zr((function(){var n=Yg(qe(t.window),"message",(function(t){if(k.isSameOrigin(new zD(t.raw().origin))){var n=t.raw().data;FD(n)?function(t,e,n){switch(n.mceAction){case"insertContent":t.insertContent(n.content);break;case"setContent":t.setContent(n.content);break;case"execCommand":var r=!!E(n.ui)&&n.ui;t.execCommand(n.cmd,r,n.value);break;case"close":e.close();break;case"block":e.block(n.message);break;case"unblock":e.unblock()}}(r,M,n):function(t){return!FD(t)&&S(t)&&ct(t,"mceAction")}(n)&&e.onMessage(M,n)}}));T.set(b.some(n))})),Pr((function(){T.get().each((function(t){return t.unbind()}))}))]),fa.config({channels:(o={},o[cD]={onReceive:function(t,e){ns(t.element(),"iframe").each((function(t){t.dom().contentWindow.postMessage(e,O)}))}},o)})],D=kD({header:g,body:v,footer:y,extraClasses:x,extraBehaviours:A,extraStyles:w},e,_,i),M=(a=D,u=function(t){a.getSystem().isConnected()&&t(a)},{block:function(t){if(!C(t))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");u((function(e){yr(e,gv,{message:t})}))},unblock:function(){u((function(t){br(t,vv)}))},close:function(){u((function(t){br(t,fv)}))},sendMessage:function(t){u((function(e){e.getSystem().broadcastOn([cD],t)}))}});return{dialog:D,instanceApi:M}},LD=function(t,e,n){return e&&n?[]:[pE.config({contextual:{lazyContext:function(){return b.some(Go(qe(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},HD=function(t){var e=t.backstage,n=t.editor,r=sm(n),i=nm(n),o=function(t){var e=t.backstage.shared;return{open:function(n,r){var i=function(){ST.hide(u),r()},o=um(Aw({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:b.none()},"cancel",t.backstage)),s=pD(),a=mD(i,e.providers),u=_o(yD({lazySink:function(){return e.getSink()},header:hD(s,a),body:gD(n,e.providers),footer:b.some(vD(bD([],[o.asSpec()]))),onEscape:i,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Or(hv,i)],eventOrder:{}}));ST.show(u);var l=o.get(u);Kf.focus(l)}}}(t),s=function(t){var e=t.backstage.shared;return{open:function(n,r){var i=function(t){ST.hide(l),r(t)},o=um(Aw({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:b.none()},"submit",t.backstage)),s=Aw({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:b.none()},"cancel",t.backstage),a=pD(),u=mD((function(){return i(!1)}),e.providers),l=_o(yD({lazySink:function(){return e.getSink()},header:hD(a,u),body:gD(n,e.providers),footer:b.some(vD(bD([],[s,o.asSpec()]))),onEscape:function(){return i(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Or(hv,(function(){return i(!1)})),Or(pv,(function(){return i(!0)}))],eventOrder:{}}));ST.show(l);var c=o.get(l);Kf.focus(c)}}}(t),a=function(t,o,s,a){return jA.open((function(t,u,l){var c,f=re(ne("data",l,u)),m=(c=Ve(b.none()),{clear:function(){c.set(b.none())},set:function(t){c.set(b.some(t))},isSet:function(){return c.get().isSome()},on:function(t){c.get().each(t)}}),p=function(){return m.on((function(t){Th.reposition(t),pE.refresh(t)}))},g=function(t,e,n,r){var i,o,s,a,u,l=_i("dialog-label"),c=_i("dialog-content"),d=um((s={title:t.internalDialog.title,draggable:!0},a=l,u=n.shared.providers,lv.sketch({dom:LE('<div class="tox-dialog__header"></div>'),components:[wD(s,b.some(a),u),xD(),_D(u)],containerBehaviours:ia([fT.config({mode:"mouse",blockerClass:"blocker",getTarget:function(t){return rs(t,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))),f=um(function(t,e,n,r){return dD(t,b.some(e),n,r)}({body:t.internalDialog.body},c,n,r)),h=ED(t.internalDialog.buttons),m=OD(h),p=um(function(t,e){return MD(t,e)}({buttons:h},n)),g=AD((function(){return y}),{onBlock:function(){},onUnblock:function(){},onClose:function(){return e.closeWindow()}},n.shared.getSink),v=_o({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(i={role:"dialog"},i["aria-labelledby"]=l,i["aria-describedby"]=""+c,i)},eventOrder:(o={},o[Xn()]=[KS.name(),fa.name()],o[Zn()]=["execute-on-form"],o[ur()]=["reflecting","execute-on-form"],o),behaviours:ia([Bf.config({mode:"cyclic",onEscape:function(t){return br(t,fv),b.some(!0)},useTabstopAt:function(t){return!T_(t)&&("button"!==si(t)||"disabled"!==fi(t,"disabled"))}}),KS.config({channel:sD,updateState:function(t,e){return b.some(e)},initialData:t}),Kf.config({}),$f("execute-on-form",g.concat([Nr(Fn(),(function(t,e){Bf.focusIn(t)}))])),C_({})]),components:[d.asSpec(),f.asSpec(),p.asSpec()]}),y=ND({getRoot:function(){return v},getFooter:function(){return p.get(v)},getBody:function(){return f.get(v)},getFormWrapper:function(){var t=f.get(v);return Hc.getCurrent(t).getOr(t)}},e.redial,m);return{dialog:v,instanceApi:y}}({dataValidator:l,initialData:f,internalDialog:t},{redial:jA.redial,closeWindow:function(){m.on(Th.hide),n.off("ResizeEditor",p),m.clear(),s(g.instanceApi)}},e,a),v=_o(Th.sketch(d(d({lazySink:e.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},i?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:ia(h([$f("window-manager-inline-events",[Or(cr(),(function(t,e){br(g.dialog,hv)}))])],LD(n,r,i))),isExtraPart:function(t,e){return function(t){return Zg(t,".tox-alert-dialog")||Zg(t,".tox-confirm-dialog")}(e)}})));return m.set(v),Th.showWithin(v,o,wo(g.dialog),b.some(Ji())),r&&i||(pE.refresh(v),n.on("ResizeEditor",p)),g.instanceApi.setData(f),Bf.focusIn(g.dialog),g.instanceApi}),t)};return{open:function(t,n,r){return void 0!==n&&"toolbar"===n.inline?a(t,e.shared.anchors.inlineDialog(),r,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?a(t,e.shared.anchors.cursor(),r,n.ariaAttrs):function(t,n){return jA.open((function(t,r,i){var o=r,s=function(t,e,n){var r=CD(t.internalDialog.title,n),i=function(t,e){var n=dD(t,b.none(),e,!1);return ST.parts().body(n)}({body:t.internalDialog.body},n),o=ED(t.internalDialog.buttons),s=OD(o),a=RD({buttons:o},n),u=AD((function(){return f}),SD((function(){return d}),e),n.shared.getSink),l="normal"!==t.internalDialog.size?"large"===t.internalDialog.size?["tox-dialog--width-lg"]:["tox-dialog--width-md"]:[],c={header:r,body:i,footer:b.some(a),extraClasses:l,extraBehaviours:[],extraStyles:{}},d=kD(c,t,u,n),f=ND({getRoot:function(){return d},getBody:function(){return ST.getBody(d)},getFooter:function(){return ST.getFooter(d)},getFormWrapper:function(){var t=ST.getBody(d);return Hc.getCurrent(t).getOr(t)}},e.redial,s);return{dialog:d,instanceApi:f}}({dataValidator:i,initialData:o,internalDialog:t},{redial:jA.redial,closeWindow:function(){ST.hide(s.dialog),n(s.instanceApi)}},e);return ST.show(s.dialog),s.instanceApi.setData(o),s.instanceApi}),t)}(t,r)},openUrl:function(t,r){return function(t,r){return jA.openUrl((function(t){var i=BD(t,{closeWindow:function(){ST.hide(i.dialog),r(i.instanceApi)}},n,e);return ST.show(i.dialog),i.instanceApi}),t)}(t,r)},alert:function(t,e){o.open(t,(function(){e()}))},close:function(t){t.close()},confirm:function(t,e){s.open(t,(function(t){e(t)}))}}};c.add("silver",(function(t){var e=_T(t),n=e.uiMothership,i=e.backstage,o=e.renderUI,s=e.getUi;qg(t,i.shared);var a=HD({editor:t,backstage:i});return{renderUI:o,getWindowManagerImpl:r(a),getNotificationManagerImpl:function(){return function(t,e,n){var r=e.backstage,i=nm(t);return{open:function(t,o){var s=!t.closeButton&&t.timeout&&(t.timeout>0||t.timeout<0),a=function(){o(),Th.hide(l)},u=_o(hm.sketch({text:t.text,level:N(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:b.from(t.icon),closeButton:!s,onAction:a,iconProvider:r.shared.providers.icons,translationProvider:r.shared.providers.translate})),l=_o(Th.sketch(d({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:e.backstage.shared.getSink,fireDismissalEventInstead:{}},i?{}:{fireRepositionEventInstead:{}})));return n.add(l),t.timeout>0&&Hh.setTimeout((function(){a()}),t.timeout),{close:a,moveTo:function(t,e){Th.showAt(l,{anchor:"makeshift",x:t,y:e},wo(u))},moveRel:function(t,n){if("banner"!==n){var r=function(t){switch(t){case"bc-bc":return Lh;case"tc-tc":return Bh;case"tc-bc":return qs;case"bc-tc":default:return Gs}}(n),i={anchor:"node",root:Ji(),node:b.some(qe(t)),layouts:{onRtl:function(){return[r]},onLtr:function(){return[r]}}};Th.showAt(l,i,wo(u))}else Th.showAt(l,e.backstage.shared.anchors.banner(),wo(u))},text:function(t){hm.updateText(u,t)},settings:t,getEl:function(){return u.element().dom()},progressBar:{value:function(t){hm.updateProgress(u,t)}}}},close:function(t){t.close()},reposition:function(t){!function(t){B(t,(function(t){return t.moveTo(0,0)}))}(t),function(t){t.length>0&&(Z(t).each((function(t){return t.moveRel(null,"banner")})),B(t,(function(e,n){n>0&&e.moveRel(t[n-1].getEl(),"bc-tc")})))}(t)},getArgs:function(t){return t.settings}}}(t,{backstage:i},n)},ui:s()}}))}(window)},B9FH:function(t,e,n){n("lM69")},DWi2:function(t,e,n){n("Aw8l")},JAFY:function(t,e){!function(t){"use strict";var e,n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(){},i=function(t){return function(){return t}},o=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}},s=i(!1),a=i(!0),u=function(){return l},l=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},o={fold:function(t,e){return t()},is:s,isSome:s,isNone:a,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:n,orThunk:e,map:u,each:r,bind:u,exists:s,forall:a,filter:u,equals:t,equals_:t,toArray:function(){return[]},toString:i("none()")};return Object.freeze&&Object.freeze(o),o}(),c=function(t){var e=i(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:a,isNone:s,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return c(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:l},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(s,(function(e){return n(t,e)}))}};return o},d={some:c,none:u,from:function(t){return null==t?l:c(t)}},f=function(t){return function(e){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(e)===t}},h=f("string"),m=f("array"),p=f("boolean"),g=f("function"),v=f("number"),b=Array.prototype.slice,y=Array.prototype.push,_=function(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;i++)r[i]=e(t[i],i);return r},w=function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)},x=function(t,e){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];e(o,r)&&n.push(o)}return n},C=function(t,e,n){return w(t,(function(t){n=e(n,t)})),n},S=function(t,e){for(var n=0,r=t.length;n<r;n++){var i=t[n];if(e(i,n))return d.some(i)}return d.none()},k=function(t,e){return function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!m(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);y.apply(e,t[n])}return e}(_(t,e))},E=function(t){return 0===t.length?d.none():d.some(t[0])},O=function(t){return 0===t.length?d.none():d.some(t[t.length-1])},T=(g(Array.from),function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)}),A=function(){return(A=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},D=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return D(n())}}},M=function(){return R(0,0)},R=function(t,e){return{major:t,minor:e}},I=function(t,e){var n=String(e).toLowerCase();return 0===t.length?M():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}}(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return R(r(1),r(2))}(t,n)},N=M,z=function(t,e){return function(){return e===t}},P=function(t){var e=t.current;return{current:e,version:t.version,isEdge:z("Edge",e),isChrome:z("Chrome",e),isIE:z("IE",e),isOpera:z("Opera",e),isFirefox:z("Firefox",e),isSafari:z("Safari",e)}},F=function(){return P({current:void 0,version:N()})},B=P,L=(i("Edge"),i("Chrome"),i("IE"),i("Opera"),i("Firefox"),i("Safari"),function(t,e){return function(){return e===t}}),H=function(t){var e=t.current;return{current:e,version:t.version,isWindows:L("Windows",e),isiOS:L("iOS",e),isAndroid:L("Android",e),isOSX:L("OSX",e),isLinux:L("Linux",e),isSolaris:L("Solaris",e),isFreeBSD:L("FreeBSD",e),isChromeOS:L("ChromeOS",e)}},V=function(){return H({current:void 0,version:N()})},j=H,U=(i("Windows"),i("iOS"),i("Android"),i("Linux"),i("OSX"),i("Solaris"),i("FreeBSD"),i("ChromeOS"),function(t,e){var n=String(e).toLowerCase();return S(t,(function(t){return t.search(n)}))}),$=function(t,e){return-1!==t.indexOf(e)},W=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,q=function(t){return function(e){return $(e,t)}},G=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return $(t,"edge/")&&$(t,"chrome")&&$(t,"safari")&&$(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,W],search:function(t){return $(t,"chrome")&&!$(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return $(t,"msie")||$(t,"trident")}},{name:"Opera",versionRegexes:[W,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:q("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:q("firefox")},{name:"Safari",versionRegexes:[W,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return($(t,"safari")||$(t,"mobile/"))&&$(t,"applewebkit")}}],Y=[{name:"Windows",search:q("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return $(t,"iphone")||$(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:q("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:q("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:q("linux"),versionRegexes:[]},{name:"Solaris",search:q("sunos"),versionRegexes:[]},{name:"FreeBSD",search:q("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:q("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],K={browsers:i(G),oses:i(Y)},X=D(function(e,n){var r=K.browsers(),o=K.oses(),s=function(t,e){return U(t,e).map((function(t){var n=I(t.versionRegexes,e);return{current:t.name,version:n}}))}(r,e).fold(F,B),a=function(t,e){return U(t,e).map((function(t){var n=I(t.versionRegexes,e);return{current:t.name,version:n}}))}(o,e).fold(V,j),u=function(t,e,n,r){var o=t.isiOS()&&!0===/ipad/i.test(n),s=t.isiOS()&&!o,a=t.isiOS()||t.isAndroid(),u=a||r("(pointer:coarse)"),l=o||!s&&a&&r("(min-device-width:768px)"),c=s||a&&!l,d=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),f=!c&&!l&&!d;return{isiPad:i(o),isiPhone:i(s),isTablet:i(l),isPhone:i(c),isTouch:i(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:i(d),isDesktop:i(f)}}(a,s,e,(function(e){return t.window.matchMedia(e).matches}));return{browser:s,os:a,deviceType:u}}(t.navigator.userAgent)),Z=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:i(t)}},Q=function(e,n){var r=(n||t.document).createElement(e);return Z(r)},J=Z,tt=t.Node.ELEMENT_NODE,et=tt,nt=function(t,e){return t.dom()===e.dom()},rt=X.get().browser.isIE()?function(e,n){return r=e.dom(),i=n.dom(),T(r,i,t.Node.DOCUMENT_POSITION_CONTAINED_BY);var r,i}:function(t,e){var n=t.dom(),r=e.dom();return n!==r&&n.contains(r)},it=function(t,e){var n=t.dom();if(n.nodeType!==et)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},ot=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),st=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),at=tinymce.util.Tools.resolve("tinymce.util.VK"),ut=function(t,e,n){return t.isSome()&&e.isSome()?d.some(n(t.getOrDie(),e.getOrDie())):d.none()},lt=Object.keys,ct=function(t){return d.from(t.dom().parentNode).map(J)},dt=function(t){return _(t.dom().childNodes,J)},ft=function(t,e){var n=t.dom().childNodes;return d.from(n[e]).map(J)},ht=function(t){return ft(t,0)},mt=function(t){return ft(t,t.dom().childNodes.length-1)},pt=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}("element","offset"),function(t,e){ct(t).each((function(n){n.dom().insertBefore(e.dom(),t.dom())}))}),gt=function(t,e){t.dom().appendChild(e.dom())},vt=function(t,e){w(e,(function(e){gt(t,e)}))},bt=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},yt=function(t,e,n){return t.fire("ListMutation",{action:e,element:n})},_t=void 0!==t.window?t.window:Function("return this;")(),wt=function(t,e){return function(t,e){for(var n=null!=e?e:_t,r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n}(t.split("."),e)},xt=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Ct=tinymce.util.Tools.resolve("tinymce.util.Tools"),St=function(t){return t&&"BR"===t.nodeName},kt=function(t){return t&&3===t.nodeType},Et=function(t){return t&&/^(OL|UL|DL)$/.test(t.nodeName)},Ot=function(t){return t&&/^(OL|UL)$/.test(t.nodeName)},Tt=function(t){return t&&/^(DT|DD)$/.test(t.nodeName)},At=function(t){return t&&/^(TH|TD)$/.test(t.nodeName)},Dt=St,Mt=function(t,e){return e&&!!t.schema.getTextBlockElements()[e.nodeName]},Rt=function(t,e){return t&&t.nodeName in e},It=function(t,e,n){var r=t.isEmpty(e);return!(n&&t.select("span[data-mce-type=bookmark]",e).length>0)&&r},Nt=function(t,e){return t.isChildOf(e,t.getRoot())},zt=function(t){var e=t.selection.getStart(!0);return t.dom.getParent(e,"OL,UL,DL",Ft(t,e))},Pt=function(t){var e=t.selection.getSelectedBlocks();return Ct.grep(function(t,e){var n=Ct.map(e,(function(e){return t.dom.getParent(e,"li,dd,dt",Ft(t,e))||e}));return xt.unique(n)}(t,e),(function(t){return(e=t)&&/^(LI|DT|DD)$/.test(e.nodeName);var e}))},Ft=function(t,e){var n=t.dom.getParents(e,"TD,TH");return n.length>0?n[0]:t.getBody()},Bt=function(t,e){var n=t.dom.getParents(e,"ol,ul",Ft(t,e));return O(n)},Lt={isList:function(t){var e,n,r=zt(t);return(n=wt("ownerDocument.defaultView",e=r),function(t,e){var n=function(t,e){return wt("HTMLElement",e)}(0,e);if(null==n)throw new Error("HTMLElement not available on this browser");return n}(0,n)).prototype.isPrototypeOf(e)},getParentList:zt,getSelectedSubLists:function(t){var e=zt(t),n=t.selection.getSelectedBlocks();return function(t,e){return t&&1===e.length&&e[0]===t}(e,n)?function(t){return Ct.grep(t.querySelectorAll("ol,ul,dl"),(function(t){return Et(t)}))}(e):Ct.grep(n,(function(t){return Et(t)&&e!==t}))},getSelectedListItems:Pt,getClosestListRootElm:Ft,getSelectedDlItems:function(t){return x(Pt(t),Tt)},getSelectedListRoots:function(t){var e=function(t){var e=Bt(t,t.selection.getStart()),n=x(t.selection.getSelectedBlocks(),Ot);return e.toArray().concat(n)}(t);return function(t,e){var n=_(e,(function(e){return Bt(t,e).getOr(e)}));return xt.unique(n)}(t,e)}},Ht=function(t,e){var n,r,i,o=t.dom,s=t.schema.getBlockElements(),a=o.createFragment(),u=function(t){var e=t.getParam("forced_root_block","p");return!1===e?"":!0===e?"p":e}(t);if(u&&((r=o.create(u)).tagName===u.toUpperCase()&&o.setAttribs(r,function(t){return t.getParam("forced_root_block_attrs",{})}(t)),Rt(e.firstChild,s)||a.appendChild(r)),e)for(;n=e.firstChild;)i||"SPAN"===n.nodeName&&"bookmark"===n.getAttribute("data-mce-type")||(i=!0),Rt(n,s)?(a.appendChild(n),r=null):u?(r||(r=o.create(u),a.appendChild(r)),r.appendChild(n)):a.appendChild(n);return u?i||r.appendChild(o.create("br",{"data-mce-bogus":"1"})):a.appendChild(o.create("br")),a},Vt=function(t){return t.dom().nodeName.toLowerCase()},jt=(e=tt,function(t){return function(t){return t.dom().nodeType}(t)===e}),Ut=function(e,n){var r=e.dom();!function(t,e){for(var n=lt(t),r=0,i=n.length;r<i;r++){var o=n[r];e(t[o],o)}}(n,(function(e,n){!function(e,n,r){if(!(h(r)||p(r)||v(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")}(r,n,e)}))},$t=function(t){return C(t.dom().attributes,(function(t,e){return t[e.name]=e.value,t}),{})},Wt=function(e,n,r){if(!h(r))throw t.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);(function(t){return void 0!==t.style&&g(t.style.getPropertyValue)})(e)&&e.style.setProperty(n,r)},qt=function(t){return function(t,e){return J(t.dom().cloneNode(!0))}(t)},Gt=function(t,e){var n=function(t,e){var n=Q(e),r=$t(t);return Ut(n,r),n}(t,e);pt(t,n);var r=dt(t);return vt(n,r),bt(t),n},Yt=function(t,e){gt(t.item,e.list)},Kt=function(t,e){var n={list:Q(e,t),item:Q("li",t)};return gt(n.list,n.item),n},Xt=function(t){return it(t,"OL,UL")},Zt=function(t){return ht(t).map(Xt).getOr(!1)},Qt=function(t){return t.depth>0},Jt=function(t){return t.isSelected},te=function(t){var e=dt(t),n=mt(t).map(Xt).getOr(!1)?e.slice(0,-1):e;return _(n,qt)},ee=function(t,e,n,r){return ht(r).filter(Xt).fold((function(){e.each((function(t){nt(t.start,r)&&n.set(!0)}));var i=function(t,e,n){return ct(t).filter(jt).map((function(r){return{depth:e,isSelected:n,content:te(t),itemAttributes:$t(t),listAttributes:$t(r),listType:Vt(r)}}))}(r,t,n.get());e.each((function(t){nt(t.end,r)&&n.set(!1)}));var o=mt(r).filter(Xt).map((function(r){return ne(t,e,n,r)})).getOr([]);return i.toArray().concat(o)}),(function(r){return ne(t,e,n,r)}))},ne=function(t,e,n,r){return k(dt(r),(function(r){return(Xt(r)?ne:ee)(t+1,e,n,r)}))},re=function(e,n,r){var i=function(t,e){var n=D(!1);return _(t,(function(t){return{sourceList:t,entries:ne(0,e,n,t)}}))}(n,function(t){var e,n=_(Lt.getSelectedListItems(t),J);return ut(S(n,o(Zt)),S(((e=b.call(n,0)).reverse(),e),o(Zt)),(function(t,e){return{start:t,end:e}}))}(e));w(i,(function(n){!function(t,e){w(x(t,Jt),(function(t){return function(t,e){switch(t){case"Indent":e.depth++;break;case"Outdent":e.depth--;break;case"Flatten":e.depth=0}}(e,t)}))}(n.entries,r);var i,o=function(e,n){return k(function(t,e){if(0===t.length)return[];for(var n=e(t[0]),r=[],i=[],o=0,s=t.length;o<s;o++){var a=t[o],u=e(a);u!==n&&(r.push(i),i=[]),n=u,i.push(a)}return 0!==i.length&&r.push(i),r}(n,Qt),(function(n){return E(n).map(Qt).getOr(!1)?function(t,e){return function(t){w(t,(function(e,n){(function(t,e){for(var n=t[e].depth,r=e-1;r>=0;r--){if(t[r].depth===n)return d.some(t[r]);if(t[r].depth<n)break}return d.none()})(t,n).each((function(t){var n,r;(n=e).listType=(r=t).listType,n.listAttributes=A({},r.listAttributes)}))}))}(e),function(t,e){var n=C(e,(function(e,n){return n.depth>e.length?function(t,e,n){var r,i=function(t,e,n){for(var r=[],i=0;i<n;i++)r.push(Kt(t,e.listType));return r}(t,n,n.depth-e.length);return function(t){for(var e=1;e<t.length;e++)Yt(t[e-1],t[e])}(i),function(t,e){for(var n=0;n<t.length-1;n++)r=t[n].item.dom(),Wt(r,"list-style-type","none");var r;O(t).each((function(t){Ut(t.list,e.listAttributes),Ut(t.item,e.itemAttributes),vt(t.item,e.content)}))}(i,n),r=i,ut(O(e),E(r),Yt),e.concat(i)}(t,e,n):function(t,e,n){var r=e.slice(0,n.depth);return O(r).each((function(e){!function(t,e){gt(t.list,e),t.item=e}(e,function(t,e,n){var r=Q("li",t);return Ut(r,e),vt(r,n),r}(t,n.itemAttributes,n.content)),function(t,e){Vt(t.list)!==e.listType&&(t.list=Gt(t.list,e.listType)),Ut(t.list,e.listAttributes)}(e,n)})),r}(t,e,n)}),[]);return E(n).map((function(t){return t.list}))}(t.contentDocument,e).toArray()}(e,n):function(e,n){return _(n,(function(n){var r,i,o=(r=n.content,i=t.document.createDocumentFragment(),w(r,(function(t){i.appendChild(t.dom())})),J(i));return J(Ht(e,o.dom()))}))}(e,n)}))}(e,n.entries);w(o,(function(t){yt(e,"Indent"===r?"IndentList":"OutdentList",t.dom())})),i=n.sourceList,w(o,(function(t){pt(i,t)})),bt(n.sourceList)}))},ie=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),oe=ie.DOM,se=function(t){it(t,"dt")&&Gt(t,"dd")},ae=function(t,e){if(kt(t))return{container:t,offset:e};var n=ot.getNode(t,e);return kt(n)?{container:n,offset:e>=t.childNodes.length?n.data.length:0}:n.previousSibling&&kt(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&kt(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:t,offset:e}},ue=function(t){var e=t.cloneRange(),n=ae(t.startContainer,t.startOffset);e.setStart(n.container,n.offset);var r=ae(t.endContainer,t.endOffset);return e.setEnd(r.container,r.offset),e},le=function(t,e){var n=_(Lt.getSelectedListRoots(t),J),r=_(Lt.getSelectedDlItems(t),J),i=!1;if(n.length||r.length){var o=t.selection.getBookmark();re(t,n,e),function(t,e,n){w(n,"Indent"===e?se:function(e){return function(t,e){it(e,"dd")?Gt(e,"dt"):it(e,"dt")&&ct(e).each((function(n){return function(t,e,n){var r,i,o,s,a,u;for(o=oe.select('span[data-mce-type="bookmark"]',e),a=Ht(t,n),(r=oe.createRng()).setStartAfter(n),r.setEndAfter(e),s=(i=r.extractContents()).firstChild;s;s=s.firstChild)if("LI"===s.nodeName&&t.dom.isEmpty(s)){oe.remove(s);break}t.dom.isEmpty(i)||oe.insertAfter(i,e),oe.insertAfter(a,e),It(t.dom,n.parentNode)&&(u=n.parentNode,Ct.each(o,(function(t){u.parentNode.insertBefore(t,n.parentNode)})),oe.remove(u)),oe.remove(n),It(t.dom,e)&&oe.remove(e)}(t,n.dom(),e.dom())}))}(t,e)})}(t,e,r),t.selection.moveToBookmark(o),t.selection.setRng(ue(t.selection.getRng())),t.nodeChanged(),i=!0}return i},ce=function(t){return le(t,"Indent")},de=function(t){return le(t,"Outdent")},fe=function(t){return le(t,"Flatten")},he=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),me=ie.DOM,pe=function(t){var e={},n=function(n){var r,i,o;o=t[n?"startOffset":"endOffset"],1===(i=t[n?"startContainer":"endContainer"]).nodeType&&(r=me.create("span",{"data-mce-type":"bookmark"}),i.hasChildNodes()?(o=Math.min(o,i.childNodes.length-1),n?i.insertBefore(r,i.childNodes[o]):me.insertAfter(r,i.childNodes[o])):i.appendChild(r),i=r,o=0),e[n?"startContainer":"endContainer"]=i,e[n?"startOffset":"endOffset"]=o};return n(!0),t.collapsed||n(),e},ge=function(t){function e(e){var n,r,i;n=i=t[e?"startContainer":"endContainer"],r=t[e?"startOffset":"endOffset"],n&&(1===n.nodeType&&(r=function(t){for(var e=t.parentNode.firstChild,n=0;e;){if(e===t)return n;1===e.nodeType&&"bookmark"===e.getAttribute("data-mce-type")||n++,e=e.nextSibling}return-1}(n),n=n.parentNode,me.remove(i),!n.hasChildNodes()&&me.isBlock(n)&&n.appendChild(me.create("br"))),t[e?"startContainer":"endContainer"]=n,t[e?"startOffset":"endOffset"]=r)}e(!0),e();var n=me.createRng();return n.setStart(t.startContainer,t.startOffset),t.endContainer&&n.setEnd(t.endContainer,t.endOffset),ue(n)},ve=function(t){return/\btox\-/.test(t.className)},be=function(t){switch(t){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},ye=function(t,e){Ct.each(e,(function(e,n){t.setAttribute(n,e)}))},_e=function(t,e,n){!function(t,e,n){t.setStyle(e,"list-style-type",n["list-style-type"]?n["list-style-type"]:null)}(t,e,n),function(t,e,n){ye(e,n["list-attributes"]),Ct.each(t.select("li",e),(function(t){ye(t,n["list-item-attributes"])}))}(t,e,n)},we=function(t,e,n,r){var i;for(1===(i=e[n?"startContainer":"endContainer"]).nodeType&&(i=i.childNodes[Math.min(e[n?"startOffset":"endOffset"],i.childNodes.length-1)]||i),!n&&Dt(i.nextSibling)&&(i=i.nextSibling);i.parentNode!==r;){if(Mt(t,i))return i;if(/^(TD|TH)$/.test(i.parentNode.nodeName))return i;i=i.parentNode}return i},xe=function(t,e,n){return function(t,e){return t&&e&&Et(t)&&t.nodeName===e.nodeName}(e,n)&&function(t,e,n){return t.getStyle(e,"list-style-type",!0)===t.getStyle(n,"list-style-type",!0)}(t,e,n)&&e.className===n.className},Ce=function(t,e){var n,r;if(xe(t,e,n=e.nextSibling)){for(;r=n.firstChild;)e.appendChild(r);t.remove(n)}if(xe(t,e,n=e.previousSibling)){for(;r=n.lastChild;)e.insertBefore(r,e.firstChild);t.remove(n)}},Se=function(t){return"list-style-type"in t},ke=function(t,e,n){var r=Lt.getParentList(t),i=Lt.getSelectedSubLists(t);n=n||{},r&&i.length>0?function(t,e,n,r,i){if(e.nodeName!==r||Se(i)){var o=pe(t.selection.getRng(!0));Ct.each([e].concat(n),(function(e){!function(t,e,n,r){if(e.nodeName!==n){var i=t.dom.rename(e,n);_e(t.dom,i,r),yt(t,be(n),i)}else _e(t.dom,e,r),yt(t,be(n),e)}(t,e,r,i)})),t.selection.setRng(ge(o))}else fe(t)}(t,r,i,e,n):function(t,e,n,r){if(e!==t.getBody())if(e)if(e.nodeName!==n||Se(r)||ve(e)){var i=pe(t.selection.getRng(!0));_e(t.dom,e,r);var o=t.dom.rename(e,n);Ce(t.dom,o),t.selection.setRng(ge(i)),yt(t,be(n),o)}else fe(t);else(function(t,e,n){void 0===n&&(n={});var r,i=t.selection.getRng(!0),o="LI",s=Lt.getClosestListRootElm(t,t.selection.getStart(!0)),a=t.dom;"false"!==a.getContentEditable(t.selection.getNode())&&("DL"===(e=e.toUpperCase())&&(o="DT"),r=pe(i),Ct.each(function(t,e,n){for(var r,i=[],o=t.dom,s=we(t,e,!0,n),a=we(t,e,!1,n),u=[],l=s;l&&(u.push(l),l!==a);l=l.nextSibling);return Ct.each(u,(function(e){if(Mt(t,e))return i.push(e),void(r=null);if(o.isBlock(e)||Dt(e))return Dt(e)&&o.remove(e),void(r=null);var s=e.nextSibling;he.isBookmarkNode(e)&&(Mt(t,s)||!s&&e.parentNode===n)?r=null:(r||(r=o.create("p"),e.parentNode.insertBefore(r,e),i.push(r)),r.appendChild(e))})),i}(t,i,s),(function(r){var i,s;(s=r.previousSibling)&&Et(s)&&s.nodeName===e&&function(t,e,n){var r=t.getStyle(e,"list-style-type"),i=n?n["list-style-type"]:"";return r===(null===i?"":i)}(a,s,n)?(i=s,r=a.rename(r,o),s.appendChild(r)):(i=a.create(e),r.parentNode.insertBefore(i,r),i.appendChild(r),r=a.rename(r,o)),function(t,e,n){Ct.each(["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"],(function(n){var r;return t.setStyle(e,((r={})[n]="",r))}))}(a,r),_e(a,i,n),Ce(t.dom,i)})),t.selection.setRng(ge(r)))})(t,n,r),yt(t,be(n),e)}(t,r,e,n)},Ee=Ce,Oe=ie.DOM,Te=function(t,e,n,r){var i=e.startContainer,o=e.startOffset;if(kt(i)&&(n?o<i.data.length:o>0))return i;var s=t.schema.getNonEmptyElements();1===i.nodeType&&(i=ot.getNode(i,o));var a=new st(i,r);for(n&&function(t,e){return!!St(e)&&!(!t.isBlock(e.nextSibling)||St(e.previousSibling))}(t.dom,i)&&a.next();i=a[n?"next":"prev2"]();){if("LI"===i.nodeName&&!i.hasChildNodes())return i;if(s[i.nodeName])return i;if(kt(i)&&i.data.length>0)return i}},Ae=function(t,e){var n=e.childNodes;return 1===n.length&&!Et(n[0])&&t.isBlock(n[0])},De=function(t,e,n){var r,i,o=e.parentNode;if(Nt(t,e)&&Nt(t,n)){Et(n.lastChild)&&(i=n.lastChild),o===n.lastChild&&Dt(o.previousSibling)&&t.remove(o.previousSibling),(r=n.lastChild)&&Dt(r)&&e.hasChildNodes()&&t.remove(r),It(t,n,!0)&&t.$(n).empty(),function(t,e,n){var r,i;if(i=Ae(t,n)?n.firstChild:n,function(t,e){Ae(t,e)&&t.remove(e.firstChild,!0)}(t,e),!It(t,e,!0))for(;r=e.firstChild;)i.appendChild(r)}(t,e,n),i&&n.appendChild(i);var s=rt(J(n),J(e))?t.getParents(e,Et,n):[];t.remove(e),w(s,(function(e){It(t,e)&&e!==t.getRoot()&&t.remove(e)}))}},Me=function(t,e){return t.selection.isCollapsed()?function(t,e){return function(t,e){var n=t.dom,r=t.selection,i=r.getStart(),o=Lt.getClosestListRootElm(t,i),s=n.getParent(r.getStart(),"LI",o);if(s){var a=s.parentNode;if(a===t.getBody()&&It(n,a))return!0;var u=ue(r.getRng()),l=n.getParent(Te(t,u,e,o),"LI",o);if(l&&l!==s)return t.undoManager.transact((function(){var n;e?function(t,e,n,r){var i=t.dom;if(i.isEmpty(r))!function(t,e,n){t.dom.$(n).empty(),De(t.dom,e,n),t.selection.setCursorLocation(n)}(t,n,r);else{var o=pe(e);De(i,n,r),t.selection.setRng(ge(o))}}(t,u,l,s):(n=s).parentNode.firstChild===n?de(t):function(t,e,n,r){var i=pe(e);De(t.dom,n,r);var o=ge(i);t.selection.setRng(o)}(t,u,s,l)})),!0;if(!l&&!e&&0===u.startOffset&&0===u.endOffset)return t.undoManager.transact((function(){fe(t)})),!0}return!1}(t,e)||function(t,e){var n=t.dom,r=t.selection.getStart(),i=Lt.getClosestListRootElm(t,r),o=n.getParent(r,n.isBlock,i);if(o&&n.isEmpty(o)){var s=ue(t.selection.getRng()),a=n.getParent(Te(t,s,e,i),"LI",i);if(a)return t.undoManager.transact((function(){!function(t,e,n){var r=t.getParent(e.parentNode,t.isBlock,n);t.remove(e),r&&t.isEmpty(r)&&t.remove(r)}(n,o,i),Ee(n,a.parentNode),t.selection.select(a,!0),t.selection.collapse(e)})),!0}return!1}(t,e)}(t,e):function(t){var e=t.selection.getStart(),n=Lt.getClosestListRootElm(t,e);return!!(t.dom.getParent(e,"LI,DT,DD",n)||Lt.getSelectedListItems(t).length>0)&&(t.undoManager.transact((function(){var e,n;t.execCommand("Delete"),e=t.dom,n=t.getBody(),Ct.each(Ct.grep(e.select("ol,ul",n)),(function(t){!function(t,e){var n,r=e.parentNode;"LI"===r.nodeName&&r.firstChild===e&&((n=r.previousSibling)&&"LI"===n.nodeName?(n.appendChild(e),It(t,r)&&Oe.remove(r)):Oe.setStyle(r,"listStyleType","none")),Et(r)&&(n=r.previousSibling)&&"LI"===n.nodeName&&n.appendChild(e)}(e,t)}))})),!0)}(t)},Re=Me,Ie=function(t,e){return function(){var n=t.dom.getParent(t.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===e}},Ne=function(t,e){return function(n){var r=function(t){var r=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}(t.parents,At),i=-1!==r?t.parents.slice(0,r):t.parents,o=Ct.grep(i,Et);n.setActive(o.length>0&&o[0].nodeName===e&&!ve(o[0]))};return t.on("NodeChange",r),function(){return t.off("NodeChange",r)}}};n.add("lists",(function(t){return function(t){(function(t){return t.getParam("lists_indent_on_tab",!0)})(t)&&function(t){t.on("keydown",(function(e){e.keyCode!==at.TAB||at.metaKeyPressed(e)||t.undoManager.transact((function(){(e.shiftKey?de(t):ce(t))&&e.preventDefault()}))}))}(t),function(t){t.on("keydown",(function(e){e.keyCode===at.BACKSPACE?Me(t,!1)&&e.preventDefault():e.keyCode===at.DELETE&&Me(t,!0)&&e.preventDefault()}))}(t)}(t),function(t){var e=function(e){return function(){return t.execCommand(e)}};(function(t,e){return-1!==Ct.inArray((t.settings.plugins?t.settings.plugins:"").split(/[ ,]/),"advlist")})(t)||(t.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:e("InsertOrderedList"),onSetup:Ne(t,"OL")}),t.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:e("InsertUnorderedList"),onSetup:Ne(t,"UL")}))}(t),function(t){t.on("BeforeExecCommand",(function(e){var n=e.command.toLowerCase();"indent"===n?ce(t):"outdent"===n&&de(t)})),t.addCommand("InsertUnorderedList",(function(e,n){ke(t,"UL",n)})),t.addCommand("InsertOrderedList",(function(e,n){ke(t,"OL",n)})),t.addCommand("InsertDefinitionList",(function(e,n){ke(t,"DL",n)})),t.addCommand("RemoveList",(function(){fe(t)})),t.addQueryStateHandler("InsertUnorderedList",Ie(t,"UL")),t.addQueryStateHandler("InsertOrderedList",Ie(t,"OL")),t.addQueryStateHandler("InsertDefinitionList",Ie(t,"DL"))}(t),function(t){return{backspaceDelete:function(e){Re(t,e)}}}(t)}))}(window)},JRl2:function(t,e){!function(){"use strict";var t,e,n,r,i=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return i(n())}}},o=tinymce.util.Tools.resolve("tinymce.PluginManager"),s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},a=function(t){return function(){return t}},u=a(!1),l=a(!0),c=a("[!-#%-*,-\\/:;?@\\[-\\]_{}\xa1\xab\xb7\xbb\xbf;\xb7\u055a-\u055f\u0589\u058a\u05be\u05c0\u05c3\u05c6\u05f3\u05f4\u0609\u060a\u060c\u060d\u061b\u061e\u061f\u066a-\u066d\u06d4\u0700-\u070d\u07f7-\u07f9\u0830-\u083e\u085e\u0964\u0965\u0970\u0df4\u0e4f\u0e5a\u0e5b\u0f04-\u0f12\u0f3a-\u0f3d\u0f85\u0fd0-\u0fd4\u0fd9\u0fda\u104a-\u104f\u10fb\u1361-\u1368\u1400\u166d\u166e\u169b\u169c\u16eb-\u16ed\u1735\u1736\u17d4-\u17d6\u17d8-\u17da\u1800-\u180a\u1944\u1945\u1a1e\u1a1f\u1aa0-\u1aa6\u1aa8-\u1aad\u1b5a-\u1b60\u1bfc-\u1bff\u1c3b-\u1c3f\u1c7e\u1c7f\u1cd3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205e\u207d\u207e\u208d\u208e\u3008\u3009\u2768-\u2775\u27c5\u27c6\u27e6-\u27ef\u2983-\u2998\u29d8-\u29db\u29fc\u29fd\u2cf9-\u2cfc\u2cfe\u2cff\u2d70\u2e00-\u2e2e\u2e30\u2e31\u3001-\u3003\u3008-\u3011\u3014-\u301f\u3030\u303d\u30a0\u30fb\ua4fe\ua4ff\ua60d-\ua60f\ua673\ua67e\ua6f2-\ua6f7\ua874-\ua877\ua8ce\ua8cf\ua8f8-\ua8fa\ua92e\ua92f\ua95f\ua9c1-\ua9cd\ua9de\ua9df\uaa5c-\uaa5f\uaade\uaadf\uabeb\ufd3e\ufd3f\ufe10-\ufe19\ufe30-\ufe52\ufe54-\ufe61\ufe63\ufe68\ufe6a\ufe6b\uff01-\uff03\uff05-\uff0a\uff0c-\uff0f\uff1a\uff1b\uff1f\uff20\uff3b-\uff3d\uff3f\uff5b\uff5d\uff5f-\uff65]"),d=function(){return f},f=(t=function(t){return t.isNone()},r={fold:function(t,e){return t()},is:u,isSome:u,isNone:l,getOr:n=function(t){return t},getOrThunk:e=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:a(null),getOrUndefined:a(void 0),or:n,orThunk:e,map:d,each:function(){},bind:d,exists:u,forall:l,filter:d,equals:t,equals_:t,toArray:function(){return[]},toString:a("none()")},Object.freeze&&Object.freeze(r),r),h=function(t){var e=a(t),n=function(){return i},r=function(e){return e(t)},i={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:l,isNone:u,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return h(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?i:f},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(u,(function(e){return n(t,e)}))}};return i},m={some:h,none:d,from:function(t){return null==t?f:h(t)}},p=c,g=tinymce.util.Tools.resolve("tinymce.util.Tools");function v(t){return t&&1===t.nodeType&&"false"===t.contentEditable}var b=function(t){var e=t.getAttribute("data-mce-index");return"number"==typeof e?""+e:e},y=function(t){t.firstChild&&t.parentNode.insertBefore(t.firstChild,t),t.parentNode.removeChild(t)},_=function(t,e){var n,r=[];if((n=g.toArray(t.getBody().getElementsByTagName("span"))).length)for(var i=0;i<n.length;i++){var o=b(n[i]);null!==o&&o.length&&o===e.toString()&&r.push(n[i])}return r},w=function(t,e,n){var r=e.get(),i=r.index,o=t.dom;(n=!1!==n)?i+1===r.count?i=0:i++:i-1==-1?i=r.count-1:i--,o.removeClass(_(t,r.index),"mce-match-marker-selected");var s=_(t,i);return s.length?(o.addClass(_(t,i),"mce-match-marker-selected"),t.selection.scrollIntoView(s[0]),i):-1},x=function(t,e){var n=e.parentNode;t.remove(e),t.isEmpty(n)&&t.remove(n)},C=function(t,e,n,r,i){var o=function(t,e){var n="("+t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n]")+")";return e?"(?:^|\\s|"+p()+")"+n+"(?=$|\\s|"+p()+")":n}(n,i),s=function(t,e,n){var r,i;return(i=t.dom.create("span",{"data-mce-bogus":1})).className="mce-match-marker",r=t.getBody(),T(t,e,!1),function(t,e,n,r,i){var o,s,a,u,l,c,d=[],f=0;function h(t,e){if(e=e||0,!t[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");var n=t.index;if(e>0){var r=t[e];if(!r)throw new Error("Invalid capture group");n+=t[0].indexOf(r),t[0]=r}return[n,n+t[0].length,[t[0]]]}if(a=e.ownerDocument,u=i.getBlockElements(),l=i.getWhiteSpaceElements(),c=i.getShortEndedElements(),s=function t(e){var n;if(3===e.nodeType)return e.data;if(l[e.nodeName]&&!u[e.nodeName])return"";if(n="",v(e))return"\n";if((u[e.nodeName]||c[e.nodeName])&&(n+="\n"),e=e.firstChild)do{n+=t(e)}while(e=e.nextSibling);return n}(e)){if(t.global)for(;o=t.exec(s);)d.push(h(o,r));else o=s.match(t),d.push(h(o,r));return d.length&&(f=d.length,function(t,e,n){var r,i,o,s,a=[],d=0,f=t,h=e.shift(),m=0;t:for(;;){if((u[f.nodeName]||c[f.nodeName]||v(f))&&d++,3===f.nodeType&&(!i&&f.length+d>=h[1]?(i=f,s=h[1]-d):r&&a.push(f),!r&&f.length+d>h[0]&&(r=f,o=h[0]-d),d+=f.length),r&&i){if(f=n({startNode:r,startNodeIndex:o,endNode:i,endNodeIndex:s,innerNodes:a,match:h[2],matchIndex:m}),d-=i.length-s,r=null,i=null,a=[],m++,!(h=e.shift()))break}else if(l[f.nodeName]&&!u[f.nodeName]||!f.firstChild){if(f.nextSibling){f=f.nextSibling;continue}}else if(!v(f)){f=f.firstChild;continue}for(;;){if(f.nextSibling){f=f.nextSibling;break}if(f.parentNode===t)break t;f=f.parentNode}}}(e,d,function(t){var e;if("function"!=typeof t){var n=t.nodeType?t:a.createElement(t);e=function(t,e){var r=n.cloneNode(!1);return r.setAttribute("data-mce-index",e),t&&r.appendChild(a.createTextNode(t)),r}}else e=t;return function(t){var n,r,i,o=t.startNode,s=t.endNode,u=t.matchIndex;if(o===s){var l=o;i=l.parentNode,t.startNodeIndex>0&&(n=a.createTextNode(l.data.substring(0,t.startNodeIndex)),i.insertBefore(n,l));var c=e(t.match[0],u);return i.insertBefore(c,l),t.endNodeIndex<l.length&&(r=a.createTextNode(l.data.substring(t.endNodeIndex)),i.insertBefore(r,l)),l.parentNode.removeChild(l),c}n=a.createTextNode(o.data.substring(0,t.startNodeIndex)),r=a.createTextNode(s.data.substring(t.endNodeIndex));for(var d=e(o.data.substring(t.startNodeIndex),u),f=0,h=t.innerNodes.length;f<h;++f){var m=t.innerNodes[f],p=e(m.data,u);m.parentNode.replaceChild(p,m)}var g=e(s.data.substring(0,t.endNodeIndex),u);return(i=o.parentNode).insertBefore(n,o),i.insertBefore(d,o),i.removeChild(o),(i=s.parentNode).insertBefore(g,s),i.insertBefore(r,s),i.removeChild(s),g}}(n))),f}}(n,r,i,1,t.schema)}(t,e,new RegExp(o,r?"g":"gi"));if(s){var a=w(t,e,!0);e.set({index:a,count:s,text:n,matchCase:r,wholeWord:i})}return s},S=function(t,e){var n=w(t,e,!0);e.set(s(s({},e.get()),{index:n}))},k=function(t,e){var n=w(t,e,!1);e.set(s(s({},e.get()),{index:n}))},E=function(t){var e=b(t);return null!==e&&e.length>0},O=function(t,e,n,r,i){var o,a,u,l,c,d=e.get(),f=d.index,h=f;for(r=!1!==r,u=t.getBody(),a=g.grep(g.toArray(u.getElementsByTagName("span")),E),o=0;o<a.length;o++){var m=b(a[o]);if(l=c=parseInt(m,10),i||l===d.index){for(n.length?(a[o].firstChild.nodeValue=n,y(a[o])):x(t.dom,a[o]);a[++o];){if((l=parseInt(b(a[o]),10))!==c){o--;break}x(t.dom,a[o])}r&&h--}else c>f&&a[o].setAttribute("data-mce-index",String(c-1))}return e.set(s(s({},d),{count:i?0:d.count-1,index:h})),r?S(t,e):k(t,e),!i&&e.get().count>0},T=function(t,e,n){var r,i,o,a,u=e.get();for(i=g.toArray(t.getBody().getElementsByTagName("span")),r=0;r<i.length;r++){var l=b(i[r]);null!==l&&l.length&&(l===u.index.toString()&&(o||(o=i[r].firstChild),a=i[r].firstChild),y(i[r]))}if(e.set(s(s({},u),{index:-1,count:0,text:""})),o&&a){var c=t.dom.createRng();return c.setStart(o,0),c.setEnd(a,a.data.length),!1!==n&&t.selection.setRng(c),c}},A=(function(t){return"function"===function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(t)}(Array.from),tinymce.util.Tools.resolve("tinymce.Env")),D=function(t,e){var n,r=(n=i(m.none()),{clear:function(){n.set(m.none())},set:function(t){n.set(m.some(t))},isSet:function(){return n.get().isSome()},on:function(t){n.get().each(t)}});t.undoManager.add();var o=g.trim(t.selection.getContent({format:"text"}));function a(t){(!function(t,e){return e.get().count>1}(0,e)?t.disable:t.enable)("next"),(function(t,e){return e.get().count>1}(0,e)?t.enable:t.disable)("prev")}var u=function(t,e){!function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}(["replace","replaceall","prev","next"],e?t.disable:t.enable)},l=function(t,e){A.browser.isSafari()&&A.deviceType.isTouch()&&("find"===e||"replace"===e||"replaceall"===e)&&t.focus(e)},c=function(n){T(t,e,!1),u(n,!0),a(n)},d=function(n){var r=n.getData(),i=e.get();if(r.findtext.length){if(i.text===r.findtext&&i.matchCase===r.matchcase&&i.wholeWord===r.wholewords)S(t,e);else{var o=C(t,e,r.findtext,r.matchcase,r.wholewords);o<=0&&function(e){t.windowManager.alert("Could not find the specified string.",(function(){e.focus("findtext")}))}(n),u(n,0===o)}a(n)}else c(n)},f=e.get(),h={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace All",disabled:!0}],initialData:{findtext:o,replacetext:"",wholewords:f.wholeWord,matchcase:f.matchCase},onChange:function(t,n){"findtext"===n.name&&e.get().count>0&&c(t)},onAction:function(n,r){var i=n.getData();switch(r.name){case"find":d(n);break;case"replace":O(t,e,i.replacetext)?a(n):c(n);break;case"replaceall":O(t,e,i.replacetext,!0,!0),c(n);break;case"prev":k(t,e),a(n);break;case"next":S(t,e),a(n);break;case"matchcase":case"wholewords":!function(t){var n=t.getData(),r=e.get();e.set(s(s({},r),{matchCase:n.matchcase,wholeWord:n.wholewords}))}(n),c(n)}l(n,r.name)},onSubmit:function(t){d(t),l(t,"find")},onClose:function(){t.focus(),T(t,e),t.undoManager.add()}};r.set(t.windowManager.open(h,{inline:"toolbar"}))},M=function(t,e){return function(){D(t,e)}};o.add("searchreplace",(function(t){var e=i({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1});return function(t,e){t.addCommand("SearchReplace",(function(){D(t,e)}))}(t,e),function(t,e){t.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:M(t,e),icon:"search"}),t.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:M(t,e),icon:"search"}),t.shortcuts.add("Meta+F","",M(t,e))}(t,e),function(t,e){return{done:function(n){return T(t,e,n)},find:function(n,r,i){return C(t,e,n,r,i)},next:function(){return S(t,e)},prev:function(){return k(t,e)},replace:function(n,r,i){return O(t,e,n,r,i)}}}(t,e)}))}()},PEHG:function(t,e){!function(t){"use strict";var e,n,r,i,o=tinymce.util.Tools.resolve("tinymce.PluginManager"),s=0,a=tinymce.util.Tools.resolve("tinymce.util.Promise"),u=tinymce.util.Tools.resolve("tinymce.Env"),l=tinymce.util.Tools.resolve("tinymce.util.Delay"),c=function(t){return function(){return t}},d=c(!1),f=c(!0),h=function(){return m},m=(e=function(t){return t.isNone()},i={fold:function(t,e){return t()},is:d,isSome:d,isNone:f,getOr:r=function(t){return t},getOrThunk:n=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:c(null),getOrUndefined:c(void 0),or:r,orThunk:n,map:h,each:function(){},bind:h,exists:d,forall:f,filter:h,equals:e,equals_:e,toArray:function(){return[]},toString:c("none()")},Object.freeze&&Object.freeze(i),i),p=function(t){var e=c(t),n=function(){return i},r=function(e){return e(t)},i={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:f,isNone:d,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return p(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?i:m},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(d,(function(e){return n(t,e)}))}};return i},g={some:p,none:h,from:function(t){return null==t?m:p(t)}},v=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:c(t)}},b=t.Node.ELEMENT_NODE,y=(void 0!==t.window||Function("return this;")(),function(t){return function(e){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(e)===t}}),_=y("string"),w=y("object"),x=y("array"),C=y("boolean"),S=y("undefined"),k=y("function");function E(t,e,n,r,i){return t(n,r)?g.some(n):k(i)&&i(n)?g.none():e(n,r,i)}k(Array.from);var O,T=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return T(n())}}},A=function(){return D(0,0)},D=function(t,e){return{major:t,minor:e}},M=function(t,e){var n=String(e).toLowerCase();return 0===t.length?A():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}}(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return D(r(1),r(2))}(t,n)},R=A,I=function(t,e){return function(){return e===t}},N=function(t){var e=t.current;return{current:e,version:t.version,isEdge:I("Edge",e),isChrome:I("Chrome",e),isIE:I("IE",e),isOpera:I("Opera",e),isFirefox:I("Firefox",e),isSafari:I("Safari",e)}},z=function(){return N({current:void 0,version:R()})},P=N,F=(c("Edge"),c("Chrome"),c("IE"),c("Opera"),c("Firefox"),c("Safari"),function(t,e){return function(){return e===t}}),B=function(t){var e=t.current;return{current:e,version:t.version,isWindows:F("Windows",e),isiOS:F("iOS",e),isAndroid:F("Android",e),isOSX:F("OSX",e),isLinux:F("Linux",e),isSolaris:F("Solaris",e),isFreeBSD:F("FreeBSD",e),isChromeOS:F("ChromeOS",e)}},L=function(){return B({current:void 0,version:R()})},H=B,V=(c("Windows"),c("iOS"),c("Android"),c("Linux"),c("OSX"),c("Solaris"),c("FreeBSD"),c("ChromeOS"),function(t,e){var n=String(e).toLowerCase();return function(t,e){for(var r=0,i=t.length;r<i;r++){var o=t[r];if(o.search(n))return g.some(o)}return g.none()}(t)}),j=function(t,e){return-1!==t.indexOf(e)},U=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,$=function(t){return function(e){return j(e,t)}},W=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return j(t,"edge/")&&j(t,"chrome")&&j(t,"safari")&&j(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,U],search:function(t){return j(t,"chrome")&&!j(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return j(t,"msie")||j(t,"trident")}},{name:"Opera",versionRegexes:[U,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:$("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:$("firefox")},{name:"Safari",versionRegexes:[U,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(j(t,"safari")||j(t,"mobile/"))&&j(t,"applewebkit")}}],q=[{name:"Windows",search:$("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return j(t,"iphone")||j(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:$("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:$("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:$("linux"),versionRegexes:[]},{name:"Solaris",search:$("sunos"),versionRegexes:[]},{name:"FreeBSD",search:$("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:$("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],G={browsers:c(W),oses:c(q)},Y=T(function(e,n){var r=G.browsers(),i=G.oses(),o=function(t,e){return V(t,e).map((function(t){var n=M(t.versionRegexes,e);return{current:t.name,version:n}}))}(r,e).fold(z,P),s=function(t,e){return V(t,e).map((function(t){var n=M(t.versionRegexes,e);return{current:t.name,version:n}}))}(i,e).fold(L,H),a=function(t,e,n,r){var i=t.isiOS()&&!0===/ipad/i.test(n),o=t.isiOS()&&!i,s=t.isiOS()||t.isAndroid(),a=s||r("(pointer:coarse)"),u=i||!o&&s&&r("(min-device-width:768px)"),l=o||s&&!u,d=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),f=!l&&!u&&!d;return{isiPad:c(i),isiPhone:c(o),isTablet:c(u),isPhone:c(l),isTouch:c(a),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:c(d),isDesktop:c(f)}}(s,o,e,(function(e){return t.window.matchMedia(e).matches}));return{browser:o,os:s,deviceType:a}}(t.navigator.userAgent)),K=b,X=function(t,e){var n=t.dom();if(n.nodeType!==K)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},Z=(Y.get().browser.isIE(),function(t,e,n){for(var r=t.dom(),i=k(n)?n:c(!1);r.parentNode;){var o=v(r=r.parentNode);if(e(o))return g.some(o);if(i(o))break}return g.none()}),Q=function(t,e,n){return Z(t,(function(t){return X(t,e)}),n)},J={getToolbarItemsOr:(O=_,function(t,e,n){return function(t,e){if(e(t))return!0;throw new Error("Default value doesn't match requested type.")}(n,O),function(t,e){if(x(t)||w(t))throw new Error("expected a string but found: "+t);return S(t)?e:C(t)?!1===t?"":e:t}(t.getParam(e,n),n)})};o.add("quickbars",(function(e){(function(e){e.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:function(){(function(e){return new a((function(n){var r=t.document.createElement("input");r.type="file",r.style.position="fixed",r.style.left="0",r.style.top="0",r.style.opacity="0.001",t.document.body.appendChild(r),r.addEventListener("change",(function(t){n(Array.prototype.slice.call(t.target.files))}));var i=function(t){var o=function(){n([]),r.parentNode.removeChild(r)};u.os.isAndroid()&&"remove"!==t.type?l.setEditorTimeout(e,o,0):o(),e.off("focusin remove",i)};e.on("focusin remove",i),r.click()}))})(e).then((function(n){if(n.length>0){var r=n[0];(i=r,new a((function(e){var n=new t.FileReader;n.onloadend=function(){e(n.result.split(",")[1])},n.readAsDataURL(i)}))).then((function(t){!function(t,e,n){var r,i,o;i=(r=t.editorUpload.blobCache).create((o=(new Date).getTime(),"mceu_"+Math.floor(1e9*Math.random())+ ++s+String(o)),n,e),r.add(i),t.insertContent(t.dom.createHTML("img",{src:i.blobUri()}))}(e,t,r)}))}var i}))}}),e.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:function(){!function(t,e,n){t.plugins.table?t.plugins.table.insertTable(2,2):function(t,e,n){t.undoManager.transact((function(){var e,n;t.insertContent(function(t,e){var n,r,i;for(i='<table data-mce-id="mce" style="width: 100%">',i+="<tbody>",r=0;r<2;r++){for(i+="<tr>",n=0;n<2;n++)i+="<td><br></td>";i+="</tr>"}return(i+="</tbody>")+"</table>"}()),(e=function(t){return t.dom.select("*[data-mce-id]")[0]}(t)).removeAttribute("data-mce-id"),n=t.dom.select("td,th",e),t.selection.setCursorLocation(n[0],0)}))}(t)}(e)}})})(e),function(t){var e=function(t){return J.getToolbarItemsOr(t,"quickbars_insert_toolbar","quickimage quicktable")}(t);e.trim().length>0&&t.ui.registry.addContextToolbar("quickblock",{predicate:function(e){var n=v(e),r=t.schema.getTextBlockElements(),i=function(e){return e.dom()===t.getBody()};return function(t,e,n){return E(X,Q,t,"table",n)}(n,0,i).fold((function(){return function(e,n,i){return E((function(t,e){return e(t)}),Z,e,(function(e){return e.dom().nodeName.toLowerCase()in r&&t.dom.isEmpty(e.dom())}),i)}(n,0,i).isSome()}),(function(){return!1}))},items:e,position:"line",scope:"editor"})}(e),function(t){var e=function(t){return"IMG"===t.nodeName||"FIGURE"===t.nodeName&&/image/i.test(t.className)},n=function(t){return J.getToolbarItemsOr(t,"quickbars_image_toolbar","alignleft aligncenter alignright")}(t);n.trim().length>0&&t.ui.registry.addContextToolbar("imageselection",{predicate:e,items:n,position:"node"});var r=function(t){return J.getToolbarItemsOr(t,"quickbars_selection_toolbar","bold italic | quicklink h2 h3 blockquote")}(t);r.trim().length>0&&t.ui.registry.addContextToolbar("textselection",{predicate:function(n){return!e(n)&&!t.selection.isCollapsed()&&function(e){return"false"!==t.dom.getContentEditableParent(e)}(n)},items:r,position:"selection",scope:"editor"})}(e)}))}(window)},Qjfq:function(t,e,n){n("vn/0")},Tqh3:function(t,e,n){n("zdkC")},YuVX:function(t,e,n){n("JRl2")},ZNhe:function(t,e,n){n("7x9u")},"fE+E":function(t,e){!function(t){"use strict";var e,n,r,i,o=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return o(n())}}},s=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=function(t,e){return t.fire("PastePlainTextToggle",{state:e})},u=function(t){return function(){return t}},l=u(!1),c=u(!0),d=function(){return f},f=(e=function(t){return t.isNone()},i={fold:function(t,e){return t()},is:l,isSome:l,isNone:c,getOr:r=function(t){return t},getOrThunk:n=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:r,orThunk:n,map:d,each:function(){},bind:d,exists:l,forall:c,filter:d,equals:e,equals_:e,toArray:function(){return[]},toString:u("none()")},Object.freeze&&Object.freeze(i),i),h=function(t){var e=u(t),n=function(){return i},r=function(e){return e(t)},i={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:c,isNone:l,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return h(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?i:f},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(l,(function(e){return n(t,e)}))}};return i},m={some:h,none:d,from:function(t){return null==t?f:h(t)}},p=function(t){return"function"===function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(t)},g=Array.prototype.slice,v=function(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;i++)r[i]=e(t[i],i);return r},b=function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)},y=p(Array.from)?Array.from:function(t){return g.call(t)},_={},w={exports:_};!function(t,e,n,r){!function(t){"object"==typeof e&&void 0!==n?n.exports=t():("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=t()}((function(){return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};e[s][0].call(l.exports,(function(t){return i(e[s][1][t]||t)}),l,l.exports,t,e,n,r)}return n[s].exports}for(var o=!1,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){var r,i,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(t){r=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,c=[],d=!1,f=-1;function h(){d&&l&&(d=!1,l.length?c=l.concat(c):f=-1,c.length&&m())}function m(){if(!d){var t=u(h);d=!0;for(var e=c.length;e;){for(l=c,c=[];++f<e;)l&&l[f].run();f=-1,e=c.length}l=null,d=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||d||u(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){!function(n){var r=setTimeout;function i(){}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function s(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(i){return void u(e.promise,i)}a(e.promise,r)}else(1===t._state?a:u)(e.promise,t._value)}))):t._deferreds.push(e)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void d((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(s){u(t,s)}var r,i}function u(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&o._immediateFn((function(){t._handled||o._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)s(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function d(t,e){var n=!1;try{t((function(t){n||(n=!0,a(e,t))}),(function(t){n||(n=!0,u(e,t))}))}catch(r){if(n)return;n=!0,u(e,r)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(i);return s(this,new c(t,e,n)),n},o.all=function(t){var e=Array.prototype.slice.call(t);return new o((function(t,n){if(0===e.length)return t([]);var r=e.length;function i(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){i(o,t)}),n)}e[o]=s,0==--r&&t(e)}catch(u){n(u)}}for(var o=0;o<e.length;o++)i(o,e[o])}))},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o((function(e){e(t)}))},o.reject=function(t){return new o((function(e,n){n(t)}))},o.race=function(t){return new o((function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)}))},o._immediateFn="function"==typeof t?function(e){t(e)}:function(t){r(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},o._setImmediateFn=function(t){o._immediateFn=t},o._setUnhandledRejectionFn=function(t){o._unhandledRejectionFn=t},void 0!==e&&e.exports?e.exports=o:n.Promise||(n.Promise=o)}(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,r){var i=t("process/browser.js").nextTick,o=Function.prototype.apply,s=Array.prototype.slice,a={},u=0;function l(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new l(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new l(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=u++,r=!(arguments.length<2)&&s.call(arguments,1);return a[e]=!0,i((function(){a[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof r?r:function(t){delete a[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var r=t("promise-polyfill"),i="undefined"!=typeof window?window:Function("return this;")();e.exports={boltExport:i.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))}(0,_,w);var x=w.exports.boltExport,C=function(e){var n=m.none(),r=[],i=function(t){o()?s(t):r.push(t)},o=function(){return n.isSome()},s=function(e){n.each((function(n){t.setTimeout((function(){e(n)}),0)}))};return e((function(t){n=m.some(t),b(r,s),r=[]})),{get:i,map:function(t){return C((function(e){i((function(n){e(t(n))}))}))},isReady:o}},S={nu:C,pure:function(t){return C((function(e){e(t)}))}},k=function(e){t.setTimeout((function(){throw e}),0)},E=function(t){var e=function(e){t().then(e,k)};return{map:function(e){return E((function(){return t().then(e)}))},bind:function(e){return E((function(){return t().then((function(t){return e(t).toPromise()}))}))},anonBind:function(e){return E((function(){return t().then((function(){return e.toPromise()}))}))},toLazy:function(){return S.nu(e)},toCached:function(){var e=null;return E((function(){return null===e&&(e=t()),e}))},toPromise:t,get:e}},O=function(t){return E((function(){return new x(t)}))},T=tinymce.util.Tools.resolve("tinymce.Env"),A=tinymce.util.Tools.resolve("tinymce.util.Delay"),D=tinymce.util.Tools.resolve("tinymce.util.Tools"),M=tinymce.util.Tools.resolve("tinymce.util.VK"),R=function(t){return-1!==t.indexOf("\x3c!-- x-tinymce/html --\x3e")},I=tinymce.util.Tools.resolve("tinymce.html.Entities"),N=tinymce.util.Tools.resolve("tinymce.html.DomParser"),z=tinymce.util.Tools.resolve("tinymce.html.Serializer"),P=tinymce.util.Tools.resolve("tinymce.html.Node"),F=tinymce.util.Tools.resolve("tinymce.html.Schema"),B=function(t){return t.getParam("paste_data_images",!1)},L=function(t){return t.getParam("paste_merge_formats",!0)},H=function(t){return t.getParam("paste_retain_style_properties")};function V(t,e){return D.each(e,(function(e){t=e.constructor===RegExp?t.replace(e,""):t.replace(e[0],e[1])})),t}var j={filter:V,innerText:function(t){var e=F(),n=N({},e),r="",i=e.getShortEndedElements(),o=D.makeMap("script noscript style textarea video audio iframe object"," "),s=e.getBlockElements();return t=V(t,[/<!\[[^\]]+\]>/g]),function t(e){var n=e.name,a=e;if("br"!==n){if("wbr"!==n)if(i[n]&&(r+=" "),o[n])r+=" ";else{if(3===e.type&&(r+=e.value),!e.shortEnded&&(e=e.firstChild))do{t(e)}while(e=e.next);s[n]&&a.next&&(r+="\n","p"===n&&(r+="\n"))}}else r+="\n"}(n.parse(t)),r},trimHtml:function(t){return V(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(t,e,n){return e||n?"\xa0":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},createIdGenerator:function(t){var e=0;return function(){return t+e++}},isMsEdge:function(){return-1!==t.navigator.userAgent.indexOf(" Edge/")}};function U(t){var e,n;return n=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],t=t.replace(/^[\u00a0 ]+/,""),D.each(n,(function(n){if(n.test(t))return e=!0,!1})),e}function $(t,e,n,r){var i,o={},s=t.dom.parseStyle(r);return D.each(s,(function(s,a){switch(a){case"mso-list":(i=/\w+ \w+([0-9]+)/i.exec(r))&&(n._listLevel=parseInt(i[1],10)),/Ignore/i.test(s)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":a="text-align";break;case"vert-align":a="vertical-align";break;case"font-color":case"mso-foreground":a="color";break;case"mso-background":case"mso-highlight":a="background";break;case"font-weight":case"font-style":return void("normal"!==s&&(o[a]=s));case"mso-element":if(/^(comment|comment-list)$/i.test(s))return void n.remove()}0!==a.indexOf("mso-comment")?0!==a.indexOf("mso-")&&("all"===H(t)||e&&e[a])&&(o[a]=s):n.remove()})),/(bold)/i.test(o["font-weight"])&&(delete o["font-weight"],n.wrap(new P("b",1))),/(italic)/i.test(o["font-style"])&&(delete o["font-style"],n.wrap(new P("i",1))),(o=t.dom.serializeStyle(o,n.name))||null}var W=function(t){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(t)||/class="OutlineElement/.test(t)||/id="?docs\-internal\-guid\-/.test(t)},q=function(t,e){return{content:t,cancelled:e}},G=function(t,e,n){var r=W(e);return function(t,e,n,r){var i=function(t,e,n,r){return t.fire("PastePreProcess",{content:e,internal:n,wordContent:r})}(t,e,n,r),o=function(t,e){var n=N({},t.schema);n.addNodeFilter("meta",(function(t){D.each(t,(function(t){return t.remove()}))}));var r=n.parse(e,{forced_root_block:!1,isRootContent:!0});return z({validate:t.settings.validate},t.schema).serialize(r)}(t,i.content);return t.hasEventListeners("PastePostProcess")&&!i.isDefaultPrevented()?function(t,e,n,r){var i=t.dom.create("div",{style:"display:none"},e),o=function(t,e,n,r){return t.fire("PastePostProcess",{node:e,internal:n,wordContent:r})}(t,i,n,r);return q(o.node.innerHTML,o.isDefaultPrevented())}(t,o,n,r):q(o,i.isDefaultPrevented())}(t,r?function(t,e){return function(t){return t.getParam("paste_enable_default_filters",!0)}(t)?function(t,e){var n,r;(n=H(t))&&(r=D.makeMap(n.split(/[, ]/))),e=j.filter(e,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xa0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(t,e){return e.length>0?e.replace(/./," ").slice(Math.floor(e.length/2)).split("").join("\xa0"):""}]]);var i=function(t){return t.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")}(t),o=F({valid_elements:i,valid_children:"-li[p]"});D.each(o.elements,(function(t){t.attributes.class||(t.attributes.class={},t.attributesOrder.push("class")),t.attributes.style||(t.attributes.style={},t.attributesOrder.push("style"))}));var s=N({},o);s.addAttributeFilter("style",(function(e){for(var n,i=e.length;i--;)(n=e[i]).attr("style",$(t,r,n,n.attr("style"))),"span"===n.name&&n.parent&&!n.attributes.length&&n.unwrap()})),s.addAttributeFilter("class",(function(t){for(var e,n,r=t.length;r--;)n=(e=t[r]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&e.remove(),e.attr("class",null)})),s.addNodeFilter("del",(function(t){for(var e=t.length;e--;)t[e].remove()})),s.addNodeFilter("a",(function(t){for(var e,n,r,i=t.length;i--;)if(n=(e=t[i]).attr("href"),r=e.attr("name"),n&&-1!==n.indexOf("#_msocom_"))e.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1])&&(n="#"+n),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){e.unwrap();continue}e.attr({href:n,name:r})}else e.unwrap()}));var a=s.parse(e);return function(t){return t.getParam("paste_convert_word_fake_lists",!0)}(t)&&function(t){var e,n,r=1;function i(t){var e="";if(3===t.type)return t.value;if(t=t.firstChild)do{e+=i(t)}while(t=t.next);return e}function o(t,e){if(3===t.type&&e.test(t.value))return t.value=t.value.replace(e,""),!1;if(t=t.firstChild)do{if(!o(t,e))return!1}while(t=t.next);return!0}function s(t,i,s){var a=t._listLevel||r;a!==r&&(a<r?e&&(e=e.parent.parent):(n=e,e=null)),e&&e.name===i?e.append(t):(n=n||e,e=new P(i,1),s>1&&e.attr("start",""+s),t.wrap(e)),t.name="li",a>r&&n&&n.lastChild.append(e),r=a,function t(e){if(e._listIgnore)e.remove();else if(e=e.firstChild)do{t(e)}while(e=e.next)}(t),o(t,/^\u00a0+/),o(t,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),o(t,/^\u00a0+/)}for(var a=[],u=t.firstChild;null!=u;)if(a.push(u),null!==(u=u.walk()))for(;void 0!==u&&u.parent!==t;)u=u.walk();for(var l=0;l<a.length;l++)if("p"===(t=a[l]).name&&t.firstChild){var c=i(t);if(/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(c)){s(t,"ul");continue}if(U(c)){var d=/([0-9]+)\./.exec(c),f=1;d&&(f=parseInt(d[1],10)),s(t,"ol",f);continue}if(t._listLevel){s(t,"ul",1);continue}e=null}else n=e,e=null}(a),z({validate:t.settings.validate},o).serialize(a)}(t,e):e}(t,e):e,n,r)},Y=function(t,e){return t.insertContent(e,{merge:L(t),paste:!0}),!0},K=function(t){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(t)},X=function(t){return K(t)&&/.(gif|jpe?g|png)$/.test(t)},Z=function(t,e,n){return!(!1!==t.selection.isCollapsed()||!K(e))&&function(t,e,n){return t.undoManager.extra((function(){n(t,e)}),(function(){t.execCommand("mceInsertLink",!1,e)})),!0}(t,e,n)},Q=function(t,e,n){return!!X(e)&&function(t,e,n){return t.undoManager.extra((function(){n(t,e)}),(function(){t.insertContent('<img src="'+e+'">')})),!0}(t,e,n)},J=X,tt=function(t){return"\n"===t||"\r"===t},et=function(t,e,n,r){var i=G(t,e,n);!1===i.cancelled&&function(t,e,n){n||!1===function(t){return t.getParam("smart_paste",!0)}(t)?Y(t,e):function(t,e){D.each([Z,Q,Y],(function(n){return!0!==n(t,e,Y)}))}(t,e)}(t,i.content,r)},nt=function(t,e,n){var r=n||R(e);et(t,function(t){return t.replace("\x3c!-- x-tinymce/html --\x3e","")}(e),r,!1)},rt=function(t,e){var n=function(t,e,n){return e?function(t,e,n){var r=t.split(/\n\n/),i=function(t,e){var n,r=[],i="<"+t;if("object"==typeof e){for(n in e)e.hasOwnProperty(n)&&r.push(n+'="'+I.encodeAllRaw(e[n])+'"');r.length&&(i+=" "+r.join(" "))}return i+">"}(e,n),o="</"+e+">",s=D.map(r,(function(t){return t.split(/\n/).join("<br />")}));return 1===s.length?s[0]:D.map(s,(function(t){return i+t+o})).join("")}(t,!0===e?"p":e,n):function(t){return t.replace(/\r?\n/g,"<br>")}(t)}(function(t){return(e=t,n={pcIsSpace:!1,str:""},b(e,(function(e){n=function(e,n){return function(t){return-1!==" \f\t\v".indexOf(t)}(n)||"\xa0"===n?e.pcIsSpace||""===e.str||e.str.length===t.length-1||function(t,e){return e<t.length&&e>=0&&tt(t[e])}(t,e.str.length+1)?{pcIsSpace:!1,str:e.str+"\xa0"}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:tt(n),str:e.str+n}}(n,e)})),n).str;var e,n}(t.dom.encode(e).replace(/\r\n/g,"\n")),t.settings.forced_root_block,t.settings.forced_root_block_attrs);et(t,n,!1,!0)},it=function(t){var e={};if(t){if(t.getData){var n=t.getData("Text");n&&n.length>0&&-1===n.indexOf("data:text/mce-internal,")&&(e["text/plain"]=n)}if(t.types)for(var r=0;r<t.types.length;r++){var i=t.types[r];try{e[i]=t.getData(i)}catch(o){e[i]=""}}}return e},ot=function(t,e){return e in t&&t[e].length>0},st=function(t){return ot(t,"text/html")||ot(t,"text/plain")},at=j.createIdGenerator("mceclip"),ut=function(e,n,r){var i,o,s,a="paste"===n.type?n.clipboardData:n.dataTransfer;if(e.settings.paste_data_images&&a){var u=function(t){var e=t.items?v(y(t.items),(function(t){return t.getAsFile()})):[],n=t.files?y(t.files):[];return function(t,e){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];/^image\/(jpeg|png|gif|bmp)$/.test(o.type)&&n.push(o)}return n}(e.length>0?e:n)}(a);if(u.length>0)return n.preventDefault(),(i=u,o=i,s=function(t){return O((function(e){var n=t.getAsFile?t.getAsFile():t,r=new window.FileReader;r.onload=function(){e({blob:n,uri:r.result})},r.readAsDataURL(n)}))},function(t,e){return e((function(e){var n=[],r=0;0===t.length?e([]):b(t,(function(i,o){i.get(function(i){return function(o){n[i]=o,++r>=t.length&&e(n)}}(o))}))}))}(v(o,s),O)).get((function(n){r&&e.selection.setRng(r),b(n,(function(n){!function(e,n){var r,i,o,s=-1!==(i=(r=n.uri).indexOf(","))?r.substr(i+1):null,a=at(),u=e.settings.images_reuse_filename&&n.blob.name?function(t,e){var n=e.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i);return n?t.dom.encode(n[1]):null}(e,n.blob.name):a,l=new t.Image;if(l.src=n.uri,!(o=e.settings).images_dataimg_filter||o.images_dataimg_filter(l)){var c,d=e.editorUpload.blobCache,f=void 0;(c=d.findFirst((function(t){return t.base64()===s})))?f=c:(f=d.create(a,n.blob,s,u),d.add(f)),nt(e,'<img src="'+f.blobUri()+'">',!1)}else nt(e,'<img src="'+n.uri+'">',!1)}(e,n)}))})),!0}return!1},lt=function(t){return M.metaKeyPressed(t)&&86===t.keyCode||t.shiftKey&&45===t.keyCode},ct=function(e){return T.ie&&e.inline?t.document.body:e.getBody()},dt=function(t){return t.dom.get("mcepastebin")},ft=function(t,e){return e===t},ht=function(t,e){var n,r=dt(t);return(n=r)&&"mcepastebin"===n.id&&ft(e,r.innerHTML)},mt=function(e,n){var r=function(t){var e=o(null);return{create:function(){return function(t,e,n){var r,i=t.dom,o=t.getBody();e.set(t.selection.getRng()),r=t.dom.add(ct(t),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},"%MCEPASTEBIN%"),(T.ie||T.gecko)&&i.setStyle(r,"left","rtl"===i.getStyle(o,"direction",!0)?65535:-65535),i.bind(r,"beforedeactivate focusin focusout",(function(t){t.stopPropagation()})),function(t,e,n){(function(t){return ct(t)!==t.getBody()})(t)&&t.dom.bind(e,"paste keyup",(function(e){ht(t,"%MCEPASTEBIN%")||t.fire("paste")}))}(t,r),r.focus(),t.selection.select(r,!0)}(t,e)},remove:function(){return function(t,e){if(dt(t)){for(var n=void 0,r=e.get();n=t.dom.get("mcepastebin");)t.dom.remove(n),t.dom.unbind(n);r&&t.selection.setRng(r)}e.set(null)}(t,e)},getEl:function(){return dt(t)},getHtml:function(){return function(t){var e,n,r,i,o,s=function(e,n){e.appendChild(n),t.dom.remove(n,!0)};for(n=D.grep(ct(t).childNodes,(function(t){return"mcepastebin"===t.id})),e=n.shift(),D.each(n,(function(t){s(e,t)})),r=(i=t.dom.select("div[id=mcepastebin]",e)).length-1;r>=0;r--)o=t.dom.create("div"),e.insertBefore(o,i[r]),s(o,i[r]);return e?e.innerHTML:""}(t)},getLastRng:function(){return function(t){return t.get()}(e)},isDefault:function(){return ht(t,"%MCEPASTEBIN%")},isDefaultContent:function(t){return ft("%MCEPASTEBIN%",t)}}}(e);return e.on("PreInit",(function(){return function(e,n,r){var i;(function(e,n,r){var i,s,a=(i=o(m.none()),{clear:function(){i.set(m.none())},set:function(t){i.set(m.some(t))},isSet:function(){return i.get().isSome()},on:function(t){i.get().each(t)}});function u(t,r,i,o){var s,a,u;ot(t,"text/html")?s=t["text/html"]:(s=n.getHtml(),o=o||R(s),n.isDefaultContent(s)&&(i=!0)),s=j.trimHtml(s),n.remove(),a=!1===o&&!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(s),u=J(s),(!s.length||a&&!u)&&(i=!0),(i||u)&&(s=ot(t,"text/plain")&&a?t["text/plain"]:j.innerText(s)),n.isDefaultContent(s)?r||e.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):i?rt(e,s):nt(e,s,o)}e.on("keydown",(function(r){function i(t){lt(t)&&!t.isDefaultPrevented()&&n.remove()}if(lt(r)&&!r.isDefaultPrevented()){if((s=r.shiftKey&&86===r.keyCode)&&T.webkit&&-1!==t.navigator.userAgent.indexOf("Version/"))return;if(r.stopImmediatePropagation(),a.set(r),window.setTimeout((function(){a.clear()}),100),T.ie&&s)return r.preventDefault(),void function(t,e){t.fire("paste",{ieFake:!0})}(e);n.remove(),n.create(),e.once("keyup",i),e.once("paste",(function(){e.off("keyup",i)}))}})),e.on("paste",(function(i){var o=a.isSet(),l=function(t,e){var n=it(e.clipboardData||t.getDoc().dataTransfer);return j.isMsEdge()?D.extend(n,{"text/html":""}):n}(e,i),c="text"===r.get()||s,d=ot(l,"x-tinymce/html");s=!1,i.isDefaultPrevented()||function(e){var n=e.clipboardData;return-1!==t.navigator.userAgent.indexOf("Android")&&n&&n.items&&0===n.items.length}(i)?n.remove():st(l)||!ut(e,i,n.getLastRng()||e.selection.getRng())?(o||i.preventDefault(),!T.ie||o&&!i.ieFake||ot(l,"text/html")||(n.create(),e.dom.bind(n.getEl(),"paste",(function(t){t.stopPropagation()})),e.getDoc().execCommand("Paste",!1,null),l["text/html"]=n.getHtml()),ot(l,"text/html")?(i.preventDefault(),d||(d=R(l["text/html"])),u(l,o,c,d)):A.setEditorTimeout(e,(function(){u(l,o,c,d)}),0)):n.remove()}))})(e,n,r),e.parser.addNodeFilter("img",(function(t,n,r){var o,s=function(t){return 0===t.indexOf("webkit-fake-url")},a=function(t){return 0===t.indexOf("data:")};if(!e.settings.paste_data_images&&function(t){return t.data&&!0===t.data.paste}(r))for(var u=t.length;u--;)(i=t[u].attr("src"))&&(s(i)||!e.settings.allow_html_data_urls&&a(i))&&((o=t[u]).attr("data-mce-object")||i===T.transparentSrc||o.remove())}))}(e,r,n)})),{pasteFormat:n,pasteHtml:function(t,n){return nt(e,t,n)},pasteText:function(t){return rt(e,t)},pasteImageData:function(t,n){return ut(e,t,n)},getDataTransferItems:it,hasHtmlOrText:st,hasContentType:ot}},pt=function(t,e,n,r){!function(t,e,n){if(!function(t){return!1===T.iOS&&void 0!==t&&"function"==typeof t.setData&&!0!==j.isMsEdge()}(t))return!1;try{return t.clearData(),t.setData("text/html",e),t.setData("text/plain",n),t.setData("x-tinymce/html",e),!0}catch(r){return!1}}(t.clipboardData,e.html,e.text)?n(e.html,r):(t.preventDefault(),r())},gt=function(t){return function(e,n){var r=function(t){return"\x3c!-- x-tinymce/html --\x3e"+t}(e),i=t.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),o=t.dom.create("div",{contenteditable:"true"},r);t.dom.setStyles(i,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),i.appendChild(o),t.dom.add(t.getBody(),i);var s=t.selection.getRng();o.focus();var a=t.dom.createRng();a.selectNodeContents(o),t.selection.setRng(a),A.setTimeout((function(){t.selection.setRng(s),i.parentNode.removeChild(i),n()}),0)}},vt=function(t){return{html:t.selection.getContent({contextual:!0}),text:t.selection.getContent({format:"text"})}},bt=function(t){return!t.selection.isCollapsed()||function(t){return!!t.dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody())}(t)},yt=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),_t=function(t,e){return yt.getCaretRangeFromPoint(e.clientX,e.clientY,t.getDoc())},wt=function(t,e){t.focus(),t.selection.setRng(e)};function xt(t,e){t.on("PastePreProcess",(function(n){n.content=e(t,n.content,n.internal,n.wordContent)}))}function Ct(t,e){if(!W(e))return e;var n=[];D.each(t.schema.getBlockElements(),(function(t,e){n.push(e)}));var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return e=j.filter(e,[[r,"$1"]]),j.filter(e,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function St(t,e,n,r){if(r||n)return e;var i,o=function(t){return t.getParam("paste_webkit_styles")}(t);if(!1===function(t){return t.getParam("paste_remove_styles_if_webkit",!0)}(t)||"all"===o)return e;if(o&&(i=o.split(/[, ]/)),i){var s=t.dom,a=t.selection.getNode();e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(t,e,n,r){var o=s.parseStyle(s.decode(n)),u={};if("none"===i)return e+r;for(var l=0;l<i.length;l++){var c=o[i[l]],d=s.getStyle(a,i[l],!0);/color/.test(i[l])&&(c=s.toHex(c),d=s.toHex(d)),d!==c&&(u[i[l]]=c)}return(u=s.serializeStyle(u,"span"))?e+' style="'+u+'"'+r:e+r}))}else e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return e.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(t,e,n,r){return e+' style="'+n+'"'+r}))}function kt(t,e){t.$("a",e).find("font,u").each((function(e,n){t.dom.remove(n,!0)}))}var Et=function(t,e){return function(n){n.setActive("text"===e.pasteFormat.get());var r=function(t){return n.setActive(t.state)};return t.on("PastePlainTextToggle",r),function(){return t.off("PastePlainTextToggle",r)}}};s.add("paste",(function(e){if(!1===function(e){return!(!/(^|[ ,])powerpaste([, ]|$)/.test(e.settings.plugins)||!s.get("powerpaste")||(void 0!==t.window.console&&t.window.console.log&&t.window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),0))}(e)){var n=o(!1),r=o(function(t){return t.getParam("paste_as_text",!1)}(e)?"text":"html"),i=mt(e,r),u=function(t){T.webkit&&xt(t,St),T.ie&&(xt(t,Ct),function(t,e){t.on("PastePostProcess",(function(n){e(t,n.node)}))}(t,kt))}(e);return function(t,e){t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:function(){return t.execCommand("mceTogglePlainTextPaste")},onSetup:Et(t,e)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",onAction:function(){return t.execCommand("mceTogglePlainTextPaste")},onSetup:Et(t,e)})}(e,i),function(t,e){t.addCommand("mceTogglePlainTextPaste",(function(){!function(t,e){"text"===e.pasteFormat.get()?(e.pasteFormat.set("html"),a(t,!1)):(e.pasteFormat.set("text"),a(t,!0)),t.focus()}(t,e)})),t.addCommand("mceInsertClipboardContent",(function(t,n){n.content&&e.pasteHtml(n.content,n.internal),n.text&&e.pasteText(n.text)}))}(e,i),function(t){var e=t.plugins.paste,n=function(t){return t.getParam("paste_preprocess")}(t);n&&t.on("PastePreProcess",(function(t){n.call(e,e,t)}));var r=function(t){return t.getParam("paste_postprocess")}(t);r&&t.on("PastePostProcess",(function(t){r.call(e,e,t)}))}(e),function(t){t.on("cut",function(t){return function(e){bt(t)&&pt(e,vt(t),gt(t),(function(){if(T.browser.isChrome()){var e=t.selection.getRng();A.setEditorTimeout(t,(function(){t.selection.setRng(e),t.execCommand("Delete")}),0)}else t.execCommand("Delete")}))}}(t)),t.on("copy",function(t){return function(e){bt(t)&&pt(e,vt(t),gt(t),(function(){}))}}(t))}(e),function(t,e,n){(function(t){return t.getParam("paste_block_drop",!1)})(t)&&t.on("dragend dragover draggesture dragdrop drop drag",(function(t){t.preventDefault(),t.stopPropagation()})),B(t)||t.on("drop",(function(t){var e=t.dataTransfer;e&&e.files&&e.files.length>0&&t.preventDefault()})),t.on("drop",(function(r){var i,o;if(o=_t(t,r),!r.isDefaultPrevented()&&!n.get()){i=e.getDataTransferItems(r.dataTransfer);var s,a=e.hasContentType(i,"x-tinymce/html");if((e.hasHtmlOrText(i)&&(!(s=i["text/plain"])||0!==s.indexOf("file://"))||!e.pasteImageData(r,o))&&o&&function(t){return t.getParam("paste_filter_drop",!0)}(t)){var u=i["mce-internal"]||i["text/html"]||i["text/plain"];u&&(r.preventDefault(),A.setEditorTimeout(t,(function(){t.undoManager.transact((function(){i["mce-internal"]&&t.execCommand("Delete"),wt(t,o),u=j.trimHtml(u),i["text/html"]?e.pasteHtml(u,a):e.pasteText(u)}))})))}}})),t.on("dragstart",(function(t){n.set(!0)})),t.on("dragover dragend",(function(e){B(t)&&!1===n.get()&&(e.preventDefault(),wt(t,_t(t,e))),"dragend"===e.type&&n.set(!1)}))}(e,i,n),function(t,e){return{clipboard:t,quirks:e}}(i,u)}}))}(window)},hOyB:function(t,e,n){n("JAFY")},iGOs:function(t,e,n){n("ndmF")},kOcP:function(t,e,n){n("PEHG")},lM69:function(t,e){!function(t){"use strict";var e=function(t){var n=t,r=function(){return n};return{get:r,set:function(t){n=t},clone:function(){return e(r())}}},n=function(){},r=function(t){return function(){return t}},i=function(t){return t};function o(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.concat(n);return t.apply(null,i)}}var s=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}},a=r(!1),u=r(!0),l=function(){return c},c=function(){var t=function(t){return t.isNone()},e=function(t){return t()},i=function(t){return t},o={fold:function(t,e){return t()},is:a,isSome:a,isNone:u,getOr:i,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:i,orThunk:e,map:l,each:n,bind:l,exists:a,forall:u,filter:l,equals:t,equals_:t,toArray:function(){return[]},toString:r("none()")};return Object.freeze&&Object.freeze(o),o}(),d=function(t){var e=r(t),n=function(){return o},i=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:u,isNone:a,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return d(e(t))},each:function(e){e(t)},bind:i,exists:i,forall:i,filter:function(e){return e(t)?o:c},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(a,(function(e){return n(t,e)}))}};return o},f={some:d,none:l,from:function(t){return null==t?c:d(t)}},h=tinymce.util.Tools.resolve("tinymce.PluginManager"),m=function(t){return function(e){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(e)===t}},p=m("string"),g=m("array"),v=m("boolean"),b=m("function"),y=m("number"),_=Array.prototype.slice,w=Array.prototype.indexOf,x=Array.prototype.push,C=function(t,e){return w.call(t,e)>-1},S=function(t,e){for(var n=0,r=t.length;n<r;n++)if(e(t[n],n))return!0;return!1},k=function(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;i++)r[i]=e(t[i],i);return r},E=function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)},O=function(t,e){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];e(o,r)&&n.push(o)}return n},T=function(t,e,n){return function(t,e){for(var n=t.length-1;n>=0;n--)e(t[n])}(t,(function(t){n=e(n,t)})),n},A=function(t,e,n){return E(t,(function(t){n=e(n,t)})),n},D=function(t,e){for(var n=0,r=t.length;n<r;n++){var i=t[n];if(e(i,n))return f.some(i)}return f.none()},M=function(t,e){for(var n=0,r=t.length;n<r;n++)if(e(t[n],n))return f.some(n);return f.none()},R=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!g(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);x.apply(e,t[n])}return e},I=function(t,e){return R(k(t,e))},N=function(t,e){for(var n=0,r=t.length;n<r;++n)if(!0!==e(t[n],n))return!1;return!0},z=(b(Array.from),function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return f.none()}),P=Object.keys,F=Object.hasOwnProperty,B=function(t,e){for(var n=P(t),r=0,i=n.length;r<i;r++){var o=n[r];e(t[o],o)}},L=function(t,e){return H(t,(function(t,n){return{k:n,v:e(t,n)}}))},H=function(t,e){var n={};return B(t,(function(t,r){var i=e(t,r);n[i.k]=i.v})),n},V=function(t,e){return j(t,e)?f.from(t[e]):f.none()},j=function(t,e){return F.call(t,e)},U=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t.length!==e.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+e.length+" arguments");var i={};return E(t,(function(t,n){i[t]=r(e[n])})),i}},$=function(t){return t.slice(0).sort()},W=function(t,e){throw new Error("All required keys ("+$(t).join(", ")+") were not specified. Specified keys were: "+$(e).join(", ")+".")},q=function(t){throw new Error("Unsupported keys for object: "+$(t).join(", "))},G=function(t,e){if(!g(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".");E(e,(function(e){if(!p(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")}))},Y=function(t){var e=$(t);D(e,(function(t,n){return n<e.length-1&&t===e[n+1]})).each((function(t){throw new Error("The field: "+t+" occurs more than once in the combined fields: ["+e.join(", ")+"].")}))},K=function(t,e){var n=t.concat(e);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return G("required",t),G("optional",e),Y(n),function(i){var o=P(i);N(t,(function(t){return C(o,t)}))||W(t,o);var s=O(o,(function(t){return!C(n,t)}));s.length>0&&q(s);var a={};return E(t,(function(t){a[t]=r(i[t])})),E(e,(function(t){a[t]=r(Object.prototype.hasOwnProperty.call(i,t)?f.some(i[t]):f.none())})),a}},X=t.Node.COMMENT_NODE,Z=t.Node.DOCUMENT_NODE,Q=t.Node.ELEMENT_NODE,J=t.Node.TEXT_NODE,tt=(void 0!==t.window||Function("return this;")(),function(t){return t.dom().nodeName.toLowerCase()}),et=function(t){return t.dom().nodeType},nt=function(t){return function(e){return et(e)===t}},rt=function(t){return et(t)===X||"#comment"===tt(t)},it=nt(Q),ot=nt(J),st=function(e,n,r){if(!(p(r)||v(r)||y(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")},at=function(t,e,n){st(t.dom(),e,n)},ut=function(t,e){var n=t.dom();B(e,(function(t,e){st(n,e,t)}))},lt=function(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n},ct=function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},dt=function(t,e){t.dom().removeAttribute(e)},ft=function(t){return A(t.dom().attributes,(function(t,e){return t[e.name]=e.value,t}),{})},ht=function(t,e,n){return""===e||!(t.length<e.length)&&t.substr(n,n+e.length)===e},mt=function(t,e){return-1!==t.indexOf(e)},pt=function(t,e){return ht(t,e,0)},gt=function(t){return void 0!==t.style&&b(t.style.getPropertyValue)},vt=function(t){var e,n=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n||(n=!0,e=t.apply(null,r)),e}},bt=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:r(t)}},yt={fromHtml:function(e,n){var r=(n||t.document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return bt(r.childNodes[0])},fromTag:function(e,n){var r=(n||t.document).createElement(e);return bt(r)},fromText:function(e,n){var r=(n||t.document).createTextNode(e);return bt(r)},fromDom:bt,fromPoint:function(t,e,n){var r=t.dom();return f.from(r.elementFromPoint(e,n)).map(bt)}},_t=function(t){var e=ot(t)?t.dom().parentNode:t.dom();return null!=e&&e.ownerDocument.body.contains(e)},wt=vt((function(){return xt(yt.fromDom(t.document))})),xt=function(t){var e=t.dom().body;if(null==e)throw new Error("Body is not available yet");return yt.fromDom(e)},Ct=function(e,n,r){if(!p(r))throw t.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);gt(e)&&e.style.setProperty(n,r)},St=function(t,e,n){var r=t.dom();Ct(r,e,n)},kt=function(t,e){var n=t.dom();B(e,(function(t,e){Ct(n,e,t)}))},Et=function(e,n){var r=e.dom(),i=t.window.getComputedStyle(r).getPropertyValue(n),o=""!==i||_t(e)?i:Ot(r,n);return null===o?void 0:o},Ot=function(t,e){return gt(t)?t.style.getPropertyValue(e):""},Tt=function(t,e){var n=t.dom(),r=Ot(n,e);return f.from(r).filter((function(t){return t.length>0}))},At=function(t,e){!function(t,e){gt(t)&&t.style.removeProperty(e)}(t.dom(),e),ct(t,"style")&&""===lt(t,"style").replace(/^\s+|\s+$/g,"")&&dt(t,"style")},Dt=function(){return(Dt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Mt=function(){return Rt(0,0)},Rt=function(t,e){return{major:t,minor:e}},It=function(t,e){var n=String(e).toLowerCase();return 0===t.length?Mt():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}}(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return Rt(r(1),r(2))}(t,n)},Nt=Mt,zt=function(t,e){return function(){return e===t}},Pt=function(t){var e=t.current;return{current:e,version:t.version,isEdge:zt("Edge",e),isChrome:zt("Chrome",e),isIE:zt("IE",e),isOpera:zt("Opera",e),isFirefox:zt("Firefox",e),isSafari:zt("Safari",e)}},Ft=function(){return Pt({current:void 0,version:Nt()})},Bt=Pt,Lt=(r("Edge"),r("Chrome"),r("IE"),r("Opera"),r("Firefox"),r("Safari"),function(t,e){return function(){return e===t}}),Ht=function(t){var e=t.current;return{current:e,version:t.version,isWindows:Lt("Windows",e),isiOS:Lt("iOS",e),isAndroid:Lt("Android",e),isOSX:Lt("OSX",e),isLinux:Lt("Linux",e),isSolaris:Lt("Solaris",e),isFreeBSD:Lt("FreeBSD",e),isChromeOS:Lt("ChromeOS",e)}},Vt=function(){return Ht({current:void 0,version:Nt()})},jt=Ht,Ut=(r("Windows"),r("iOS"),r("Android"),r("Linux"),r("OSX"),r("Solaris"),r("FreeBSD"),r("ChromeOS"),function(t,e){var n=String(e).toLowerCase();return D(t,(function(t){return t.search(n)}))}),$t=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Wt=function(t){return function(e){return mt(e,t)}},qt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return mt(t,"edge/")&&mt(t,"chrome")&&mt(t,"safari")&&mt(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,$t],search:function(t){return mt(t,"chrome")&&!mt(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return mt(t,"msie")||mt(t,"trident")}},{name:"Opera",versionRegexes:[$t,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Wt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Wt("firefox")},{name:"Safari",versionRegexes:[$t,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(mt(t,"safari")||mt(t,"mobile/"))&&mt(t,"applewebkit")}}],Gt=[{name:"Windows",search:Wt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return mt(t,"iphone")||mt(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Wt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Wt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Wt("linux"),versionRegexes:[]},{name:"Solaris",search:Wt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Wt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Wt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Yt={browsers:r(qt),oses:r(Gt)},Kt=e(function(e,n){var i=Yt.browsers(),o=Yt.oses(),s=function(t,e){return Ut(t,e).map((function(t){var n=It(t.versionRegexes,e);return{current:t.name,version:n}}))}(i,e).fold(Ft,Bt),a=function(t,e){return Ut(t,e).map((function(t){var n=It(t.versionRegexes,e);return{current:t.name,version:n}}))}(o,e).fold(Vt,jt),u=function(t,e,n,i){var o=t.isiOS()&&!0===/ipad/i.test(n),s=t.isiOS()&&!o,a=t.isiOS()||t.isAndroid(),u=a||i("(pointer:coarse)"),l=o||!s&&a&&i("(min-device-width:768px)"),c=s||a&&!l,d=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),f=!c&&!l&&!d;return{isiPad:r(o),isiPhone:r(s),isTablet:r(l),isPhone:r(c),isTouch:r(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:r(d),isDesktop:r(f)}}(a,s,e,(function(e){return t.window.matchMedia(e).matches}));return{browser:s,os:a,deviceType:u}}(t.navigator.userAgent)),Xt=function(){return Kt.get()},Zt=Q,Qt=Z,Jt=function(t,e){var n=t.dom();if(n.nodeType!==Zt)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},te=function(t){return t.nodeType!==Zt&&t.nodeType!==Qt||0===t.childElementCount},ee=function(t,e){return t.dom()===e.dom()},ne=Xt().browser.isIE()?function(e,n){return function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)}(e.dom(),n.dom(),t.Node.DOCUMENT_POSITION_CONTAINED_BY)}:function(t,e){var n=t.dom(),r=e.dom();return n!==r&&n.contains(r)},re=Jt,ie=function(t){return yt.fromDom(t.dom().ownerDocument)},oe=function(t){return f.from(t.dom().parentNode).map(yt.fromDom)},se=function(t,e){for(var n=b(e)?e:a,r=t.dom(),i=[];null!=r.parentNode;){var o=r.parentNode,s=yt.fromDom(o);if(i.push(s),!0===n(s))break;r=o}return i},ae=function(t){return f.from(t.dom().previousSibling).map(yt.fromDom)},ue=function(t){return f.from(t.dom().nextSibling).map(yt.fromDom)},le=function(t){return k(t.dom().childNodes,yt.fromDom)},ce=function(t,e){var n=t.dom().childNodes;return f.from(n[e]).map(yt.fromDom)},de=(U("element","offset"),function(t,e){oe(t).each((function(n){n.dom().insertBefore(e.dom(),t.dom())}))}),fe=function(t,e){ue(t).fold((function(){oe(t).each((function(t){me(t,e)}))}),(function(t){de(t,e)}))},he=function(t,e){(function(t){return ce(t,0)})(t).fold((function(){me(t,e)}),(function(n){t.dom().insertBefore(e.dom(),n.dom())}))},me=function(t,e){t.dom().appendChild(e.dom())},pe=function(t,e){de(t,e),me(e,t)},ge=function(t,e){E(e,(function(n,r){fe(0===r?t:e[r-1],n)}))},ve=function(t,e){E(e,(function(e){me(t,e)}))},be=function(t){t.dom().textContent="",E(le(t),(function(t){ye(t)}))},ye=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},_e=function(t){var e,n=le(t);n.length>0&&(e=t,E(n,(function(t){de(e,t)}))),ye(t)},we=(U("width","height"),U("width","height"),U("rows","columns")),xe=U("row","column"),Ce=(U("x","y"),U("element","rowspan","colspan")),Se=U("element","rowspan","colspan","isNew"),ke=U("element","rowspan","colspan","row","column"),Ee=U("element","cells","section"),Oe=U("element","isNew"),Te=U("element","cells","section","isNew"),Ae=U("cells","section"),De=U("details","section"),Me=U("startRow","startCol","finishRow","finishCol"),Re=function(t,e){var n=[];return E(le(t),(function(t){e(t)&&(n=n.concat([t])),n=n.concat(Re(t,e))})),n},Ie=function(t,e,n){return function(t,n,r){return O(se(t,r),(function(t){return Jt(t,e)}))}(t,0,n)},Ne=function(e,n){return function(e,n){var r=void 0===n?t.document:n.dom();return te(r)?[]:k(r.querySelectorAll(e),yt.fromDom)}(n,e)};function ze(t,e,n,r,i){return t(n,r)?f.some(n):b(i)&&i(n)?f.none():e(n,r,i)}var Pe=function(t,e,n){for(var i=t.dom(),o=b(n)?n:r(!1);i.parentNode;){var s=yt.fromDom(i=i.parentNode);if(e(s))return f.some(s);if(o(s))break}return f.none()},Fe=function(t,e,n){return Pe(t,(function(t){return Jt(t,e)}),n)},Be=function(t,e){return function(t,n){return D(t.dom().childNodes,(function(t){return n=yt.fromDom(t),Jt(n,e);var n})).map(yt.fromDom)}(t)},Le=function(e,n){return function(e,n){var r=void 0===n?t.document:n.dom();return te(r)?f.none():f.from(r.querySelector(e)).map(yt.fromDom)}(n,e)},He=function(t,e,n){return ze(Jt,Fe,t,e,n)},Ve=function(t,e,n){return I(le(t),(function(t){return Jt(t,e)?n(t)?[t]:[]:Ve(t,e,n)}))},je={firstLayer:function(t,e){return Ve(t,e,r(!0))},filterFirstLayer:Ve},Ue=function(t,e){return oe(e).map((function(e){return function(t,e){return function(t,n){return O(le(t),(function(t){return Jt(t,e)}))}(t)}(e,t)}))},$e=(o(Ue,"th,td"),o(Ue,"tr"),function(t,e){return function(t,e,n){return void 0===n&&(n=a),n(e)?f.none():C(t,tt(e))?f.some(e):Fe(e,t.join(","),(function(t){return Jt(t,"table")||n(t)}))}(["td","th"],t,e)}),We=function(t){return je.firstLayer(t,"th,td")},qe=function(t,e){return He(t,"table",e)},Ge=function(t){var e=function(t){return je.firstLayer(t,"tr")}(t);return k(e,(function(t){var e=t,n=oe(e).map((function(t){var e=tt(t);return"tfoot"===e||"thead"===e||"tbody"===e?e:"tbody"})).getOr("tbody"),r=k(We(t),(function(t){var e=ct(t,"rowspan")?parseInt(lt(t,"rowspan"),10):1,n=ct(t,"colspan")?parseInt(lt(t,"colspan"),10):1;return Ce(t,e,n)}));return Ee(e,r,n)}))},Ye=function(t,e){return t+","+e},Ke=function(t,e){var n=I(t.all(),(function(t){return t.cells()}));return O(n,e)},Xe=function(t){var e={},n=[],i=t.length,o=0;E(t,(function(t,r){var i=[];E(t.cells(),(function(t){for(var n=0;void 0!==e[Ye(r,n)];)n++;for(var s=ke(t.element(),t.rowspan(),t.colspan(),r,n),a=0;a<t.colspan();a++)for(var u=0;u<t.rowspan();u++){var l=n+a,c=Ye(r+u,l);e[c]=s,o=Math.max(o,l+1)}i.push(s)})),n.push(Ee(t.element(),i,t.section()))}));var s=we(i,o);return{grid:r(s),access:r(e),all:r(n)}},Ze=function(t,e,n){var r=t.access()[Ye(e,n)];return void 0!==r?f.some(r):f.none()},Qe=function(t,e,n){var r=Ke(t,(function(t){return n(e,t.element())}));return r.length>0?f.some(r[0]):f.none()},Je=Ke,tn=function(t){var e=k(t.all(),(function(t){return t.cells()}));return R(e)},en=U("minRow","minCol","maxRow","maxCol"),nn=function(t,e,n){var r=t[n].element(),i=yt.fromTag("td");me(i,yt.fromTag("br")),(e?me:he)(r,i)},rn=function(t,e){var n=function(e){return t(e)?f.from(e.dom().nodeValue):f.none()};return{get:function(e){if(!t(e))throw new Error("Can only get text value of a text node");return n(e).getOr("")},getOption:n,set:function(e,n){if(!t(e))throw new Error("Can only set raw text value of a text node");e.dom().nodeValue=n}}}(ot),on=function(t){return rn.get(t)},sn=function(t){return rn.getOption(t)},an=function(t,e){rn.set(t,e)},un=function(t){return"img"===tt(t)?1:sn(t).fold((function(){return le(t).length}),(function(t){return t.length}))},ln=["img","br"],cn=function(t){return sn(t).filter((function(t){return 0!==t.trim().length||t.indexOf("\xa0")>-1})).isSome()||C(ln,tt(t))},dn=function(t){return e=cn,(n=function(t){for(var r=0;r<t.childNodes.length;r++){var i=yt.fromDom(t.childNodes[r]);if(e(i))return f.some(i);var o=n(t.childNodes[r]);if(o.isSome())return o}return f.none()})(t.dom());var e,n},fn=function(t){return hn(t,cn)},hn=function(t,e){var n=function(t){for(var r=le(t),i=r.length-1;i>=0;i--){var o=r[i];if(e(o))return f.some(o);var s=n(o);if(s.isSome())return s}return f.none()};return n(t)},mn=function(t,e){return yt.fromDom(t.dom().cloneNode(e))},pn=function(t){return mn(t,!1)},gn=function(t){return mn(t,!0)},vn=function(){var t=yt.fromTag("td");return me(t,yt.fromTag("br")),t},bn=function(t,e,n){var r=function(t,e){var n=function(t,e){var n=yt.fromTag(e),r=ft(t);return ut(n,r),n}(t,e),r=le(gn(t));return ve(n,r),n}(t,e);return B(n,(function(t,e){null===t?dt(r,e):at(r,e,t)})),r},yn=function(t){return t},_n=function(t){return function(){return yt.fromTag("tr",t.dom())}},wn=function(t,e,n){return{row:_n(e),cell:function(e){var r,i,o,s=ie(e.element()),a=yt.fromTag(tt(e.element()),s.dom()),u=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),l=u.length>0?function(t,e,n){return dn(t).map((function(r){var i=n.join(","),o=Ie(r,i,(function(e){return ee(e,t)}));return T(o,(function(t,e){var n=pn(e);return dt(n,"contenteditable"),me(t,n),n}),e)})).getOr(e)}(e.element(),a,u):a;return me(l,yt.fromTag("br")),r=a,i=e.element().dom(),o=r.dom(),gt(i)&&gt(o)&&(o.style.cssText=i.style.cssText),At(a,"height"),1!==e.colspan()&&At(e.element(),"width"),t(e.element(),a),a},replace:bn,gap:vn}},xn=function(t){return{row:_n(t),cell:vn,replace:yn,gap:vn}},Cn=function(t,e){return e.column()>=t.startCol()&&e.column()+e.colspan()-1<=t.finishCol()&&e.row()>=t.startRow()&&e.row()+e.rowspan()-1<=t.finishRow()},Sn=function(t,e){var n=e.column(),r=e.column()+e.colspan()-1,i=e.row(),o=e.row()+e.rowspan()-1;return n<=t.finishCol()&&r>=t.startCol()&&i<=t.finishRow()&&o>=t.startRow()},kn=function(t,e,n){var r=Qe(t,e,ee),i=Qe(t,n,ee);return r.bind((function(t){return i.map((function(e){return n=t,r=e,Me(Math.min(n.row(),r.row()),Math.min(n.column(),r.column()),Math.max(n.row()+n.rowspan()-1,r.row()+r.rowspan()-1),Math.max(n.column()+n.colspan()-1,r.column()+r.colspan()-1));var n,r}))}))},En=kn,On=function(t,e,n){return En(t,e,n).map((function(e){var n=Je(t,o(Sn,e));return k(n,(function(t){return t.element()}))}))},Tn=function(t,e){return Qe(t,e,(function(t,e){return ne(e,t)})).map((function(t){return t.element()}))},An=function(t){var e=Ge(t);return Xe(e)},Dn=function(t,e,n){var r=An(t);return On(r,e,n)},Mn=function(t,e,n,r,i){var o=An(t),s=ee(t,n)?f.some(e):Tn(o,e),a=ee(t,i)?f.some(r):Tn(o,r);return s.bind((function(t){return a.bind((function(e){return On(o,t,e)}))}))},Rn=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function In(){return{up:r({selector:Fe,closest:He,predicate:Pe,all:se}),down:r({selector:Ne,predicate:Re}),styles:r({get:Et,getRaw:Tt,set:St,remove:At}),attrs:r({get:lt,set:at,remove:dt,copyTo:function(t,e){var n=ft(t);ut(e,n)}}),insert:r({before:de,after:fe,afterAll:ge,append:me,appendAll:ve,prepend:he,wrap:pe}),remove:r({unwrap:_e,remove:ye}),create:r({nu:yt.fromTag,clone:function(t){return yt.fromDom(t.dom().cloneNode(!1))},text:yt.fromText}),query:r({comparePosition:function(t,e){return t.dom().compareDocumentPosition(e.dom())},prevSibling:ae,nextSibling:ue}),property:r({children:le,name:tt,parent:oe,document:function(t){return t.dom().ownerDocument},isText:ot,isComment:rt,isElement:it,getText:on,setText:an,isBoundary:function(t){return!!it(t)&&("body"===tt(t)||C(Rn,tt(t)))},isEmptyTag:function(t){return!!it(t)&&C(["br","img","hr","input"],tt(t))},isNonEditable:function(t){return it(t)&&"false"===lt(t,"contenteditable")}}),eq:ee,is:re}}U("left","right"),U("first","second","splits");var Nn=function(t,e,n,r){var i=e(t,n);return T(r,(function(n,r){var i=e(t,r);return zn(t,n,i)}),i)},zn=function(t,e,n){return e.bind((function(e){return n.filter(o(t.eq,e))}))},Pn=function(t,e,n,i){void 0===i&&(i=a);var s=[e].concat(t.up().all(e)),u=[n].concat(t.up().all(n)),l=function(t){return M(t,i).fold((function(){return t}),(function(e){return t.slice(0,e+1)}))},c=l(s),d=l(u),f=D(c,(function(e){return S(d,function(t,e){return o(t.eq,e)}(t,e))}));return{firstpath:r(c),secondpath:r(d),shared:r(f)}},Fn=In(),Bn=function(t,e){return function(t,e,n){return n.length>0?function(t,e,n,r){return r(t,e,n[0],n.slice(1))}(t,e,n,Nn):f.none()}(Fn,(function(e,n){return t(n)}),e)},Ln={create:K(["boxes","start","finish"],[])},Hn=function(t){return Fe(t,"table")},Vn=function(t,e,n){var r=function(t){return function(e){return void 0!==n&&n(e)||ee(e,t)}};return ee(t,e)?f.some(Ln.create({boxes:f.some([t]),start:t,finish:e})):Hn(t).bind((function(i){return Hn(e).bind((function(o){if(ee(i,o))return f.some(Ln.create({boxes:Dn(i,t,e),start:t,finish:e}));if(ne(i,o)){var s=(a=Ie(e,"td,th",r(i))).length>0?a[a.length-1]:e;return f.some(Ln.create({boxes:Mn(i,t,i,e,o),start:t,finish:s}))}if(ne(o,i)){var a,u=(a=Ie(t,"td,th",r(o))).length>0?a[a.length-1]:t;return f.some(Ln.create({boxes:Mn(o,t,i,e,o),start:t,finish:u}))}return function(t,e,n){return Pn(Fn,t,e,void 0)}(t,e).shared().bind((function(s){return He(s,"table",n).bind((function(n){var s=Ie(e,"td,th",r(n)),a=s.length>0?s[s.length-1]:e,u=Ie(t,"td,th",r(n)),l=u.length>0?u[u.length-1]:t;return f.some(Ln.create({boxes:Mn(n,t,i,e,o),start:l,finish:a}))}))}))}))}))},jn=Vn,Un=function(t,e){var n=Ne(t,e);return n.length>0?f.some(n):f.none()},$n=function(t,e,n){return Le(t,e).bind((function(e){return Le(t,n).bind((function(t){return Bn(Hn,[e,t]).map((function(n){return{first:r(e),last:r(t),table:r(n)}}))}))}))},Wn=function(t,e,n){return $n(t,e,n).bind((function(e){var n=function(e){return ee(t,e)},r=Fe(e.first(),"thead,tfoot,tbody,table",n),i=Fe(e.last(),"thead,tfoot,tbody,table",n);return r.bind((function(t){return i.bind((function(n){return ee(t,n)?function(t,e,n){return function(t,e,n){return kn(t,e,n).bind((function(e){return function(t,e){for(var n=!0,r=o(Cn,e),i=e.startRow();i<=e.finishRow();i++)for(var s=e.startCol();s<=e.finishCol();s++)n=n&&Ze(t,i,s).exists(r);return n?f.some(e):f.none()}(t,e)}))}(An(t),e,n)}(e.table(),e.first(),e.last()):f.none()}))}))}))},qn={selected:r("data-mce-selected"),selectedSelector:r("td[data-mce-selected],th[data-mce-selected]"),attributeSelector:r("[data-mce-selected]"),firstSelected:r("data-mce-first-selected"),firstSelectedSelector:r("td[data-mce-first-selected],th[data-mce-first-selected]"),lastSelected:r("data-mce-last-selected"),lastSelectedSelector:r("td[data-mce-last-selected],th[data-mce-last-selected]")},Gn=function(e){if(!g(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var n=[],r={};return E(e,(function(i,o){var s=P(i);if(1!==s.length)throw new Error("one and only one name per case");var a=s[0],u=i[a];if(void 0!==r[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!g(u))throw new Error("case arguments must be an array");n.push(a),r[a]=function(){var r=arguments.length;if(r!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+r);for(var i=new Array(r),s=0;s<i.length;s++)i[s]=arguments[s];var l=function(t){var e=P(t);if(n.length!==e.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+e.join(","));if(!N(n,(function(t){return C(e,t)})))throw new Error("Not all branches were specified when using match. Specified: "+e.join(", ")+"\nRequired: "+n.join(", "));return t[a].apply(null,i)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);var t=arguments[o];return t.apply(null,i)},match:l,log:function(e){t.console.log(e,{constructors:n,constructor:a,params:i})}}}})),r},Yn=Gn([{none:[]},{multiple:["elements"]},{single:["selection"]}]),Kn={cata:function(t,e,n,r){return t.fold(e,n,r)},none:Yn.none,multiple:Yn.multiple,single:Yn.single},Xn=function(t,e){return Kn.cata(e.get(),r([]),i,r([t]))},Zn=function(t,e){return Kn.cata(e.get(),f.none,(function(e,n){return 0===e.length?f.none():Wn(t,qn.firstSelectedSelector(),qn.lastSelectedSelector()).bind((function(t){return e.length>1?f.some({bounds:r(t),cells:r(e)}):f.none()}))}),f.none)},Qn=function(t,e){var n=Xn(t,e);return n.length>0&&N(n,(function(t){return ct(t,"rowspan")&&parseInt(lt(t,"rowspan"),10)>1||ct(t,"colspan")&&parseInt(lt(t,"colspan"),10)>1}))?f.some(n):f.none()},Jn=Xn,tr=function(t){return{element:r(t),mergable:f.none,unmergable:f.none,selection:r([t])}},er=U("element","clipboard","generators"),nr={noMenu:tr,forMenu:function(t,e,n){return{element:r(n),mergable:r(Zn(e,t)),unmergable:r(Qn(n,t)),selection:r(Jn(n,t))}},notCell:function(t){return tr(t)},paste:er,pasteRows:function(t,e,n,i,o){return{element:r(n),mergable:f.none,unmergable:f.none,selection:r(Jn(n,t)),clipboard:r(i),generators:r(o)}}};function rr(t,e){var n=function(n){var r=e(n);if(r<=0||null===r){var i=Et(n,t);return parseFloat(i)||0}return r},r=function(t,e){return A(e,(function(e,n){var r=Et(t,n),i=void 0===r?0:parseInt(r,10);return isNaN(i)?e:e+i}),0)};return{set:function(e,n){if(!y(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom();gt(r)&&(r.style[t]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(t,e,n){var i=r(t,n);return e>i?e-i:0}}}var ir=rr("height",(function(t){var e=t.dom();return _t(t)?e.getBoundingClientRect().height:e.offsetHeight})),or=function(t){return ir.get(t)},sr=function(t){return ir.getOuter(t)},ar=rr("width",(function(t){return t.dom().offsetWidth})),ur=function(t){return ar.get(t)},lr=function(t){return ar.getOuter(t)},cr=Xt(),dr=function(t,e,n){return function(t,e){var n=parseFloat(t);return isNaN(n)?e:n}(Et(t,e),n)},fr=/(\d+(\.\d+)?)(\w|%)*/,hr=/(\d+(\.\d+)?)%/,mr=/(\d+(\.\d+)?)px|em/,pr=function(t,e){St(t,"height",e+"px")},gr=function(t){var e=function(t){return Tt(t,"height").getOrThunk((function(){return function(t){return cr.browser.isIE()||cr.browser.isEdge()?function(t){var e=dr(t,"padding-top",0),n=dr(t,"padding-bottom",0),r=dr(t,"border-top-width",0),i=dr(t,"border-bottom-width",0),o=t.dom().getBoundingClientRect().height;return"border-box"===Et(t,"box-sizing")?o:o-e-n-(r+i)}(t):dr(t,"height",or(t))}(t)+"px"}))}(t);return e?function(t,e,n,r){var i,o=parseInt(t,10);return ht(i=t,"%",i.length-"%".length)&&"table"!==tt(e)?function(t,e,n,r){var i=qe(t).map((function(t){var r=n(t);return Math.floor(e/100*r)})).getOr(e);return r(t,i),i}(e,o,n,r):o}(e,t,or,pr):or(t)},vr=function(t){return Tt(t,"width").fold((function(){return f.from(lt(t,"width"))}),(function(t){return f.some(t)}))},br=function(t,e){return t/e.pixelWidth()*100},yr={percentageBasedSizeRegex:r(hr),pixelBasedSizeRegex:r(mr),setPixelWidth:function(t,e){St(t,"width",e+"px")},setPercentageWidth:function(t,e){St(t,"width",e+"%")},setHeight:pr,getPixelWidth:function(t,e){return vr(t).fold((function(){return ur(t)}),(function(n){return function(t,e,n){var r=mr.exec(e);if(null!==r)return parseInt(r[1],10);var i=hr.exec(e);return null!==i?function(t,e){return t/100*e.pixelWidth()}(parseFloat(i[1]),n):ur(t)}(t,n,e)}))},getPercentageWidth:function(t,e){return vr(t).fold((function(){var n=ur(t);return br(n,e)}),(function(n){return function(t,e,n){var r=hr.exec(e);if(null!==r)return parseFloat(r[1]);var i=ur(t);return br(i,n)}(t,n,e)}))},getGenericWidth:function(t){return vr(t).bind((function(t){var e=fr.exec(t);return null!==e?f.some({width:r(parseFloat(e[1])),unit:r(e[3])}):f.none()}))},setGenericWidth:function(t,e,n){St(t,"width",e+n)},getHeight:function(t){return function(t,e,n){return n(t)/function(t,e){return ct(t,"rowspan")?parseInt(lt(t,"rowspan"),10):1}(t)}(t,0,gr)},getRawWidth:vr},_r=function(t,e){yr.getGenericWidth(t).each((function(n){var r=n.width()/2;yr.setGenericWidth(t,r,n.unit()),yr.setGenericWidth(e,r,n.unit())}))},wr=function(t,e){return{left:r(t),top:r(e),translate:function(n,r){return wr(t+n,e+r)}}},xr=wr,Cr=function(t,e){return void 0!==t?t:void 0!==e?e:0},Sr=function(t){var e=t.dom().ownerDocument,n=e.body,r=e.defaultView,i=e.documentElement;if(n===t.dom())return xr(n.offsetLeft,n.offsetTop);var o=Cr(r.pageYOffset,i.scrollTop),s=Cr(r.pageXOffset,i.scrollLeft),a=Cr(i.clientTop,n.clientTop),u=Cr(i.clientLeft,n.clientLeft);return kr(t).translate(s-u,o-a)},kr=function(t){var e=t.dom(),n=e.ownerDocument.body;return n===e?xr(n.offsetLeft,n.offsetTop):_t(t)?function(t){var e=t.getBoundingClientRect();return xr(e.left,e.top)}(e):xr(0,0)},Er=U("row","y"),Or=U("col","x"),Tr=function(t){return Sr(t).left()+lr(t)},Ar=function(t){return Sr(t).left()},Dr=function(t,e){return Or(t,Ar(e))},Mr=function(t,e){return Or(t,Tr(e))},Rr=function(t){return Sr(t).top()},Ir=function(t,e){return Er(t,Rr(e))},Nr=function(t,e){return Er(t,Rr(e)+sr(e))},zr=function(t,e,n){if(0===n.length)return[];var r=k(n.slice(1),(function(e,n){return e.map((function(e){return t(n,e)}))})),i=n[n.length-1].map((function(t){return e(n.length-1,t)}));return r.concat([i])},Pr={height:{delta:i,positions:function(t){return zr(Ir,Nr,t)},edge:Rr},rtl:{delta:function(t){return-t},edge:Tr,positions:function(t){return zr(Mr,Dr,t)}},ltr:{delta:i,edge:Ar,positions:function(t){return zr(Dr,Mr,t)}}},Fr={ltr:Pr.ltr,rtl:Pr.rtl};function Br(t){var e=function(e){return t(e).isRtl()?Fr.rtl:Fr.ltr};return{delta:function(t,n){return e(n).delta(t,n)},edge:function(t){return e(t).edge(t)},positions:function(t,n){return e(n).positions(t,n)}}}var Lr=function(t){var e=Ge(t);return Xe(e).grid()},Hr=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},Vr=function(t,e,n,r){n===r?dt(t,e):at(t,e,n)},jr=function(t){return void 0!==t.dom().classList},Ur=function(t,e){jr(t)?t.dom().classList.add(e):function(t,e){(function(t,e,n){var r=function(t,e){var n=lt(t,"class");return void 0===n||""===n?[]:n.split(" ")}(t).concat([n]);at(t,"class",r.join(" "))})(t,0,e)}(t,e)},$r=function(t,e){return jr(t)&&t.dom().classList.contains(e)},Wr=function(t,e){for(var n=[],r=t;r<e;r++)n.push(r);return n},qr=function(t,e){if(e<0||e>=t.length-1)return f.none();var n=t[e].fold((function(){var n=function(t){var e=_.call(t,0);return e.reverse(),e}(t.slice(0,e));return z(n,(function(t,e){return t.map((function(t){return{value:t,delta:e+1}}))}))}),(function(t){return f.some({value:t,delta:0})})),r=t[e+1].fold((function(){var n=t.slice(e+1);return z(n,(function(t,e){return t.map((function(t){return{value:t,delta:e+1}}))}))}),(function(t){return f.some({value:t,delta:1})}));return n.bind((function(t){return r.map((function(e){var n=e.delta+t.delta;return Math.abs(e.value-t.value)/n}))}))},Gr=function(t,e,n){var r=t();return D(r,e).orThunk((function(){return f.from(r[0]).orThunk(n)})).map((function(t){return t.element()}))},Yr=function(t){var e=t.grid(),n=Wr(0,e.columns()),i=Wr(0,e.rows());return k(n,(function(e){return Gr((function(){return I(i,(function(n){return Ze(t,n,e).filter((function(t){return t.column()===e})).fold(r([]),(function(t){return[t]}))}))}),(function(t){return 1===t.colspan()}),(function(){return Ze(t,0,e)}))}))},Kr=function(t){var e=t.grid(),n=Wr(0,e.rows()),i=Wr(0,e.columns());return k(n,(function(e){return Gr((function(){return I(i,(function(n){return Ze(t,e,n).filter((function(t){return t.row()===e})).fold(r([]),(function(t){return[t]}))}))}),(function(t){return 1===t.rowspan()}),(function(){return Ze(t,e,0)}))}))},Xr=function(t){var e=t.replace(/\./g,"-");return{resolve:function(t){return e+"-"+t}}},Zr={resolve:Xr("ephox-snooker").resolve},Qr=Zr.resolve("resizer-bar"),Jr=Zr.resolve("resizer-rows"),ti=Zr.resolve("resizer-cols"),ei=function(t){var e=Ne(t.parent(),"."+Qr);E(e,ye)},ni=function(t,e,n){var r=t.origin();E(e,(function(e,i){e.each((function(e){var i=n(r,e);Ur(i,Qr),me(t.parent(),i)}))}))},ri=function(t,e){var n=Ne(t.parent(),"."+Qr);E(n,e)},ii=function(t,e,n,r){ei(t);var i=Ge(e),o=Xe(i);!function(t,e,n,r,i,o){var s=Sr(e);!function(t,e,n,r){ni(t,e,(function(t,e){var i=function(t,e,n,r,i){var o=yt.fromTag("div");return kt(o,{position:"absolute",left:e+"px",top:n-3.5+"px",height:"7px",width:r+"px"}),ut(o,{"data-row":t,role:"presentation"}),o}(e.row(),n.left()-t.left(),e.y()-t.top(),r);return Ur(i,Jr),i}))}(t,n.length>0?i.positions(n,e):[],s,lr(e)),function(t,e,n,r){ni(t,e,(function(t,e){var i,o,s,a,u,l=(i=e.col(),o=e.x()-t.left(),s=n.top()-t.top(),7,a=r,u=yt.fromTag("div"),kt(u,{position:"absolute",left:o-3.5+"px",top:s+"px",height:a+"px",width:"7px"}),ut(u,{"data-column":i,role:"presentation"}),u);return Ur(l,ti),l}))}(t,r.length>0?o.positions(r,e):[],s,sr(e))}(t,e,Kr(o),Yr(o),n,r)},oi=function(t){ri(t,(function(t){St(t,"display","none")}))},si=function(t){ri(t,(function(t){St(t,"display","block")}))},ai=ei,ui=function(t,e){return Ae(e,t.section())},li=function(t,e){return t.cells()[e]},ci=function(t,e,n){var r=t.cells(),i=r.slice(0,e),o=r.slice(e),s=i.concat([n]).concat(o);return ui(t,s)},di=ui,fi=function(t,e,n){t.cells()[e]=n},hi=li,mi=function(t,e){return li(t,e).element()},pi=function(t,e){var n=t.cells(),r=k(n,e);return Ae(r,t.section())},gi=function(t){return t.cells().length},vi=function(t,e){if(0===t.length)return 0;var n=t[0];return M(t,(function(t){return!e(n.element(),t.element())})).fold((function(){return t.length}),(function(t){return t}))},bi=function(t,e,n){for(var r=[],i=0;i<t.grid().rows();i++){for(var o=[],s=0;s<t.grid().columns();s++){var a=Ze(t,i,s).map((function(t){return Oe(t.element(),n)})).getOrThunk((function(){return Oe(e.gap(),!0)}));o.push(a)}var u=Ae(o,t.all()[i].section());r.push(u)}return r},yi=function(t,e){return function(t,e){return k(t,(function(t){var n=function(t){return z(t,(function(t){return oe(t.element()).map((function(t){var e=oe(t).isNone();return Oe(t,e)}))})).getOrThunk((function(){return Oe(e.row(),!0)}))}(t.details());return Te(n.element(),t.details(),t.section(),n.isNew())}))}(function(t,e){var n=k(t,(function(t,e){return k(t.cells(),(function(t,e){return!1}))}));return k(t,(function(i,o){var s=I(i.cells(),(function(i,s){if(!1===n[o][s]){var a=function(t,e,n,i){var o=function(t,e){return t[e]}(t,e).cells().slice(n),s=vi(o,i),a=function(t,e){return k(t,(function(t){return hi(t,e)}))}(t,n).slice(e),u=vi(a,i);return{colspan:r(s),rowspan:r(u)}}(t,o,s,e);return function(t,e,r,i){for(var o=t;o<t+r;o++)for(var s=e;s<e+i;s++)n[o][s]=!0}(o,s,a.rowspan(),a.colspan()),[Se(i.element(),a.rowspan(),a.colspan(),i.isNew())]}return[]}));return De(s,i.section())}))}(t,ee),e)},_i=function(t,e){var n=R(k(t.all(),(function(t){return t.cells()})));return D(n,(function(t){return ee(e,t.element())}))},wi=function(t,e,n,i,o){return function(s,a,u,l,c){var d=Ge(a),h=Xe(d);return e(h,u).map((function(e){var n=function(t,e){return bi(t,e,!1)}(h,l),i=t(n,e,ee,o(l)),s=yi(i.grid(),l);return{grid:r(s),cursor:i.cursor}})).fold((function(){return f.none()}),(function(t){var e=function(t,e){var n=[],i=[],o=function(e,r){e.length>0?function(e,r){var o=Be(t,r).getOrThunk((function(){var e=yt.fromTag(r,ie(t).dom());return me(t,e),e}));be(o);var s=k(e,(function(t){t.isNew()&&n.push(t.element());var e=t.element();return be(e),E(t.cells(),(function(t){t.isNew()&&i.push(t.element()),Vr(t.element(),"colspan",t.colspan(),1),Vr(t.element(),"rowspan",t.rowspan(),1),me(e,t.element())})),e}));ve(o,s)}(e,r):function(e){Be(t,e).each(ye)}(r)},s=[],a=[],u=[];return E(e,(function(t){switch(t.section()){case"thead":s.push(t);break;case"tbody":a.push(t);break;case"tfoot":u.push(t)}})),o(s,"thead"),o(a,"tbody"),o(u,"tfoot"),{newRows:r(n),newCells:r(i)}}(a,t.grid());return n(a,t.grid(),c),i(a),ii(s,a,Pr.height,c),f.some({cursor:t.cursor,newRows:e.newRows,newCells:e.newCells})}))}},xi=function(t,e){return $e(e.element()).bind((function(e){return _i(t,e)}))},Ci=function(t,e){var n=k(e.selection(),(function(e){return $e(e).bind((function(e){return _i(t,e)}))})),r=Hr(n);return r.length>0?f.some({cells:r,generators:e.generators,clipboard:e.clipboard}):f.none()},Si=function(t,e){var n=k(e.selection(),(function(e){return $e(e).bind((function(e){return _i(t,e)}))})),r=Hr(n);return r.length>0?f.some(r):f.none()},ki=function(t){return{is:function(e){return t===e},isValue:u,isError:a,getOr:r(t),getOrThunk:r(t),getOrDie:r(t),or:function(e){return ki(t)},orThunk:function(e){return ki(t)},fold:function(e,n){return n(t)},map:function(e){return ki(e(t))},mapError:function(e){return ki(t)},each:function(e){e(t)},bind:function(e){return e(t)},exists:function(e){return e(t)},forall:function(e){return e(t)},toOption:function(){return f.some(t)}}},Ei=function(t){return{is:a,isValue:a,isError:u,getOr:i,getOrThunk:function(t){return t()},getOrDie:function(){return(e=String(t),function(){throw new Error(e)})();var e},or:function(t){return t},orThunk:function(t){return t()},fold:function(e,n){return e(t)},map:function(e){return Ei(t)},mapError:function(e){return Ei(e(t))},each:n,bind:function(e){return Ei(t)},exists:a,forall:u,toOption:f.none}},Oi={value:ki,error:Ei,fromOption:function(t,e){return t.fold((function(){return Ei(e)}),ki)}},Ti=function(t,e){return k(t,(function(){return Oe(e.cell(),!0)}))},Ai=function(t,e,n){return t.concat(function(e,r){for(var i=[],o=0;o<e;o++)i.push(di(t[t.length-1],Ti(t[t.length-1].cells(),n)));return i}(e))},Di=function(t,e,n){return k(t,(function(t){return di(t,t.cells().concat(Ti(Wr(0,e),n)))}))},Mi=function(t,e){var n=gi(t[0]),i=gi(e[0]);return{rowDelta:r(0),colDelta:r(n-i)}},Ri=function(t,e,n){var r=e.colDelta()<0?Di:i;return(e.rowDelta()<0?Ai:i)(r(t,Math.abs(e.colDelta()),n),Math.abs(e.rowDelta()),n)},Ii=function(t,e,n,r){for(var i=!0,o=0;o<t.length;o++)for(var s=0;s<gi(t[0]);s++){var a=n(mi(t[o],s),e);!0===a&&!1===i?fi(t[o],s,Oe(r(),!0)):!0===a&&(i=!1)}return t},Ni=function(t,e,n,r){var i=o(r,hi(t[e],n).element()),s=t[e];return t.length>1&&gi(s)>1&&(n>0&&i(mi(s,n-1))||n<s.cells().length-1&&i(mi(s,n+1))||e>0&&i(mi(t[e-1],n))||e<t.length-1&&i(mi(t[e+1],n)))},zi=function(t,e,n,r,i){!function(t,e,n,r){if(e>0&&e<t.length){var i=function(t,e){return A(t,(function(t,n){return S(t,(function(t){return e(t.element(),n.element())}))?t:t.concat([n])}),[])}(t[e-1].cells(),n);E(i,(function(i){for(var o=f.none(),s=function(e){for(var s=function(s){var a=t[e].cells()[s];n(a.element(),i.element())&&(o.isNone()&&(o=f.some(r())),o.each((function(n){fi(t[e],s,Oe(n,!0))})))},a=0;a<gi(t[0]);a++)s(a)},a=e;a<t.length;a++)s(a)}))}}(e,t,i,r.cell);var o=Mi(n,e),s=Ri(n,o,r),a=Mi(e,s),u=Ri(e,a,r);return u.slice(0,t).concat(s).concat(u.slice(t,u.length))},Pi=function(t,e,n,r,i){var o=t.slice(0,e),s=t.slice(e),a=pi(t[n],(function(n,o){return e>0&&e<t.length&&r(mi(t[e-1],o),mi(t[e],o))?hi(t[e],o):Oe(i(n.element(),r),!0)}));return o.concat([a]).concat(s)},Fi=function(t,e,n,r,i){return k(t,(function(t){var o=e>0&&e<gi(t)&&r(mi(t,e-1),mi(t,e))?hi(t,e):Oe(i(mi(t,n),r),!0);return ci(t,e,o)}))},Bi=function(t,e,n,r){return k(t,(function(t){return pi(t,(function(t){return function(t){return S(e,(function(e){return n(t.element(),e.element())}))}(t)?Oe(r(t.element(),n),!0):t}))}))},Li=function(t,e,n,r){return void 0!==mi(t[e],n)&&e>0&&r(mi(t[e-1],n),mi(t[e],n))},Hi=function(t,e,n){return e>0&&n(mi(t,e-1),mi(t,e))},Vi=function(t,e,n,r){var i=I(t,(function(r,i){return Li(t,i,e,n)||Hi(r,e,n)?[]:[hi(r,e)]}));return Bi(t,i,n,r)},ji=function(t,e,n,r){var i=t[e],o=I(i.cells(),(function(r,o){return Li(t,e,o,n)||Hi(i,o,n)?[]:[r]}));return Bi(t,o,n,r)},Ui=Gn([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),$i=Dt({},Ui),Wi=function(t,e){return ct(t,e)&&parseInt(lt(t,e),10)>1},qi={hasColspan:function(t){return Wi(t,"colspan")},hasRowspan:function(t){return Wi(t,"rowspan")},minWidth:r(10),minHeight:r(10),getInt:function(t,e){return parseInt(Et(t,e),10)}},Gi=function(t,e,n){return Tt(t,e).fold((function(){return n(t)+"px"}),(function(t){return t}))},Yi=function(t,e){return Gi(t,"width",(function(t){return yr.getPixelWidth(t,e)}))},Ki=function(t){return Gi(t,"height",yr.getHeight)},Xi=function(t,e,n,r,i){var o=Yr(t),a=k(o,(function(t){return t.map(e.edge)}));return k(o,(function(t,e){return t.filter(s(qi.hasColspan)).fold((function(){var t=qr(a,e);return r(t)}),(function(t){return n(t,i)}))}))},Zi=function(t){return t.map((function(t){return t+"px"})).getOr("")},Qi=function(t,e,n,r){var i=Kr(t),o=k(i,(function(t){return t.map(e.edge)}));return k(i,(function(t,e){return t.filter(s(qi.hasRowspan)).fold((function(){var t=qr(o,e);return r(t)}),(function(t){return n(t)}))}))},Ji={getRawWidths:function(t,e,n){return Xi(t,e,Yi,Zi,n)},getPixelWidths:function(t,e,n){return Xi(t,e,yr.getPixelWidth,(function(t){return t.getOrThunk(n.minCellWidth)}),n)},getPercentageWidths:function(t,e,n){return Xi(t,e,yr.getPercentageWidth,(function(t){return t.fold((function(){return n.minCellWidth()}),(function(t){return t/n.pixelWidth()*100}))}),n)},getPixelHeights:function(t,e){return Qi(t,e,yr.getHeight,(function(t){return t.getOrThunk(qi.minHeight)}))},getRawHeights:function(t,e){return Qi(t,e,Ki,Zi)}},to=function(t,e,n){for(var r=0,i=t;i<e;i++)r+=void 0!==n[i]?n[i]:0;return r},eo=function(t,e){var n=tn(t);return k(n,(function(t){var n=to(t.column(),t.column()+t.colspan(),e);return{element:t.element,width:r(n),colspan:t.colspan}}))},no=function(t,e){var n=tn(t);return k(n,(function(t){var n=to(t.row(),t.row()+t.rowspan(),e);return{element:t.element,height:r(n),rowspan:t.rowspan}}))},ro=function(t){var e=i;return{width:r(t),pixelWidth:r(t),getWidths:Ji.getPixelWidths,getCellDelta:e,singleColumnWidth:function(t,e){return[Math.max(qi.minWidth(),t+e)-t]},minCellWidth:qi.minWidth,setElementWidth:yr.setPixelWidth,setTableWidth:function(t,e,n){var r=T(e,(function(t,e){return t+e}),0);yr.setPixelWidth(t,r)}}},io=function(t){return yr.getRawWidth(t).fold((function(){var e=ur(t);return ro(e)}),(function(e){return function(t,e){var n=yr.percentageBasedSizeRegex().exec(e);if(null!==n)return function(t,e){var n=parseFloat(t),i=ur(e);return{width:r(n),pixelWidth:r(i),getWidths:Ji.getPercentageWidths,getCellDelta:function(t){return t/i*100},singleColumnWidth:function(t,e){return[100-t]},minCellWidth:function(){return qi.minWidth()/i*100},setElementWidth:yr.setPercentageWidth,setTableWidth:function(t,e,r){yr.setPercentageWidth(t,n+r/100*n)}}}(n[1],t);var i=yr.pixelBasedSizeRegex().exec(e);if(null!==i){var o=parseInt(i[1],10);return ro(o)}var s=ur(t);return ro(s)}(t,e)}))},oo=function(t){return Xe(t)},so=function(t){var e=Ge(t);return oo(e)},ao=function(t,e){var n=O(e,(function(e){return!C(t,e)}));n.length>0&&q(n)},uo=function(t){return function(t,e){return function(t,e,n){if(0===e.length)throw new Error("You must specify at least one required field.");return G("required",e),Y(e),function(r){var i=P(r);N(e,(function(t){return C(i,t)}))||W(e,i),t(e,i);var o=O(e,(function(t){return!n.validate(r[t],t)}));return o.length>0&&function(t,e){throw new Error("All values need to be of type: "+e+". Keys ("+$(t).join(", ")+") were not.")}(o,n.label),r}}(t,e,{validate:b,label:"function"})}(ao,t)},lo=uo(["cell","row","replace","gap"]),co=function(t){var e=ct(t,"colspan")?parseInt(lt(t,"colspan"),10):1,n=ct(t,"rowspan")?parseInt(lt(t,"rowspan"),10):1;return{element:r(t),colspan:r(e),rowspan:r(n)}},fo=function(t,n){void 0===n&&(n=co),lo(t);var r=e(f.none()),i=function(e){var i=function(e){return r=n(e),t.cell(r);var r}(e);return r.get().isNone()&&r.set(f.some(i)),o=f.some({item:e,replacement:i}),i},o=f.none();return{getOrInit:function(t,e){return o.fold((function(){return i(t)}),(function(n){return e(t,n.item)?n.replacement:i(t)}))},cursor:r.get}},ho=function(t,n){return function(r){var i=e(f.none());lo(r);var o=[],s=function(e){var s=r.replace(e,n,{scope:t});return o.push({item:e,sub:s}),i.get().isNone()&&i.set(f.some(s)),s};return{replaceOrInit:function(t,e){return function(t,e){return D(o,(function(n){return e(n.item,t)}))}(t,e).fold((function(){return s(t)}),(function(n){return e(t,n.item)?n.sub:s(t)}))},cursor:i.get}}},mo=function(t){lo(t);var n=e(f.none());return{combine:function(e){return n.get().isNone()&&n.set(f.some(e)),function(){var n=t.cell({element:r(e),colspan:r(1),rowspan:r(1)});return At(n,"width"),At(e,"width"),n}},cursor:n.get}},po=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],go=In(),vo=function(t){return function(t,e){var n=t.property().name(e);return C(po,n)}(go,t)},bo=function(t){return function(t,e){var n=t.property().name(e);return C(["ol","ul"],n)}(go,t)},yo=function(t){var e,n=function(t){return"br"===tt(t)},r=function(t){return fn(t).bind((function(e){var r=ue(e).map((function(t){return!!vo(t)||!!function(t,e){return C(["br","img","hr","input"],t.property().name(e))}(go,t)&&"img"!==tt(t)})).getOr(!1);return oe(e).map((function(i){return!0===r||function(t){return"li"===tt(t)||Pe(t,bo).isSome()}(i)||n(e)||vo(i)&&!ee(t,i)?[]:[yt.fromTag("br")]}))})).getOr([])},i=0===(e=I(t,(function(t){var e=le(t);return function(t){return N(t,(function(t){return n(t)||ot(t)&&0===on(t).trim().length}))}(e)?[]:e.concat(r(t))}))).length?[yt.fromTag("br")]:e;be(t[0]),ve(t[0],i)},_o=function(t){0===We(t).length&&ye(t)},wo=U("grid","cursor"),xo=function(t,e,n){return Co(t,e,n).orThunk((function(){return Co(t,0,0)}))},Co=function(t,e,n){return f.from(t[e]).bind((function(t){return f.from(t.cells()[n]).bind((function(t){return f.from(t.element())}))}))},So=function(t,e,n){return wo(t,Co(t,e,n))},ko=function(t){return A(t,(function(t,e){return S(t,(function(t){return t.row()===e.row()}))?t:t.concat([e])}),[]).sort((function(t,e){return t.row()-e.row()}))},Eo=function(t){return A(t,(function(t,e){return S(t,(function(t){return t.column()===e.column()}))?t:t.concat([e])}),[]).sort((function(t,e){return t.column()-e.column()}))},Oo=function(t,e,n){var r=function(t,e){return k(t,(function(t){var n=k(We(t),(function(t){var e=ct(t,"rowspan")?parseInt(lt(t,"rowspan"),10):1,n=ct(t,"colspan")?parseInt(lt(t,"colspan"),10):1;return Ce(t,e,n)}));return Ee(t,n,e.section())}))}(t,n),i=Xe(r);return bi(i,e,!0)},To=function(t,e,n){var r=io(t),i=oo(e),o=r.getWidths(i,n,r),s=eo(i,o);E(s,(function(t){r.setElementWidth(t.element(),t.width())})),s.length>0&&r.setTableWidth(t,o,r.getCellDelta(0))},Ao={insertRowBefore:wi((function(t,e,n,r){var i=e.row(),o=e.row(),s=Pi(t,o,i,n,r.getOrInit);return So(s,o,e.column())}),xi,n,n,fo),insertRowsBefore:wi((function(t,e,n,r){var i=e[0].row(),o=e[0].row(),s=ko(e),a=A(s,(function(t,e){return Pi(t,o,i,n,r.getOrInit)}),t);return So(a,o,e[0].column())}),Si,n,n,fo),insertRowAfter:wi((function(t,e,n,r){var i=e.row(),o=e.row()+e.rowspan(),s=Pi(t,o,i,n,r.getOrInit);return So(s,o,e.column())}),xi,n,n,fo),insertRowsAfter:wi((function(t,e,n,r){var i=ko(e),o=i[i.length-1].row(),s=i[i.length-1].row()+i[i.length-1].rowspan(),a=A(i,(function(t,e){return Pi(t,s,o,n,r.getOrInit)}),t);return So(a,s,e[0].column())}),Si,n,n,fo),insertColumnBefore:wi((function(t,e,n,r){var i=e.column(),o=e.column(),s=Fi(t,o,i,n,r.getOrInit);return So(s,e.row(),o)}),xi,To,n,fo),insertColumnsBefore:wi((function(t,e,n,r){var i=Eo(e),o=i[0].column(),s=i[0].column(),a=A(i,(function(t,e){return Fi(t,s,o,n,r.getOrInit)}),t);return So(a,e[0].row(),s)}),Si,To,n,fo),insertColumnAfter:wi((function(t,e,n,r){var i=e.column(),o=e.column()+e.colspan(),s=Fi(t,o,i,n,r.getOrInit);return So(s,e.row(),o)}),xi,To,n,fo),insertColumnsAfter:wi((function(t,e,n,r){var i=e[e.length-1].column(),o=e[e.length-1].column()+e[e.length-1].colspan(),s=Eo(e),a=A(s,(function(t,e){return Fi(t,o,i,n,r.getOrInit)}),t);return So(a,e[0].row(),o)}),Si,To,n,fo),splitCellIntoColumns:wi((function(t,e,n,r){var i=function(t,e,n,r,i){var o=n+1;return k(t,(function(t,s){var a=s===e?Oe(i(mi(t,n),r),!0):hi(t,n);return ci(t,o,a)}))}(t,e.row(),e.column(),n,r.getOrInit);return So(i,e.row(),e.column())}),xi,To,n,fo),splitCellIntoRows:wi((function(t,e,n,r){var i=function(t,e,n,r,i){var o=e+1,s=t.slice(0,o),a=t.slice(o),u=pi(t[e],(function(t,e){return e===n?Oe(i(t.element(),r),!0):t}));return s.concat([u]).concat(a)}(t,e.row(),e.column(),n,r.getOrInit);return So(i,e.row(),e.column())}),xi,n,n,fo),eraseColumns:wi((function(t,e,n,r){var i=Eo(e),o=function(t,e,n){var r=k(t,(function(t){var r=t.cells().slice(0,e).concat(t.cells().slice(n+1));return Ae(r,t.section())}));return O(r,(function(t){return t.cells().length>0}))}(t,i[0].column(),i[i.length-1].column()),s=xo(o,e[0].row(),e[0].column());return wo(o,s)}),Si,To,_o,fo),eraseRows:wi((function(t,e,n,r){var i=ko(e),o=function(t,e,n){return t.slice(0,e).concat(t.slice(n+1))}(t,i[0].row(),i[i.length-1].row()),s=xo(o,e[0].row(),e[0].column());return wo(o,s)}),Si,n,_o,fo),makeColumnHeader:wi((function(t,e,n,r){var i=Vi(t,e.column(),n,r.replaceOrInit);return So(i,e.row(),e.column())}),xi,n,n,ho("row","th")),unmakeColumnHeader:wi((function(t,e,n,r){var i=Vi(t,e.column(),n,r.replaceOrInit);return So(i,e.row(),e.column())}),xi,n,n,ho(null,"td")),makeRowHeader:wi((function(t,e,n,r){var i=ji(t,e.row(),n,r.replaceOrInit);return So(i,e.row(),e.column())}),xi,n,n,ho("col","th")),unmakeRowHeader:wi((function(t,e,n,r){var i=ji(t,e.row(),n,r.replaceOrInit);return So(i,e.row(),e.column())}),xi,n,n,ho(null,"td")),mergeCells:wi((function(t,e,n,i){var o=e.cells();yo(o);var s=function(t,e,n,r){if(0===t.length)return t;for(var i=e.startRow();i<=e.finishRow();i++)for(var o=e.startCol();o<=e.finishCol();o++)fi(t[i],o,Oe(r(),!1));return t}(t,e.bounds(),0,r(o[0]));return wo(s,f.from(o[0]))}),(function(t,e){return e.mergable()}),n,n,mo),unmergeCells:wi((function(t,e,n,r){var i=T(e,(function(t,e){return Ii(t,e,n,r.combine(e))}),t);return wo(i,f.from(e[0]))}),(function(t,e){return e.unmergable()}),To,n,mo),pasteCells:wi((function(t,e,n,i){var o,s,a,u,l=(o=e.clipboard(),s=e.generators(),a=Ge(o),u=Xe(a),bi(u,s,!0));return function(t,e,n,i,o){return function(t,e,n){if(t.row()>=e.length||t.column()>gi(e[0]))return Oi.error("invalid start address out of table bounds, row: "+t.row()+", column: "+t.column());var i=e.slice(t.row()),o=i[0].cells().slice(t.column()),s=gi(n[0]);return Oi.value({rowDelta:r(i.length-n.length),colDelta:r(o.length-s)})}(t,e,n).map((function(r){var s=Ri(e,r,i);return function(t,e,n,r,i){for(var o=t.row(),s=t.column(),a=o+n.length,u=s+gi(n[0]),l=o;l<a;l++)for(var c=s;c<u;c++){Ni(e,l,c,i)&&Ii(e,mi(e[l],c),i,r.cell);var d=mi(n[l-o],c-s),f=r.replace(d);fi(e[l],c,Oe(f,!0))}return e}(t,s,n,i,o)}))}(xe(e.row(),e.column()),t,l,e.generators(),n).fold((function(){return wo(t,f.some(e.element()))}),(function(t){var n=xo(t,e.row(),e.column());return wo(t,n)}))}),(function(t,e){return $e(e.element()).bind((function(n){return _i(t,n).map((function(t){return Dt(Dt({},t),{generators:e.generators,clipboard:e.clipboard})}))}))}),To,n,fo),pasteRowsBefore:wi((function(t,e,n,r){var i=t[e.cells[0].row()],o=e.cells[0].row(),s=Oo(e.clipboard(),e.generators(),i),a=zi(o,t,s,e.generators(),n),u=xo(a,e.cells[0].row(),e.cells[0].column());return wo(a,u)}),Ci,n,n,fo),pasteRowsAfter:wi((function(t,e,n,r){var i=t[e.cells[0].row()],o=e.cells[e.cells.length-1].row()+e.cells[e.cells.length-1].rowspan(),s=Oo(e.clipboard(),e.generators(),i),a=zi(o,t,s,e.generators(),n),u=xo(a,e.cells[0].row(),e.cells[0].column());return wo(a,u)}),Ci,n,n,fo)},Do=function(t){return yt.fromDom(t.getBody())},Mo=function(t){return t.getBoundingClientRect().width},Ro=function(t){return t.getBoundingClientRect().height},Io=function(t){return function(e){return ee(e,Do(t))}},No=function(t){return/^[0-9]+$/.test(t)&&(t+="px"),t},zo=function(t){var e=Ne(t,"td[data-mce-style],th[data-mce-style]");dt(t,"data-mce-style"),E(e,(function(t){dt(t,"data-mce-style")}))},Po={isRtl:r(!1)},Fo={isRtl:r(!0)},Bo=function(t){return"rtl"===function(t){return"rtl"===Et(t,"direction")?"rtl":"ltr"}(t)?Fo:Po},Lo={"border-collapse":"collapse",width:"100%"},Ho={border:"1"},Vo=function(t){return t.getParam("table_default_attributes",Ho,"object")},jo=function(t){return t.getParam("table_default_styles",Lo,"object")},Uo=function(t){return t.getParam("table_cell_advtab",!0,"boolean")},$o=function(t){return t.getParam("table_row_advtab",!0,"boolean")},Wo=function(t){return t.getParam("table_advtab",!0,"boolean")},qo=function(t){return t.getParam("table_style_by_css",!1,"boolean")},Go=function(t){return t.getParam("table_class_list",[],"array")},Yo=function(t){return!1===t.getParam("table_responsive_width")},Ko=function(t){var e=t.getParam("table_clone_elements");return p(e)?f.some(e.split(/[ ,]/)):Array.isArray(e)?f.some(e):f.none()},Xo=function(t,e){return t.fire("newrow",{node:e})},Zo=function(t,e){return t.fire("newcell",{node:e})},Qo=function(t,e,n,r){t.fire("ObjectResizeStart",{target:e,width:n,height:r})},Jo=function(t,e,n,r){t.fire("ObjectResized",{target:e,width:n,height:r})},ts=U("element","offset"),es=(U("element","deltaOffset"),U("element","start","finish"),U("begin","end"),U("element","text"),function(t,e,n){return t.property().isText(e)&&0===t.property().getText(e).trim().length||t.property().isComment(e)?n(e).bind((function(e){return es(t,e,n).orThunk((function(){return f.some(e)}))})):f.none()}),ns=function(t,e){return t.property().isText(e)?t.property().getText(e).length:t.property().children(e).length},rs=function(t,e){var n=es(t,e,t.query().prevSibling).getOr(e);if(t.property().isText(n))return ts(n,ns(t,n));var r=t.property().children(n);return r.length>0?rs(t,r[r.length-1]):ts(n,ns(t,n))},is=rs,os=In(),ss=tinymce.util.Tools.resolve("tinymce.util.Tools"),as=function(t,e,n){n&&t.formatter.apply("align"+n,{},e)},us=function(t,e,n){n&&t.formatter.apply("valign"+n,{},e)},ls=function(t,e){ss.each("left center right".split(" "),(function(n){t.formatter.remove("align"+n,{},e)}))},cs=function(t,e,n){return function(e,r){for(var i=0;i<r.length;i++){var o=t.getStyle(r[i],n);if(void 0===e&&(e=o),e!==o)return""}return e}(void 0,t.select("td,th",e))},ds=function(t,e){var n=function(e){return pt(e,"rgb")?t.toHex(e):e};return{borderwidth:Tt(yt.fromDom(e),"border-width").getOr(""),borderstyle:Tt(yt.fromDom(e),"border-style").getOr(""),bordercolor:Tt(yt.fromDom(e),"border-color").map(n).getOr(""),backgroundcolor:Tt(yt.fromDom(e),"background-color").map(n).getOr("")}},fs=function(t,e,n,r,i){var o={};return ss.each(t.split(" "),(function(t){r.formatter.matchNode(i,e+t)&&(o[n]=t)})),o[n]||(o[n]=""),o},hs=o(fs,"left center right"),ms=o(fs,"top middle bottom"),ps=function(t,e,n){var r=function(t,n){return n=n||[],ss.each(t,(function(t){var i={text:t.text||t.title};t.menu?i.menu=r(t.menu):(i.value=t.value,e&&e(i)),n.push(i)})),n};return r(t,n||[])},gs=function(t){var e=t[0],n=t.slice(1),r=P(e);return E(n,(function(t){E(r,(function(n){B(t,(function(t,r){var i=e[n];""!==i&&n===r&&i!==t&&(e[n]="")}))}))})),e},vs=function(t){var e=[{name:"borderstyle",type:"selectbox",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(e):e}},bs=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"selectbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"selectbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"selectbox",label:"H Align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"selectbox",label:"V Align",items:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}],ys=function(t){return function(t){var e=function(t){return t.getParam("table_cell_class_list",[],"array")}(t),n=ps(e,(function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"tr",classes:[e.value]})})}));return e.length>0?f.some({name:"class",type:"selectbox",label:"Class",items:n}):f.none()}(t).fold((function(){return bs}),(function(t){return bs.concat(t)}))},_s={normal:function(t,e){return{setAttrib:function(n,r){t.setAttrib(e,n,r)},setStyle:function(n,r){t.setStyle(e,n,r)}}},ifTruthy:function(t,e){return{setAttrib:function(n,r){r&&t.setAttrib(e,n,r)},setStyle:function(n,r){r&&t.setStyle(e,n,r)}}}},ws=function(t,e){t.setAttrib("scope",e.scope),t.setAttrib("class",e.class),t.setStyle("width",No(e.width)),t.setStyle("height",No(e.height))},xs=function(t,e){t.setStyle("background-color",e.backgroundcolor),t.setStyle("border-color",e.bordercolor),t.setStyle("border-style",e.borderstyle),t.setStyle("border-width",No(e.borderwidth))},Cs=function(t,e,n){var r=t.dom,i=n.celltype&&e[0].nodeName.toLowerCase()!==n.celltype?r.rename(e[0],n.celltype):e[0],o=_s.normal(r,i);ws(o,n),Uo(t)&&xs(o,n),ls(t,i),function(t,e){ss.each("top middle bottom".split(" "),(function(n){t.formatter.remove("valign"+n,{},e)}))}(t,i),n.halign&&as(t,i,n.halign),n.valign&&us(t,i,n.valign)},Ss=function(t,e,n){var r=t.dom;ss.each(e,(function(e){n.celltype&&e.nodeName.toLowerCase()!==n.celltype&&(e=r.rename(e,n.celltype));var i=_s.ifTruthy(r,e);ws(i,n),Uo(t)&&xs(i,n),n.halign&&as(t,e,n.halign),n.valign&&us(t,e,n.valign)}))},ks=function(t,e,n){var r=n.getData();n.close(),t.undoManager.transact((function(){(1===e.length?Cs:Ss)(t,e,r),t.focus()}))},Es=function(t){var e,n=[];if(n=t.dom.select("td[data-mce-selected],th[data-mce-selected]"),e=t.dom.getParent(t.selection.getStart(),"td,th"),!n.length&&e&&n.push(e),e=e||n[0]){var r=ss.map(n,(function(e){return function(t,e,n){var r=t.dom;return Dt(Dt(Dt({width:r.getStyle(e,"width")||r.getAttrib(e,"width"),height:r.getStyle(e,"height")||r.getAttrib(e,"height"),scope:r.getAttrib(e,"scope"),celltype:e.nodeName.toLowerCase(),class:r.getAttrib(e,"class","")},hs("align","halign",t,e)),ms("valign","valign",t,e)),n?ds(r,e):{})}(t,e,Uo(t))})),i=gs(r),s={type:"tabpanel",tabs:[{title:"General",name:"general",items:ys(t)},vs("cell")]},a={type:"panel",items:[{type:"grid",columns:2,items:ys(t)}]};t.windowManager.open({title:"Cell Properties",size:"normal",body:Uo(t)?s:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:i,onSubmit:o(ks,t,n)})}},Os=[{type:"selectbox",name:"type",label:"Row type",items:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"selectbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Ts=function(t){return function(t){var e=function(t){return t.getParam("table_row_class_list",[],"array")}(t),n=ps(e,(function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"tr",classes:[e.value]})})}));return e.length>0?f.some({name:"class",type:"selectbox",label:"Class",items:n}):f.none()}(t).fold((function(){return Os}),(function(t){return Os.concat(t)}))},As=function(t,e,n,r){var i=t.dom,o=r.getData();r.close();var s=1===e.length?_s.normal:_s.ifTruthy;t.undoManager.transact((function(){ss.each(e,(function(e){o.type!==e.parentNode.nodeName.toLowerCase()&&function(t,e,n){var r=t.getParent(e,"table"),i=e.parentNode,o=t.select(n,r)[0];o||(o=t.create(n),r.firstChild?"CAPTION"===r.firstChild.nodeName?t.insertAfter(o,r.firstChild):r.insertBefore(o,r.firstChild):r.appendChild(o)),"tbody"===n&&"THEAD"===i.nodeName&&o.firstChild?o.insertBefore(e,o.firstChild):o.appendChild(e),i.hasChildNodes()||t.remove(i)}(t.dom,e,o.type);var r=s(i,e);r.setAttrib("scope",o.scope),r.setAttrib("class",o.class),r.setStyle("height",No(o.height)),$o(t)&&function(t,e){t.setStyle("background-color",e.backgroundcolor),t.setStyle("border-color",e.bordercolor),t.setStyle("border-style",e.borderstyle)}(r,o),o.align!==n.align&&(ls(t,e),as(t,e,o.align))})),t.focus()}))},Ds=function(t){var e,n,r=t.dom,i=[];if((e=r.getParent(t.selection.getStart(),"table"))&&(n=r.getParent(t.selection.getStart(),"td,th"),ss.each(e.rows,(function(t){ss.each(t.cells,(function(e){if((r.getAttrib(e,"data-mce-selected")||e===n)&&i.indexOf(t)<0)return i.push(t),!1}))})),i[0])){var s=ss.map(i,(function(e){return function(t,e,n){var r=t.dom;return Dt(Dt({height:r.getStyle(e,"height")||r.getAttrib(e,"height"),scope:r.getAttrib(e,"scope"),class:r.getAttrib(e,"class",""),align:"",type:e.parentNode.nodeName.toLowerCase()},hs("align","align",t,e)),n?ds(r,e):{})}(t,e,$o(t))})),a=gs(s),u={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ts(t)},vs("row")]},l={type:"panel",items:[{type:"grid",columns:2,items:Ts(t)}]};t.windowManager.open({title:"Row Properties",size:"normal",body:$o(t)?u:l,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:a,onSubmit:o(As,t,i,a)})}},Ms=tinymce.util.Tools.resolve("tinymce.Env"),Rs={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},percentages:!0},Is=function(t,e){t.selection.select(e.dom(),!0),t.selection.collapse(!0)},Ns=function(t,e,n){var r,i=jo(t),s=function(t,e,n,r,i){void 0===i&&(i=Rs);var o=yt.fromTag("table");kt(o,i.styles),ut(o,i.attributes);var s=yt.fromTag("tbody");me(o,s);for(var a=[],u=0;u<t;u++){for(var l=yt.fromTag("tr"),c=0;c<e;c++){var d=yt.fromTag(u<0||c<0?"th":"td");c<0&&at(d,"scope","row"),u<0&&at(d,"scope","col"),me(d,yt.fromTag("br")),i.percentages&&St(d,"width",100/e+"%"),me(l,d)}a.push(l)}return ve(s,a),o}(n,e,0,0,{styles:i,attributes:Vo(t),percentages:(r=i.width,p(r)&&-1!==r.indexOf("%")&&!Yo(t))});at(s,"data-mce-id","__mce");var a=function(t){var e=yt.fromTag("div"),n=yt.fromDom(t.dom().cloneNode(!0));return me(e,n),function(t){return t.dom().innerHTML}(e)}(s);return t.insertContent(a),Le(Do(t),'table[data-mce-id="__mce"]').map((function(e){return Yo(t)&&St(e,"width",Et(e,"width")),dt(e,"data-mce-id"),function(t,e){E(Ne(e,"tr"),(function(e){Xo(t,e.dom()),E(Ne(e,"th,td"),(function(e){Zo(t,e.dom())}))}))}(t,e),function(t,e){Le(e,"td,th").each(o(Is,t))}(t,e),e.dom()})).getOr(null)},zs=function(t,e,n){var r=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],i=function(t){return t.getParam("table_appearance_options",!0,"boolean")}(t)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],o=e?[{type:"selectbox",name:"class",label:"Class",items:ps(Go(t),(function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"table",classes:[e.value]})})}))}]:[];return r.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(i).concat([{type:"selectbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(o)},Ps=function(t,e,n,r){if("TD"===e.tagName||"TH"===e.tagName)p(n)?t.setStyle(e,n,r):t.setStyle(e,n);else if(e.children)for(var i=0;i<e.children.length;i++)Ps(t,e.children[i],n,r)},Fs=function(t,e,n){var r,i=t.dom,o=n.getData();n.close(),""===o.class&&delete o.class,t.undoManager.transact((function(){if(!e){var n=parseInt(o.cols,10)||1,s=parseInt(o.rows,10)||1;e=Ns(t,n,s)}!function(t,e,n){var r,i=t.dom,o={},s={};if(o.class=n.class,s.height=No(n.height),i.getAttrib(e,"width")&&!qo(t)?o.width=(r=n.width)?r.replace(/px$/,""):"":s.width=No(n.width),qo(t)?(s["border-width"]=No(n.border),s["border-spacing"]=No(n.cellspacing)):(o.border=n.border,o.cellpadding=n.cellpadding,o.cellspacing=n.cellspacing),qo(t)&&e.children)for(var a=0;a<e.children.length;a++)Ps(i,e.children[a],{"border-width":No(n.border),padding:No(n.cellpadding)}),Wo(t)&&Ps(i,e.children[a],{"border-color":n.bordercolor});Wo(t)&&(s["background-color"]=n.backgroundcolor,s["border-color"]=n.bordercolor,s["border-style"]=n.borderstyle),o.style=i.serializeStyle(Dt(Dt({},jo(t)),s)),i.setAttribs(e,Dt(Dt({},Vo(t)),o))}(t,e,o),(r=i.select("caption",e)[0])&&!o.caption&&i.remove(r),!r&&o.caption&&((r=i.create("caption")).innerHTML=Ms.ie?"\xa0":'<br data-mce-bogus="1"/>',e.insertBefore(r,e.firstChild)),""===o.align?ls(t,e):as(t,e,o.align),t.focus(),t.addVisual()}))},Bs=function(t,e){var n,r=t.dom,i=function(t,e){var n,r,i,o,s,a,u,l,c=jo(t),d=Vo(t),f=e?(o=t.dom,s=function(t){return pt(t,"rgb")?o.toHex(t):t},a=V(c,"border-style").getOr(""),u=V(c,"border-color").getOr(""),l=V(c,"background-color").getOr(""),{borderstyle:a,bordercolor:s(u),backgroundcolor:s(l)}):{};return Dt(Dt(Dt(Dt(Dt(Dt({},{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""}),c),d),f),(i=c["border-width"],qo(t)&&i?{border:i}:V(d,"border").fold((function(){return{}}),(function(t){return{border:t}})))),(n=V(c,"border-spacing").or(V(d,"cellspacing")).fold((function(){return{}}),(function(t){return{cellspacing:t}})),r=V(c,"border-padding").or(V(d,"cellpadding")).fold((function(){return{}}),(function(t){return{cellpadding:t}})),Dt(Dt({},n),r)))}(t,Wo(t));!1===e?(n=r.getParent(t.selection.getStart(),"table"))?i=function(t,e,n){var r=t.dom;return Dt(Dt({width:r.getStyle(e,"width")||r.getAttrib(e,"width"),height:r.getStyle(e,"height")||r.getAttrib(e,"height"),cellspacing:r.getStyle(e,"border-spacing")||r.getAttrib(e,"cellspacing"),cellpadding:r.getAttrib(e,"cellpadding")||cs(t.dom,e,"padding"),border:function(e,n){var r=Tt(yt.fromDom(n),"border-width");return qo(t)&&r.isSome()?r.getOr(""):e.getAttrib(n,"border")||cs(t.dom,n,"border-width")||cs(t.dom,n,"border")}(r,e),caption:!!r.select("caption",e)[0],class:r.getAttrib(e,"class","")},hs("align","align",t,e)),n?ds(r,e):{})}(t,n,Wo(t)):Wo(t)&&(i.borderstyle="",i.bordercolor="",i.backgroundcolor=""):(i.cols="1",i.rows="1",Wo(t)&&(i.borderstyle="",i.bordercolor="",i.backgroundcolor=""));var s=Go(t).length>0;s&&i.class&&(i.class=i.class.replace(/\s*mce\-item\-table\s*/g,""));var a={type:"grid",columns:2,items:zs(t,s,e)},u=Wo(t)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[a]},vs("table")]}:{type:"panel",items:[a]};t.windowManager.open({title:"Table Properties",size:"normal",body:u,onSubmit:o(Fs,t,n),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:i})},Ls=function(t){return function(e){return f.from(e.dom.getParent(e.selection.getStart(),t)).map(yt.fromDom)}},Hs=Ls("th,td"),Vs=Ls("th,td,caption"),js=ss.each,Us=function(t){var e=f.from(t.dom().documentElement).map(yt.fromDom).getOr(t);return{parent:r(e),view:r(t),origin:r(xr(0,0))}},$s=function(t){var e=U.apply(null,t),n=[];return{bind:function(t){if(void 0===t)throw new Error("Event bind error: undefined handler");n.push(t)},unbind:function(t){n=O(n,(function(e){return e!==t}))},trigger:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=e.apply(null,t);E(n,(function(t){t(i)}))}}},Ws=function(t){return{registry:L(t,(function(t){return{bind:t.bind,unbind:t.unbind}})),trigger:L(t,(function(t){return t.trigger}))}},qs=function(t){var e,n,i=yt.fromDom(t.target),o=function(){t.stopPropagation()},s=function(){t.preventDefault()},a=(e=s,n=o,function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e(n.apply(null,t))});return function(t,e,n,i,o,s,a){return{target:r(t),x:r(e),y:r(n),stop:i,prevent:o,kill:s,raw:r(a)}}(i,t.clientX,t.clientY,o,s,a,t)},Gs=function(t,e,n,r){t.dom().removeEventListener(e,n,r)},Ys=r(!0),Ks=function(t,e,n){return function(t,e,n,r){return function(t,e,n,r,i){var s=function(t,e){return function(n){t(n)&&e(qs(n))}}(n,r);return t.dom().addEventListener(e,s,!1),{unbind:o(Gs,t,e,s,!1)}}(t,e,n,r)}(t,e,Ys,n)},Xs=qs,Zs={resolve:Xr("ephox-dragster").resolve},Qs=uo(["compare","extract","mutate","sink"]),Js=uo(["element","start","stop","destroy"]),ta=uo(["forceDrop","drop","move","delayDrop"]),ea=Qs({compare:function(t,e){return xr(e.left()-t.left(),e.top()-t.top())},extract:function(t){return f.some(xr(t.x(),t.y()))},sink:function(t,e){var n=function(t){var e=Dt({layerClass:Zs.resolve("blocker")},t),n=yt.fromTag("div");return at(n,"role","presentation"),kt(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Ur(n,Zs.resolve("blocker")),Ur(n,e.layerClass),{element:function(){return n},destroy:function(){ye(n)}}}(e),r=Ks(n.element(),"mousedown",t.forceDrop),i=Ks(n.element(),"mouseup",t.drop),o=Ks(n.element(),"mousemove",t.move),s=Ks(n.element(),"mouseout",t.delayDrop);return Js({element:n.element,start:function(t){me(t,n.element())},stop:function(){ye(n.element())},destroy:function(){n.destroy(),i.unbind(),o.unbind(),s.unbind(),r.unbind()}})},mutate:function(t,e){t.mutate(e.left(),e.top())}});var na=function(e,r){return void 0===r&&(r={}),function(e,r,i){var o,s,a=!1,u=Ws({start:$s([]),stop:$s([])}),l=function(){var t,e,r={onEvent:n,reset:n},i=(t=f.none(),{onEvent:function(n,r){r.extract(n).each((function(n){(function(e,n){var r=t.map((function(t){return e.compare(t,n)}));return t=f.some(n),r})(r,n).each((function(t){e.trigger.move(t)}))}))},reset:function(){t=f.none()},events:(e=Ws({move:$s(["info"])})).registry}),o=r;return{on:function(){o.reset(),o=i},off:function(){o.reset(),o=r},isOn:function(){return o===i},onEvent:function(t,e){o.onEvent(t,e)},events:i.events}}(),c=function(){m.stop(),l.isOn()&&(l.off(),u.trigger.stop())},d=(o=c,s=null,{cancel:function(){null!==s&&(t.clearTimeout(s),s=null)},throttle:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null!==s&&t.clearTimeout(s),s=t.setTimeout((function(){o.apply(null,e),s=null}),200)}});l.events.move.bind((function(t){r.mutate(e,t.info())}));var h=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];a&&t.apply(null,e)}},m=r.sink(ta({forceDrop:c,drop:h(c),move:h((function(t){d.cancel(),l.onEvent(t,r)})),delayDrop:h(d.throttle)}),i);return{element:m.element,go:function(t){m.start(t),l.on(),u.trigger.start()},on:function(){a=!0},off:function(){a=!1},destroy:function(){m.destroy()},events:u.registry}}(e,void 0!==r.mode?r.mode:ea,r)},ra=function(t){return"true"===lt(t,"contenteditable")},ia=Zr.resolve("resizer-bar-dragging"),oa=function(t,e){return Mo(t.dom())/Mo(e.dom())*100+"%"},sa=function(t){var e,n,i=f.none(),s=f.none(),a=f.none(),u=/(\d+(\.\d+)?)%/,l=function(t){return"TABLE"===t.nodeName},c=function(e){var n=t.dom.getStyle(e,"width")||t.dom.getAttrib(e,"width");return f.from(n).filter((function(t){return t.length>0}))},d=function(){return s};return t.on("init",(function(){var e=Br(Bo),n=function(t,e){return t.inline?(n=Do(t),i=function(){var t=yt.fromTag("div");return kt(t,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),me(wt(),t),t}(),{parent:r(i),view:r(n),origin:r(xr(0,0))}):Us(yt.fromDom(t.getDoc()));var n,i}(t);if(a=f.some(n),function(t){var e=t.getParam("object_resizing",!0);return p(e)?"table"===e:e}(t)&&function(t){return t.getParam("table_resize_bars",!0,"boolean")}(t)){var u=function(t,e){var n=Pr.height,i=function(t,e,n){var r=function(){var t=Ws({drag:$s(["xDelta","yDelta","target"])}),e=f.none(),n=function(){var t=Ws({drag:$s(["xDelta","yDelta"])});return{mutate:function(e,n){t.trigger.drag(e,n)},events:t.registry}}();return n.events.drag.bind((function(n){e.each((function(e){t.trigger.drag(n.xDelta(),n.yDelta(),e)}))})),{assign:function(t){e=f.some(t)},get:function(){return e},mutate:n.mutate,events:t.registry}}(),i=na(r,{}),s=f.none(),a=function(t,e){return f.from(lt(t,e))};r.events.drag.bind((function(t){a(t.target(),"data-row").each((function(e){var n=qi.getInt(t.target(),"top");St(t.target(),"top",n+t.yDelta()+"px")})),a(t.target(),"data-column").each((function(e){var n=qi.getInt(t.target(),"left");St(t.target(),"left",n+t.xDelta()+"px")}))}));var u=function(t,e){return qi.getInt(t,e)-parseInt(lt(t,"data-initial-"+e),10)};i.events.stop.bind((function(){r.get().each((function(r){s.each((function(i){a(r,"data-row").each((function(t){var e=u(r,"top");dt(r,"data-initial-top"),m.trigger.adjustHeight(i,e,parseInt(t,10))})),a(r,"data-column").each((function(t){var e=u(r,"left");dt(r,"data-initial-left"),m.trigger.adjustWidth(i,e,parseInt(t,10))})),ii(t,i,n,e)}))}))}));var l=function(e,n){m.trigger.startAdjust(),r.assign(e),at(e,"data-initial-"+n,parseInt(Et(e,n),10)),Ur(e,ia),St(e,"opacity","0.2"),i.go(t.parent())},c=Ks(t.parent(),"mousedown",(function(t){var e;e=t.target(),$r(e,Jr)&&l(t.target(),"top"),function(t){return $r(t,ti)}(t.target())&&l(t.target(),"left")})),d=function(e){return ee(e,t.view())},h=Ks(t.view(),"mouseover",(function(r){var i;(i=r.target(),He(i,"table",d).filter((function(t){return function(t,e){return He(t,"[contenteditable]",e)}(t,d).exists(ra)}))).fold((function(){_t(r.target())&&ai(t)}),(function(r){s=f.some(r),ii(t,r,n,e)}))})),m=Ws({adjustHeight:$s(["table","delta","row"]),adjustWidth:$s(["table","delta","column"]),startAdjust:$s([])});return{destroy:function(){c.unbind(),h.unbind(),i.destroy(),ai(t)},refresh:function(r){ii(t,r,n,e)},on:i.on,off:i.off,hideBars:o(oi,t),showBars:o(si,t),events:m.registry}}(t,e,n),s=Ws({beforeResize:$s(["table"]),afterResize:$s(["table"]),startDrag:$s([])});return i.events.adjustHeight.bind((function(t){s.trigger.beforeResize(t.table());var e=n.delta(t.delta(),t.table());(function(t,e,n,i){var o=so(t),s=Ji.getPixelHeights(o,i),a=k(s,(function(t,r){return n===r?Math.max(e+t,qi.minHeight()):t})),u=no(o,a),l=function(t,e){return k(t.all(),(function(t,n){return{element:t.element,height:r(e[n])}}))}(o,a);E(l,(function(t){yr.setHeight(t.element(),t.height())})),E(u,(function(t){yr.setHeight(t.element(),t.height())}));var c=T(a,(function(t,e){return t+e}),0);yr.setHeight(t,c)})(t.table(),e,t.row(),n),s.trigger.afterResize(t.table())})),i.events.startAdjust.bind((function(t){s.trigger.startDrag()})),i.events.adjustWidth.bind((function(t){s.trigger.beforeResize(t.table());var n=e.delta(t.delta(),t.table());(function(t,e,n,i){var o=io(t),s=o.getCellDelta(e),a=so(t),u=o.getWidths(a,i,o),l=function(t,e,n,i){var o=t.slice(0),s=function(t,e){return 0===t.length?$i.none():1===t.length?$i.only(0):0===e?$i.left(0,1):e===t.length-1?$i.right(e-1,e):e>0&&e<t.length-1?$i.middle(e-1,e,e+1):$i.none()}(t,e),a=function(t){return k(t,r(0))},u=r(a(o)),l=function(t,e){if(n>=0){var r=Math.max(i.minCellWidth(),o[e]-n);return a(o.slice(0,t)).concat([n,r-o[e]]).concat(a(o.slice(e+1)))}var s=Math.max(i.minCellWidth(),o[t]+n),u=o[t]-s;return a(o.slice(0,t)).concat([s-o[t],u]).concat(a(o.slice(e+1)))};return s.fold(u,(function(t){return i.singleColumnWidth(o[t],n)}),l,(function(t,e,n){return l(e,n)}),(function(t,e){if(n>=0)return a(o.slice(0,e)).concat([n]);var r=Math.max(i.minCellWidth(),o[e]+n);return a(o.slice(0,e)).concat([r-o[e]])}))}(u,n,s,o),c=k(l,(function(t,e){return t+u[e]})),d=eo(a,c);E(d,(function(t){o.setElementWidth(t.element(),t.width())})),n===a.grid().columns()-1&&o.setTableWidth(t,c,s)})(t.table(),n,t.column(),e),s.trigger.afterResize(t.table())})),{on:i.on,off:i.off,hideBars:i.hideBars,showBars:i.showBars,destroy:i.destroy,events:s.registry}}(n,e);u.on(),u.events.startDrag.bind((function(e){i=f.some(t.selection.getRng())})),u.events.beforeResize.bind((function(e){var n=e.table().dom();Qo(t,n,Mo(n),Ro(n))})),u.events.afterResize.bind((function(e){var n=e.table(),r=n.dom();zo(n),i.each((function(e){t.selection.setRng(e),t.focus()})),Jo(t,r,Mo(r),Ro(r)),t.undoManager.add()})),s=f.some(u)}})),t.on("ObjectResizeStart",(function(r){var i,o=r.target;if(l(o)){var s=c(o).map((function(t){return u.test(t)})).getOr(!1);s&&Yo(t)?St(yt.fromDom(i=o),"width",Mo(i).toString()+"px"):!s&&function(t){return!0===t.getParam("table_responsive_width")}(t)&&function(t){var e=yt.fromDom(t);oe(e).map((function(t){return oa(e,t)})).each((function(t){St(e,"width",t),E(Ne(e,"tr"),(function(t){E(le(t),(function(e){St(e,"width",oa(e,t))}))}))}))}(o),e=r.width,n=c(o).getOr("")}})),t.on("ObjectResized",(function(r){var i=r.target;if(l(i)){var o=i;if(u.test(n)){var s=parseFloat(u.exec(n)[1]);t.dom.setStyle(o,"width",r.width*s/e+"%")}else{var a=[];ss.each(o.rows,(function(e){ss.each(e.cells,(function(e){var n=t.dom.getStyle(e,"width",!0);a.push({cell:e,width:n})}))})),ss.each(a,(function(e){t.dom.setStyle(e.cell,"width",e.width),t.dom.setAttrib(e.cell,"width",null)}))}}})),t.on("SwitchMode",(function(){d().each((function(e){t.mode.isReadOnly()?e.hideBars():e.showBars()}))})),{lazyResize:d,lazyWire:function(){return a.getOr(Us(yt.fromDom(t.getBody())))},destroy:function(){s.each((function(t){t.destroy()})),a.each((function(e){!function(t,e){t.inline&&ye(e.parent())}(t,e)}))}}},aa=Gn([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),ua=Dt(Dt({},aa),{none:function(t){return void 0===t&&(t=void 0),aa.none(t)}}),la=function(t,e){return qe(t,e).bind((function(e){var n=We(e);return M(n,(function(e){return ee(t,e)})).map((function(t){return{index:r(t),all:r(n)}}))}))},ca={create:U("start","soffset","finish","foffset")},da=Gn([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),fa={before:da.before,on:da.on,after:da.after,cata:function(t,e,n,r){return t.fold(e,n,r)},getStart:function(t){return t.fold(i,i,i)}},ha=Gn([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ma={domRange:ha.domRange,relative:ha.relative,exact:ha.exact,exactFromRange:function(t){return ha.exact(t.start(),t.soffset(),t.finish(),t.foffset())},getWin:function(t){var e=function(t){return t.match({domRange:function(t){return yt.fromDom(t.startContainer)},relative:function(t,e){return fa.getStart(t)},exact:function(t,e,n,r){return t}})}(t);return yt.fromDom(e.dom().ownerDocument.defaultView)},range:ca.create},pa=function(t,e,n){var r,i=t.document.createRange();return r=i,e.fold((function(t){r.setStartBefore(t.dom())}),(function(t,e){r.setStart(t.dom(),e)}),(function(t){r.setStartAfter(t.dom())})),function(t,e){e.fold((function(e){t.setEndBefore(e.dom())}),(function(e,n){t.setEnd(e.dom(),n)}),(function(e){t.setEndAfter(e.dom())}))}(i,n),i},ga=function(t,e,n,r,i){var o=t.document.createRange();return o.setStart(e.dom(),n),o.setEnd(r.dom(),i),o},va=function(t){return{left:r(t.left),top:r(t.top),right:r(t.right),bottom:r(t.bottom),width:r(t.width),height:r(t.height)}},ba=Gn([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),ya=function(t,e,n){return e(yt.fromDom(n.startContainer),n.startOffset,yt.fromDom(n.endContainer),n.endOffset)},_a=function(t,e){return n=function(t,e){return e.match({domRange:function(t){return{ltr:r(t),rtl:f.none}},relative:function(e,n){return{ltr:vt((function(){return pa(t,e,n)})),rtl:vt((function(){return f.some(pa(t,n,e))}))}},exact:function(e,n,r,i){return{ltr:vt((function(){return ga(t,e,n,r,i)})),rtl:vt((function(){return f.some(ga(t,r,i,e,n))}))}}})}(t,e),(i=n.ltr()).collapsed?n.rtl().filter((function(t){return!1===t.collapsed})).map((function(t){return ba.rtl(yt.fromDom(t.endContainer),t.endOffset,yt.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return ya(0,ba.ltr,i)})):ya(0,ba.ltr,i);var n,i},wa=function(t,e){return _a(t,e).match({ltr:function(e,n,r,i){var o=t.document.createRange();return o.setStart(e.dom(),n),o.setEnd(r.dom(),i),o},rtl:function(e,n,r,i){var o=t.document.createRange();return o.setStart(r.dom(),i),o.setEnd(e.dom(),n),o}})},xa=function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom},Ca=function(t,e,n,r){return ot(e)?function(t,e,n,r){var i=t.dom().createRange();i.selectNode(e.dom());var o=i.getClientRects();return z(o,(function(t){return xa(t,n,r)?f.some(t):f.none()})).map((function(i){return function(t,e,n,r,i){var o=function(n){var r=t.dom().createRange();return r.setStart(e.dom(),n),r.collapse(!0),r},s=on(e).length,a=function(t,e,n,r,i){if(0===i)return 0;if(e===r)return i-1;for(var s=r,a=1;a<i;a++){var u=o(a).getBoundingClientRect(),l=Math.abs(e-u.left);if(n<=u.bottom){if(n<u.top||l>s)return a-1;s=l}}return 0}(0,n,r,i.right,s);return o(a)}(t,e,n,r,i)}))}(t,e,n,r):function(t,e,n,r){var i=t.dom().createRange(),o=le(e);return z(o,(function(e){return i.selectNode(e.dom()),xa(i.getBoundingClientRect(),n,r)?Ca(t,e,n,r):f.none()}))}(t,e,n,r)},Sa=function(t,e){return e-t.left<t.right-e},ka=function(t,e,n){var r=t.dom().createRange();return r.selectNode(e.dom()),r.collapse(n),r},Ea=function(t,e,n){var r=t.dom().createRange();r.selectNode(e.dom());var i=r.getBoundingClientRect(),o=Sa(i,n);return(!0===o?dn:fn)(e).map((function(e){return ka(t,e,o)}))},Oa=function(t,e,n){var r=e.dom().getBoundingClientRect(),i=Sa(r,n);return f.some(ka(t,e,i))},Ta=document.caretPositionFromPoint?function(t,e,n){return f.from(t.dom().caretPositionFromPoint(e,n)).bind((function(e){if(null===e.offsetNode)return f.none();var n=t.dom().createRange();return n.setStart(e.offsetNode,e.offset),n.collapse(),f.some(n)}))}:document.caretRangeFromPoint?function(t,e,n){return f.from(t.dom().caretRangeFromPoint(e,n))}:function(t,e,n){return yt.fromPoint(t,e,n).bind((function(r){var i=function(){return function(t,e,n){return(0===le(e).length?Oa:Ea)(t,e,n)}(t,r,e)};return 0===le(r).length?i():function(t,e,n,r){var i=t.dom().createRange();i.selectNode(e.dom());var o=i.getBoundingClientRect();return function(t,e,n,r){var i=t.dom().createRange();i.selectNode(e.dom());var o=i.getBoundingClientRect(),s=Math.max(o.left,Math.min(o.right,n)),a=Math.max(o.top,Math.min(o.bottom,r));return Ca(t,e,s,a)}(t,e,Math.max(o.left,Math.min(o.right,n)),Math.max(o.top,Math.min(o.bottom,r)))}(t,r,e,n).orThunk(i)}))},Aa=function(t,e){var n=tt(t);return"input"===n?fa.after(t):C(["br","img"],n)?0===e?fa.before(t):fa.after(t):fa.on(t,e)},Da=function(t,e){var n=t.fold(fa.before,Aa,fa.after),r=e.fold(fa.before,Aa,fa.after);return ma.relative(n,r)},Ma=function(t,e,n,r){var i=Aa(t,e),o=Aa(n,r);return ma.relative(i,o)},Ra=function(t,e){f.from(t.getSelection()).each((function(t){t.removeAllRanges(),t.addRange(e)}))},Ia=function(t,e,n,r,i){var o=ga(t,e,n,r,i);Ra(t,o)},Na=function(t,e){return _a(t,e).match({ltr:function(e,n,r,i){Ia(t,e,n,r,i)},rtl:function(e,n,r,i){var o=t.getSelection();if(o.setBaseAndExtent)o.setBaseAndExtent(e.dom(),n,r.dom(),i);else if(o.extend)try{!function(t,e,n,r,i,o){e.collapse(n.dom(),r),e.extend(i.dom(),o)}(0,o,e,n,r,i)}catch(s){Ia(t,r,i,e,n)}else Ia(t,r,i,e,n)}})},za=function(t,e,n,r,i){var o=Ma(e,n,r,i);Na(t,o)},Pa=function(t,e,n){var r=Da(e,n);Na(t,r)},Fa=function(t){var e=yt.fromDom(t.anchorNode),n=yt.fromDom(t.focusNode);return function(t,e,n,r){var i=function(t,e,n,r){var i=ie(t).dom().createRange();return i.setStart(t.dom(),e),i.setEnd(n.dom(),r),i}(t,e,n,r),o=ee(t,n)&&e===r;return i.collapsed&&!o}(e,t.anchorOffset,n,t.focusOffset)?f.some(ca.create(e,t.anchorOffset,n,t.focusOffset)):function(t){if(t.rangeCount>0){var e=t.getRangeAt(0),n=t.getRangeAt(t.rangeCount-1);return f.some(ca.create(yt.fromDom(e.startContainer),e.startOffset,yt.fromDom(n.endContainer),n.endOffset))}return f.none()}(t)},Ba=function(t){return function(t){return f.from(t.getSelection()).filter((function(t){return t.rangeCount>0})).bind(Fa)}(t).map((function(t){return ma.exact(t.start(),t.soffset(),t.finish(),t.foffset())}))},La=tinymce.util.Tools.resolve("tinymce.util.VK"),Ha=function(t,e,n,r){return Ua(t,e,la(i=n,void 0).fold((function(){return ua.none(i)}),(function(t){return t.index()+1<t.all().length?ua.middle(i,t.all()[t.index()+1]):ua.last(i)})),r);var i},Va=function(t,e,n,r){return Ua(t,e,la(i=n,void 0).fold((function(){return ua.none()}),(function(t){return t.index()-1>=0?ua.middle(i,t.all()[t.index()-1]):ua.first(i)})),r);var i},ja=function(t,e){return function(t){var e=ma.getWin(t).dom(),n=function(t,n,r,i){return ga(e,t,n,r,i)},r=function(t){return t.match({domRange:function(t){var e=yt.fromDom(t.startContainer),n=yt.fromDom(t.endContainer);return Ma(e,t.startOffset,n,t.endOffset)},relative:Da,exact:Ma})}(t);return _a(e,r).match({ltr:n,rtl:n})}(ma.exact(e,0,e,0))},Ua=function(t,e,n,r,i){return n.fold(f.none,f.none,(function(t,e){return dn(e).map((function(t){return ja(0,t)}))}),(function(n){return qe(n,e).bind((function(e){var i=nr.noMenu(n);return t.undoManager.transact((function(){r.insertRowsAfter(e,i)})),function(t,e){var n;return(n=Ne(e,"tr"),0===n.length?f.none():f.some(n[n.length-1])).bind((function(t){return Le(t,"td,th").map((function(t){return ja(0,t)}))}))}(0,e)}))}))},$a=["table","li","dl"],Wa={create:U("selection","kill")},qa=function(t,e,n,i){return{start:r(fa.on(t,e)),finish:r(fa.on(n,i))}},Ga=function(t,e){var n=wa(t,e);return ca.create(yt.fromDom(n.startContainer),n.startOffset,yt.fromDom(n.endContainer),n.endOffset)},Ya=qa,Ka=function(t,e,n,r,i){return ee(n,r)?f.none():jn(n,r,e).bind((function(e){var r=e.boxes().getOr([]);return r.length>0?(i(t,r,e.start(),e.finish()),f.some(Wa.create(f.some(Ya(n,0,n,un(n))),!0))):f.none()}))},Xa=Ka,Za=function(t,e,n,i,o){return(s=i,a=t,u=e,l=o.firstSelectedSelector(),c=o.lastSelectedSelector(),function(t,e){return D(t,(function(t){return Jt(t,e)}))}(s,c).bind((function(t){return function(t,e,n){return qe(t).bind((function(r){return function(t,e,n,r){return Qe(t,e,ee).bind((function(e){var i=n>0?e.row()+e.rowspan()-1:e.row(),o=r>0?e.column()+e.colspan()-1:e.column();return Ze(t,i+n,o+r).map((function(t){return t.element()}))}))}(An(r),t,e,n)}))}(t,a,u).bind((function(t){return function(t,e){return Fe(t,"table").bind((function(n){return Le(n,e).bind((function(e){return Vn(e,t).bind((function(t){return t.boxes().map((function(e){return{boxes:r(e),start:r(t.start()),finish:r(t.finish())}}))}))}))}))}(t,l)}))}))).map((function(t){return o.clearBeforeUpdate(n),o.selectRange(n,t.boxes(),t.start(),t.finish()),t.boxes()}));var s,a,u,l,c},Qa=U("item","mode"),Ja=function(t,e,n,r){return void 0===r&&(r=tu),t.property().parent(e).map((function(t){return Qa(t,r)}))},tu=function(t,e,n,r){return void 0===r&&(r=eu),n.sibling(t,e).map((function(t){return Qa(t,r)}))},eu=function(t,e,n,r){void 0===r&&(r=eu);var i=t.property().children(e);return n.first(i).map((function(t){return Qa(t,r)}))},nu=[{current:Ja,next:tu,fallback:f.none()},{current:tu,next:eu,fallback:f.some(Ja)},{current:eu,next:eu,fallback:f.some(tu)}],ru=function(t,e,n,r,i){return void 0===i&&(i=nu),D(i,(function(t){return t.current===n})).bind((function(n){return n.current(t,e,r,n.next).orThunk((function(){return n.fallback.bind((function(n){return ru(t,e,n,r)}))}))}))},iu=function(t,e,n,r,i,o){return ru(t,e,r,i).bind((function(e){return o(e.item())?f.none():n(e.item())?f.some(e.item()):iu(t,e.item(),n,e.mode(),i,o)}))},ou=function(t){return function(e){return 0===t.property().children(e).length}},su=function(t,e,n,r){return iu(t,e,n,tu,{sibling:function(t,e){return t.query().prevSibling(e)},first:function(t){return t.length>0?f.some(t[t.length-1]):f.none()}},r)},au=function(t,e,n,r){return iu(t,e,n,tu,{sibling:function(t,e){return t.query().nextSibling(e)},first:function(t){return t.length>0?f.some(t[0]):f.none()}},r)},uu=In(),lu=function(t,e){return function(t,e,n){return su(t,e,ou(t),n)}(uu,t,e)},cu=function(t,e){return function(t,e,n){return au(t,e,ou(t),n)}(uu,t,e)},du=Gn([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),fu=function(t){return He(t,"tr")},hu=Dt(Dt({},du),{verify:function(t,e,n,r,i,o,s){return He(r,"td,th",s).bind((function(n){return He(e,"td,th",s).map((function(e){return ee(n,e)?ee(r,n)&&un(n)===i?o(e):du.none("in same cell"):Bn(fu,[n,e]).fold((function(){return function(t,e,n){var r=t.getRect(e),i=t.getRect(n);return i.right>r.left&&i.left<r.right}(t,e,n)?du.success():o(e)}),(function(t){return o(e)}))}))})).getOr(du.none("default"))},cata:function(t,e,n,r,i){return t.fold(e,n,r,i)}}),mu=(U("ancestor","descendants","element","index"),U("parent","children","element","index")),pu=function(t){return"br"===tt(t)},gu=function(t,e,n){return e(t,n).bind((function(t){return ot(t)&&0===on(t).trim().length?gu(t,e,n):f.some(t)}))},vu=K(["left","top","right","bottom"],[]),bu={nu:vu,moveUp:function(t,e){return vu({left:t.left(),top:t.top()-e,right:t.right(),bottom:t.bottom()-e})},moveDown:function(t,e){return vu({left:t.left(),top:t.top()+e,right:t.right(),bottom:t.bottom()+e})},moveBottomTo:function(t,e){var n=t.bottom()-t.top();return vu({left:t.left(),top:e-n,right:t.right(),bottom:e})},moveTopTo:function(t,e){var n=t.bottom()-t.top();return vu({left:t.left(),top:e,right:t.right(),bottom:e+n})},getTop:function(t){return t.top()},getBottom:function(t){return t.bottom()},translate:function(t,e,n){return vu({left:t.left()+e,top:t.top()+n,right:t.right()+e,bottom:t.bottom()+n})},toString:function(t){return"("+t.left()+", "+t.top()+") -> ("+t.right()+", "+t.bottom()+")"}},yu=function(t){return bu.nu({left:t.left,top:t.top,right:t.right,bottom:t.bottom})},_u=function(t,e){return f.some(t.getRect(e))},wu=function(t,e,n){return it(e)?_u(t,e).map(yu):ot(e)?function(t,e,n){return n>=0&&n<un(e)?t.getRangedRect(e,n,e,n+1):n>0?t.getRangedRect(e,n-1,e,n):f.none()}(t,e,n).map(yu):f.none()},xu=function(t,e){return it(e)?_u(t,e).map(yu):ot(e)?t.getRangedRect(e,0,e,un(e)).map(yu):f.none()},Cu=Gn([{none:[]},{retry:["caret"]}]),Su=function(t,e,n){return(i=e,o=vo,ze((function(t,e){return e(t)}),Pe,i,o,void 0)).fold(r(!1),(function(e){return xu(t,e).exists((function(t){return function(t,e){return t.left()<e.left()||Math.abs(e.right()-t.left())<1||t.left()>e.right()}(n,t)}))}));var i,o},ku={point:bu.getTop,adjuster:function(t,e,n,r,i){var o=bu.moveUp(i,5);return Math.abs(n.top()-r.top())<1||n.bottom()<i.top()?Cu.retry(o):n.bottom()===i.top()?Cu.retry(bu.moveUp(i,1)):Su(t,e,i)?Cu.retry(bu.translate(o,5,0)):Cu.none()},move:bu.moveUp,gather:lu},Eu={point:bu.getBottom,adjuster:function(t,e,n,r,i){var o=bu.moveDown(i,5);return Math.abs(n.bottom()-r.bottom())<1||n.top()>i.bottom()?Cu.retry(o):n.top()===i.bottom()?Cu.retry(bu.moveDown(i,1)):Su(t,e,i)?Cu.retry(bu.translate(o,5,0)):Cu.none()},move:bu.moveDown,gather:cu},Ou=function(t,e,n,r,i){return 0===i?f.some(r):function(t,e,n){return t.elementFromPoint(e,n).filter((function(t){return"table"===tt(t)})).isSome()}(t,r.left(),e.point(r))?function(t,e,n,r,i){return Ou(t,e,n,e.move(r,5),i)}(t,e,n,r,i-1):t.situsFromPoint(r.left(),e.point(r)).bind((function(o){return o.start().fold(f.none,(function(o){return xu(t,o).bind((function(s){return e.adjuster(t,o,s,n,r).fold(f.none,(function(r){return Ou(t,e,n,r,i-1)}))})).orThunk((function(){return f.some(r)}))}),f.none)}))},Tu=function(t,e,n){var r=t.move(n,5),i=Ou(e,t,n,r,100).getOr(r);return function(t,e,n){return t.point(e)>n.getInnerHeight()?f.some(t.point(e)-n.getInnerHeight()):t.point(e)<0?f.some(-t.point(e)):f.none()}(t,i,e).fold((function(){return e.situsFromPoint(i.left(),t.point(i))}),(function(n){return e.scrollBy(0,n),e.situsFromPoint(i.left(),t.point(i)-n)}))},Au={tryUp:o(Tu,ku),tryDown:o(Tu,Eu),ieTryUp:function(t,e){return t.situsFromPoint(e.left(),e.top()-5)},ieTryDown:function(t,e){return t.situsFromPoint(e.left(),e.bottom()+5)},getJumpSize:r(5)},Du=Xt(),Mu=function(t,e,n,r,i,o){return 0===o?f.none():Nu(t,e,n,r,i).bind((function(s){var a=t.fromSitus(s),u=hu.verify(t,n,r,a.finish(),a.foffset(),i.failure,e);return hu.cata(u,(function(){return f.none()}),(function(){return f.some(s)}),(function(s){return ee(n,s)&&0===r?Ru(t,n,r,bu.moveUp,i):Mu(t,e,s,0,i,o-1)}),(function(s){return ee(n,s)&&r===un(s)?Ru(t,n,r,bu.moveDown,i):Mu(t,e,s,un(s),i,o-1)}))}))},Ru=function(t,e,n,r,i){return wu(t,e,n).bind((function(e){return Iu(t,i,r(e,Au.getJumpSize()))}))},Iu=function(t,e,n){return Du.browser.isChrome()||Du.browser.isSafari()||Du.browser.isFirefox()||Du.browser.isEdge()?e.otherRetry(t,n):Du.browser.isIE()?e.ieRetry(t,n):f.none()},Nu=function(t,e,n,r,i){return wu(t,n,r).bind((function(e){return Iu(t,i,e)}))},zu=function(t,e,n){return function(t,e,n){return t.getSelection().bind((function(i){return function(t,e,n,i){return(pu(e)?function(t,e,n){return n.traverse(e).orThunk((function(){return gu(e,n.gather,t)})).map(n.relative)}(t,e,i):function(t,e,n,r){return function(t,e){return ce(t,e).filter(pu).orThunk((function(){return ce(t,e-1).filter(pu)}))}(e,n).bind((function(e){return r.traverse(e).fold((function(){return gu(e,r.gather,t).map(r.relative)}),(function(t){return function(t){return oe(t).bind((function(e){var n=le(e);return function(t,e){return M(t,o(ee,e))}(n,t).map((function(r){return mu(e,n,t,r)}))}))}(t).map((function(t){return fa.on(t.parent(),t.index())}))}))}))}(t,e,n,i)).map((function(t){return{start:r(t),finish:r(t)}}))}(e,i.finish(),i.foffset(),n).fold((function(){return f.some(ts(i.finish(),i.foffset()))}),(function(r){var o,s=t.fromSitus(r);return o=hu.verify(t,i.finish(),i.foffset(),s.finish(),s.foffset(),n.failure,e),hu.cata(o,(function(t){return f.none()}),(function(){return f.none()}),(function(t){return f.some(ts(t,0))}),(function(t){return f.some(ts(t,un(t)))}))}))}))}(t,e,n).bind((function(r){return Mu(t,e,r.element(),r.offset(),n,20).map(t.fromSitus)}))},Pu=Xt(),Fu=function(t,e,n,i,o){return He(i,"td,th",e).bind((function(i){return He(i,"table",e).bind((function(s){return function(t,e){return Pe(t,(function(t){return oe(t).exists((function(t){return ee(t,e)}))}),void 0).isSome()}(o,s)?zu(t,e,n).bind((function(t){return He(t.finish(),"td,th",e).map((function(e){return{start:r(i),finish:r(e),range:r(t)}}))})):f.none()}))}))},Bu=function(t,e,n,r,i,o){return Pu.browser.isIE()?f.none():o(r,e).orThunk((function(){return Fu(t,e,n,r,i).map((function(t){var e=t.range();return Wa.create(f.some(Ya(e.start(),e.soffset(),e.finish(),e.foffset())),!0)}))}))},Lu=function(t,e,n,r,i,o,s){return Fu(t,n,r,i,o).bind((function(t){return Xa(e,n,t.start(),t.finish(),s)}))},Hu=function(t,e){return He(t,"tr",e).bind((function(t){return He(t,"table",e).bind((function(n){var r=Ne(n,"tr");return ee(t,r[0])?function(t,e,n){return su(uu,t,(function(t){return fn(t).isSome()}),n)}(n,0,e).map((function(t){var e=un(t);return Wa.create(f.some(Ya(t,e,t,e)),!0)})):f.none()}))}))},Vu=function(t,e){return He(t,"tr",e).bind((function(t){return He(t,"table",e).bind((function(n){var r=Ne(n,"tr");return ee(t,r[r.length-1])?function(t,e,n){return au(uu,t,(function(t){return dn(t).isSome()}),n)}(n,0,e).map((function(t){return Wa.create(f.some(Ya(t,0,t,0)),!0)})):f.none()}))}))},ju=function(t,e){return He(t,"td,th",e)},Uu={down:{traverse:ue,gather:cu,relative:fa.before,otherRetry:Au.tryDown,ieRetry:Au.ieTryDown,failure:hu.failedDown},up:{traverse:ae,gather:lu,relative:fa.before,otherRetry:Au.tryUp,ieRetry:Au.ieTryUp,failure:hu.failedUp}},$u=function(t){return function(e){return e===t}},Wu=$u(38),qu=$u(40),Gu={ltr:{isBackward:$u(37),isForward:$u(39)},rtl:{isBackward:$u(39),isForward:$u(37)},isUp:Wu,isDown:qu,isNavigation:function(t){return t>=37&&t<=40}},Yu=function(t){return{left:t.left(),top:t.top(),right:t.right(),bottom:t.bottom(),width:t.width(),height:t.height()}},Ku=(Xt().browser.isSafari(),function(e){return{elementFromPoint:function(t,n){return yt.fromPoint(yt.fromDom(e.document),t,n)},getRect:function(t){return t.dom().getBoundingClientRect()},getRangedRect:function(t,n,r,i){var o=ma.exact(t,n,r,i);return function(t,e){return(i=(r=(n=wa(t,e)).getClientRects()).length>0?r[0]:n.getBoundingClientRect()).width>0||i.height>0?f.some(i).map(va):f.none();var n,r,i}(e,o).map(Yu)},getSelection:function(){return Ba(e).map((function(t){return Ga(e,t)}))},fromSitus:function(t){var n=ma.relative(t.start(),t.finish());return Ga(e,n)},situsFromPoint:function(t,n){return function(t,e,n){return function(t,e,n){var r=yt.fromDom(t.document);return Ta(r,e,n).map((function(t){return ca.create(yt.fromDom(t.startContainer),t.startOffset,yt.fromDom(t.endContainer),t.endOffset)}))}(t,e,n)}(e,t,n).map((function(t){return qa(t.start(),t.soffset(),t.finish(),t.foffset())}))},clearSelection:function(){!function(t){t.getSelection().removeAllRanges()}(e)},collapseSelection:function(t){void 0===t&&(t=!1),Ba(e).each((function(n){return n.fold((function(e){return e.collapse(t)}),(function(n,r){var i=t?n:r;Pa(e,i,i)}),(function(n,r,i,o){var s=t?n:i,a=t?r:o;za(e,s,a,s,a)}))}))},setSelection:function(t){za(e,t.start(),t.soffset(),t.finish(),t.foffset())},setRelativeSelection:function(t,n){Pa(e,t,n)},selectContents:function(t){!function(t,e){var n=function(t,e){var n=t.document.createRange();return function(t,e){t.selectNodeContents(e.dom())}(n,e),n}(t,e);Ra(t,n)}(e,t)},getInnerHeight:function(){return e.innerHeight},getScrollY:function(){var n,r;return(n=yt.fromDom(e.document),r=void 0!==n?n.dom():t.document,xr(r.body.scrollLeft||r.documentElement.scrollLeft,r.body.scrollTop||r.documentElement.scrollTop)).top()},scrollBy:function(n,r){!function(e,n,r){(void 0!==r?r.dom():t.document).defaultView.scrollBy(e,n)}(n,r,yt.fromDom(e.document))}}}),Xu=U("rows","cols"),Zu=function(t){return!1===$r(yt.fromDom(t.target),"ephox-snooker-resizer-bar")};function Qu(t,r,i){var s,a,u,l,c,d,h,m=K(["mousedown","mouseover","mouseup","keyup","keydown"],[]),p=f.none(),g=Ko(t),v=(a=function(e,r,o){i.targets().each((function(i){qe(r).each((function(s){var a=yt.fromDom(t.getDoc()),u=wn(n,a,g),l=function(t,e,n){var r=Ge(t),i=Xe(r);return Si(i,e).map((function(t){var e=bi(i,n,!1);return{upOrLeftCells:function(t,e,n){var r=t.slice(0,e[e.length-1].row()+1),i=yi(r,n);return I(i,(function(t){var n=t.cells().slice(0,e[e.length-1].column()+1);return k(n,(function(t){return t.element()}))}))}(e,t,n),downOrRightCells:function(t,e,n){var r=t.slice(e[0].row()+e[0].rowspan()-1,t.length),i=yi(r,n);return I(i,(function(t){var n=t.cells().slice(e[0].column()+e[0].colspan()-1,+t.cells().length);return k(n,(function(t){return t.element()}))}))}(e,t,n)}}))}(s,i,u);!function(t,e,n,r,i){t.fire("TableSelectionChange",{cells:e,start:n,finish:r,otherCells:i})}(t,e,r,o,l)}))}))},u=function(){!function(t){t.fire("TableSelectionClear")}(t)},l=function(t){dt(t,s.selected()),dt(t,s.firstSelected()),dt(t,s.lastSelected())},c=function(t){at(t,s.selected(),"1")},d=function(t){h(t),u()},{clearBeforeUpdate:h=function(t){var e=Ne(t,s.selectedSelector());E(e,l)},clear:d,selectRange:function(t,e,n,r){d(t),E(e,c),at(n,s.firstSelected(),"1"),at(r,s.lastSelected(),"1"),a(e,n,r)},selectedSelector:(s=qn).selectedSelector,firstSelectedSelector:s.firstSelectedSelector,lastSelectedSelector:s.lastSelectedSelector});return t.on("init",(function(i){var s=t.getWin(),a=Do(t),u=Io(t),l=function(t,e,n,r){var i=function(t,e,n,r){var i=f.none(),o=function(){i=f.none()};return{mousedown:function(t){r.clear(e),i=ju(t.target(),n)},mouseover:function(o){i.each((function(i){r.clearBeforeUpdate(e),ju(o.target(),n).each((function(o){jn(i,o,n).each((function(n){var s=n.boxes().getOr([]);(s.length>1||1===s.length&&!ee(i,o))&&(r.selectRange(e,s,n.start(),n.finish()),t.selectContents(o))}))}))}))},mouseup:function(t){i.each(o)}}}(Ku(t),e,n,r);return{mousedown:i.mousedown,mouseover:i.mouseover,mouseup:i.mouseup}}(s,a,u,v),c=function(t,e,n,r){var i=Ku(t),s=function(){return r.clear(e),f.none()};return{keydown:function(t,a,u,l,c,d){var h=t.raw(),m=h.which,p=!0===h.shiftKey;return Un(e,r.selectedSelector()).fold((function(){return Gu.isDown(m)&&p?o(Lu,i,e,n,Uu.down,l,a,r.selectRange):Gu.isUp(m)&&p?o(Lu,i,e,n,Uu.up,l,a,r.selectRange):Gu.isDown(m)?o(Bu,i,n,Uu.down,l,a,Vu):Gu.isUp(m)?o(Bu,i,n,Uu.up,l,a,Hu):f.none}),(function(t){var n=function(n){return function(){return z(n,(function(n){return Za(n.rows(),n.cols(),e,t,r)})).fold((function(){return $n(e,r.firstSelectedSelector(),r.lastSelectedSelector()).map((function(t){var n=Gu.isDown(m)||d.isForward(m)?fa.after:fa.before;return i.setRelativeSelection(fa.on(t.first(),0),n(t.table())),r.clear(e),Wa.create(f.none(),!0)}))}),(function(t){return f.some(Wa.create(f.none(),!0))}))}};return Gu.isDown(m)&&p?n([Xu(1,0)]):Gu.isUp(m)&&p?n([Xu(-1,0)]):d.isBackward(m)&&p?n([Xu(0,-1),Xu(-1,0)]):d.isForward(m)&&p?n([Xu(0,1),Xu(1,0)]):Gu.isNavigation(m)&&!1===p?s:f.none}))()},keyup:function(t,i,o,s,a){return Un(e,r.selectedSelector()).fold((function(){var u=t.raw(),l=u.which;return 0==(!0===u.shiftKey)?f.none():Gu.isNavigation(l)?function(t,e,n,r,i,o,s){return ee(n,i)&&r===o?f.none():He(n,"td,th",e).bind((function(n){return He(i,"td,th",e).bind((function(r){return Ka(t,e,n,r,s)}))}))}(e,n,i,o,s,a,r.selectRange):f.none()}),f.none)}}}(s,a,u,v),d=function(t,e,n,r){var i=Ku(t);return function(t,o){r.clearBeforeUpdate(e),jn(t,o,n).each((function(t){var n=t.boxes().getOr([]);r.selectRange(e,n,t.start(),t.finish()),i.selectContents(o),i.collapseSelection()}))}}(s,a,u,v);t.on("TableSelectorChange",(function(t){d(t.start,t.finish)}));var h,g,b=function(e,n){(function(t){return!0===t.raw().shiftKey})(e)&&(n.kill()&&e.kill(),n.selection().each((function(e){var n=ma.relative(e.start(),e.finish()),r=wa(s,n);t.selection.setRng(r)})))},y=function(e){var n=Xs(e);if(n.raw().shiftKey&&Gu.isNavigation(n.raw().which)){var r=t.selection.getRng(),i=yt.fromDom(r.startContainer),o=yt.fromDom(r.endContainer);c.keyup(n,i,r.startOffset,o,r.endOffset).each((function(t){b(n,t)}))}},_=function(e){var n=Xs(e);r().each((function(t){t.hideBars()}));var i=t.selection.getRng(),o=yt.fromDom(t.selection.getStart()),s=yt.fromDom(i.startContainer),a=yt.fromDom(i.endContainer),u=Bo(o).isRtl()?Gu.rtl:Gu.ltr;c.keydown(n,s,i.startOffset,a,i.endOffset,u).each((function(t){b(n,t)})),r().each((function(t){t.showBars()}))},w=function(t){return 0===t.button},x=function(t){w(t)&&Zu(t)&&l.mousedown(Xs(t))},C=function(t){var e;(void 0===(e=t).buttons||Ms.browser.isEdge()&&0===e.buttons||0!=(1&e.buttons))&&Zu(t)&&l.mouseover(Xs(t))},S=function(t){w(t)&&Zu(t)&&l.mouseup(Xs(t))},k=(h=e(yt.fromDom(a)),g=e(0),{touchEnd:function(t){var e=yt.fromDom(t.target);if("td"===tt(e)||"th"===tt(e)){var n=h.get(),r=g.get();ee(n,e)&&t.timeStamp-r<300&&(t.preventDefault(),d(e,e))}h.set(e),g.set(t.timeStamp)}});t.on("mousedown",x),t.on("mouseover",C),t.on("mouseup",S),t.on("touchend",k.touchEnd),t.on("keyup",y),t.on("keydown",_),t.on("NodeChange",(function(){var e=t.selection,r=yt.fromDom(e.getStart()),i=yt.fromDom(e.getEnd());Bn(qe,[r,i]).fold((function(){v.clear(a)}),n)})),p=f.some(m({mousedown:x,mouseover:C,mouseup:S,keyup:y,keydown:_}))})),{clear:v.clear,destroy:function(){p.each((function(t){}))}}}h.add("table",(function(r){var i=function(t){return{get:function(){var e,n;return(e=Do(t),n=qn.selectedSelector(),Un(e,n)).fold((function(){return void 0===t.selection.getStart()?Kn.none():Kn.single(t.selection)}),(function(t){return Kn.multiple(t)}))}}}(r),a=function(t,n){var r=e(f.none()),i=e([]),o=function(){return Vs(t).bind((function(t){return qe(t).map((function(e){return"caption"===tt(t)?nr.notCell(t):nr.forMenu(n,e,t)}))}))},s=function(){r.set(vt(o)()),E(i.get(),(function(t){return t()}))},a=function(t,e){var n=function(){return r.get().fold((function(){t.setDisabled(!0)}),(function(n){t.setDisabled(e(n))}))};return n(),i.set(i.get().concat([n])),function(){i.set(O(i.get(),(function(t){return t!==n})))}};return t.on("NodeChange TableSelectorChange",s),{onSetupTable:function(t){return a(t,(function(t){return!1}))},onSetupCellOrRow:function(t){return a(t,(function(t){return"caption"===tt(t.element())}))},onSetupMergeable:function(t){return a(t,(function(t){return t.mergable().isNone()}))},onSetupUnmergeable:function(t){return a(t,(function(t){return t.unmergable().isNone()}))},resetTargets:s,targets:function(){return r.get()}}}(r,i),l=sa(r),c=Qu(r,l.lazyResize,a),d=function(t,e){var r=function(t){return"table"===tt(Do(t))},i=Ko(t),o=function(e,n,r,o){return function(s,a){zo(s);var u=o(),l=yt.fromDom(t.getDoc()),c=Br(Bo),d=wn(r,l,i);return n(s)?e(u,s,a,d,c).bind((function(e){return E(e.newRows(),(function(e){Xo(t,e.dom())})),E(e.newCells(),(function(e){Zo(t,e.dom())})),e.cursor().map((function(e){var n=is(os,e),r=t.dom.createRng();return r.setStart(n.element().dom(),n.offset()),r.setEnd(n.element().dom(),n.offset()),r}))})):f.none()}};return{deleteRow:o(Ao.eraseRows,(function(e){var n=Lr(e);return!1===r(t)||n.rows()>1}),n,e),deleteColumn:o(Ao.eraseColumns,(function(e){var n=Lr(e);return!1===r(t)||n.columns()>1}),n,e),insertRowsBefore:o(Ao.insertRowsBefore,u,n,e),insertRowsAfter:o(Ao.insertRowsAfter,u,n,e),insertColumnsBefore:o(Ao.insertColumnsBefore,u,_r,e),insertColumnsAfter:o(Ao.insertColumnsAfter,u,_r,e),mergeCells:o(Ao.mergeCells,u,n,e),unmergeCells:o(Ao.unmergeCells,u,n,e),pasteRowsBefore:o(Ao.pasteRowsBefore,u,n,e),pasteRowsAfter:o(Ao.pasteRowsAfter,u,n,e),pasteCells:o(Ao.pasteCells,u,n,e)}}(r,l.lazyWire),h=e(f.none());return function(t,e,r,i,a){var u=Io(t),l=function(t){return qe(t,u)},c=function(t){return{width:Mo(t.dom()),height:Mo(t.dom())}},d=function(e){Hs(t).each((function(n){l(n).each((function(o){var s=nr.forMenu(i,o,n),a=c(o);e(o,s).each((function(e){!function(t,e,n){var r=c(n);e.width===r.width&&e.height===r.height||(Qo(t,n.dom(),e.width,e.height),Jo(t,n.dom(),r.width,r.height))}(t,a,o),t.selection.setRng(e),t.focus(),r.clear(o),zo(o)}))}))}))},h=function(e){return Hs(t).map((function(e){return l(e).bind((function(r){var o=yt.fromDom(t.getDoc());return function(t,e,n){var r=Ge(t),i=Xe(r);return Si(i,e).map((function(t){var e=bi(i,n,!1).slice(t[0].row(),t[t.length-1].row()+t[t.length-1].rowspan());return function(t){return k(t,(function(t){var e=pn(t.element());return E(t.cells(),(function(t){var n=gn(t.element());Vr(n,"colspan",t.colspan(),1),Vr(n,"rowspan",t.rowspan(),1),me(e,n)})),e}))}(yi(e,n))}))}(r,nr.forMenu(i,r,e),wn(n,o,f.none()))}))}))},m=function(e){a.get().each((function(n){var o=k(n,(function(t){return gn(t)}));Hs(t).each((function(n){l(n).each((function(s){var a=yt.fromDom(t.getDoc()),u=xn(a),l=nr.pasteRows(i,s,n,o,u);e(s,l).each((function(e){t.selection.setRng(e),t.focus(),r.clear(s)}))}))}))}))};js({mceTableSplitCells:function(){d(e.unmergeCells)},mceTableMergeCells:function(){d(e.mergeCells)},mceTableInsertRowBefore:function(){d(e.insertRowsBefore)},mceTableInsertRowAfter:function(){d(e.insertRowsAfter)},mceTableInsertColBefore:function(){d(e.insertColumnsBefore)},mceTableInsertColAfter:function(){d(e.insertColumnsAfter)},mceTableDeleteCol:function(){d(e.deleteColumn)},mceTableDeleteRow:function(){d(e.deleteRow)},mceTableCutRow:function(t){h().each((function(t){a.set(t),d(e.deleteRow)}))},mceTableCopyRow:function(t){h().each((function(t){a.set(t)}))},mceTablePasteRowBefore:function(t){m(e.pasteRowsBefore)},mceTablePasteRowAfter:function(t){m(e.pasteRowsAfter)},mceTableDelete:function(){Vs(t).each((function(e){qe(e,u).filter(s(u)).each((function(e){var n=yt.fromText("");if(fe(e,n),ye(e),t.dom.isEmpty(t.getBody()))t.setContent(""),t.selection.setCursorLocation();else{var r=t.dom.createRng();r.setStart(n.dom(),0),r.setEnd(n.dom(),0),t.selection.setRng(r),t.nodeChanged()}}))}))}},(function(e,n){t.addCommand(n,e)})),js({mceInsertTable:o(Bs,t,!0),mceTableProps:o(Bs,t,!1),mceTableRowProps:o(Ds,t),mceTableCellProps:o(Es,t)},(function(e,n){t.addCommand(n,(function(){e()}))}))}(r,d,c,i,h),function(e,r,i,o){e.on("BeforeGetContent",(function(t){!0===t.selection&&Kn.cata(r.get(),n,(function(n){t.preventDefault(),function(t){return qe(t[0]).map(gn).map((function(t){return[(e=t,n=qn.attributeSelector(),r=function(t){return Jt(t.element(),n)},i=Ge(e),o=Xe(i),s=function(t,e){var n=t.grid().columns(),r=t.grid().rows(),i=n,o=0,s=0;return B(t.access(),(function(t){if(e(t)){var n=t.row(),a=n+t.rowspan()-1,u=t.column(),l=u+t.colspan()-1;n<r?r=n:a>o&&(o=a),u<i?i=u:l>s&&(s=l)}})),en(r,i,o,s)}(o,r),a="th:not("+n+"),td:not("+n+")",u=je.filterFirstLayer(e,"th,td",(function(t){return Jt(t,a)})),E(u,ye),function(t,e,n,r){for(var i=e.grid().columns(),o=e.grid().rows(),s=0;s<o;s++)for(var a=!1,u=0;u<i;u++)s<n.minRow()||s>n.maxRow()||u<n.minCol()||u>n.maxCol()||(Ze(e,s,u).filter(r).isNone()?nn(t,a,s):a=!0)}(i,o,s,r),function(t,e){var n=O(je.firstLayer(t,"tr"),(function(t){return 0===t.dom().childElementCount}));E(n,ye),e.minCol()!==e.maxCol()&&e.minRow()!==e.maxRow()||E(je.firstLayer(t,"th,td"),(function(t){dt(t,"rowspan"),dt(t,"colspan")})),dt(t,"width"),dt(t,"height"),At(t,"width"),At(t,"height")}(e,s),e)];var e,n,r,i,o,s,a,u}))}(n).each((function(n){t.content="text"===t.format?function(t){return k(t,(function(t){return t.dom().innerText})).join("")}(n):function(t,e){return k(e,(function(e){return t.selection.serializer.serialize(e.dom(),{})})).join("")}(e,n)}))}),n)})),e.on("BeforeSetContent",(function(n){!0===n.selection&&!0===n.paste&&f.from(e.dom.getParent(e.selection.getStart(),"th,td")).each((function(r){var s=yt.fromDom(r);qe(s).each((function(r){var a,u,l=O((a=n.content,(u=t.document.createElement("div")).innerHTML=a,le(yt.fromDom(u))),(function(t){return"meta"!==tt(t)}));if(1===l.length&&"table"===tt(l[0])){n.preventDefault();var c=yt.fromDom(e.getDoc()),d=xn(c),f=nr.paste(s,l[0],d);i.pasteCells(r,f).each((function(t){e.selection.setRng(t),e.focus(),o.clear(r)}))}}))}))}))}(r,i,d,c),function(t,e){var n=function(e){return function(){return t.execCommand(e)}},r=function(e){var n=e.numRows,r=e.numColumns;t.undoManager.transact((function(){Ns(t,r,n)})),t.addVisual()},i={text:"Table properties",onSetup:e.onSetupTable,onAction:n("mceTableProps")},o={text:"Delete table",icon:"table-delete-table",onSetup:e.onSetupTable,onAction:n("mceTableDelete")},s=[{type:"menuitem",text:"Insert row before",icon:"table-insert-row-above",onAction:n("mceTableInsertRowBefore"),onSetup:e.onSetupCellOrRow},{type:"menuitem",text:"Insert row after",icon:"table-insert-row-after",onAction:n("mceTableInsertRowAfter"),onSetup:e.onSetupCellOrRow},{type:"menuitem",text:"Delete row",icon:"table-delete-row",onAction:n("mceTableDeleteRow"),onSetup:e.onSetupCellOrRow},{type:"menuitem",text:"Row properties",icon:"table-row-properties",onAction:n("mceTableRowProps"),onSetup:e.onSetupCellOrRow},{type:"separator"},{type:"menuitem",text:"Cut row",onAction:n("mceTableCutRow"),onSetup:e.onSetupCellOrRow},{type:"menuitem",text:"Copy row",onAction:n("mceTableCopyRow"),onSetup:e.onSetupCellOrRow},{type:"menuitem",text:"Paste row before",onAction:n("mceTablePasteRowBefore"),onSetup:e.onSetupCellOrRow},{type:"menuitem",text:"Paste row after",onAction:n("mceTablePasteRowAfter"),onSetup:e.onSetupCellOrRow}],a={type:"nestedmenuitem",text:"Row",getSubmenuItems:function(){return s}},u=[{type:"menuitem",text:"Insert column before",icon:"table-insert-column-before",onAction:n("mceTableInsertColBefore"),onSetup:e.onSetupCellOrRow},{type:"menuitem",text:"Insert column after",icon:"table-insert-column-after",onAction:n("mceTableInsertColAfter"),onSetup:e.onSetupCellOrRow},{type:"menuitem",text:"Delete column",icon:"table-delete-column",onAction:n("mceTableDeleteCol"),onSetup:e.onSetupCellOrRow}],l={type:"nestedmenuitem",text:"Column",getSubmenuItems:function(){return u}},c=[{type:"menuitem",text:"Cell properties",icon:"table-cell-properties",onAction:n("mceTableCellProps"),onSetup:e.onSetupCellOrRow},{type:"menuitem",text:"Merge cells",icon:"table-merge-cells",onAction:n("mceTableMergeCells"),onSetup:e.onSetupMergeable},{type:"menuitem",text:"Split cell",icon:"table-split-cells",onAction:n("mceTableSplitCells"),onSetup:e.onSetupUnmergeable}],d={type:"nestedmenuitem",text:"Cell",getSubmenuItems:function(){return c}};!1===function(t){return t.getParam("table_grid",!0,"boolean")}(t)?t.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:n("mceInsertTable")}):t.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:r}]}}),t.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:n("mceInsertTable")}),t.ui.registry.addMenuItem("tableprops",i),t.ui.registry.addMenuItem("deletetable",o),t.ui.registry.addNestedMenuItem("row",a),t.ui.registry.addNestedMenuItem("column",l),t.ui.registry.addNestedMenuItem("cell",d),t.ui.registry.addContextMenu("table",{update:function(){return e.resetTargets(),e.targets().fold((function(){return""}),(function(t){return"caption"===tt(t.element())?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"}))}})}(r,a),function(t,e){t.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(t){return t("inserttable | cell row column | advtablesort | tableprops deletetable")}});var n=function(e){return function(){return t.execCommand(e)}};t.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:n("mceTableProps"),icon:"table",onSetup:e.onSetupTable}),t.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:n("mceTableDelete"),icon:"table-delete-table",onSetup:e.onSetupTable}),t.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:n("mceTableCellProps"),icon:"table-cell-properties",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:n("mceTableMergeCells"),icon:"table-merge-cells",onSetup:e.onSetupMergeable}),t.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:n("mceTableSplitCells"),icon:"table-split-cells",onSetup:e.onSetupUnmergeable}),t.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:n("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:n("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:n("mceTableDeleteRow"),icon:"table-delete-row",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:n("mceTableRowProps"),icon:"table-row-properties",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:n("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:n("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:n("mceTableDeleteCol"),icon:"table-delete-column",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",onAction:n("mceTableCutRow"),icon:"temporary-placeholder",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",onAction:n("mceTableCopyRow"),icon:"temporary-placeholder",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",onAction:n("mceTablePasteRowBefore"),icon:"temporary-placeholder",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",onAction:n("mceTablePasteRowAfter"),icon:"temporary-placeholder",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:n("mceInsertTable"),icon:"table"})}(r,a),function(t){var e=function(t){return t.getParam("table_toolbar","tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol")}(t);e.length>0&&t.ui.registry.addContextToolbar("table",{predicate:function(e){return t.dom.is(e,"table")&&t.getBody().contains(e)},items:e,scope:"node",position:"node"})}(r),r.on("PreInit",(function(){r.serializer.addTempAttr(qn.firstSelected()),r.serializer.addTempAttr(qn.lastSelected())})),function(t){return t.getParam("table_tab_navigation",!0,"boolean")}(r)&&r.on("keydown",(function(t){!function(t,e,n,r){if(t.keyCode===La.TAB){var i=Do(e),o=function(t){var e=tt(t);return ee(t,i)||C($a,e)},s=e.selection.getRng();if(s.collapsed){var a=yt.fromDom(s.startContainer);$e(a,o).each((function(i){t.preventDefault(),(t.shiftKey?Va:Ha)(e,o,i,n,r).each((function(t){e.selection.setRng(t)}))}))}}}(t,r,d,l.lazyWire)})),r.on("remove",(function(){l.destroy(),c.destroy()})),function(t,e,n,r){return{insertTable:function(e,n){return Ns(t,e,n)},setClipboardRows:function(t){return function(t,e){var n=k(t,yt.fromDom);e.set(f.from(n))}(t,e)},getClipboardRows:function(){return function(t){return t.get().fold((function(){}),(function(t){return k(t,(function(t){return t.dom()}))}))}(e)},resizeHandler:n,selectionTargets:r}}(r,h,l,a)}))}(window)},ndmF:function(t,e){!function(t){"use strict";var e,n,r,i,o=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return o(n())}}},s=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=tinymce.util.Tools.resolve("tinymce.util.Tools"),u=function(t){return function(){return t}},l=u(!1),c=u(!0),d=function(){return f},f=(e=function(t){return t.isNone()},i={fold:function(t,e){return t()},is:l,isSome:l,isNone:c,getOr:r=function(t){return t},getOrThunk:n=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:r,orThunk:n,map:d,each:function(){},bind:d,exists:l,forall:c,filter:d,equals:e,equals_:e,toArray:function(){return[]},toString:u("none()")},Object.freeze&&Object.freeze(i),i),h=function(t){var e=u(t),n=function(){return i},r=function(e){return e(t)},i={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:c,isNone:l,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return h(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?i:f},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(l,(function(e){return n(t,e)}))}};return i},m={some:h,none:d,from:function(t){return null==t?f:h(t)}};function p(e,n){return b(t.document.createElement("canvas"),e,n)}function g(t){var e=p(t.width,t.height);return v(e).drawImage(t,0,0),e}function v(t){return t.getContext("2d")}function b(t,e,n){return t.width=e,t.height=n,t}var y=window.Promise?window.Promise:function(){var e=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(t,r(s,this),r(a,this))},n=e.immediateFn||"function"==typeof window.setImmediate&&window.setImmediate||function(e){t.setTimeout(e,1)};function r(t,e){return function(){return t.apply(e,arguments)}}var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t){var e=this;null!==this._state?n((function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(i){return void t.reject(i)}t.resolve(r)}else(e._state?t.resolve:t.reject)(e._value)})):this._deferreds.push(t)}function s(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void c(r(e,t),r(s,this),r(a,this))}this._state=!0,this._value=t,u.call(this)}catch(n){a.call(this,n)}}function a(t){this._state=!1,this._value=t,u.call(this)}function u(){for(var t=0,e=this._deferreds;t<e.length;t++)o.call(this,e[t]);this._deferreds=[]}function l(t,e,n,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r}function c(t,e,n){var r=!1;try{t((function(t){r||(r=!0,e(t))}),(function(t){r||(r=!0,n(t))}))}catch(i){if(r)return;r=!0,n(i)}}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.then=function(t,n){var r=this;return new e((function(e,i){o.call(r,new l(t,n,e,i))}))},e.all=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Array.prototype.slice.call(1===t.length&&i(t[0])?t[0]:t);return new e((function(t,e){if(0===r.length)return t([]);var n=r.length;function i(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){i(o,t)}),e)}r[o]=s,0==--n&&t(r)}catch(u){e(u)}}for(var o=0;o<r.length;o++)i(o,r[o])}))},e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===e?t:new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].then(e,n)}))},e}();function _(e){return new y((function(n,r){var i=t.URL.createObjectURL(e),o=new t.Image,s=function(){o.removeEventListener("load",a),o.removeEventListener("error",u)};function a(){s(),n(o)}function u(){s(),r("Unable to load data of type "+e.type+": "+i)}o.addEventListener("load",a),o.addEventListener("error",u),o.src=i,o.complete&&a()}))}function w(e){return new y((function(n,r){(function(e){var n=e.split(","),r=/data:([^;]+)/.exec(n[0]);if(!r)return m.none();for(var i=r[1],o=t.atob(n[1]),s=o.length,a=Math.ceil(s/1024),u=new Array(a),l=0;l<a;++l){for(var c=1024*l,d=Math.min(c+1024,s),f=new Array(d-c),h=c,p=0;h<d;++p,++h)f[p]=o[h].charCodeAt(0);u[l]=new Uint8Array(f)}return m.some(new t.Blob(u,{type:i}))})(e).fold((function(){r("uri is not base64: "+e)}),n)}))}function x(e,n,r){return n=n||"image/png",t.HTMLCanvasElement.prototype.toBlob?new y((function(t,i){e.toBlob((function(e){e?t(e):i()}),n,r)})):w(e.toDataURL(n,r))}function C(t,e,n){function r(e,n){return t.then((function(t){return function(t,e,n){return t.toDataURL(e=e||"image/png",n)}(t,e,n)}))}return{getType:u(e.type),toBlob:function(){return y.resolve(e)},toDataURL:function(){return n},toBase64:function(){return n.split(",")[1]},toAdjustedBlob:function(e,n){return t.then((function(t){return x(t,e,n)}))},toAdjustedDataURL:r,toAdjustedBase64:function(t,e){return r(t,e).then((function(t){return t.split(",")[1]}))},toCanvas:function(){return t.then(g)}}}function S(t,e){return x(t,e).then((function(e){return C(y.resolve(t),e,t.toDataURL())}))}var k=function(e){return function(e){return function(e){return new y((function(n){var r=new t.FileReader;r.onloadend=function(){n(r.result)},r.readAsDataURL(e)}))}(e).then((function(n){return C(function(e){return _(e).then((function(e){!function(e){t.URL.revokeObjectURL(e.src)}(e);var n=p(function(t){return t.naturalWidth||t.width}(e),function(t){return t.naturalHeight||t.height}(e));return v(n).drawImage(e,0,0),n}))}(e),e,n)}))}(e)},E=tinymce.util.Tools.resolve("tinymce.util.Delay"),O=tinymce.util.Tools.resolve("tinymce.util.Promise"),T=tinymce.util.Tools.resolve("tinymce.util.URI"),A=function(t){return t.getParam("imagetools_toolbar","rotateleft rotateright flipv fliph editimage imageoptions")},D=function(t){var e,n;function r(t){return/^[0-9\.]+px$/.test(t)}return n=t.style.height,(e=t.style.width)||n?r(e)&&r(n)?{w:parseInt(e,10),h:parseInt(n,10)}:null:(n=t.height,(e=t.width)&&n?{w:parseInt(e,10),h:parseInt(n,10)}:null)},M=function(t){return{w:t.naturalWidth,h:t.naturalHeight}},R=function(t,e){for(var n=0,r=t.length;n<r;n++){var i=t[n];if(e(i,n))return m.some(i)}return m.none()},I=(function(t){return"function"===function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(t)}(Array.from),function(t){return null!=t}),N=function(e,n,r){return new O((function(i){var o;(o=new t.XMLHttpRequest).onreadystatechange=function(){4===o.readyState&&i({status:o.status,blob:this.response})},o.open("GET",e,!0),o.withCredentials=r,a.each(n,(function(t,e){o.setRequestHeader(e,t)})),o.responseType="blob",o.send()}))},z=[{code:404,message:"Could not find Image Proxy"},{code:403,message:"Rejected request"},{code:0,message:"Incorrect Image Proxy URL"}],P=[{type:"key_missing",message:"The request did not include an api key."},{type:"key_not_found",message:"The provided api key could not be found."},{type:"domain_not_trusted",message:"The api key is not valid for the request origins."}],F=function(t){var e=function(t){return"ImageProxy HTTP error: "+R(z,(function(e){return t===e.code})).fold(u("Unknown ImageProxy error"),(function(t){return t.message}))}(t);return O.reject(e)},B=F,L=function(e,n){var r={"Content-Type":"application/json;charset=UTF-8","tiny-api-key":n};return N(function(t,e){var n=-1===t.indexOf("?")?"?":"&";return/[?&]apiKey=/.test(t)||!e?t:t+n+"apiKey="+encodeURIComponent(e)}(e,n),r,!1).then((function(e){return e.status<200||e.status>=300?400===(r=n=e.status)||403===r||500===r?function(e,n){return function(e){return new O((function(n){var r=new t.FileReader;r.onload=function(t){n(t.target.result)},r.readAsText(e)}))}(n).then((function(t){var e=function(t){var e,n=function(t){var e;try{e=JSON.parse(t)}catch(n){}return e}(t),r=(e=["error","type"].reduce((function(t,e){return I(t)?t[e]:void 0}),n),I(e)?e:null);return"ImageProxy Service error: "+(r?function(t){return R(P,(function(e){return e.type===t})).fold(u("Unknown service error"),(function(t){return t.message}))}(r):"Invalid JSON in service error message")}(t);return O.reject(e)}))}(0,e.blob):F(n):O.resolve(e.blob);var n,r}))},H=function(t,e,n){return e?L(t,e):function(t,e){return N(t,{},e).then((function(t){return t.status<200||t.status>=300?B(t.status):O.resolve(t.blob)}))}(t,n)},V=function(){return j(0,0)},j=function(t,e){return{major:t,minor:e}},U=function(t,e){var n=String(e).toLowerCase();return 0===t.length?V():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}}(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return j(r(1),r(2))}(t,n)},$=V,W=function(t,e){return function(){return e===t}},q=function(t){var e=t.current;return{current:e,version:t.version,isEdge:W("Edge",e),isChrome:W("Chrome",e),isIE:W("IE",e),isOpera:W("Opera",e),isFirefox:W("Firefox",e),isSafari:W("Safari",e)}},G=function(){return q({current:void 0,version:$()})},Y=q,K=(u("Edge"),u("Chrome"),u("IE"),u("Opera"),u("Firefox"),u("Safari"),function(t,e){return function(){return e===t}}),X=function(t){var e=t.current;return{current:e,version:t.version,isWindows:K("Windows",e),isiOS:K("iOS",e),isAndroid:K("Android",e),isOSX:K("OSX",e),isLinux:K("Linux",e),isSolaris:K("Solaris",e),isFreeBSD:K("FreeBSD",e),isChromeOS:K("ChromeOS",e)}},Z=function(){return X({current:void 0,version:$()})},Q=X,J=(u("Windows"),u("iOS"),u("Android"),u("Linux"),u("OSX"),u("Solaris"),u("FreeBSD"),u("ChromeOS"),function(t,e){var n=String(e).toLowerCase();return R(t,(function(t){return t.search(n)}))}),tt=function(t,e){return-1!==t.indexOf(e)},et=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,nt=function(t){return function(e){return tt(e,t)}},rt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return tt(t,"edge/")&&tt(t,"chrome")&&tt(t,"safari")&&tt(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,et],search:function(t){return tt(t,"chrome")&&!tt(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return tt(t,"msie")||tt(t,"trident")}},{name:"Opera",versionRegexes:[et,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:nt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:nt("firefox")},{name:"Safari",versionRegexes:[et,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(tt(t,"safari")||tt(t,"mobile/"))&&tt(t,"applewebkit")}}],it=[{name:"Windows",search:nt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return tt(t,"iphone")||tt(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:nt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:nt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:nt("linux"),versionRegexes:[]},{name:"Solaris",search:nt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:nt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:nt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ot={browsers:u(rt),oses:u(it)},st=o(function(e,n){var r=ot.browsers(),i=ot.oses(),o=function(t,e){return J(t,e).map((function(t){var n=U(t.versionRegexes,e);return{current:t.name,version:n}}))}(r,e).fold(G,Y),s=function(t,e){return J(t,e).map((function(t){var n=U(t.versionRegexes,e);return{current:t.name,version:n}}))}(i,e).fold(Z,Q),a=function(t,e,n,r){var i=t.isiOS()&&!0===/ipad/i.test(n),o=t.isiOS()&&!i,s=t.isiOS()||t.isAndroid(),a=s||r("(pointer:coarse)"),l=i||!o&&s&&r("(min-device-width:768px)"),c=o||s&&!l,d=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),f=!c&&!l&&!d;return{isiPad:u(i),isiPhone:u(o),isTablet:u(l),isPhone:u(c),isTouch:u(a),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:u(d),isDesktop:u(f)}}(s,o,e,(function(e){return t.window.matchMedia(e).matches}));return{browser:o,os:s,deviceType:a}}(t.navigator.userAgent)),at=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:u(t)}},ut=t.Node.ELEMENT_NODE,lt=(st.get().browser.isIE(),void 0!==t.window||Function("return this;")(),function(t,e){return function(t,n){return R(t.dom().childNodes,(function(t){return function(t,e){var n=t.dom();if(n.nodeType!==ut)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")}(at(t),e)})).map(at)}(t)}),ct=0,dt=function(t){return lt(at(t),"img")},ft=function(t,e){return t.dom.is(e,"figure")},ht=function(t,e){t.notificationManager.open({text:e,type:"error"})},mt=function(t){var e=t.selection.getNode();return ft(t,e)?dt(e):m.some(at(e))},pt=function(t,e){var n=e.src;return 0===n.indexOf("data:")||0===n.indexOf("blob:")||new T(n).host===t.documentBaseURI.host},gt=function(t,e){return-1!==a.inArray(function(t){return t.getParam("imagetools_cors_hosts",[],"string[]")}(t),new T(e.src).host)},vt=function(e,n){var r;return(r=e.editorUpload.blobCache.getByUri(n.src))?O.resolve(r.blob()):function(e,n){return function(t){return m.from(t.getParam("imagetools_fetch_image",null,"function"))}(e).fold((function(){return function(e,n){var r,i=n.src;return gt(e,n)?H(n.src,null,function(t,e){return-1!==a.inArray(function(t){return t.getParam("imagetools_credentials_hosts",[],"string[]")}(t),new T(e.src).host)}(e,n)):pt(e,n)?function(e){var n,r=e.src;return 0===r.indexOf("data:")?w(r):(n=r,new y((function(e,r){var i=new t.XMLHttpRequest;i.open("GET",n,!0),i.responseType="blob",i.onload=function(){200===this.status&&e(this.response)},i.onerror=function(){var t;r(0===this.status?((t=new Error("No access to download image")).code=18,t.name="SecurityError",t):new Error("Error "+this.status+" downloading image"))},i.send()})))}(n):(i=function(t){return t.getParam("imagetools_proxy")}(e),i+=(-1===i.indexOf("?")?"?":"&")+"url="+encodeURIComponent(n.src),r=function(t){return t.getParam("api_key",t.getParam("imagetools_api_key","","string"),"string")}(e),H(i,r,!1))}(e,n)}),(function(t){return t(n)}))}(e,n)},bt=function(t){E.clearTimeout(t.get())},yt=function(t,e,n,r,i,o){return e.toBlob().then((function(s){var a,u,l,c;return l=t.editorUpload.blobCache,a=i.src,function(t){return t.getParam("images_reuse_filename",!1,"boolean")}(t)&&((c=l.getByUri(a))?(a=c.uri(),u=c.name()):u=function(t,e){var n=e.match(/\/([^\/\?]+)?\.(?:jpeg|jpg|png|gif)(?:\?|$)/i);return n?t.dom.encode(n[1]):null}(t,a)),c=l.create({id:"imagetools"+ct++,blob:s,base64:e.toBase64(),uri:a,name:u}),l.add(c),t.undoManager.transact((function(){t.$(i).on("load",(function e(){t.$(i).off("load",e),t.nodeChanged(),n?t.editorUpload.uploadImagesAuto():(bt(r),function(t,e){var n=E.setEditorTimeout(t,(function(){t.editorUpload.uploadImagesAuto()}),function(t){return t.getParam("images_upload_timeout",3e4,"number")}(t));e.set(n)}(t,r))})),o&&t.$(i).attr({width:o.w,height:o.h}),t.$(i).attr({src:c.blobUri()}).removeAttr("data-mce-src")})),c}))},_t=function(t,e,n,r){return function(){return mt(t).fold((function(){ht(t,"Could not find selected image")}),(function(i){return t._scanForImages().then((function(){return vt(t,i.dom())})).then(k).then(n).then((function(n){return yt(t,n,!1,e,i.dom(),r)}),(function(e){ht(t,e)}))}))}},wt=function(t,e,n){return function(){var r=mt(t).fold((function(){return null}),(function(t){var e=D(t.dom());return e?{w:e.h,h:e.w}:null}));return _t(t,e,(function(t){return function(t,e){return function(t,e){return t.toCanvas().then((function(n){return function(t,e,n){var r=p(t.width,t.height),i=v(r),o=0,s=0;return 90!==(n=n<0?360+n:n)&&270!==n||b(r,r.height,r.width),90!==n&&180!==n||(o=r.width),270!==n&&180!==n||(s=r.height),i.translate(o,s),i.rotate(n*Math.PI/180),i.drawImage(t,0,0),S(r,e)}(n,t.getType(),e)}))}(t,e)}(t,n)}),r)()}},xt=function(t,e,n){return function(){return _t(t,e,(function(t){return function(t,e){return function(t,e){return t.toCanvas().then((function(n){return function(t,e,n){var r=p(t.width,t.height),i=v(r);return"v"===n?(i.scale(1,-1),i.drawImage(t,0,-r.height)):(i.scale(-1,1),i.drawImage(t,-r.width,0)),S(r,e)}(n,t.getType(),e)}))}(t,e)}(t,n)}))()}},Ct=function(t,e){var n=function(e){return function(e){return t.dom.is(e,"img:not([data-mce-object],[data-mce-placeholder])")}(e)&&(pt(t,e)||gt(t,e)||t.settings.imagetools_proxy)};return ft(t,e)?dt(e).map((function(t){return n(t.dom())?m.some(t.dom()):m.none()})):n(e)?m.some(e):m.none()},St=bt,kt=vt,Et=mt,Ot=u("save-state"),Tt=u("disable"),At=u("enable"),Dt=function(e,n){return function(){var r=Et(e),i=r.map((function(t){return M(t.dom())}));Et(e).each((function(o){Ct(e,o.dom()).each((function(s){kt(e,o.dom()).then((function(o){var s=function(e){return{blob:e,url:t.URL.createObjectURL(e)}}(o);e.windowManager.open({title:"Edit Image",size:"large",body:{type:"panel",items:[{type:"imagetools",name:"imagetools",label:"Edit Image",currentState:s}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0,disabled:!0}],onSubmit:function(o){var s=o.getData().imagetools.blob;r.each((function(r){i.each((function(i){!function(e,n,r,i,o){new O((function(s){(function(t){return _(t)})(o).then((function(e){var n=M(e);return i.w===n.w&&i.h===n.h||D(r)&&function(t,e){var n;e&&(n=t.style.height,(t.style.width||n)&&(t.style.width=e.w+"px",t.style.height=e.h+"px",t.removeAttribute("data-mce-style")),n=t.height,(t.width||n)&&(t.setAttribute("width",e.w),t.setAttribute("height",e.h)))}(r,n),t.URL.revokeObjectURL(e.src),o})).then(k).then((function(t){return yt(e,t,!0,n,r)}),(function(){}))}))}(e,n,r.dom(),i,s)}))})),o.close()},onCancel:function(){},onAction:function(t,e){switch(e.name){case Ot():e.value?t.enable("save"):t.disable("save");break;case Tt():t.disable("save"),t.disable("cancel");break;case At():t.enable("cancel")}}})}))}))}))}};s.add("imagetools",(function(t){var e=o(0),n=o(null);(function(t,e){a.each({mceImageRotateLeft:wt(t,e,-90),mceImageRotateRight:wt(t,e,90),mceImageFlipVertical:xt(t,e,"v"),mceImageFlipHorizontal:xt(t,e,"h"),mceEditImage:Dt(t,e)},(function(e,n){t.addCommand(n,e)}))})(t,e),function(t){var e=function(e){return function(){return t.execCommand(e)}};t.ui.registry.addButton("rotateleft",{tooltip:"Rotate counterclockwise",icon:"rotate-left",onAction:e("mceImageRotateLeft")}),t.ui.registry.addButton("rotateright",{tooltip:"Rotate clockwise",icon:"rotate-right",onAction:e("mceImageRotateRight")}),t.ui.registry.addButton("flipv",{tooltip:"Flip vertically",icon:"flip-vertically",onAction:e("mceImageFlipVertical")}),t.ui.registry.addButton("fliph",{tooltip:"Flip horizontally",icon:"flip-horizontally",onAction:e("mceImageFlipHorizontal")}),t.ui.registry.addButton("editimage",{tooltip:"Edit image",icon:"edit-image",onAction:e("mceEditImage"),onSetup:function(e){var n=function(){Et(t).each((function(n){var r=Ct(t,n.dom()).isNone();e.setDisabled(r)}))};return t.on("NodeChange",n),function(){t.off("NodeChange",n)}}}),t.ui.registry.addButton("imageoptions",{tooltip:"Image options",icon:"image-options",onAction:e("mceImage")}),t.ui.registry.addContextMenu("imagetools",{update:function(n){return Ct(t,n).fold((function(){return[]}),(function(t){return[{text:"Edit image",icon:"edit-image",onAction:e("mceEditImage")}]}))}})}(t),function(t){t.ui.registry.addContextToolbar("imagetools",{items:A(t),predicate:function(e){return Ct(t,e).isSome()},position:"node",scope:"node"})}(t),function(t,e,n){t.on("NodeChange",(function(r){var i=n.get();i&&i.src!==r.element.src&&(St(e),t.editorUpload.uploadImagesAuto(),n.set(null)),Ct(t,r.element).each(n.set)}))}(t,e,n)}))}(window)},sGy5:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="sGy5"},vFQT:function(t,e,n){n("fE+E")},"vn/0":function(t,e){!function(t){"use strict";var e,n,r,i,o=tinymce.util.Tools.resolve("tinymce.PluginManager"),s=tinymce.util.Tools.resolve("tinymce.util.VK"),a=function(t){return function(e){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(e)===t}},u=a("string"),l=a("array"),c=a("boolean"),d=a("function"),f=function(t){var e=t.getParam("link_assume_external_targets",!1);return c(e)&&e?1:!u(e)||"http"!==e&&"https"!==e?0:e},h=function(t){return t.getParam("default_link_target")},m=function(t){return t.getParam("target_list",!0)},p=function(t){return t.getParam("rel_list",[],"array")},g=function(t){return t.getParam("link_title",!0,"boolean")},v=function(t){return t.getParam("allow_unsafe_link_target",!1,"boolean")},b=function(t){return t.getParam("link_default_protocol","http","string")},y=function(){return(y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},_=function(){},w=function(t){return function(){return t}},x=w(!1),C=w(!0),S=function(){return k},k=(e=function(t){return t.isNone()},i={fold:function(t,e){return t()},is:x,isSome:x,isNone:C,getOr:r=function(t){return t},getOrThunk:n=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:w(null),getOrUndefined:w(void 0),or:r,orThunk:n,map:S,each:_,bind:S,exists:x,forall:C,filter:S,equals:e,equals_:e,toArray:function(){return[]},toString:w("none()")},Object.freeze&&Object.freeze(i),i),E=function(t){var e=w(t),n=function(){return i},r=function(e){return e(t)},i={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:C,isNone:x,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return E(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?i:k},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(x,(function(e){return n(t,e)}))}};return i},O={some:E,none:S,from:function(t){return null==t?k:E(t)}},T=Array.prototype.indexOf,A=Array.prototype.push,D=function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)},M=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!l(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);A.apply(e,t[n])}return e},R=(d(Array.from),function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return O.none()}),I=tinymce.util.Tools.resolve("tinymce.util.Tools"),N=function(t){return/^\w+:/i.test(t)},z=function(t){return t.getAttribute("data-mce-href")||t.getAttribute("href")},P=function(t,e){var n=["noopener"],r=t?t.split(/\s+/):[],i=function(t){return t.filter((function(t){return-1===I.inArray(n,t)}))},o=e?function(t){return(t=i(t)).length>0?t.concat(n):n}(r):i(r);return o.length>0?function(t){return I.trim(t.sort().join(" "))}(o):""},F=function(t,e){return e=e||t.selection.getNode(),L(e)?t.dom.select("a[href]",e)[0]:t.dom.getParent(e,"a[href]")},B=function(t){return t&&"A"===t.nodeName&&!!z(t)},L=function(t){return t&&"FIGURE"===t.nodeName&&/\bimage\b/i.test(t.className)},H=function(t,e,n){var r=t.selection.getNode(),i=F(t,r),o=function(t,e){var n,r,i=y({},e);if(!(p(t).length>0)&&!1===v(t)){var o=P(i.rel,"_blank"===i.target);i.rel=o||null}return O.from(i.target).isNone()&&!1===m(t)&&(i.target=h(t)),i.href=(n=i.href,"http"!==(r=f(t))&&"https"!==r||N(n)?n:r+"://"+n),i}(t,function(t){return e={href:t.href},D(["title","rel","class","target"],(function(n){e=function(e,n){return t[n].each((function(t){e[n]=t.length>0?t:null})),e}(e,n)})),e;var e}(n));t.undoManager.transact((function(){n.href===e.href&&e.attach(),i?(t.focus(),function(t,e,n,r){n.each((function(t){e.hasOwnProperty("innerText")?e.innerText=t:e.textContent=t})),t.dom.setAttribs(e,r),t.selection.select(e)}(t,i,n.text,o)):function(t,e,n,r){L(e)?function(t,e,n){var r=t.dom.select("img",e)[0];if(r){var i=t.dom.create("a",n);r.parentNode.insertBefore(i,r),i.appendChild(r)}}(t,e,r):n.fold((function(){t.execCommand("mceInsertLink",!1,r)}),(function(e){t.insertContent(t.dom.createHTML("a",r,t.dom.encode(e)))}))}(t,r,n.text,o)}))},V=function(t){t.undoManager.transact((function(){var e=t.selection.getNode();if(L(e))!function(t,e){var n=t.dom.select("img",e)[0];if(n){var r=t.dom.getParents(n,"a[href]",e)[0];r&&(r.parentNode.insertBefore(n,r),t.dom.remove(r))}}(t,e);else{var n=t.dom.getParent(e,"a[href]",t.getBody());n&&t.dom.remove(n,!0)}t.focus()}))},j=function(t){return I.grep(t,B).length>0},U=z,$=function(t){return!(/</.test(t)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(t)||-1===t.indexOf("href=")))},W=F,q=function(t,e){return(e?e.innerText||e.textContent:t.getContent({format:"text"})).replace(/\uFEFF/g,"")},G=P,Y=N,K=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},X=function(t){return u(t.value)?t.value:""},Z=function(t){return void 0===t&&(t=X),function(e){return O.from(e).map((function(e){return function(t,e){var n=[];return I.each(t,(function(t){var r=u(t.text)?t.text:u(t.title)?t.title:"";if(void 0!==t.menu);else{var i=e(t);n.push({text:r,value:i})}})),n}(e,t)}))}},Q=function(t){return Z(X)(t)},J=Z,tt=function(t,e){return function(n){return{name:t,type:"selectbox",label:e,items:n}}},et=X,nt=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return nt(n())}}},rt=function(t,e){var n=nt(t.text);return{onChange:function(t,r){return"url"===r.name?(i=t(),n.get().length<=0?O.some({text:void 0!==i.url.meta.text?i.url.meta.text:i.url.value,title:void 0!==i.url.meta.title?i.url.meta.title:""}):O.none()):T.call(["anchor","link"],r.name)>-1?function(t,r){var i,o,s=(i=e,o=r.name,"link"===o?i.catalogs.link:"anchor"===o?i.catalogs.anchor:O.none()).getOr([]);return function(t,e,n,r){var i=r[e],o=t.length>0;return void 0!==i?function(t,e){return R(e,(function(e){return O.some(e).filter((function(e){return e.value===t}))}))}(i,n).map((function(e){return{url:{value:e.value,meta:{text:o?t:e.text,attach:_}},text:o?t:e.text}})):O.none()}(n.get(),r.name,s,t)}(t(),r):"text"===r.name?(n.set(t().text),O.none()):O.none();var i}}},it={},ot={exports:it};!function(t,e,n,r){!function(t){"object"==typeof e&&void 0!==n?n.exports=t():("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=t()}((function(){return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};e[s][0].call(l.exports,(function(t){return i(e[s][1][t]||t)}),l,l.exports,t,e,n,r)}return n[s].exports}for(var o=!1,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){var r,i,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(t){r=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,c=[],d=!1,f=-1;function h(){d&&l&&(d=!1,l.length?c=l.concat(c):f=-1,c.length&&m())}function m(){if(!d){var t=u(h);d=!0;for(var e=c.length;e;){for(l=c,c=[];++f<e;)l&&l[f].run();f=-1,e=c.length}l=null,d=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||d||u(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){!function(n){var r=setTimeout;function i(){}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function s(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(i){return void u(e.promise,i)}a(e.promise,r)}else(1===t._state?a:u)(e.promise,t._value)}))):t._deferreds.push(e)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void d((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(s){u(t,s)}var r,i}function u(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&o._immediateFn((function(){t._handled||o._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)s(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function d(t,e){var n=!1;try{t((function(t){n||(n=!0,a(e,t))}),(function(t){n||(n=!0,u(e,t))}))}catch(r){if(n)return;n=!0,u(e,r)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(i);return s(this,new c(t,e,n)),n},o.all=function(t){var e=Array.prototype.slice.call(t);return new o((function(t,n){if(0===e.length)return t([]);var r=e.length;function i(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){i(o,t)}),n)}e[o]=s,0==--r&&t(e)}catch(u){n(u)}}for(var o=0;o<e.length;o++)i(o,e[o])}))},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o((function(e){e(t)}))},o.reject=function(t){return new o((function(e,n){n(t)}))},o.race=function(t){return new o((function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)}))},o._immediateFn="function"==typeof t?function(e){t(e)}:function(t){r(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},o._setImmediateFn=function(t){o._immediateFn=t},o._setUnhandledRejectionFn=function(t){o._unhandledRejectionFn=t},void 0!==e&&e.exports?e.exports=o:n.Promise||(n.Promise=o)}(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,r){var i=t("process/browser.js").nextTick,o=Function.prototype.apply,s=Array.prototype.slice,a={},u=0;function l(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new l(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new l(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=u++,r=!(arguments.length<2)&&s.call(arguments,1);return a[e]=!0,i((function(){a[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof r?r:function(t){delete a[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var r=t("promise-polyfill"),i="undefined"!=typeof window?window:Function("return this;")();e.exports={boltExport:i.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))}(0,it,ot);var st=ot.exports.boltExport,at=function(e){var n=O.none(),r=[],i=function(t){o()?s(t):r.push(t)},o=function(){return n.isSome()},s=function(e){n.each((function(n){t.setTimeout((function(){e(n)}),0)}))};return e((function(t){n=O.some(t),D(r,s),r=[]})),{get:i,map:function(t){return at((function(e){i((function(n){e(t(n))}))}))},isReady:o}},ut={nu:at,pure:function(t){return at((function(e){e(t)}))}},lt=function(e){t.setTimeout((function(){throw e}),0)},ct=function(t){var e=function(e){t().then(e,lt)};return{map:function(e){return ct((function(){return t().then(e)}))},bind:function(e){return ct((function(){return t().then((function(t){return e(t).toPromise()}))}))},anonBind:function(e){return ct((function(){return t().then((function(){return e.toPromise()}))}))},toLazy:function(){return ut.nu(e)},toCached:function(){var e=null;return ct((function(){return null===e&&(e=t()),e}))},toPromise:t,get:e}},dt=function(t){return ct((function(){return new st(t)}))},ft=tinymce.util.Tools.resolve("tinymce.util.Delay"),ht=function(t){var e=t.href;return e.indexOf("@")>0&&-1===e.indexOf("//")&&-1===e.indexOf("mailto:")?O.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(t){return y(y({},t),{href:"mailto:"+e})}}):O.none()},mt=function(t){var e=t.dom.select("a:not([href])"),n=M(function(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;i++)r[i]=e(t[i]);return r}(e,(function(t){var e=t.name||t.id;return e?[{text:e,value:"#"+e}]:[]})));return n.length>0?O.some([{text:"None",value:""}].concat(n)):O.none()},pt=function(t){var e=function(t){return t.getParam("link_class_list",[],"array")}(t);return e.length>0?Q(e):O.none()},gt=tinymce.util.Tools.resolve("tinymce.util.XHR"),vt=function(t,e){var n=p(t);if(n.length>0){var r=e.is("_blank");return(!1===v(t)?J((function(t){return G(et(t),r)})):Q)(n)}return O.none()},bt=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],yt=function(t){var e=m(t);return l(e)?Q(e).orThunk((function(){return O.some(bt)})):!1===e?O.none():O.some(bt)},_t=function(t,e,n){var r=t.getAttrib(e,n);return null!==r&&r.length>0?O.some(r):O.none()},wt=function(t,e){return t.dom.getParent(e,"a[href]")},xt=function(t){return wt(t,t.selection.getStart())},Ct=function(e,n){if(n){var r=U(n);if(/^#/.test(r)){var i=e.$(r);i.length&&e.selection.scrollIntoView(i[0],!0)}else!function(e){var n=t.document.createElement("a");n.target="_blank",n.href=e,n.rel="noreferrer noopener";var r=t.document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,t.window,0,0,0,0,0,!1,!1,!1,!1,0,null),function(e,n){t.document.body.appendChild(e),e.dispatchEvent(n),t.document.body.removeChild(e)}(n,r)}(n.href)}},St=function(t){return function(){!function(t){(function(t){return function(t,e){return function(t){var e=function(e){return t.convertURL(e.value||e.url,"href")},n=function(t){return t.getParam("link_list")}(t);return dt((function(t){u(n)?gt.send({url:n,success:function(e){return t(function(t){try{return O.some(JSON.parse(t))}catch(e){return O.none()}}(e))},error:function(e){return t(O.none())}}):d(n)?n((function(e){return t(O.some(e))})):t(O.from(n))})).map((function(t){return t.bind(J(e)).map((function(t){return t.length>0?[{text:"None",value:""}].concat(t):t}))}))}(t).map((function(n){var r=function(t,e){var n=t.dom,r=$(t.selection.getContent())?O.some(q(t.selection,e)):O.none(),i=e?O.some(n.getAttrib(e,"href")):O.none(),o=e?O.from(n.getAttrib(e,"target")):O.none(),s=_t(n,e,"rel"),a=_t(n,e,"class");return{url:i,text:r,title:_t(n,e,"title"),target:o,rel:s,linkClass:a}}(t,e);return{anchor:r,catalogs:{targets:yt(t),rels:vt(t,r.target),classes:pt(t),anchor:mt(t),link:n},optNode:O.from(e),flags:{titleEnabled:g(t)}}}))}(t,W(t))})(t).map((function(e){var n=function(t,e){return function(n){var r=n.getData();if(!r.url.value)return V(t),void n.close();var i=function(t){return O.from(r[t]).filter((function(n){return!e.anchor[t].is(n)}))},o={href:r.url.value,text:i("text"),target:i("target"),rel:i("rel"),class:i("linkClass"),title:i("title")},s={href:r.url.value,attach:void 0!==r.url.meta&&r.url.meta.attach?r.url.meta.attach:function(){}};(function(t,e){return R([ht,(n=f(t),r=b(t),function(t){var e=t.href;return 1===n&&!Y(e)||0===n&&/^\s*www[\.|\d\.]/i.test(e)?O.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+r+":// prefix?",preprocess:function(t){return y(y({},t),{href:r+"://"+e})}}):O.none()})],(function(t){return t(e)})).fold((function(){return t=e,ct((function(){return st.resolve(t)}));var t}),(function(n){return dt((function(r){!function(t,e,n){var r=t.selection.getRng();ft.setEditorTimeout(t,(function(){t.windowManager.confirm(e,(function(e){t.selection.setRng(r),n(e)}))}))}(t,n.message,(function(t){r(t?n.preprocess(e):e)}))}))}));var n,r})(t,o).get((function(e){H(t,s,e)})),n.close()}}(t,e);return function(t,e,n){var r=t.anchor.text.map((function(){return{name:"text",type:"input",label:"Text to display"}})).toArray(),i=t.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],o=function(t,e){return{url:{value:t.anchor.url.getOr(""),meta:{attach:function(){},text:t.anchor.url.fold((function(){return""}),(function(){return t.anchor.text.getOr("")})),original:{value:t.anchor.url.getOr("")}}},text:t.anchor.text.getOr(""),title:t.anchor.title.getOr(""),anchor:t.anchor.url.getOr(""),link:t.anchor.url.getOr(""),rel:t.anchor.rel.getOr(""),target:t.anchor.target.or(e).getOr(""),linkClass:t.anchor.linkClass.getOr("")}}(t,O.from(h(n))),s=rt(o,t),a=t.catalogs;return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:M([[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],r,i,K([a.anchor.map(tt("anchor","Anchors")),a.rels.map(tt("rel","Rel")),a.targets.map(tt("target","Open link in...")),a.link.map(tt("link","Link list")),a.classes.map(tt("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onChange:function(t,e){s.onChange(t.getData,{name:e.name}).each((function(e){t.setData(e)}))},onSubmit:e}}(e,n,t)})).get((function(e){t.windowManager.open(e)}))}(t)}},kt=function(t){return function(){Ct(t,xt(t))}},Et=function(t){return function(e){var n=function(n){return e.setActive(!t.mode.isReadOnly()&&!!W(t,n.element))};return t.on("NodeChange",n),function(){return t.off("NodeChange",n)}}},Ot=function(t){return function(e){var n=t.dom.getParents(t.selection.getStart());e.setDisabled(!j(n));var r=function(t){return e.setDisabled(!j(t.parents))};return t.on("NodeChange",r),function(){return t.off("NodeChange",r)}}};o.add("link",(function(t){(function(t){t.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:St(t),onSetup:Et(t)}),t.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:kt(t),onSetup:Ot(t)}),t.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return V(t)},onSetup:Ot(t)})})(t),function(t){t.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:kt(t),onSetup:Ot(t)}),t.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:St(t)}),t.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return V(t)},onSetup:Ot(t)})}(t),function(t){t.ui.registry.addContextMenu("link",{update:function(e){return j(t.dom.getParents(e,"a"))?"link unlink openlink":"link"}})}(t),function(t){var e=function(e){var n=t.selection.getNode();return e.setDisabled(!W(t,n)),function(){}};t.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Et(t)},label:"Link",predicate:function(e){return!!W(t,e)&&function(t){return t.getParam("link_context_toolbar",!1,"boolean")}(t)},initValue:function(){var e=W(t);return e?U(e):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(e){var n=t.selection.getNode();return e.setActive(!!W(t,n)),Et(t)(e)},onAction:function(e){var n=W(t),r=e.getValue();if(n)t.dom.setAttrib(n,"href",r),function(t){t.selection.collapse(!1)}(t),e.hide();else{var i={href:r,attach:function(){}},o=$(t.selection.getContent())?O.some(q(t.selection,n)).filter((function(t){return t.length>0})).or(O.from(r)):O.none();H(t,i,{href:r,text:o,title:O.none(),rel:O.none(),target:O.none(),class:O.none()}),e.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:e,onAction:function(e){V(t),e.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:e,onAction:function(e){kt(t)(),e.hide()}}]})}(t),function(t){t.on("click",(function(e){var n=wt(t,e.target);n&&s.metaKeyPressed(e)&&(e.preventDefault(),Ct(t,n))})),t.on("keydown",(function(e){var n=xt(t);n&&13===e.keyCode&&function(t){return!0===t.altKey&&!1===t.shiftKey&&!1===t.ctrlKey&&!1===t.metaKey}(e)&&(e.preventDefault(),Ct(t,n))}))}(t),function(t){t.addCommand("mceLink",(function(){!function(t){return t.getParam("link_quicklink",!1,"boolean")}(t)?St(t)():t.fire("contexttoolbar-show",{toolbarKey:"quicklink"})}))}(t),function(t){t.addShortcut("Meta+K","",(function(){t.execCommand("mceLink")}))}(t)}))}(window)},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},u=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function l(t){return null!==t&&"object"==typeof t}const c=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let d=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(i))try{i.call(this)}catch(s){e=s instanceof c?f(s.errors):[s]}if(u(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(l(n))try{n.unsubscribe()}catch(s){e=e||[],s instanceof c?e=e.concat(f(s.errors)):e.push(s)}}}if(e)throw new c(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function f(t){return t.reduce((t,e)=>t.concat(e instanceof c?e.errors:e),[])}const h=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class m extends d{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof m?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new p(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new p(this,t,e,n)}}[h](){return this}static create(t,e,n){const r=new m(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class p extends m{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(t){return t}let b=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof m)return t;if(t[h])return t[h]()}return t||e||n?new m(t,e,n):new m(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof m?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=y(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[g](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?v:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=y(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function y(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const _=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class w extends d{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class x extends m{constructor(t){super(t),this.destination=t}}let C=(()=>{class t extends b{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[h](){return new x(this)}lift(t){const e=new S(this,this);return e.operator=t,e}next(t){if(this.closed)throw new _;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new _;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new _;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new _;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new _;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new w(this,t))}asObservable(){const t=new b;return t.source=this,t}}return t.create=(t,e)=>new S(t,e),t})();class S extends C{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):d.EMPTY}}function k(t){return t&&"function"==typeof t.schedule}class E extends m{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const O=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function T(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const A=T(),D=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function M(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const R=t=>{if(t&&"function"==typeof t[g])return r=t,t=>{const e=r[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(D(t))return O(t);if(M(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);if(t&&"function"==typeof t[A])return e=t,t=>{const n=e[A]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=l(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var e,n,r};function I(t,e,n,r,i=new E(t,n,r)){if(!i.closed)return e instanceof b?e.subscribe(i):R(e)(i)}class N extends m{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function z(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new P(t,e))}}class P{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new F(t,this.project,this.thisArg))}}class F extends m{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function B(t,e){return new b(n=>{const r=new d;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function L(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new b(n=>{const r=new d;return r.add(e.schedule(()=>{const i=t[g]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(M(t))return function(t,e){return new b(n=>{const r=new d;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(D(t))return B(t,e);if(function(t){return t&&"function"==typeof t[A]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new b(n=>{const r=new d;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[A](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof b?t:new b(R(t))}function H(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(H((n,r)=>L(t(n,r)).pipe(z((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new V(t,n)))}class V{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new j(t,this.project,this.concurrent))}}class j extends N{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new E(this,e,n),i=this.destination;i.add(r);const o=I(this,t,void 0,void 0,r);o!==r&&i.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function U(t=Number.POSITIVE_INFINITY){return H(v,t)}function $(t,e){return e?B(t,e):new b(O(t))}function W(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return k(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof b?t[0]:U(e)($(t,n))}function q(){return function(t){return t.lift(new G(t))}}class G{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new Y(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class Y extends m{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class K extends b{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new d,t.add(this.source.subscribe(new Z(this.getSubject(),this))),t.closed&&(this._connection=null,t=d.EMPTY)),t}refCount(){return q()(this)}}const X=(()=>{const t=K.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Z extends x{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Q(){return new C}function J(){return t=>{return q()((e=Q,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,X);return r.source=t,r.subjectFactory=n,r})(t));var e}}function tt(t){return{toString:t}.toString()}function et(t,e,n){return tt(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const nt=et("Inject",t=>({token:t})),rt=et("Optional"),it=et("Self"),ot=et("SkipSelf");var st=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function at(t){for(let e in t)if(t[e]===at)return e;throw Error("Could not find renamed property on target object.")}function ut(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function lt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ct(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function dt(t){return ft(t,t[mt])||ft(t,t[vt])}function ft(t,e){return e&&e.token===t?e:null}function ht(t){return t&&(t.hasOwnProperty(pt)||t.hasOwnProperty(bt))?t[pt]:null}const mt=at({"\u0275prov":at}),pt=at({"\u0275inj":at}),gt=at({"\u0275provFallback":at}),vt=at({ngInjectableDef:at}),bt=at({ngInjectorDef:at});function yt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(yt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function _t(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const wt=at({__forward_ref__:at});function xt(t){return t.__forward_ref__=xt,t.toString=function(){return yt(this())},t}function Ct(t){return St(t)?t():t}function St(t){return"function"==typeof t&&t.hasOwnProperty(wt)&&t.__forward_ref__===xt}const kt="undefined"!=typeof globalThis&&globalThis,Et="undefined"!=typeof window&&window,Ot="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Tt="undefined"!=typeof global&&global,At=kt||Tt||Et||Ot,Dt=at({"\u0275cmp":at}),Mt=at({"\u0275dir":at}),Rt=at({"\u0275pipe":at}),It=at({"\u0275mod":at}),Nt=at({"\u0275loc":at}),zt=at({"\u0275fac":at}),Pt=at({__NG_ELEMENT_ID__:at});class Ft{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=lt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Bt=new Ft("INJECTOR",-1),Lt={},Ht=/\n/gm,Vt=at({provide:String,useValue:at});let jt,Ut=void 0;function $t(t){const e=Ut;return Ut=t,e}function Wt(t){const e=jt;return jt=t,e}function qt(t,e=st.Default){if(void 0===Ut)throw new Error("inject() must be called from an injection context");return null===Ut?Kt(t,void 0,e):Ut.get(t,e&st.Optional?null:void 0,e)}function Gt(t,e=st.Default){return(jt||qt)(Ct(t),e)}const Yt=Gt;function Kt(t,e,n){const r=dt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&st.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${yt(t)}]`)}function Xt(t){const e=[];for(let n=0;n<t.length;n++){const r=Ct(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=st.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof rt||"Optional"===i.ngMetadataName||i===rt?n|=st.Optional:i instanceof ot||"SkipSelf"===i.ngMetadataName||i===ot?n|=st.SkipSelf:i instanceof it||"Self"===i.ngMetadataName||i===it?n|=st.Self:t=i instanceof nt||i===nt?i.token:i}e.push(Gt(t,n))}else e.push(Gt(r))}return e}class Zt{get(t,e=Lt){if(e===Lt){const e=new Error(`NullInjectorError: No provider for ${yt(t)}!`);throw e.name="NullInjectorError",e}return e}}class Qt{}function Jt(t,e){for(let n=0;n<t.length;n++)e.push(t[n])}function te(t,e){t.forEach(t=>Array.isArray(t)?te(t,e):e(t))}function ee(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ne(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function re(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function ie(t,e,n){let r=se(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function oe(t,e){const n=se(t,e);if(n>=0)return t[1|n]}function se(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const ae=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),ue=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),le={},ce=[];let de=0;function fe(t){return tt(()=>{const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===ae.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ce,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ue.Emulated,id:"c",styles:t.styles||ce,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,s=t.features,a=t.pipes;return i.id+=de++,i.inputs=be(t.inputs,r),i.outputs=be(t.outputs),s&&s.forEach(t=>t(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(me):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(pe):null,i})}function he(t,e,n){const r=t.\u0275cmp;r.directiveDefs=()=>e.map(me),r.pipeDefs=()=>n.map(pe)}function me(t){return we(t)||function(t){return t[Mt]||null}(t)}function pe(t){return function(t){return t[Rt]||null}(t)}const ge={};function ve(t){const e={type:t.type,bootstrap:t.bootstrap||ce,declarations:t.declarations||ce,imports:t.imports||ce,exports:t.exports||ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&tt(()=>{ge[t.id]=t.type}),e}function be(t,e){if(null==t)return le;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ye=fe;function _e(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function we(t){return t[Dt]||null}function xe(t,e){return t.hasOwnProperty(zt)?t[zt]:null}function Ce(t,e){const n=t[It]||null;if(!n&&!0===e)throw new Error(`Type ${yt(t)} does not have '\u0275mod' property.`);return n}function Se(t){return Array.isArray(t)&&"object"==typeof t[1]}function ke(t){return Array.isArray(t)&&!0===t[1]}function Ee(t){return 0!=(8&t.flags)}function Oe(t){return 2==(2&t.flags)}function Te(t){return 1==(1&t.flags)}function Ae(t){return null!==t.template}function De(t){return 0!=(512&t[2])}let Me=void 0;function Re(){return void 0!==Me?Me:"undefined"!=typeof document?document:void 0}function Ie(t){return!!t.listen}const Ne={createRenderer:(t,e)=>Re()};function ze(t){for(;Array.isArray(t);)t=t[0];return t}function Pe(t,e){return ze(e[t+19])}function Fe(t,e){return ze(e[t.index])}function Be(t,e){return t.data[e+19]}function Le(t,e){return t[e+19]}function He(t,e){const n=e[t];return Se(n)?n:n[0]}function Ve(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function je(t){return 4==(4&t[2])}function Ue(t){return 128==(128&t[2])}function $e(t,e){return null===t||null==e?null:t[e]}function We(t){t[18]=0}const qe={lFrame:mn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Ge(){return qe.bindingsEnabled}function Ye(){return qe.lFrame.lView}function Ke(){return qe.lFrame.tView}function Xe(t){qe.lFrame.contextLView=t}function Ze(){return qe.lFrame.previousOrParentTNode}function Qe(t,e){qe.lFrame.previousOrParentTNode=t,qe.lFrame.isParent=e}function Je(){return qe.lFrame.isParent}function tn(){qe.lFrame.isParent=!1}function en(){return qe.checkNoChangesMode}function nn(t){qe.checkNoChangesMode=t}function rn(){const t=qe.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function on(){return qe.lFrame.bindingIndex++}function sn(t){const e=qe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function an(t,e){const n=qe.lFrame;n.bindingIndex=n.bindingRootIndex=t,un(e)}function un(t){qe.lFrame.currentDirectiveIndex=t}function ln(){return qe.lFrame.currentQueryIndex}function cn(t){qe.lFrame.currentQueryIndex=t}function dn(t,e){const n=hn();qe.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function fn(t,e){const n=hn(),r=t[1];qe.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function hn(){const t=qe.lFrame,e=null===t?null:t.child;return null===e?mn(t):e}function mn(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function pn(){const t=qe.lFrame;return qe.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const gn=pn;function vn(){const t=pn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function bn(){return qe.lFrame.selectedIndex}function yn(t){qe.lFrame.selectedIndex=t}function _n(){const t=qe.lFrame;return Be(t.tView,t.selectedIndex)}function wn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function xn(t,e,n){kn(t,e,3,n)}function Cn(t,e,n,r){(3&t[2])===n&&kn(t,e,n,r)}function Sn(t,e){let n=t[2];(3&n)===e&&(n&=1023,n+=1,t[2]=n)}function kn(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(En(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function En(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>10<t[18]>>16&&(3&t[2])===e&&(t[2]+=1024,o.call(s)):o.call(s)}class On{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Tn(t,e,n){const r=Ie(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Dn(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function An(t){return 3===t||4===t||6===t}function Dn(t){return 64===t.charCodeAt(0)}function Mn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Rn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Rn(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function In(t){return-1!==t}function Nn(t){return 32767&t}function zn(t){return t>>16}function Pn(t,e){let n=zn(t),r=e;for(;n>0;)r=r[15],n--;return r}function Fn(t){return"string"==typeof t?t:null==t?"":""+t}function Bn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Fn(t)}const Ln=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(At))();function Hn(t){return{name:"window",target:t.ownerDocument.defaultView}}function Vn(t){return{name:"body",target:t.ownerDocument.body}}function jn(t){return t instanceof Function?t():t}let Un=!0;function $n(t){const e=Un;return Un=t,e}let Wn=0;function qn(t,e){const n=Yn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Gn(r.data,t),Gn(e,null),Gn(r.blueprint,null));const i=Kn(t,e),o=t.injectorIndex;if(In(i)){const t=Nn(i),n=Pn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Gn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Yn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Kn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Xn(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[Pt]:n.charCodeAt(0)||0;null==r&&(r=n[Pt]=Wn++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function Zn(t,e,n,r=st.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Pt];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){dn(e,t);try{const t=i();if(null!=t||r&st.Optional)return t;throw new Error(`No provider for ${Bn(n)}!`)}finally{gn()}}else if("number"==typeof i){if(-1===i)return new ir(t,e);let o=null,s=Yn(t,e),a=-1,u=r&st.Host?e[16][6]:null;for((-1===s||r&st.SkipSelf)&&(a=-1===s?Kn(t,e):e[s+8],rr(r,!1)?(o=e[1],s=Nn(a),e=Pn(a,e)):s=-1);-1!==s;){a=e[s+8];const t=e[1];if(nr(i,s,t.data)){const t=Jn(s,e,n,o,r,u);if(t!==Qn)return t}rr(r,e[1].data[s+8]===u)&&nr(i,s,e)?(o=t,s=Nn(a),e=Pn(a,e)):s=-1}}}if(r&st.Optional&&void 0===i&&(i=null),0==(r&(st.Self|st.Host))){const t=e[9],o=Wt(void 0);try{return t?t.get(n,i,r&st.Optional):Kt(n,i,r&st.Optional)}finally{Wt(o)}}if(r&st.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Bn(n)}]`)}const Qn={};function Jn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=tr(a,s,n,null==r?Oe(a)&&Un:r!=s&&3===a.type,i&st.Host&&o===a);return null!==u?er(e,s,u,a):Qn}function tr(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=65535&o,u=t.directiveStart,l=o>>16,c=i?a+l:t.directiveEnd;for(let d=r?a:a+l;d<c;d++){const t=s[d];if(d<u&&n===t||d>=u&&t.type===n)return d}if(i){const t=s[u];if(t&&Ae(t)&&t.type===n)return u}return null}function er(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof On){const s=i;if(s.resolving)throw new Error(`Circular dep for ${Bn(o[n])}`);const a=$n(s.canSeeViewProviders);let u;s.resolving=!0,s.injectImpl&&(u=Wt(s.injectImpl)),dn(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{onChanges:r,onInit:i,doCheck:o}=e;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&Wt(u),$n(a),s.resolving=!1,gn()}}return i}function nr(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function rr(t,e){return!(t&st.Self||t&st.Host&&e)}class ir{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Zn(this._tNode,this._lView,t,void 0,e)}}function or(t){return tt(()=>{const e=Object.getPrototypeOf(t.prototype).constructor,n=e[zt]||function t(e){const n=e;if(St(e))return()=>{const e=t(Ct(n));return e?e():null};let r=xe(n);if(null===r){const t=ht(n);r=t&&t.factory}return r||null}(e);return null!==n?n:t=>new t})}function sr(t){return t.ngDebugContext}function ar(t){return t.ngOriginalError}function ur(t,...e){t.error(...e)}class lr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||ur}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?sr(t)?sr(t):this._findContext(ar(t)):null}_findOriginalError(t){let e=ar(t);for(;e&&ar(e);)e=ar(e);return e}}class cr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class dr extends cr{getTypeName(){return"HTML"}}class fr extends cr{getTypeName(){return"Style"}}class hr extends cr{getTypeName(){return"Script"}}class mr extends cr{getTypeName(){return"URL"}}class pr extends cr{getTypeName(){return"ResourceURL"}}function gr(t){return t instanceof cr?t.changingThisBreaksApplicationSecurity:t}function vr(t,e){const n=br(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function br(t){return t instanceof cr&&t.getTypeName()||null}let yr=!0,_r=!1;function wr(){return _r=!0,yr}class xr{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Cr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Sr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function kr(t){return(t=String(t)).match(Cr)||t.match(Sr)?t:(wr()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Er(t){return(t=String(t)).split(",").map(t=>kr(t.trim())).join(", ")}function Or(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Tr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Ar=Or("area,br,col,hr,img,wbr"),Dr=Or("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mr=Or("rp,rt"),Rr=Tr(Mr,Dr),Ir=Tr(Ar,Tr(Dr,Or("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Tr(Mr,Or("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rr),Nr=Or("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zr=Or("srcset"),Pr=Tr(Nr,zr,Or("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Or("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Fr=Or("script,style,template");class Br{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Ir.hasOwnProperty(e))return this.sanitizedSomething=!0,!Fr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!Pr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;Nr[i]&&(o=kr(o)),zr[i]&&(o=Er(o)),this.buf.push(" ",e,'="',Vr(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Ir.hasOwnProperty(e)&&!Ar.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Vr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Lr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hr=/([^\#-~ |!])/g;function Vr(t){return t.replace(/&/g,"&amp;").replace(Lr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Hr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jr;function Ur(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const $r=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Wr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),qr=/^url\(([^)]+)\)$/;function Gr(t){if(!(t=String(t).trim()))return"";const e=t.match(qr);return e&&kr(e[1])===e[1]||t.match(Wr)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(wr()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function Yr(t){const e=Qr();return e?e.sanitize($r.STYLE,t)||"":vr(t,"Style")?gr(t):Gr(Fn(t))}function Kr(t){const e=Qr();return e?e.sanitize($r.URL,t)||"":vr(t,"URL")?gr(t):kr(Fn(t))}const Xr=function(t,e,n){if(void 0===e&&void 0===n)return Yr(t);let r=!0;return 1&(n=n||3)&&(r=Zr(t)),2&n?r?Yr(e):gr(e):r};function Zr(t){return"background-image"===t||"backgroundImage"===t||"background"===t||"border-image"===t||"borderImage"===t||"border-image-source"===t||"borderImageSource"===t||"filter"===t||"list-style"===t||"listStyle"===t||"list-style-image"===t||"listStyleImage"===t||"clip-path"===t||"clipPath"===t}function Qr(){const t=Ye();return t&&t[12]}function Jr(t,e){t.__ngContext__=e}function ti(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}function ei(){throw new Error("Cannot mix multi providers and regular providers")}function ni(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function ri(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ni(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ii(t){return 0===t.type&&"ng-template"!==t.tagName}function oi(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function si(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(An(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!oi(t,u,n)||""===u&&1===e.length){if(ai(r))return!1;s=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ri(t.attrs,l,n)){if(ai(r))return!1;s=!0}continue}const c=ui(8&r?"class":u,i,ii(t),n);if(-1===c){if(ai(r))return!1;s=!0;continue}if(""!==l){let t;t=c>o?"":i[c+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ni(e,l,0)||2&r&&l!==t){if(ai(r))return!1;s=!0}}}}else{if(!s&&!ai(r)&&!ai(u))return!1;if(s&&ai(u))continue;s=!1,r=u|1&r}}return ai(r)||s}function ai(t){return 0==(1&t)}function ui(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function li(t,e,n=!1){for(let r=0;r<e.length;r++)if(si(t,e[r],n))return!0;return!1}function ci(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function di(t,e){return t?":not("+e.trim()+")":e}function fi(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ai(s)||(e+=di(o,i),i=""),r=s,o=o||!ai(r);n++}return""!==i&&(e+=di(o,i)),e}const hi={};function mi(t){const e=t[3];return ke(e)?e[3]:e}function pi(t){gi(Ke(),Ye(),bn()+t,en())}function gi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&xn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Cn(e,r,0,n)}yn(n)}const vi={marker:"element"},bi={marker:"comment"};function yi(t,e){return t<<17|e<<2}function _i(t){return t>>17&32767}function wi(t){return 2|t}function xi(t){return(131068&t)>>2}function Ci(t,e){return-131069&t|e<<2}function Si(t){return 1|t}function ki(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];cn(i),n.contentQueries(2,e[o],o)}}}function Ei(t,e,n){return Ie(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Oi(t,e,n,r,i,o,s,a,u,l){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,We(c),c[3]=c[15]=t,c[8]=n,c[10]=s||t&&t[10],c[11]=a||t&&t[11],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=o,c[16]=2==e.type?t[16]:c,c}function Ti(t,e,n,r,i,o){const s=n+19,a=t.data[s]||function(t,e,n,r,i,o){const s=Ze(),a=Je(),u=a?s:s&&s.parent,l=t.data[n]=Bi(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=l),s&&(!a||null!=s.child||null===l.parent&&2!==s.type?a||(s.next=l):s.child=l),l}(t,e,s,r,i,o);return Qe(a,!0),a}function Ai(t,e,n){fn(e,e[6]);try{const r=t.viewQuery;null!==r&&uo(1,r,n);const i=t.template;null!==i&&Ri(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ki(t,e),t.staticViewQueries&&uo(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)ro(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,vn()}}function Di(t,e,n,r){const i=e[2];if(256==(256&i))return;fn(e,e[6]);const o=en();try{We(e),qe.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ri(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&xn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Cn(e,n,0,null),Sn(e,0)}if(function(t){let e=t[13];for(;null!==e;){let n;if(ke(e)&&(n=e[2])>>1==-1){for(let t=9;t<e.length;t++){const n=e[t],r=n[1];Ue(n)&&Di(r,n,r.template,n[8])}0!=(1&n)&&eo(e,t[16])}e=e[4]}}(e),null!==t.contentQueries&&ki(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&xn(e,n)}else{const n=t.contentHooks;null!==n&&Cn(e,n,1),Sn(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,yn(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(an(r,i),s(2,e[i])),i++)}}}finally{yn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)no(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&uo(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&xn(e,n)}else{const n=t.viewHooks;null!==n&&Cn(e,n,2),Sn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73)}finally{vn()}}function Mi(t,e,n,r){const i=e[10],o=!en(),s=je(e);try{o&&!s&&i.begin&&i.begin(),s&&Ai(t,e,r),Di(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ri(t,e,n,r,i){const o=bn();try{yn(-1),2&r&&e.length>19&&gi(t,e,0,en()),n(r,i)}finally{yn(o)}}function Ii(t,e,n){if(Ee(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ni(t,e,n){Ge()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||qn(n,e),Jr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Ae(r);o&&Xi(e,n,r);const u=er(e,t,a,n);Jr(u,e),null!==s&&Qi(0,a-i,u,r,0,s),o&&(He(n.index,e)[8]=u)}}(t,e,n,Fe(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-19,u=qe.lFrame.currentDirectiveIndex;try{yn(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];un(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?$i(r,i):s&&o.push(null)}}finally{yn(-1),un(u)}}(t,e,n))}function zi(t,e,n=Fe){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Pi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Fi(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Fi(t,e,n,r,i,o,s,a,u,l){const c=19+r,d=c+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:hi);return n}(c,d);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:l,incompleteFirstPass:!1}}function Bi(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Li(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Hi(t,e,n,r,i,o,s,a){const u=Fe(e,n);let l,c=e.inputs;var d;!a&&null!=c&&(l=c[r])?(mo(t,n,l,r,i),Oe(e)&&function(t,e){const n=He(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r="class"===(d=r)?"className":"for"===d?"htmlFor":"formaction"===d?"formAction":"innerHtml"===d?"innerHTML":"readonly"===d?"readOnly":"tabindex"===d?"tabIndex":d,i=null!=s?s(i,e.tagName||"",r):i,Ie(o)?o.setProperty(u,r,i):Dn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Vi(t,e,n,r){let i=!1;if(Ge()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];li(n,s.selectors,!1)&&(i||(i=[]),Xn(qn(n,e),t,s.type),Ae(s)?(2&n.flags&&ti(n),qi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,Yi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}Wi(t,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const l=o[i];n.mergedAttrs=Mn(n.mergedAttrs,l.hostAttrs),Ki(t,e,l),Gi(t.data.length-1,l,s),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128),!a&&(l.onChanges||l.onInit||l.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-19),a=!0),u||!l.onChanges&&!l.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-19),u=!0),ji(t,l),r+=l.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,l=null===i||ii(e)?null:Ji(n,i);o.push(l),s=Li(n,u,s),a=Li(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),Ui(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Mn(n.mergedAttrs,n.attrs),i}function ji(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Ui(t,e,n){for(let r=0;r<n;r++)e.push(hi),t.blueprint.push(hi),t.data.push(null)}function $i(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Wi(t,e,n){const r=19-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function qi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Gi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ae(e)&&(n[""]=t)}}function Yi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ki(t,e,n){t.data.push(n);const r=n.factory||(n.factory=xe(n.type)),i=new On(r,Ae(n),null);t.blueprint.push(i),e.push(i)}function Xi(t,e,n){const r=Fe(e,t),i=Pi(n),o=t[10],s=io(t,Oi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function Zi(t,e,n,r,i,o){const s=Fe(t,e),a=e[11];if(null==r)Ie(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?Fn(r):i(r,t.tagName||"",n);Ie(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}function Qi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Ji(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function to(t,e,n,r){return new Array(t,!0,-2,e,null,null,r,n,null)}function eo(t,e){const n=t[5];for(let r=0;r<n.length;r++){const t=n[r],i=t[3][3][16];if(i!==e&&0==(16&i[2])){const e=t[1];Di(e,t,e.template,t[8])}}}function no(t,e){const n=He(e,t);if(Ue(n)&&80&n[2]){const t=n[1];Di(t,n,t.template,n[8])}}function ro(t,e){const n=He(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ai(r,n,n[8])}function io(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function oo(t){for(;t;){t[2]|=64;const e=mi(t);if(De(t)&&!e)return t;t=e}return null}function so(t,e,n){const r=e[10];r.begin&&r.begin();try{Di(t,e,t.template,n)}catch(i){throw ho(e,i),i}finally{r.end&&r.end()}}function ao(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ve(n),i=r[1];Mi(i,r,i.template,n)}}(t[8])}function uo(t,e,n){cn(0),e(t,n)}const lo=(()=>Promise.resolve(null))();function co(t){return t[7]||(t[7]=[])}function fo(t){return t.cleanup||(t.cleanup=[])}function ho(t,e){const n=t[9],r=n?n.get(lr,null):null;r&&r.handleError(e)}function mo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],l=t.data[s];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function po(t,e){const n=e[3];return-1===t.index?ke(n)?n:null:n}function go(t,e){const n=po(t,e);return n?Ao(e[11],n[7]):null}function vo(t,e,n,r,i){if(null!=r){let o,s=!1;ke(r)?o=r:Se(r)&&(s=!0,r=r[0]);const a=ze(r);0===t&&null!==n?null==i?Oo(e,n,a):Eo(e,n,a,i||null):1===t&&null!==n?Eo(e,n,a,i||null):2===t?Io(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==ze(n)&&vo(e,t,r,o,i);for(let s=9;s<n.length;s++){const i=n[s];zo(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function bo(t,e){return Ie(e)?e.createText(t):e.createTextNode(t)}function yo(t,e,n,r){const i=go(t.node,e);i&&zo(t,e,e[11],n?1:2,i,r)}function _o(t,e){const n=t[5],r=n.indexOf(e);n.splice(r,1)}function wo(t,e){if(t.length<=9)return;const n=9+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&_o(i,r),e>0&&(t[n-1][4]=r[4]);const o=ne(t,9+e);yo(r[1],r,!1,null);const s=o[5];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function xo(t,e){if(!(256&e[2])){const n=e[11];Ie(n)&&n.destroyNode&&zo(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return So(t[1],t);for(;e;){let n=null;if(Se(e))n=e[13];else{const t=e[9];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Se(e)&&So(e[1],e),e=Co(e,t);null===e&&(e=t),Se(e)&&So(e[1],e),n=e&&e[4]}e=n}}(e)}}function Co(t,e){let n;return Se(t)&&(n=t[6])&&2===n.type?po(n,t):t[3]===e?null:t[3]}function So(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof On)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):ze(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Ie(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&ke(e[3])){r!==e[3]&&_o(r,e);const n=e[5];null!==n&&n.detachView(t)}}}function ko(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?go(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Fe(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==ue.ShadowDom&&n!==ue.Native)return null}return Fe(r,n)}function Eo(t,e,n,r){Ie(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Oo(t,e,n){Ie(t)?t.appendChild(e,n):e.appendChild(n)}function To(t,e,n,r){null!==r?Eo(t,e,n,r):Oo(t,e,n)}function Ao(t,e){return Ie(t)?t.parentNode(e):e.parentNode}function Do(t,e){if(2===t.type){const n=po(t,e);return null===n?null:Ro(n.indexOf(e,9)-9,n)}return 4===t.type||5===t.type?Fe(t,e):null}function Mo(t,e,n,r){const i=ko(t,r,e);if(null!=i){const t=e[11],o=Do(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)To(t,i,n[e],o);else To(t,i,n,o)}}function Ro(t,e){const n=9+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Fe(n,e);if(0===r)return Ro(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return ke(t)?Ro(-1,t):ze(t)}}{const r=e[16],i=r[6],o=mi(r),s=i.projection[n.projection];return null!=s?t(o,s):t(e,n.next)}}return null}(t,r)}return e[7]}function Io(t,e,n){const r=Ao(t,e);r&&function(t,e,n,r){Ie(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function No(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===e&&(a&&Jr(ze(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(No(t,e,n.child,r,i,o,!1),vo(e,t,i,a,o)):1===u?Fo(t,e,r,n,i,o):vo(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function zo(t,e,n,r,i,o){No(n,r,t.node.child,e,i,o,!1)}function Po(t,e,n){Fo(e[11],0,e,n,ko(t,n,e),Do(n.parent||e[6],e))}function Fo(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)vo(e,t,i,a[u],o);else No(t,e,a,s[3],i,o,!0)}function Bo(t,e,n){Ie(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Lo(t,e,n){Ie(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Ho{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(ze(s)),ke(s))for(let e=9;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6],s=mi(e);let a=o.projection[r.projection];null!==a&&null!==s&&t(s[1],s,a,i,!0)}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}xo(this._lView[1],this._lView)}onDestroy(t){var e,n,r;e=this._lView[1],r=t,co(n=this._lView).push(r),e.firstCreatePass&&fo(e).push(n[7].length-1,null)}markForCheck(){oo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){so(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){nn(!0);try{so(t,e,n)}finally{nn(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,zo(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Vo extends Ho{constructor(t){super(t),this._view=t}detectChanges(){ao(this._view)}checkNoChanges(){!function(t){nn(!0);try{ao(t)}finally{nn(!1)}}(this._view)}get context(){return null}}let jo,Uo,$o;function Wo(t,e,n){return jo||(jo=class extends t{}),new jo(Fe(e,n))}function qo(t,e,n,r){return Uo||(Uo=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Oi(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[5];null!==r&&(n[5]=r.createEmbeddedView(e)),Ai(e,n,t);const i=new Ho(n);return i._tViewNode=n[6],i}}),0===n.type?new Uo(r,n,Wo(e,n,r)):null}function Go(t,e,n,r){let i;$o||($o=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Wo(e,this._hostTNode,this._hostView)}get injector(){return new ir(this._hostTNode,this._hostView)}get parentInjector(){const t=Kn(this._hostTNode,this._hostView),e=Pn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=zn(t),i=e,o=e[6];for(;r>1;)i=i[15],o=i[6],r--;return o}(t,this._hostView,this._hostTNode);return In(t)&&null!=n?new ir(n,e):new ir(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-9}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Qt,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),ke(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new $o(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=9+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-9?(e[4]=n[i],ee(n,9+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[5],r=e[3][3][16];16!=(16&r[2])&&e[16]!==r&&(t[2]|=1),null===n?t[5]=[e]:n.push(e)}(s,e);const a=e[5];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),yo(r,n,!0,Ro(i,this._lContainer)),t.attachToViewContainerRef(this),ee(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);(function(t,e){const n=wo(t,e);n&&xo(n[1],n)})(this._lContainer,e),ne(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=wo(this._lContainer,e);return n&&null!=ne(this._lContainer[8],e)?new Ho(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(ke(o))i=o,function(t,e){t[2]=-2}(i);else{let t;if(4===n.type)t=ze(o);else if(t=r[11].createComment(""),De(r)){const e=r[11],i=Fe(n,r);Eo(e,Ao(e,i),t,function(t,e){return Ie(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Mo(r[1],r,t,n);r[n.index]=i=to(o,r,t,n),io(r,i)}return new $o(i,n,r)}function Yo(t=!1){return function(t,e,n){if(!n&&Oe(t)){const n=He(t.index,e);return new Ho(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Ho(e[16],e):null}(Ze(),Ye(),t)}let Ko=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Xo(),t})();const Xo=Yo,Zo=new Ft("Set Injector scope."),Qo={},Jo={},ts=[];let es=void 0;function ns(){return void 0===es&&(es=new Zt),es}function rs(t,e=null,n=null,r){return new is(t,n,e||ns(),r)}class is{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&te(e,n=>this.processProvider(n,t,e)),te([t],t=>this.processInjectorType(t,[],i)),this.records.set(Bt,as(void 0,this));const o=this.records.get(Zo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:yt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Lt,n=st.Default){this.assertNotDestroyed();const r=$t(this);try{if(!(n&st.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Ft)&&dt(t);e=n&&this.injectableDefInScope(n)?as(os(t),Qo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&st.Self?ns():this.parent).get(t,e=n&st.Optional&&e===Lt?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(yt(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=yt(e);if(Array.isArray(e))i=e.map(yt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):yt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Ht,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{$t(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(yt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=Ct(t)))return!1;let r=ht(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=ht(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{te(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];te(r,t=>this.processProvider(t,n,r||ts))}}this.injectorDefTypes.add(o),this.records.set(o,as(r.factory,Qo));const a=r.providers;if(null!=a&&!s){const e=t;te(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ls(t=Ct(t))?t:Ct(t&&t.provide);const i=function(t,e,n){return us(t)?as(void 0,t.useValue):as(ss(t,e,n),Qo)}(t,e,n);if(ls(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&ei()}else{let e=this.records.get(r);e?void 0===e.multi&&ei():(e=as(void 0,Qo,!0),e.factory=()=>Xt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Jo?function(t){throw new Error(`Cannot instantiate cyclic dependency! ${t}`)}(yt(t)):e.value===Qo&&(e.value=Jo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function os(t){const e=dt(t),n=null!==e?e.factory:xe(t);if(null!==n)return n;const r=ht(t);if(null!==r)return r.factory;if(t instanceof Ft)throw new Error(`Token ${yt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=re(e,"?");throw new Error(`Can't resolve all parameters for ${yt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[mt]||t[vt]||t[gt]&&t[gt]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ss(t,e,n){let r=void 0;if(ls(t)){const e=Ct(t);return xe(e)||os(e)}if(us(t))r=()=>Ct(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Xt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Gt(Ct(t.useExisting));else{const i=Ct(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${yt(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return xe(i)||os(i);r=()=>new i(...Xt(t.deps))}var i;return r}function as(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function us(t){return null!==t&&"object"==typeof t&&Vt in t}function ls(t){return"function"==typeof t}const cs=function(t,e,n){return function(t,e=null,n=null,r){const i=rs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let ds=(()=>{class t{static create(t,e){return Array.isArray(t)?cs(t,e,""):cs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Lt,t.NULL=new Zt,t.\u0275prov=lt({token:t,providedIn:"any",factory:()=>Gt(Bt)}),t.__NG_ELEMENT_ID__=-1,t})(),fs=new Map;const hs=new Set;function ms(t){return"string"==typeof t?t:t.text()}function ps(t,e){let n=t.styles,r=t.classes,i=0;for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?i=t:1==i?r=_t(r,t):2==i&&(n=_t(n,t+": "+e[++o]+";"))}null!==n&&(t.styles=n),null!==r&&(t.classes=r)}let gs=null;function vs(){if(!gs){const t=At.Symbol;if(t&&t.iterator)gs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(gs=n)}}}return gs}function bs(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class ys{constructor(t){this.wrapped=t}static wrap(t){return new ys(t)}static unwrap(t){return ys.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ys}}function _s(t){return!!ws(t)&&(Array.isArray(t)||!(t instanceof Map)&&vs()in t)}function ws(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function xs(t,e,n){return t[e]=n}function Cs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ss(t,e,n,r){const i=Ye();return Cs(i,on(),e)&&(Ke(),Zi(_n(),i,t,e,n,r)),Ss}function ks(t,e,n,r){return Cs(t,on(),n)?e+Fn(n)+r:hi}function Es(t,e,n,r,i,o,s,a){const u=Ye(),l=Ke(),c=t+19,d=l.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const l=e.consts,c=Ti(e,n[6],t,0,s||null,$e(l,a));Vi(e,n,c,$e(l,u)),wn(e,c);const d=c.tViews=Fi(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l),f=Bi(0,null,2,-1,null,null);return f.injectorIndex=c.injectorIndex,d.node=f,null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(t,l,u,e,n,r,i,o,s):l.data[c];Qe(d,!1);const f=u[11].createComment("");Mo(l,u,f,d),Jr(f,u),io(u,u[c]=to(f,u,f,d)),Te(d)&&Ni(l,u,d),null!=s&&zi(u,d,a)}function Os(t){return Le(qe.lFrame.contextLView,t)}function Ts(t,e=st.Default){const n=Ye();return null==n?Gt(t,e):Zn(Ze(),n,Ct(t),e)}function As(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(An(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Ze(),t)}function Ds(t,e,n){const r=Ye();return Cs(r,on(),e)&&Hi(Ke(),_n(),r,t,e,r[11],n,!1),Ds}function Ms(t,e,n,r,i){const o=i?"class":"style";mo(t,n,e.inputs[o],o,r)}function Rs(t,e,n,r){const i=Ye(),o=Ke(),s=19+t,a=i[11],u=i[s]=Ei(e,a,qe.lFrame.currentNamespace),l=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=$e(a,o),l=Ti(e,n[6],t,3,i,u);return Vi(e,n,l,$e(a,s)),null!==l.mergedAttrs&&ps(l,l.mergedAttrs),null!==e.queries&&e.queries.elementStart(e,l),l}(t,o,i,0,e,n,r):o.data[s];Qe(l,!0);const c=l.mergedAttrs;null!==c&&Tn(a,u,c);const d=l.classes;null!==d&&Lo(a,u,d);const f=l.styles;null!==f&&Bo(a,u,f),Mo(o,i,u,l),0===qe.lFrame.elementDepthCount&&Jr(u,i),qe.lFrame.elementDepthCount++,Te(l)&&(Ni(o,i,l),Ii(o,l,i)),null!==r&&zi(i,l)}function Is(){let t=Ze();Je()?tn():(t=t.parent,Qe(t,!1));const e=t;qe.lFrame.elementDepthCount--;const n=Ke();n.firstCreatePass&&(wn(n,t),Ee(t)&&n.queries.elementEnd(t)),null!==e.classes&&function(t){return 0!=(16&t.flags)}(e)&&Ms(n,e,Ye(),e.classes,!0),null!==e.styles&&function(t){return 0!=(32&t.flags)}(e)&&Ms(n,e,Ye(),e.styles,!1)}function Ns(t,e,n,r){Rs(t,e,n,r),Is()}function zs(t,e,n){const r=Ye(),i=Ke(),o=t+19,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=$e(o,r),a=Ti(e,n[6],t,4,"ng-container",s);return null!==s&&ps(a,s),Vi(e,n,a,$e(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[o];Qe(s,!0);const a=r[o]=r[11].createComment("");Mo(i,r,a,s),Jr(a,r),Te(s)&&(Ni(i,r,s),Ii(i,s,r)),null!=n&&zi(r,s)}function Ps(){let t=Ze();const e=Ke();Je()?tn():(t=t.parent,Qe(t,!1)),e.firstCreatePass&&(wn(e,t),Ee(t)&&e.queries.elementEnd(t))}function Fs(){return Ye()}function Bs(t){return!!t&&"function"==typeof t.then}function Ls(t){return!!t&&"function"==typeof t.subscribe}function Hs(t,e,n=!1,r){const i=Ye(),o=Ke(),s=Ze();return function(t,e,n,r,i,o,s=!1,a){const u=Te(r),l=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),c=co(e);let d=!0;if(3===r.type){const f=Fe(r,e),h=a?a(f):le,m=h.target||f,p=c.length,g=a?t=>a(ze(t[r.index])).target:r.index;if(Ie(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,d=!1;else{o=js(r,e,o,!1);const t=n.listen(h.name||m,i,o);c.push(o,t),l&&l.push(i,g,p,p+1)}}else o=js(r,e,o,!0),m.addEventListener(i,o,s),c.push(o),l&&l.push(i,g,p,s)}const f=r.outputs;let h;if(d&&null!==f&&(h=f[i])){const t=h.length;if(t)for(let n=0;n<t;n+=2){const t=e[h[n]][h[n+1]].subscribe(o),s=c.length;c.push(o,t),l&&l.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Hs}function Vs(t,e,n){try{return!1!==e(n)}catch(r){return ho(t,r),!1}}function js(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?He(t.index,e):e;0==(32&e[2])&&oo(s);let a=Vs(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Vs(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Us(t=1){return function(t){return(qe.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,qe.lFrame.contextLView))[8]}(t)}function $s(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?li(t,o,!0):ci(r,o))return i}else n=i}return n}function Ws(t){const e=Ye()[16][6];if(!e.projection){const n=e.projection=re(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?$s(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}let qs=!1;function Gs(t){qs=t}function Ys(t,e=0,n){const r=Ye(),i=Ke(),o=Ti(i,r[6],t,1,null,n||null);null===o.projection&&(o.projection=e),tn(),qs||Po(i,r,o)}function Ks(t,e,n,r,i){const o=Ye(),s=ks(o,e,n,r);return s!==hi&&Hi(Ke(),_n(),o,t,s,o[11],i,!1),Ks}const Xs=[];function Zs(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?_i(o):xi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Qs(t[a],e)&&(u=!0,t[a+1]=r?Si(n):wi(n)),a=r?_i(n):xi(n)}u&&(t[n+1]=r?wi(o):Si(o))}function Qs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&se(t,e)>=0}const Js={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ta(t){return t.substring(Js.key,Js.keyEnd)}function ea(t){return t.substring(Js.value,Js.valueEnd)}function na(t,e){const n=Js.textEnd;return n===e?-1:(e=Js.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Js.key=e,n),oa(t,e,n))}function ra(t,e){const n=Js.textEnd;let r=Js.key=oa(t,e,n);return n===r?-1:(r=Js.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90);)e++;return e}(t,r,n),r=sa(t,r,n),r=Js.value=oa(t,r,n),r=Js.valueEnd=function(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){const u=t.charCodeAt(s++);if(59===u)return a;34===u||39===u?a=s=aa(t,u,s,n):e===s-4&&85===o&&82===i&&76===r&&40===u?a=s=aa(t,41,s,n):u>32&&(a=s),o=i,i=r,r=-33&u}return a}(t,r,n),sa(t,r,n))}function ia(t){Js.key=0,Js.keyEnd=0,Js.value=0,Js.valueEnd=0,Js.textEnd=t.length}function oa(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function sa(t,e,n,r){return(e=oa(t,e,n))<n&&e++,e}function aa(t,e,n,r){let i=-1,o=n;for(;o<r;){const n=t.charCodeAt(o++);if(n==e&&92!==i)return o;i=92==n&&92===i?0:n}throw new Error}function ua(t,e,n){return ha(t,e,n,!1),ua}function la(t,e){return ha(t,e,null,!0),la}function ca(t){ma(ya,da,t,!1)}function da(t,e){for(let n=function(t){return ia(t),ra(t,oa(t,0,Js.textEnd))}(e);n>=0;n=ra(e,n))ya(t,ta(e),ea(e))}function fa(t,e){for(let n=function(t){return ia(t),na(t,oa(t,0,Js.textEnd))}(e);n>=0;n=na(e,n))ie(t,ta(e),!0)}function ha(t,e,n,r){const i=Ye(),o=Ke(),s=sn(2);if(o.firstUpdatePass&&ga(o,t,s,r),e!==hi&&Cs(i,s,e)){let a;null==n&&(a=function(){const t=qe.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),_a(o,o.data[bn()+19],i,i[11],t,i[s+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=yt(gr(t)))),t}(e,n),r,s)}}function ma(t,e,n,r){const i=Ke(),o=sn(2);i.firstUpdatePass&&ga(i,null,o,r);const s=Ye();if(n!==hi&&Cs(s,o,n)){const a=i.data[bn()+19];if(Ca(a,r)&&!pa(i,o)){let t=r?a.classes:a.styles;null!==t&&(n=_t(t,n||"")),Ms(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===hi&&(i=Xs);let u=0,l=0,c=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==c||null!==d;){const f=u<i.length?i[u+1]:void 0,h=l<o.length?o[l+1]:void 0;let m=null,p=void 0;c===d?(u+=2,l+=2,f!==h&&(m=d,p=h)):null===d||null!==c&&c<d?(u+=2,m=c):(l+=2,m=d,p=h),null!==m&&_a(t,e,n,r,m,p,s,a),c=u<i.length?i[u]:null,d=l<o.length?o[l]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Xs;const r=[],i=gr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function pa(t,e){return e>=t.expandoStartIndex}function ga(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[bn()+19],s=pa(t,n);Ca(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=qe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ba(n=va(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=va(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==xi(r))return t[_i(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=va(null,t,e,n[1],r),n=ba(n,e.attrs,r),function(t,e,n,r){t[_i(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ba(r,t[o].hostAttrs,n);return ba(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=_i(s),u=xi(s);t[r]=n;let l,c=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||se(t,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const e=_i(t[a+1]);t[r+1]=yi(e,a),0!==e&&(t[e+1]=Ci(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=yi(a,0),0!==a&&(t[a+1]=Ci(t[a+1],r)),a=r;else t[r+1]=yi(u,0),0===a?a=r:t[u+1]=Ci(t[u+1],r),u=r;c&&(t[r+1]=wi(t[r+1])),Zs(t,l,r,!0),Zs(t,l,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&se(o,e)>=0&&(n[r+1]=Si(n[r+1]))}(e,l,t,r,o),s=yi(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function va(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=ba(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ba(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ie(t,s,!!n||e[++o]))}return void 0===t?null:t}function ya(t,e,n){Zr(e)&&(n=Yr(n)),ie(t,e,n)}function _a(t,e,n,r,i,o,s,a){if(3!==e.type)return;const u=t.data,l=u[a+1];xa(1==(1&l)?wa(u,e,n,i,xi(l),s):void 0)||(xa(o)||function(t){return 2==(2&t)}(l)&&(o=wa(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Ie(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,e):n.style.removeProperty(r):o?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,s,Pe(bn(),n),i,o))}function wa(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,l=null===u;let c=n[i+1];c===hi&&(c=l?Xs:void 0);let d=l?oe(c,r):u===r?c:void 0;if(o&&!xa(d)&&(d=oe(e,r)),xa(d)&&(a=d,s))return a;const f=t[i+1];i=s?_i(f):xi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=oe(t,r))}return a}function xa(t){return void 0!==t}function Ca(t,e){return 0!=(t.flags&(e?16:32))}function Sa(t,e=""){const n=Ye(),r=Ke(),i=t+19,o=r.firstCreatePass?Ti(r,n[6],t,3,null,null):r.data[i],s=n[i]=bo(e,n[11]);Mo(r,n,s,o),Qe(o,!1)}function ka(t){return Ea("",t,""),ka}function Ea(t,e,n){const r=Ye(),i=ks(r,t,e,n);return i!==hi&&function(t,e,n){const r=Pe(e,t),i=t[11];Ie(i)?i.setValue(r,n):r.textContent=n}(r,bn(),i),Ea}function Oa(t,e,n){ma(ie,fa,ks(Ye(),t,e,n),!0)}function Ta(t,e,n){const r=Ye();return Cs(r,on(),e)&&Hi(Ke(),_n(),r,t,e,r[11],n,!0),Ta}function Aa(t,e){const n=Ve(t)[1],r=n.data.length-1;wn(n,{directiveStart:r,directiveEnd:r+1})}function Da(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Ae(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ma(t.inputs),e.declaredInputs=Ma(t.declaredInputs),e.outputs=Ma(t.outputs);const n=i.hostBindings;n&&Na(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Ra(t,o),s&&Ia(t,s),ut(t.inputs,i.inputs),ut(t.declaredInputs,i.declaredInputs),ut(t.outputs,i.outputs),Ae(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}e.afterContentChecked=e.afterContentChecked||i.afterContentChecked,e.afterContentInit=t.afterContentInit||i.afterContentInit,e.afterViewChecked=t.afterViewChecked||i.afterViewChecked,e.afterViewInit=t.afterViewInit||i.afterViewInit,e.doCheck=t.doCheck||i.doCheck,e.onDestroy=t.onDestroy||i.onDestroy,e.onInit=t.onInit||i.onInit}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Da&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Mn(i.hostAttrs,n=Mn(n,i.hostAttrs))}}(r)}function Ma(t){return t===le?{}:t===ce?[]:t}function Ra(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ia(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Na(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}class za{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Pa(t){t.type.prototype.ngOnChanges&&(t.setInput=Fa,t.onChanges=function(){const t=Ba(this),e=t&&t.current;if(e){const n=t.previous;if(n===le)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function Fa(t,e,n,r){const i=Ba(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:le,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new za(u&&u.currentValue,e,s===le),t[r]=e}function Ba(t){return t.__ngSimpleChanges__||null}function La(t,e,n,r,i){if(t=Ct(t),Array.isArray(t))for(let o=0;o<t.length;o++)La(t[o],e,n,r,i);else{const o=Ke(),s=Ye();let a=ls(t)?t:Ct(t.provide),u=ss(t);const l=Ze(),c=65535&l.providerIndexes,d=l.directiveStart,f=l.providerIndexes>>16;if(ls(t)||!t.multi){const r=new On(u,i,Ts),h=ja(a,e,i?c:c+f,d);-1===h?(Xn(qn(l,s),o,a),Ha(o,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(r),s.push(r)):(n[h]=r,s[h]=r)}else{const h=ja(a,e,c+f,d),m=ja(a,e,c,c+f),p=h>=0&&n[h],g=m>=0&&n[m];if(i&&!g||!i&&!p){Xn(qn(l,s),o,a);const c=function(t,e,n,r,i){const o=new On(t,n,Ts);return o.multi=[],o.index=e,o.componentProviders=0,Va(o,i,r&&!n),o}(i?$a:Ua,n.length,i,r,u);!i&&g&&(n[m].providerFactory=c),Ha(o,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(c),s.push(c)}else Ha(o,t,h>-1?h:m,Va(n[i?m:h],u,!i&&r));!i&&r&&g&&n[m].componentProviders++}}}function Ha(t,e,n,r){const i=ls(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Va(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ja(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ua(t,e,n,r){return Wa(this.multi,[])}function $a(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=er(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Wa(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Wa(i,o);return o}function Wa(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function qa(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ke();if(r.firstCreatePass){const i=Ae(t);La(n,r.data,r.blueprint,i,!0),La(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}Pa.ngInherit=!0;class Ga{}class Ya{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${yt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ka=(()=>{class t{}return t.NULL=new Ya,t})(),Xa=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Za(t),t})();const Za=function(t){return Wo(t,Ze(),Ye())};class Qa{}const Ja=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let tu=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>eu(),t})();const eu=function(){const t=Ye(),e=He(Ze().index,t);return function(t){const e=t[11];if(Ie(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Se(e)?e:t)};let nu=(()=>{class t{}return t.\u0275prov=lt({token:t,providedIn:"root",factory:()=>null}),t})();class ru{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const iu=new ru("9.1.4");class ou{constructor(){}supports(t){return _s(t)}create(t){return new au(t)}}const su=(t,e)=>e;class au{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||su}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<du(n,r,i)?e:n,s=du(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!_s(t))throw new Error(`Error trying to diff '${yt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&bs(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),bs(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[vs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&bs(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),bs(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(bs(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(bs(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new uu(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new cu),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cu),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class uu{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lu{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&bs(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class cu{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new lu,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function du(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class fu{constructor(){}supports(t){return t instanceof Map||ws(t)}create(){return new hu}}class hu{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ws(t)))throw new Error(`Error trying to diff '${yt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new mu(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){bs(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class mu{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let pu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ot,new rt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=lt({token:t,providedIn:"root",factory:()=>new t([new ou])}),t})(),gu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ot,new rt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=lt({token:t,providedIn:"root",factory:()=>new t([new fu])}),t})();const vu=[new fu],bu=new pu([new ou]),yu=new gu(vu);let _u=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>wu(t,Xa),t})();const wu=function(t,e){return qo(t,e,Ze(),Ye())};let xu=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Cu(t,Xa),t})();const Cu=function(t,e){return Go(t,e,Ze(),Ye())},Su={};class ku extends Ka{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=we(t);return new Tu(e,this.ngModule)}}function Eu(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ou=new Ft("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ln});class Tu extends Ga{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(fi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Eu(this.componentDef.inputs)}get outputs(){return Eu(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Su,i);return o!==Su||r===Su?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Qa,Ne),s=i.get(nu,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(Ie(t))return t.selectRootElement(e,n===ue.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ei(u,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),c=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),f={components:[],scheduler:Ln,clean:lo,playerHandler:null,flags:0},h=Fi(0,-1,null,1,0,null,null,null,null,null),m=Oi(null,h,f,c,null,null,o,a,s,i);let p,g;fn(m,null);try{const t=function(t,e,n,r,i,o){const s=n[1];n[19]=t;const a=Ti(s,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(ps(a,u),null!==t&&(Tn(i,t,u),null!==a.classes&&Lo(i,t,a.classes),null!==a.styles&&Bo(i,t,a.styles)));const l=r.createRenderer(t,e),c=Oi(n,Pi(e),null,e.onPush?64:16,n[19],a,r,l,void 0);return s.firstCreatePass&&(Xn(qn(a,n),s,e.type),qi(s,a),Yi(a,n.length,1)),io(n,c),n[19]=c}(l,this.componentDef,m,o,a);if(l)if(n)Tn(a,l,["ng-version",iu.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ai(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Tn(a,l,t),e&&e.length>0&&Lo(a,l,e.join(" "))}g=Be(m[1],0),e&&(g.projection=e.map(t=>Array.from(t))),p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Ze();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Wi(t,r,1),Ki(t,e,n));const i=er(e,t,e.length-1,r);Jr(i,e);const o=Fe(r,e);return o&&Jr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=Ze();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){yn(a.index-19);const t=n[1];ji(t,e),Ui(t,n,e.hostVars),$i(e,s)}return s}(t,this.componentDef,m,f,[Aa]),Ai(h,m,null)}finally{vn()}const v=new Au(this.componentType,p,Wo(Xa,g,m),m,g);return n&&!d||(v.hostView._tViewNode.child=g),v}}class Au extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Vo(r),this.hostView._tViewNode=function(t,e,n,r){let i=t.node;return null==i&&(t.node=i=Bi(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new ir(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Du=void 0;var Mu=["en",[["a","p"],["AM","PM"],Du],[["AM","PM"],Du,Du],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Du,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Du,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Du,"{1} 'at' {0}",Du],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ru={};function Iu(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Nu(e);if(n)return n;const r=e.split("-")[0];if(n=Nu(r),n)return n;if("en"===r)return Mu;throw new Error(`Missing locale data for the locale "${t}".`)}function Nu(t){return t in Ru||(Ru[t]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[t]),Ru[t]}const zu=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),Pu=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Fu=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Bu=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,Lu=/\ufffd(\d+):?\d*\ufffd/gi,Hu=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi;function Vu(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Pu.test(n)?r.push(ju(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}function ju(t){const e=[],n=[];let r=1,i=0;const o=Vu(t=t.replace(Pu,(function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=Vu(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function Uu(t){let e,n,r="",i=0,o=!1;for(;null!==(e=Fu.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function $u(t,e,n,r=null){const i=[null,null],o=t.split(Lu);let s=0;for(let a=0;a<o.length;a++){const t=o[a];if(1&a){const e=parseInt(t,10);i.push(-1-e),s|=Yu(e)}else""!==t&&i.push(t)}return i.push(e<<2|(n?1:0)),n&&i.push(n,r),i[0]=s,i[1]=i.length-2,i}function Wu(t,e=0){let n;e|=Yu(t.mainBinding);for(let r=0;r<t.values.length;r++){const i=t.values[r];for(let t=0;t<i.length;t++){const r=i[t];if("string"==typeof r)for(;n=Lu.exec(r);)e|=Yu(parseInt(n[1],10));else e=Wu(r,e)}}return e}const qu=[];let Gu=-1;function Yu(t){return 1<<Math.min(t,31)}const Ku=[];let Xu;function Zu(t){return t+Xu++}function Qu(t,e,n,r,i){const o=e.next;r||(r=n),r===n&&e!==n.child?(e.next=n.child,n.child=e):r!==n&&e!==r.next?(e.next=r.next,r.next=e):e.next=null,n!==i[6]&&(e.parent=n);let s=e.next;for(;s;)s.next===e&&(s.next=o),s=s.next;if(1===e.type)return Po(t,i,e),e;Mo(t,i,Fe(e,i),e);const a=i[e.index];return 0!==e.type&&ke(a)&&Mo(t,i,a[7],e),e}function Ju(t){return void 0===t}function tl(t,e,n,r,i,o){const s=Ze();e[n+19]=i;const a=Ti(t,e[6],n,r,o,null);return s&&s.next===a&&(s.next=null),a}function el(t,e,n,r){const i=Be(t,n),o=Pe(n,e);o&&Io(e[11],o);const s=Le(e,n);if(ke(s)){const t=s;0!==i.type&&Io(e[11],t[7])}r&&(i.flags|=64)}function nl(t,e,n){(function(t,e,n){const r=Ke();qu[++Gu]=t,Gs(!0),r.firstCreatePass&&null===r.data[t+19]&&function(t,e,n,r,i){const o=e.blueprint.length-19;Xu=0;const s=Ze(),a=Je()?s:s&&s.parent;let u=a&&a!==t[6]?a.index-19:n,l=0;Ku[l]=u;const c=[];if(n>0&&s!==a){let t=s.index-19;Je()||(t=~t),c.push(t<<3|0)}const d=[],f=[];if(""===r&&Ju(i))c.push(r,Zu(o),u<<17|1);else{const t=function(t,e){if(Ju(e))return Uu(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Uu(t.substring(n,r))}}(r,i),e=(h=t,h.replace(al," ")).split(Bu);for(let n=0;n<e.length;n++){let r=e[n];if(1&n)if("/"===r.charAt(0)){if("#"===r.charAt(1)){const t=parseInt(r.substr(2),10);u=Ku[--l],c.push(t<<3|5)}}else{const t=parseInt(r.substr(1),10),e="#"===r.charAt(0);c.push((e?t:~t)<<3|0,u<<17|1),e&&(Ku[++l]=u=t)}else{const e=Vu(r);for(let n=0;n<e.length;n++)if(1&n){const r=e[n];if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${t}" message.`);const i=Zu(o);c.push(bi,"",i,u<<17|1);const s=Wu(r);il(f,r,i,i);const a=f.length-1;d.push(Yu(r.mainBinding),3,-1-r.mainBinding,i<<2|2,a,s,2,i<<2|3,a)}else if(""!==e[n]){const t=e[n],r=t.match(Lu),i=Zu(o);c.push(r?"":t,i,u<<17|1),r&&Jt($u(t,i),d)}}}}var h;Xu>0&&function(t,e,n){if(n>0&&t.firstCreatePass){for(let r=0;r<n;r++)t.blueprint.push(null),t.data.push(null),e.push(null);t.expandoInstructions?t.expandoInstructions.push(n):t.expandoStartIndex+=n}}(e,t,Xu),e.data[n+19]={vars:Xu,create:c,update:d,icus:f.length?f:null}}(Ye(),r,t,e,n)})(t,e,n),function(){const t=Ye();!function(t,e){const n=qu[Gu--],r=t.data[n+19],i=Ze(),o=function(t,e,n,r){const i=r[11];let o=null,s=null;const a=[];for(let u=0;u<e.length;u++){const l=e[u];if("string"==typeof l){const t=bo(l,i),c=e[++u];s=o,o=tl(n,r,c,3,t,null),a.push(c),tn()}else if("number"==typeof l)switch(7&l){case 1:const i=l>>>17;let c;c=i===t?r[6]:Be(n,i),s=Qu(n,o,c,s,r);break;case 0:const d=l>=0,f=(d?l:~l)>>>3;a.push(f),s=o,o=Be(n,f),o&&Qe(o,d);break;case 5:s=o=Be(n,l>>>3),Qe(o,!1);break;case 4:const h=e[++u],m=e[++u];Zi(Be(n,l>>>3),r,h,m,null,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${l}"`)}else switch(l){case bi:const t=e[++u],c=e[++u],d=i.createComment(t);s=o,o=tl(n,r,c,5,d,null),a.push(c),Jr(d,r),o.activeCaseIndex=null,tn();break;case vi:const f=e[++u],h=e[++u];s=o,o=tl(n,r,h,3,i.createElement(f),f),a.push(h);break;default:throw new Error(`Unable to determine the type of mutate operation for "${l}"`)}}return tn(),a}(n,r.create,t,e);let s=n+1;for(;s<=i.index-19;){-1===o.indexOf(s)&&el(t,e,s,!0);const n=Be(t,s);!n||0!==n.type&&3!==n.type&&4!==n.type||null===n.localNames||(s+=n.localNames.length>>1),s++}}(Ke(),t),Gs(!1)}()}function rl(t,e){!function(t,e,n,r){const i=Ze().index-19,o=[];for(let s=0;s<r.length;s+=2){const a=r[s],u=r[s+1].split(Hu);for(let r=0;r<u.length;r++){const s=u[r];if(1&r)throw new Error("ICU expressions are not yet supported in attributes");if(""!==s)if(s.match(Lu))e.firstCreatePass&&null===e.data[n+19]&&Jt($u(s,i,a),o);else{const n=Be(e,i);3===n.type&&Zi(n,t,a,s,null,null);const r=null!==n.inputs&&n.inputs[a];r&&mo(e,t,r,a,s)}}}e.firstCreatePass&&null===e.data[n+19]&&(e.data[n+19]=o)}(Ye(),Ke(),t,e)}function il(t,e,n,r){const i=[],o=[],s=[],a=[],u=[];for(let l=0;l<e.values.length;l++){const c=e.values[l],d=[];for(let t=0;t<c.length;t++){const e=c[t];if("string"!=typeof e){const n=d.push(e)-1;c[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}const f=ol(c.join(""),n,d,t,r);i.push(f.create),o.push(f.remove),s.push(f.update),a.push(f.vars),u.push(f.childIcus)}t.push({type:e.type,vars:a,childIcus:u,cases:e.cases,create:i,remove:o,update:s}),Xu+=Math.max(...a)}function ol(t,e,n,r,i){const o=new xr(Re()).getInertBodyElement(t);if(!o)throw new Error("Unable to generate inert body element");const s={vars:0,childIcus:[],create:[],remove:[],update:[]};return function t(e,n,r,i,o,s){if(e){const a=[];for(;e;){const u=e.nextSibling,l=s+ ++n.vars;switch(e.nodeType){case Node.ELEMENT_NODE:const u=e,c=u.tagName.toLowerCase();if(Ir.hasOwnProperty(c)){n.create.push(vi,c,l,r<<17|1);const a=u.attributes;for(let t=0;t<a.length;t++){const e=a.item(t),r=e.name.toLowerCase();e.value.match(Lu)?Pr.hasOwnProperty(r)&&Jt(Nr[r]?$u(e.value,l,e.name,kr):zr[r]?$u(e.value,l,e.name,Er):$u(e.value,l,e.name),n.update):n.create.push(l<<3|4,e.name,e.value)}t(e.firstChild,n,l,i,o,s),n.remove.push(l<<3|3)}else n.vars--;break;case Node.TEXT_NODE:const d=e.textContent||"",f=d.match(Lu);n.create.push(f?"":d,l,r<<17|1),n.remove.push(l<<3|3),f&&Jt($u(d,l),n.update);break;case Node.COMMENT_NODE:const h=sl.exec(e.textContent||"");if(h){const t=parseInt(h[1],10);n.create.push(bi,"",l,r<<17|1),a.push([i[t],l])}else n.vars--;break;default:n.vars--}e=u}for(let t=0;t<a.length;t++){const e=a[t][0],r=a[t][1];il(o,e,r,s+n.vars);const i=o.length-1;n.vars+=Math.max(...o[i].vars),n.childIcus.push(i);const u=Wu(e);n.update.push(Yu(e.mainBinding),3,-1-e.mainBinding,r<<2|2,i,u,2,r<<2|3,i),n.remove.push(i<<3|6,r<<3|3)}}}((Ur(o)||o).firstChild,s,e,n,r,i),s}const sl=/\ufffd(\d+)\ufffd/,al=/\uE500/g;let ul="en-US";function ll(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ul=t.toLowerCase().replace(/_/g,"-"))}const cl=new Map;class dl extends Qt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ku(this);const n=Ce(t),r=t[Nt]||null;r&&ll(r),this._bootstrapComponents=jn(n.bootstrap),this._r3Injector=rs(t,e,[{provide:Qt,useValue:this},{provide:Ka,useValue:this.componentFactoryResolver}],yt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ds.THROW_IF_NOT_FOUND,n=st.Default){return t===ds||t===Qt||t===Bt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class fl extends class{}{constructor(t){super(),this.moduleType=t,null!==Ce(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${yt(e)} vs ${yt(e.name)}`)})(t,cl.get(t),e),cl.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new dl(this.moduleType,t)}}function hl(t,e,n,r){return gl(Ye(),rn(),t,e,n,r)}function ml(t,e,n,r,i){return function(t,e,n,r,i,o,s){const a=e+n;return function(t,e,n,r){const i=Cs(t,e,n);return Cs(t,e+1,r)||i}(t,a,i,o)?xs(t,a+2,s?r.call(s,i,o):r(i,o)):pl(t,a+2)}(Ye(),rn(),t,e,n,r,i)}function pl(t,e){const n=t[e];return n===hi?void 0:n}function gl(t,e,n,r,i,o){const s=e+n;return Cs(t,s,i)?xs(t,s+1,o?r.call(o,i):r(i)):pl(t,s+1)}function vl(t,e){const n=Ke();let r;const i=t+19;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=xe(r.type)),s=Wt(Ts),a=$n(!1),u=o();return $n(a),Wt(s),function(t,e,n,r){const i=n+19;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,Ye(),t,u),u}function bl(t,e,n){const r=Ye(),i=Le(r,t);return function(t,e){return ys.isWrapped(e)&&(e=ys.unwrap(e),t[qe.lFrame.bindingIndex]=hi),e}(r,function(t,e){return t[1].data[e+19].pure}(r,t)?gl(r,rn(),e,i.transform,n,i):i.transform(n))}class yl extends C{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof d&&t.add(s),s}}function _l(){return this._results[vs()]()}class wl{constructor(){this.dirty=!0,this._results=[],this.changes=new yl,this.length=0;const t=vs(),e=wl.prototype;e[t]||(e[t]=_l)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class xl{constructor(t){this.queryList=t,this.matches=null}clone(){return new xl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cl{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Cl(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Hl(t,e).matches&&this.queries[e].setDirty()}}class Sl{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class kl{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new kl(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class El{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new El(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Ol(e,n[r]))}else{const n=this.metadata.predicate;n===_u?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,tr(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Xa||r===xu||r===_u&&0===e.type)this.addMatch(e.index,-2);else{const n=tr(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ol(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Tl(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Wo(Xa,t,e):0===t.type?qo(_u,Xa,t,e):null}(e,t):-2===n?function(t,e,n){return n===Xa?Wo(Xa,e,t):n===_u?qo(_u,Xa,e,t):n===xu?Go(xu,Xa,e,t):void 0}(t,e,r):er(t,t[1],n,e)}function Al(t,e,n,r){const i=e[5].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Tl(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Dl(t){const e=Ye(),n=Ke(),r=ln();cn(r+1);const i=Hl(n,r);if(t.dirty&&je(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=Al(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=9;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[5]){const e=a[5];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):Al(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Ml(t,e,n){Il(Ke(),Ye(),t,e,n,!0)}function Rl(t,e,n){Il(Ke(),Ye(),t,e,n,!1)}function Il(t,e,n,r,i,o){t.firstCreatePass&&(Ll(t,new Sl(n,r,o,i),-1),o&&(t.staticViewQueries=!0)),Bl(t,e)}function Nl(t,e,n,r){Pl(Ke(),Ye(),e,n,r,!1,Ze(),t)}function zl(t,e,n,r){Pl(Ke(),Ye(),e,n,r,!0,Ze(),t)}function Pl(t,e,n,r,i,o,s,a){t.firstCreatePass&&(Ll(t,new Sl(n,r,o,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),o&&(t.staticContentQueries=!0)),Bl(t,e)}function Fl(){return t=Ye(),e=ln(),t[5].queries[e].queryList;var t,e}function Bl(t,e){const n=new wl;!function(t,e,n,r){const i=co(e);i.push(n),t.firstCreatePass&&fo(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[5]&&(e[5]=new Cl),e[5].queries.push(new xl(n))}function Ll(t,e,n){null===t.queries&&(t.queries=new kl),t.queries.track(new El(e,n))}function Hl(t,e){return t.queries.getByIndex(e)}function Vl(t,e){return qo(_u,Xa,t,e)}const jl=new Ft("Application Initializer");let Ul=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Bs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Gt(jl,8))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const $l=new Ft("AppId"),Wl={provide:$l,useFactory:function(){return`${ql()}${ql()}${ql()}`},deps:[]};function ql(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Gl=new Ft("Platform Initializer"),Yl=new Ft("Platform ID"),Kl=new Ft("appBootstrapListener");let Xl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const Zl=new Ft("LocaleId"),Ql=new Ft("DefaultCurrencyCode");class Jl{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const tc=function(t){return new fl(t)},ec=tc,nc=function(t){return Promise.resolve(tc(t))},rc=function(t){const e=tc(t),n=jn(Ce(t).declarations).reduce((t,e)=>{const n=we(e);return n&&t.push(new Tu(n)),t},[]);return new Jl(e,n)},ic=rc,oc=function(t){return Promise.resolve(rc(t))};let sc=(()=>{class t{constructor(){this.compileModuleSync=ec,this.compileModuleAsync=nc,this.compileModuleAndAllComponentsSync=ic,this.compileModuleAndAllComponentsAsync=oc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const ac=new Ft("compilerOptions"),uc=(()=>Promise.resolve(0))();function lc(t){"undefined"==typeof Zone?uc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class cc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yl(!1),this.onMicrotaskEmpty=new yl(!1),this.onStable=new yl(!1),this.onError=new yl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=At.requestAnimationFrame,e=At.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(At,()=>{t.lastRequestAnimationFrameId=-1,mc(t),hc(t)}),mc(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return pc(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),gc(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return pc(t),e.invoke(r,i,o,s,a)}finally{gc(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,mc(t),hc(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(cc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,fc,dc,dc);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function dc(){}const fc={};function hc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function mc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function pc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function gc(t){t._nesting--,hc(t)}class vc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yl,this.onMicrotaskEmpty=new yl,this.onStable=new yl,this.onError=new yl}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let bc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cc.assertNotInAngularZone(),lc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Gt(cc))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),yc=(()=>{class t{constructor(){this._applications=new Map,xc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return xc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class _c{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let wc,xc=new _c,Cc=function(t,e,n){const r=t.get(ac,[]).concat(e),i=new fl(n);if(0===fs.size)return Promise.resolve(i);const o=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(r.map(t=>t.providers));if(0===o.length)return Promise.resolve(i);const s=function(){const t=At.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),a=ds.create({providers:o}).get(s.ResourceLoader);return function(t){const e=[],n=new Map;function r(t){let e=n.get(t);if(!e){const r=(t=>Promise.resolve(a.get(t)))(t);n.set(t,e=r.then(ms))}return e}return fs.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const o=t.styleUrls,s=t.styles||(t.styles=[]),a=t.styles.length;o&&o.forEach((e,n)=>{s.push(""),i.push(r(e).then(r=>{s[a+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)}))});const u=Promise.all(i).then(()=>function(t){hs.delete(t)}(n));e.push(u)}),fs=new Map,Promise.all(e).then(()=>{})}().then(()=>i)};const Sc=new Ft("AllowMultipleToken");function kc(t,e,n=[]){const r=`Platform: ${e}`,i=new Ft(r);return(e=[])=>{let o=Ec();if(!o||o.injector.get(Sc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Zo,useValue:"platform"});!function(t){if(wc&&!wc.destroyed&&!wc.injector.get(Sc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");wc=t.get(Oc);const e=t.get(Gl,null);e&&e.forEach(t=>t())}(ds.create({providers:t,name:r}))}return function(t){const e=Ec();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ec(){return wc&&!wc.destroyed?wc:null}let Oc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new vc:("zone.js"===t?void 0:t)||new cc({enableLongStackTrace:wr(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:cc,useValue:n}];return n.run(()=>{const e=ds.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(lr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Dc(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Bs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Ul);return t.runInitializers(),t.donePromise.then(()=>(ll(i.injector.get(Zl,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Tc({},e);return Cc(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ac);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${yt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Gt(ds))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function Tc(t,e){return Array.isArray(e)?e.reduce(Tc,t):Object.assign(Object.assign({},t),e)}let Ac=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=wr(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new b(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new b(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{cc.assertNotInAngularZone(),lc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{cc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=W(s,a.pipe(J()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ga?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Qt),i=n.create(ds.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(bc,null);return o&&i.injector.get(yc).registerApplication(i.location.nativeElement,o),this._loadComponent(i),wr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Dc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Kl,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Dc(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Gt(cc),Gt(Xl),Gt(ds),Gt(lr),Gt(Ka),Gt(Ul))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function Dc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Mc=kc(null,"core",[{provide:Yl,useValue:"unknown"},{provide:Oc,deps:[ds]},{provide:yc,deps:[]},{provide:Xl,deps:[]}]),Rc=[{provide:Ac,useClass:Ac,deps:[cc,Xl,ds,lr,Ka,Ul]},{provide:Ou,deps:[cc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ul,useClass:Ul,deps:[[new rt,jl]]},{provide:sc,useClass:sc,deps:[]},Wl,{provide:pu,useFactory:function(){return bu},deps:[]},{provide:gu,useFactory:function(){return yu},deps:[]},{provide:Zl,useFactory:function(t){return ll(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new nt(Zl),new rt,new ot]]},{provide:Ql,useValue:"USD"}];let Ic=(()=>{class t{constructor(t){}}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)(Gt(Ac))},providers:Rc}),t})(),Nc=null;function zc(){return Nc}const Pc=new Ft("DocumentToken");let Fc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({factory:Bc,token:t,providedIn:"platform"}),t})();function Bc(){return Gt(Lc)}let Lc=(()=>{class t extends Fc{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=zc().getLocation(),this._history=zc().getHistory()}getBaseHrefFromDOM(){return zc().getBaseHref(this._doc)}onPopState(t){zc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){zc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Hc()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Hc()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Gt(Pc))},t.\u0275prov=lt({factory:Vc,token:t,providedIn:"platform"}),t})();function Hc(){return!!window.history.pushState}function Vc(){return new Lc(Gt(Pc))}function jc(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Uc(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function $c(t){return t&&"?"!==t[0]?"?"+t:t}let Wc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({factory:qc,token:t,providedIn:"root"}),t})();function qc(t){const e=Gt(Pc).location;return new Yc(Gt(Fc),e&&e.origin||"")}const Gc=new Ft("appBaseHref");let Yc=(()=>{class t extends Wc{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return jc(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+$c(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+$c(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+$c(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Gt(Fc),Gt(Gc,8))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),Kc=(()=>{class t{constructor(t,e){this._subject=new yl,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Uc(Zc(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+$c(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Zc(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$c(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$c(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Gt(Wc),Gt(Fc))},t.normalizeQueryParams=$c,t.joinWithSlash=jc,t.stripTrailingSlash=Uc,t.\u0275prov=lt({factory:Xc,token:t,providedIn:"root"}),t})();function Xc(){return new Kc(Gt(Wc),Gt(Fc))}function Zc(t){return t.replace(/\/index.html$/,"")}const Qc={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Jc=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),td=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),ed=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),nd=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),rd=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),id=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function od(t,e){return fd(Iu(t)[zu.DateFormat],e)}function sd(t,e){return fd(Iu(t)[zu.TimeFormat],e)}function ad(t,e){return fd(Iu(t)[zu.DateTimeFormat],e)}function ud(t,e){const n=Iu(t),r=n[zu.NumberSymbols][e];if(void 0===r){if(e===id.CurrencyDecimal)return n[zu.NumberSymbols][id.Decimal];if(e===id.CurrencyGroup)return n[zu.NumberSymbols][id.Group]}return r}function ld(t,e){return Iu(t)[zu.NumberFormats][e]}function cd(t){if(!t[zu.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[zu.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function dd(t){return Iu(t)[zu.Directionality]}function fd(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function hd(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const md=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pd={},gd=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,vd=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),bd=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),yd=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function _d(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function wd(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function xd(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case bd.FullYear:return e.getFullYear();case bd.Month:return e.getMonth();case bd.Date:return e.getDate();case bd.Hours:return e.getHours();case bd.Minutes:return e.getMinutes();case bd.Seconds:return e.getSeconds();case bd.FractionalSeconds:return e.getMilliseconds();case bd.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===bd.Hours)0===a&&-12===n&&(a=12);else if(t===bd.FractionalSeconds)return u=e,wd(a,3).substr(0,u);var u;const l=ud(s,id.MinusSign);return wd(a,e,l,r,i)}}function Cd(t,e,n=ed.Format,r=!1){return function(i,o){return function(t,e,n,r,i,o){switch(n){case yd.Months:return function(t,e,n){const r=Iu(t),i=fd([r[zu.MonthsFormat],r[zu.MonthsStandalone]],e);return fd(i,n)}(e,i,r)[t.getMonth()];case yd.Days:return function(t,e,n){const r=Iu(t),i=fd([r[zu.DaysFormat],r[zu.DaysStandalone]],e);return fd(i,n)}(e,i,r)[t.getDay()];case yd.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const t=function(t){const e=Iu(t);return cd(e),(e[zu.ExtraData][2]||[]).map(t=>"string"==typeof t?hd(t):[hd(t[0]),hd(t[1])])}(e),n=function(t,e,n){const r=Iu(t);cd(r);const i=fd([r[zu.ExtraData][0],r[zu.ExtraData][1]],e)||[];return fd(i,n)||[]}(e,i,r);let o;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:r,minutes:i}=t[0],{hours:u,minutes:l}=t[1];s>=r&&a>=i&&(s<u||s===u&&a<l)&&(o=n[e])}else{const{hours:r,minutes:i}=t;r===s&&i===a&&(o=n[e])}}),o)return o}return function(t,e,n){const r=Iu(t),i=fd([r[zu.DayPeriodsFormat],r[zu.DayPeriodsStandalone]],e);return fd(i,n)}(e,i,r)[s<12?0:1];case yd.Eras:return function(t,e){return fd(Iu(t)[zu.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,t,e,n,r)}}function Sd(t){return function(e,n,r){const i=-1*r,o=ud(n,id.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case vd.Short:return(i>=0?"+":"")+wd(s,2,o)+wd(Math.abs(i%60),2,o);case vd.ShortGMT:return"GMT"+(i>=0?"+":"")+wd(s,1,o);case vd.Long:return"GMT"+(i>=0?"+":"")+wd(s,2,o)+":"+wd(Math.abs(i%60),2,o);case vd.Extended:return 0===r?"Z":(i>=0?"+":"")+wd(s,2,o)+":"+wd(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function kd(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(n.getFullYear()),e=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(4-o.getDay()))).getTime()-t.getTime();i=1+Math.round(e/6048e5)}var o;return wd(i,t,ud(r,id.MinusSign))}}const Ed={};function Od(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Td(t){return t instanceof Date&&!isNaN(t.valueOf())}const Ad=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Dd(t,e,n,r,i,o,s=!1){let a="",u=!1;if(isFinite(t)){let l=function(t){let e,n,r,i,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf("."))>-1&&(s=s.replace(".","")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;"0"===s.charAt(r);r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;"0"===s.charAt(o);)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(l=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let c=e.minInt,d=e.minFrac,f=e.maxFrac;if(o){const t=o.match(Ad);if(null===t)throw new Error(`${o} is not a valid digit info`);const e=t[1],n=t[3],r=t[5];null!=e&&(c=Rd(e)),null!=n&&(d=Rd(n)),null!=r?f=Rd(r):null!=n&&d>f&&(f=d)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=0!==o;const l=e+t.integerLen,c=r.reduceRight((function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=l?r.pop():u=!1),e>=10?1:0}),0);c&&(r.unshift(c),t.integerLen++)}(l,d,f);let h=l.digits,m=l.integerLen;const p=l.exponent;let g=[];for(u=h.every(t=>!t);m<c;m++)h.unshift(0);for(;m<0;m++)h.unshift(0);m>0?g=h.splice(m,h.length):(g=h,h=[0]);const v=[];for(h.length>=e.lgSize&&v.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)v.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&v.unshift(h.join("")),a=v.join(ud(n,r)),g.length&&(a+=ud(n,i)+g.join("")),p&&(a+=ud(n,id.Exponential)+"+"+p)}else a=ud(n,id.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}function Md(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let c=0;c<u.length;c++){const t=u.charAt(c);"0"===t?n.minFrac=n.maxFrac=c+1:"#"===t?n.maxFrac=c+1:n.posSuf+=t}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function Rd(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class Id{}function Nd(t,e,n,r){let i=`=${t}`;if(e.indexOf(i)>-1)return i;if(i=n.getPluralCategory(t,r),e.indexOf(i)>-1)return i;if(e.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${t}"`)}let zd=(()=>{class t extends Id{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return Iu(t)[zu.PluralCase]}(e||this.locale)(t)){case td.Zero:return"zero";case td.One:return"one";case td.Two:return"two";case td.Few:return"few";case td.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Gt(Zl))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),Pd=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(_s(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${yt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(Ts(pu),Ts(gu),Ts(Xa),Ts(tu))},t.\u0275dir=ye({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})(),Fd=(()=>{class t{constructor(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}ngOnChanges(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const t=e.get(Qt);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(t.injector)}else this._moduleRef=null;const n=(this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(Ka)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(n,this._viewContainerRef.length,e,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return t.\u0275fac=function(e){return new(e||t)(Ts(xu))},t.\u0275dir=ye({type:t,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[Pa]}),t})();class Bd{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ld=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){wr()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Bd(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Hd(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new Hd(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Ts(xu),Ts(_u),Ts(pu))},t.\u0275dir=ye({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Hd{constructor(t,e){this.record=t,this.view=e}}let Vd=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new jd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ud("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ud("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Ts(xu),Ts(_u))},t.\u0275dir=ye({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class jd{constructor(){this.$implicit=null,this.ngIf=null}}function Ud(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${yt(e)}'.`)}class $d{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Wd=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),qd=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new $d(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(Ts(xu),Ts(_u),Ts(Wd,1))},t.\u0275dir=ye({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),Gd=(()=>{class t{constructor(t,e,n){n._addDefault(new $d(t,e))}}return t.\u0275fac=function(e){return new(e||t)(Ts(xu),Ts(_u),Ts(Wd,1))},t.\u0275dir=ye({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),Yd=(()=>{class t{constructor(t){this._localization=t,this._caseViews={}}set ngPlural(t){this._switchValue=t,this._updateView()}addCase(t,e){this._caseViews[t]=e}_updateView(){this._clearViews();const t=Object.keys(this._caseViews),e=Nd(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(t){t&&(this._activeView=t,this._activeView.create())}}return t.\u0275fac=function(e){return new(e||t)(Ts(Id))},t.\u0275dir=ye({type:t,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),t})(),Kd=(()=>{class t{constructor(t,e,n,r){this.value=t;const i=!isNaN(Number(t));r.addCase(i?`=${t}`:t,new $d(n,e))}}return t.\u0275fac=function(e){return new(e||t)(As("ngPluralCase"),Ts(_u),Ts(xu),Ts(Yd,1))},t.\u0275dir=ye({type:t,selectors:[["","ngPluralCase",""]]}),t})(),Xd=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa),Ts(gu),Ts(tu))},t.\u0275dir=ye({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),Zd=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(Ts(xu))},t.\u0275dir=ye({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Pa]}),t})();function Qd(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${yt(t)}'`)}class Jd{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class tf{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const ef=new tf,nf=new Jd;let rf=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):bs(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,ys.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Bs(e))return ef;if(Ls(e))return nf;throw Qd(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(function(t=st.Default){const e=Yo(!0);if(null!=e||t&st.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}())},t.\u0275pipe=_e({name:"async",type:t,pure:!1}),t})(),of=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw Qd(t,e);return e.toLowerCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=_e({name:"lowercase",type:t,pure:!0}),t})();const sf=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let af=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw Qd(t,e);return e.replace(sf,t=>t[0].toUpperCase()+t.substr(1).toLowerCase())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=_e({name:"titlecase",type:t,pure:!0}),t})(),uf=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw Qd(t,e);return e.toUpperCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=_e({name:"uppercase",type:t,pure:!0}),t})(),lf=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,r){let i=function(t){if(Td(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(md))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,l),e}(n)}const e=new Date(t);if(!Td(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const r=function(t){return Iu(t)[zu.LocaleId]}(e);if(pd[r]=pd[r]||{},pd[r][n])return pd[r][n];let i="";switch(n){case"shortDate":i=od(e,rd.Short);break;case"mediumDate":i=od(e,rd.Medium);break;case"longDate":i=od(e,rd.Long);break;case"fullDate":i=od(e,rd.Full);break;case"shortTime":i=sd(e,rd.Short);break;case"mediumTime":i=sd(e,rd.Medium);break;case"longTime":i=sd(e,rd.Long);break;case"fullTime":i=sd(e,rd.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");i=_d(ad(e,rd.Short),[n,r]);break;case"medium":const o=t(e,"mediumTime"),s=t(e,"mediumDate");i=_d(ad(e,rd.Medium),[o,s]);break;case"long":const a=t(e,"longTime"),u=t(e,"longDate");i=_d(ad(e,rd.Long),[a,u]);break;case"full":const l=t(e,"fullTime"),c=t(e,"fullDate");i=_d(ad(e,rd.Full),[l,c])}return i&&(pd[r][n]=i),i}(n,e)||e;let o,s=[];for(;e;){if(o=gd.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=Od(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Od(e,r)-r))}(i,r));let u="";return s.forEach(t=>{const e=function(t){if(Ed[t])return Ed[t];let e;switch(t){case"G":case"GG":case"GGG":e=Cd(yd.Eras,nd.Abbreviated);break;case"GGGG":e=Cd(yd.Eras,nd.Wide);break;case"GGGGG":e=Cd(yd.Eras,nd.Narrow);break;case"y":e=xd(bd.FullYear,1,0,!1,!0);break;case"yy":e=xd(bd.FullYear,2,0,!0,!0);break;case"yyy":e=xd(bd.FullYear,3,0,!1,!0);break;case"yyyy":e=xd(bd.FullYear,4,0,!1,!0);break;case"M":case"L":e=xd(bd.Month,1,1);break;case"MM":case"LL":e=xd(bd.Month,2,1);break;case"MMM":e=Cd(yd.Months,nd.Abbreviated);break;case"MMMM":e=Cd(yd.Months,nd.Wide);break;case"MMMMM":e=Cd(yd.Months,nd.Narrow);break;case"LLL":e=Cd(yd.Months,nd.Abbreviated,ed.Standalone);break;case"LLLL":e=Cd(yd.Months,nd.Wide,ed.Standalone);break;case"LLLLL":e=Cd(yd.Months,nd.Narrow,ed.Standalone);break;case"w":e=kd(1);break;case"ww":e=kd(2);break;case"W":e=kd(1,!0);break;case"d":e=xd(bd.Date,1);break;case"dd":e=xd(bd.Date,2);break;case"E":case"EE":case"EEE":e=Cd(yd.Days,nd.Abbreviated);break;case"EEEE":e=Cd(yd.Days,nd.Wide);break;case"EEEEE":e=Cd(yd.Days,nd.Narrow);break;case"EEEEEE":e=Cd(yd.Days,nd.Short);break;case"a":case"aa":case"aaa":e=Cd(yd.DayPeriods,nd.Abbreviated);break;case"aaaa":e=Cd(yd.DayPeriods,nd.Wide);break;case"aaaaa":e=Cd(yd.DayPeriods,nd.Narrow);break;case"b":case"bb":case"bbb":e=Cd(yd.DayPeriods,nd.Abbreviated,ed.Standalone,!0);break;case"bbbb":e=Cd(yd.DayPeriods,nd.Wide,ed.Standalone,!0);break;case"bbbbb":e=Cd(yd.DayPeriods,nd.Narrow,ed.Standalone,!0);break;case"B":case"BB":case"BBB":e=Cd(yd.DayPeriods,nd.Abbreviated,ed.Format,!0);break;case"BBBB":e=Cd(yd.DayPeriods,nd.Wide,ed.Format,!0);break;case"BBBBB":e=Cd(yd.DayPeriods,nd.Narrow,ed.Format,!0);break;case"h":e=xd(bd.Hours,1,-12);break;case"hh":e=xd(bd.Hours,2,-12);break;case"H":e=xd(bd.Hours,1);break;case"HH":e=xd(bd.Hours,2);break;case"m":e=xd(bd.Minutes,1);break;case"mm":e=xd(bd.Minutes,2);break;case"s":e=xd(bd.Seconds,1);break;case"ss":e=xd(bd.Seconds,2);break;case"S":e=xd(bd.FractionalSeconds,1);break;case"SS":e=xd(bd.FractionalSeconds,2);break;case"SSS":e=xd(bd.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Sd(vd.Short);break;case"ZZZZZ":e=Sd(vd.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Sd(vd.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Sd(vd.Long);break;default:return null}return Ed[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}(e,n,i||this.locale,r)}catch(o){throw Qd(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(Ts(Zl))},t.\u0275pipe=_e({name:"date",type:t,pure:!0}),t})();const cf=/#/g;let df=(()=>{class t{constructor(t){this._localization=t}transform(e,n,r){if(null==e)return"";if("object"!=typeof n||null===n)throw Qd(t,n);return n[Nd(e,Object.keys(n),this._localization,r)].replace(cf,e.toString())}}return t.\u0275fac=function(e){return new(e||t)(Ts(Id))},t.\u0275pipe=_e({name:"i18nPlural",type:t,pure:!0}),t})(),ff=(()=>{class t{transform(e,n){if(null==e)return"";if("object"!=typeof n||"string"!=typeof e)throw Qd(t,n);return n.hasOwnProperty(e)?n[e]:n.hasOwnProperty("other")?n.other:""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=_e({name:"i18nSelect",type:t,pure:!0}),t})(),hf=(()=>{class t{transform(t){return JSON.stringify(t,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=_e({name:"json",type:t,pure:!1}),t})(),mf=(()=>{class t{constructor(t){this.differs=t,this.keyValues=[]}transform(t,e=pf){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const n=this.differ.diff(t);return n&&(this.keyValues=[],n.forEachItem(t=>{this.keyValues.push({key:t.key,value:t.currentValue})}),this.keyValues.sort(e)),this.keyValues}}return t.\u0275fac=function(e){return new(e||t)(Ts(gu))},t.\u0275pipe=_e({name:"keyvalue",type:t,pure:!1}),t})();function pf(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),o=String(r);return i==o?0:i<o?-1:1}let gf=(()=>{class t{constructor(t){this._locale=t}transform(e,n,r){if(yf(e))return null;r=r||this._locale;try{return function(t,e,n){return Dd(t,Md(ld(e,Jc.Decimal),ud(e,id.MinusSign)),e,id.Group,id.Decimal,n)}(_f(e),r,n)}catch(i){throw Qd(t,i.message)}}}return t.\u0275fac=function(e){return new(e||t)(Ts(Zl))},t.\u0275pipe=_e({name:"number",type:t,pure:!0}),t})(),vf=(()=>{class t{constructor(t){this._locale=t}transform(e,n,r){if(yf(e))return null;r=r||this._locale;try{return function(t,e,n){return Dd(t,Md(ld(e,Jc.Percent),ud(e,id.MinusSign)),e,id.Group,id.Decimal,n,!0).replace(new RegExp("%","g"),ud(e,id.PercentSign))}(_f(e),r,n)}catch(i){throw Qd(t,i.message)}}}return t.\u0275fac=function(e){return new(e||t)(Ts(Zl))},t.\u0275pipe=_e({name:"percent",type:t,pure:!0}),t})(),bf=(()=>{class t{constructor(t,e="USD"){this._locale=t,this._defaultCurrencyCode=e}transform(e,n,r="symbol",i,o){if(yf(e))return null;o=o||this._locale,"boolean"==typeof r&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),r=r?"symbol":"code");let s=n||this._defaultCurrencyCode;"code"!==r&&(s="symbol"===r||"symbol-narrow"===r?function(t,e,n="en"){const r=function(t){return Iu(t)[zu.Currencies]}(n)[t]||Qc[t]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||t}(s,"symbol"===r?"wide":"narrow",o):r);try{return function(t,e,n,r,i){const o=Md(ld(e,Jc.Currency),ud(e,id.MinusSign));return o.minFrac=function(t){let e;const n=Qc[t];return n&&(e=n[2]),"number"==typeof e?e:2}(r),o.maxFrac=o.minFrac,Dd(t,o,e,id.CurrencyGroup,id.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}(_f(e),o,s,n,i)}catch(a){throw Qd(t,a.message)}}}return t.\u0275fac=function(e){return new(e||t)(Ts(Zl),Ts(Ql))},t.\u0275pipe=_e({name:"currency",type:t,pure:!0}),t})();function yf(t){return null==t||""===t||t!=t}function _f(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}let wf=(()=>{class t{transform(e,n,r){if(null==e)return e;if(!this.supports(e))throw Qd(t,e);return e.slice(n,r)}supports(t){return"string"==typeof t||Array.isArray(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=_e({name:"slice",type:t,pure:!1}),t})(),xf=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[{provide:Id,useClass:zd}]}),t})();class Cf extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Cf,Nc||(Nc=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=kf||(kf=document.querySelector("base"),kf)?kf.getAttribute("href"):null;return null==e?null:(n=e,Sf||(Sf=document.createElement("a")),Sf.setAttribute("href",n),"/"===Sf.pathname.charAt(0)?Sf.pathname:"/"+Sf.pathname);var n}resetBaseElement(){kf=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let Sf,kf=null;const Ef=new Ft("TRANSITION_ID"),Of=[{provide:jl,useFactory:function(t,e,n){return()=>{n.get(Ul).donePromise.then(()=>{const n=zc();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Ef,Pc,ds],multi:!0}];class Tf{static init(){var t;t=new Tf,xc=t}addToWindow(t){At.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},At.getAllAngularTestabilities=()=>t.getAllTestabilities(),At.getAllAngularRootElements=()=>t.getAllRootElements(),At.frameworkStabilizers||(At.frameworkStabilizers=[]),At.frameworkStabilizers.push(t=>{const e=At.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?zc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Af=new Ft("EventManagerPlugins");let Df=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Af),Gt(cc))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class Mf{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=zc().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Rf=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),If=(()=>{class t extends Rf{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>zc().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Gt(Pc))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const Nf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},zf=/%COMP%/g;function Pf(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Pf(t,i,n):(i=i.replace(zf,t),n.push(i))}return n}function Ff(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Bf=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Lf(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ue.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Hf(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case ue.Native:case ue.ShadowDom:return new Vf(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Pf(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Gt(Df),Gt(If),Gt($l))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class Lf{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Nf[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Nf[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Nf[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&Ja.DashCase?t.style.setProperty(e,n,r&Ja.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Ja.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ff(n)):this.eventManager.addEventListener(t,e,Ff(n))}}class Hf extends Lf{constructor(t,e,n,r){super(t),this.component=n;const i=Pf(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(zf,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(zf,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Vf extends Lf{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===ue.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=Pf(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let jf=(()=>{class t extends Mf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Pc))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const Uf=["alt","control","meta","shift"],$f={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wf={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qf={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Gf=(()=>{class t extends Mf{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zc().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Uf.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Wf.hasOwnProperty(e)&&(e=Wf[e]))}return $f[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Uf.forEach(r=>{r!=n&&(0,qf[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Gt(Pc))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),Yf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({factory:function(){return Gt(Kf)},token:t,providedIn:"root"}),t})(),Kf=(()=>{class t extends Yf{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case $r.NONE:return e;case $r.HTML:return vr(e,"HTML")?gr(e):function(t,e){let n=null;try{jr=jr||new xr(t);let r=e?String(e):"";n=jr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=jr.getInertBodyElement(r)}while(r!==o);const s=new Br,a=s.sanitizeChildren(Ur(n)||n);return wr()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Ur(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e));case $r.STYLE:return vr(e,"Style")?gr(e):Gr(e);case $r.SCRIPT:if(vr(e,"Script"))return gr(e);throw new Error("unsafe value used in a script context");case $r.URL:return br(e),vr(e,"URL")?gr(e):kr(String(e));case $r.RESOURCE_URL:if(vr(e,"ResourceURL"))return gr(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new dr(t)}bypassSecurityTrustStyle(t){return new fr(t)}bypassSecurityTrustScript(t){return new hr(t)}bypassSecurityTrustUrl(t){return new mr(t)}bypassSecurityTrustResourceUrl(t){return new pr(t)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Pc))},t.\u0275prov=lt({factory:function(){return t=Gt(Bt),new Kf(t.get(Pc));var t},token:t,providedIn:"root"}),t})();const Xf=kc(Mc,"browser",[{provide:Yl,useValue:"browser"},{provide:Gl,useValue:function(){Cf.makeCurrent(),Tf.init()},multi:!0},{provide:Pc,useFactory:function(){return function(t){Me=t}(document),document},deps:[]}]),Zf=[[],{provide:Zo,useValue:"root"},{provide:lr,useFactory:function(){return new lr},deps:[]},{provide:Af,useClass:jf,multi:!0,deps:[Pc,cc,Yl]},{provide:Af,useClass:Gf,multi:!0,deps:[Pc]},[],{provide:Bf,useClass:Bf,deps:[Df,If,$l]},{provide:Qa,useExisting:Bf},{provide:Rf,useExisting:If},{provide:If,useClass:If,deps:[Pc]},{provide:bc,useClass:bc,deps:[cc]},{provide:Df,useClass:Df,deps:[Af,cc]},[]];let Qf=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:$l,useValue:e.appId},{provide:Ef,useExisting:$l},Of]}}}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)(Gt(t,12))},providers:Zf,imports:[xf,Ic]}),t})();function Jf(){return new th(Gt(Pc))}let th=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(Gt(Pc))},t.\u0275prov=lt({factory:Jf,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;class eh{constructor(t){this.onMainTabActive=()=>{},this.useContexts=!0,this.mouseWheelTabs=!0,t&&Object.assign(this,t)}}class nh extends eh{constructor(t){super(t),this.showHomeTab=!0,this.showInsertTab=!0,this.assetsURL="/assets/ribbon",this.font={families:["Arial","Calibri","Cambria","Segoe UI","Courier New","Georgia","Times New Roman","Trebuchet MS","Verdana","Tahoma","Microsoft Sans Serif"],sizes:[8,10,12,14,18,24,36]},t&&Object.assign(this,t)}}function rh(t){return null!=t&&"false"!==`${t}`}function ih(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function oh(t){return Array.isArray(t)?t:[t]}function sh(t){return null==t?"":"string"==typeof t?t:`${t}px`}function ah(t){return t instanceof Xa?t.nativeElement:t}function uh(...t){let e=t[t.length-1];return k(e)?(t.pop(),B(t,e)):$(t)}function lh(t,e,n,i){return r(n)&&(i=n,n=void 0),i?lh(t,e,n).pipe(z(t=>u(t)?i(...t):i(t))):new b(r=>{!function t(e,n,r,i,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,o),s=()=>t.removeEventListener(n,r,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),s=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),s=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,r,i,o)}i.add(s)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}class ch extends d{constructor(t,e){super()}schedule(t,e=0){return this}}class dh extends ch{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class fh extends dh{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}let hh=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class mh extends hh{constructor(t,e=hh.now){super(t,()=>mh.delegate&&mh.delegate!==this?mh.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return mh.delegate&&mh.delegate!==this?mh.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class ph extends mh{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const gh=new ph(fh);let vh=1;const bh=(()=>Promise.resolve())(),yh={};function _h(t){return t in yh&&(delete yh[t],!0)}const wh={setImmediate(t){const e=vh++;return yh[e]=!0,bh.then(()=>_h(e)&&t()),e},clearImmediate(t){_h(t)}};class xh extends dh{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=wh.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(wh.clearImmediate(e),t.scheduled=void 0)}}class Ch extends mh{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const Sh=new Ch(xh);function kh(t){return!!t&&(t instanceof b||"function"==typeof t.lift&&"function"==typeof t.subscribe)}function Eh(t,e){return n=>n.lift(new Oh(t,e))}class Oh{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Th(t,this.compare,this.keySelector))}}class Th extends m{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}const Ah=new mh(dh);class Dh{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Mh(t,this.durationSelector))}}class Mh extends N{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=I(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Rh(t){return!u(t)&&t-parseFloat(t)+1>=0}function Ih(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Nh(t,e=Ah){return n=()=>function(t=0,e,n){let r=-1;return Rh(e)?r=Number(e)<1?1:Number(e):k(e)&&(n=e),k(n)||(n=Ah),new b(e=>{const i=Rh(t)?t:+t-n.now();return n.schedule(Ih,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new Dh(n))};var n}function zh(t,e){return function(n){return n.lift(new Ph(t,e))}}class Ph{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Fh(t,this.predicate,this.thisArg))}}class Fh extends m{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Bh(t){return e=>e.lift(new Lh(t))}class Lh{constructor(t){this.notifier=t}call(t,e){const n=new Hh(t),r=I(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Hh extends N{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}function Vh(...t){return U(1)(uh(...t))}function jh(...t){const e=t[t.length-1];return k(e)?(t.pop(),n=>Vh(t,n,e)):e=>Vh(t,e)}class Uh{call(t,e){return e.subscribe(new $h(t))}}class $h extends m{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function Wh(t,e){return"function"==typeof e?n=>n.pipe(Wh((n,r)=>L(t(n,r)).pipe(z((t,i)=>e(n,t,r,i))))):e=>e.lift(new qh(t))}class qh{constructor(t){this.project=t}call(t,e){return e.subscribe(new Gh(t,this.project))}}class Gh extends N{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new E(this,e,n),o=this.destination;o.add(i),this.innerSubscription=I(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}class Yh extends dh{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}class Kh extends mh{}const Xh=new Kh(Yh),Zh=new b(t=>t.complete());function Qh(t){return t?function(t){return new b(e=>t.schedule(()=>e.complete()))}(t):Zh}function Jh(t,e){return new b(e?n=>e.schedule(tm,0,{error:t,subscriber:n}):e=>e.error(t))}function tm({error:t,subscriber:e}){e.error(t)}let em,nm=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return uh(this.value);case"E":return Jh(this.error);case"C":return Qh()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class rm extends m{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(rm.dispatch,this.delay,new im(t,this.destination)))}_next(t){this.scheduleMessage(nm.createNext(t))}_error(t){this.scheduleMessage(nm.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(nm.createComplete()),this.unsubscribe()}}class im{constructor(t,e){this.notification=t,this.destination=e}}class om extends C{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new sm(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new _;if(this.isStopped||this.hasError?o=d.EMPTY:(this.observers.push(t),o=new w(this,t)),r&&t.add(t=new rm(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Xh).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class sm{constructor(t,e){this.time=t,this.value=e}}try{em="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(iT){em=!1}let am,um=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!em)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(Gt(Yl,8))},t.\u0275prov=lt({factory:function(){return new t(Gt(Yl,8))},token:t,providedIn:"root"}),t})(),lm=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)}}),t})();const cm=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function dm(){if(am)return am;if("object"!=typeof document||!document)return am=new Set(cm),am;let t=document.createElement("input");return am=new Set(cm.filter(e=>(t.setAttribute("type",e),t.type===e))),am}let fm,hm,mm;function pm(t){return function(){if(null==fm&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>fm=!0}))}finally{fm=fm||!1}return fm}()?t:!!t.capture}function gm(){if("object"!=typeof document||!document)return 0;if(null==hm){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.height="1px",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",t.appendChild(n),document.body.appendChild(t),hm=0,0===t.scrollLeft&&(t.scrollLeft=1,hm=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return hm}function vm(t){if(function(){if(null==mm){const t="undefined"!=typeof document?document.head:null;mm=!(!t||!t.createShadowRoot&&!t.attachShadow)}return mm}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}const bm=new Ft("cdk-dir-doc",{providedIn:"root",factory:function(){return Yt(Pc)}});let ym=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new yl,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(Gt(bm,8))},t.\u0275prov=lt({factory:function(){return new t(Gt(bm,8))},token:t,providedIn:"root"}),t})(),_m=(()=>{class t{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new yl}get dir(){return this._dir}set dir(t){const e=this._dir,n=t?t.toLowerCase():t;this._rawDir=t,this._dir="ltr"===n||"rtl"===n?n:"ltr",e!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["","dir",""]],hostVars:1,hostBindings:function(t,e){2&t&&Ss("dir",e._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[qa([{provide:ym,useExisting:t}])]}),t})(),wm=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)}}),t})();class xm extends class{}{constructor(t){super(),this._data=t}connect(){return kh(this._data)?this._data:uh(this._data)}disconnect(){}}class Cm{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new C,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}}const Sm=["contentWrapper"],km=["*"],Em=new Ft("VIRTUAL_SCROLL_STRATEGY");class Om{constructor(t,e,n){this._scrolledIndexChange=new C,this.scrolledIndexChange=this._scrolledIndexChange.pipe(Eh()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=n}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,n){if(n<e)throw Error("CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx");this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=n,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.measureScrollOffset(),e=t/this._itemSize,n=this._viewport.getRenderedRange(),r={start:n.start,end:n.end},i=this._viewport.getViewportSize(),o=this._viewport.getDataLength(),s=t-r.start*this._itemSize;if(s<this._minBufferPx&&0!=r.start){const t=Math.ceil((this._maxBufferPx-s)/this._itemSize);r.start=Math.max(0,r.start-t),r.end=Math.min(o,Math.ceil(e+(i+this._minBufferPx)/this._itemSize))}else{const n=r.end*this._itemSize-(t+i);if(n<this._minBufferPx&&r.end!=o){const t=Math.ceil((this._maxBufferPx-n)/this._itemSize);t>0&&(r.end=Math.min(o,r.end+t),r.start=Math.max(0,Math.floor(e-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(r),this._viewport.setRenderedContentOffset(this._itemSize*r.start),this._scrolledIndexChange.next(Math.floor(e))}}function Tm(t){return t._scrollStrategy}let Am=(()=>{class t{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Om(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=ih(t)}get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=ih(t)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=ih(t)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[qa([{provide:Em,useFactory:Tm,deps:[xt(()=>t)]}]),Pa]}),t})(),Dm=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new C,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new b(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Nh(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):uh()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(zh(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>lh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(Gt(cc),Gt(um),Gt(Pc,8))},t.\u0275prov=lt({factory:function(){return new t(Gt(cc),Gt(um),Gt(Pc,8))},token:t,providedIn:"root"}),t})(),Mm=(()=>{class t{constructor(t,e,n,r){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=r,this._destroyed=new C,this._elementScrolled=new b(t=>this.ngZone.runOutsideAngular(()=>lh(this.elementRef.nativeElement,"scroll").pipe(Bh(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=n?t.end:t.start),null==t.right&&(t.right=n?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&0!=gm()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==gm()?t.left=t.right:1==gm()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}measureScrollOffset(t){const e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;const n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&2==gm()?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&1==gm()?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa),Ts(Dm),Ts(cc),Ts(ym,8))},t.\u0275dir=ye({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),Rm=(()=>{class t{constructor(t,e,n){this._platform=t,this._document=n,e.runOutsideAngular(()=>{const e=this._getWindow();this._change=t.isBrowser?W(lh(e,"resize"),lh(e,"orientationchange")):uh(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Nh(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(Gt(um),Gt(cc),Gt(Pc,8))},t.\u0275prov=lt({factory:function(){return new t(Gt(um),Gt(cc),Gt(Pc,8))},token:t,providedIn:"root"}),t})();const Im="undefined"!=typeof requestAnimationFrame?gh:Sh;let Nm=(()=>{class t extends Mm{constructor(t,e,n,r,i,o,s){if(super(t,o,n,i),this.elementRef=t,this._changeDetectorRef=e,this._scrollStrategy=r,this._detachedSubject=new C,this._renderedRangeSubject=new C,this._orientation="vertical",this.scrolledIndexChange=new b(t=>this._scrollStrategy.scrolledIndexChange.subscribe(e=>Promise.resolve().then(()=>this.ngZone.run(()=>t.next(e))))),this.renderedRangeStream=this._renderedRangeSubject.asObservable(),this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=d.EMPTY,!r)throw Error('Error: cdk-virtual-scroll-viewport requires the "itemSize" property to be set.');s&&(this._viewportChanges=s.change().subscribe(()=>{this.checkViewportSize()}))}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(jh(null),Nh(0,Im)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){if(this._forOf)throw Error("CdkVirtualScrollViewport is already attached.");this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Bh(this._detachedSubject)).subscribe(t=>{const e=t.length;e!==this._dataLength&&(this._dataLength=e,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){var e,n;((e=this._renderedRange).start!=(n=t).start||e.end!=n.end)&&(this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,e="to-start"){const n="horizontal"==this.orientation,r=n?"X":"Y";let i=`translate${r}(${Number((n&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===e&&(i+=` translate${r}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=i&&(this._renderedContentTransform=i,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,e="auto"){const n={behavior:e};"horizontal"===this.orientation?n.start=t:n.top=t,this.scrollTo(n)}scrollToIndex(t,e="auto"){this._scrollStrategy.scrollToIndex(t,e)}measureScrollOffset(t){return super.measureScrollOffset(t||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const t=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?t.clientWidth:t.clientHeight}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const e of t)e()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa),Ts(Ko),Ts(cc),Ts(Em,8),Ts(ym,8),Ts(Dm),Ts(Rm,8))},t.\u0275cmp=fe({type:t,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,e){var n;1&t&&Ml(Sm,!0),2&t&&Dl(n=Fl())&&(e._contentWrapper=n.first)},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,e){2&t&&la("cdk-virtual-scroll-orientation-horizontal","horizontal"===e.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==e.orientation)},inputs:{orientation:"orientation"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[qa([{provide:Mm,useExisting:t}]),Da],ngContentSelectors:km,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,e){1&t&&(Ws(),Rs(0,"div",0,1),Ys(2),Is(),Ns(3,"div",2)),2&t&&(pi(3),ua("width",e._totalContentWidth)("height",e._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),t})();function zm(t,e){if(!e.getBoundingClientRect)return 0;const n=e.getBoundingClientRect();return"horizontal"==t?n.width:n.height}let Pm=(()=>{class t{constructor(t,e,n,r,i){this._viewContainerRef=t,this._template=e,this._differs=n,this._viewport=r,this.viewChange=new C,this._dataSourceChanges=new C,this.cdkVirtualForTemplateCacheSize=20,this.dataStream=this._dataSourceChanges.pipe(jh(null),t=>t.lift(new Uh),Wh(([t,e])=>this._changeDataSource(t,e)),function(t,e,n){let r;return r={bufferSize:1,windowTime:void 0,refCount:!1,scheduler:void 0},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(l){s++,i&&!a||(a=!1,i=new om(t,e,r),o=l.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}));const c=i.subscribe(this);this.add(()=>{s--,c.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}()),this._differ=null,this._templateCache=[],this._needsUpdate=!1,this._destroyed=new C,this.dataStream.subscribe(t=>{this._data=t,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Bh(this._destroyed)).subscribe(t=>{this._renderedRange=t,i.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t,function(t){return t&&"function"==typeof t.connect}(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new xm(kh(t)?t:Array.prototype.slice.call(t||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(e,n)=>t(e+(this._renderedRange?this._renderedRange.start:0),n):void 0}set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}measureRangeSize(t,e){if(t.start>=t.end)return 0;if(t.start<this._renderedRange.start||t.end>this._renderedRange.end)throw Error("Error: attempted to measure an item that isn't rendered.");const n=t.start-this._renderedRange.start;let r=0,i=t.end-t.start;for(;i--;){const t=this._viewContainerRef.get(i+n);let o=t?t.rootNodes.length:0;for(;o--;)r+=zm(e,t.rootNodes[o])}return r}ngDoCheck(){if(this._differ&&this._needsUpdate){const t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete();for(let t of this._templateCache)t.destroy()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create(this.cdkVirtualForTrackBy)),this._needsUpdate=!0)}_changeDataSource(t,e){return t&&t.disconnect(this),this._needsUpdate=!0,e?e.connect(this):uh()}_updateContext(){const t=this._data.length;let e=this._viewContainerRef.length;for(;e--;){let n=this._viewContainerRef.get(e);n.context.index=this._renderedRange.start+e,n.context.count=t,this._updateComputedContextProperties(n.context),n.detectChanges()}}_applyChanges(t){t.forEachOperation((t,e,n)=>{if(null==t.previousIndex)this._insertViewForNewItem(n).context.$implicit=t.item;else if(null==n)this._cacheView(this._detachView(e));else{const r=this._viewContainerRef.get(e);this._viewContainerRef.move(r,n),r.context.$implicit=t.item}}),t.forEachIdentityChange(t=>{this._viewContainerRef.get(t.currentIndex).context.$implicit=t.item});const e=this._data.length;let n=this._viewContainerRef.length;for(;n--;){const t=this._viewContainerRef.get(n);t.context.index=this._renderedRange.start+n,t.context.count=e,this._updateComputedContextProperties(t.context)}}_cacheView(t){if(this._templateCache.length<this.cdkVirtualForTemplateCacheSize)this._templateCache.push(t);else{const e=this._viewContainerRef.indexOf(t);-1===e?t.destroy():this._viewContainerRef.remove(e)}}_insertViewForNewItem(t){return this._insertViewFromCache(t)||this._createEmbeddedViewAt(t)}_updateComputedContextProperties(t){t.first=0===t.index,t.last=t.index===t.count-1,t.even=t.index%2==0,t.odd=!t.even}_createEmbeddedViewAt(t){return this._viewContainerRef.createEmbeddedView(this._template,{$implicit:null,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},t)}_insertViewFromCache(t){const e=this._templateCache.pop();return e&&this._viewContainerRef.insert(e,t),e||null}_detachView(t){return this._viewContainerRef.detach(t)}}return t.\u0275fac=function(e){return new(e||t)(Ts(xu),Ts(_u),Ts(pu),Ts(Nm,4),Ts(cc))},t.\u0275dir=ye({type:t,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize",cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate"}}),t})(),Fm=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)}}),t})(),Bm=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[wm,lm,Fm],wm,Fm]}),t})();function Lm(){throw Error("Host already has a portal attached")}class Hm{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&Lm(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Vm extends Hm{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class jm extends Hm{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Um extends Hm{constructor(t){super(),this.element=t instanceof Xa?t.nativeElement:t}}class $m{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Lm(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof Vm?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof jm?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Um?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Wm extends $m{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let qm=(()=>{class t extends jm{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(Ts(_u),Ts(xu))},t.\u0275dir=ye({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[Da]}),t})(),Gm=(()=>{class t extends qm{}return t.\u0275fac=function(e){return Ym(e||t)},t.\u0275dir=ye({type:t,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],features:[qa([{provide:qm,useExisting:t}]),Da]}),t})();const Ym=or(Gm);let Km=(()=>{class t extends $m{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new yl,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(Ts(Ka),Ts(xu),Ts(Pc))},t.\u0275dir=ye({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Da]}),t})(),Xm=(()=>{class t extends Km{}return t.\u0275fac=function(e){return Zm(e||t)},t.\u0275dir=ye({type:t,selectors:[["","cdkPortalHost",""],["","portalHost",""]],inputs:{portal:["cdkPortalHost","portal"]},exportAs:["cdkPortalHost"],features:[qa([{provide:Km,useExisting:t}]),Da]}),t})();const Zm=or(Xm);let Qm=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)}}),t})();const Jm=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function tp(t){return e=>0===t?Qh():e.lift(new ep(t))}class ep{constructor(t){if(this.total=t,this.total<0)throw new Jm}call(t,e){return e.subscribe(new np(t,this.total))}}class np extends m{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function rp(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class ip{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=sh(-this._previousScrollPosition.left),t.style.top=sh(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function op(){return Error("Scroll strategy has already been attached.")}class sp{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw op();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ap{enable(){}disable(){}attach(){}}function up(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function lp(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class cp{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw op();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();up(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let dp=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new ap,this.close=t=>new sp(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new ip(this._viewportRuler,this._document),this.reposition=t=>new cp(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(Gt(Dm),Gt(Rm),Gt(cc),Gt(Pc))},t.\u0275prov=lt({factory:function(){return new t(Gt(Dm),Gt(Rm),Gt(cc),Gt(Pc))},token:t,providedIn:"root"}),t})();class fp{constructor(t){if(this.scrollStrategy=new ap,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class hp{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class mp{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function pp(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "top", "bottom" or "center".')}function gp(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "start", "end" or "center".')}let vp=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEventSubscriptions>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Pc))},t.\u0275prov=lt({factory:function(){return new t(Gt(Pc))},token:t,providedIn:"root"}),t})();const bp=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let yp=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||bp){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),bp?e.setAttribute("platform","test"):t||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(Gt(Pc),Gt(um))},t.\u0275prov=lt({factory:function(){return new t(Gt(Pc),Gt(um))},token:t,providedIn:"root"}),t})();class _p{constructor(t,e,n,r,i,o,s,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=o,this._document=s,this._location=a,this._backdropElement=null,this._backdropClick=new C,this._attachments=new C,this._detachments=new C,this._locationChanges=d.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEventsObservable=new b(t=>{const e=this._keydownEvents.subscribe(t);return this._keydownEventSubscriptions++,()=>{e.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new C,this._keydownEventSubscriptions=0,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(tp(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=sh(this._config.width),t.height=sh(this._config.height),t.minWidth=sh(this._config.minWidth),t.minHeight=sh(this._config.minHeight),t.maxWidth=sh(this._config.maxWidth),t.maxHeight=sh(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;oh(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(Bh(W(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const wp=/([A-Za-z%]+)$/;class xp{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new C,this._resizeSubscription=d.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),u=this._getOverlayFit(a,e,n,o);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(u,a,n)?r.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!i||i.overlayFit.visibleArea<u.visibleArea)&&(i={overlayFit:u,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Cp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){let{x:i,y:o}=t,s=this._getOffset(r,"x"),a=this._getOffset(r,"y");s&&(i+=s),a&&(o+=a);let u=0-o,l=o+e.height-n.height,c=this._subtractOverflows(e.width,0-i,i+e.width-n.width),d=this._subtractOverflows(e.height,u,l),f=c*d;return{visibleArea:f,isCompletelyWithinViewport:e.width*e.height===f,fitsInViewportVertically:d===e.height,fitsInViewportHorizontally:c==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,o=Sp(this._overlayRef.getConfig().minHeight),s=Sp(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=s&&s<=i;return(t.fitsInViewportVertically||null!=o&&o<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.right,0),o=Math.max(t.y+e.height-r.bottom,0),s=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let u=0,l=0;return u=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,l=e.height<=r.height?s||-o:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:u,y:l},{x:t.x+u,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new mp(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,o,s,a,u,l;if("top"===e.overlayY)o=t.y,i=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,i=n.height-s+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,o=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)l=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,u=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-r/2)}return{top:o,left:u,bottom:s,right:l,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=sh(n.height),r.top=sh(n.top),r.bottom=sh(n.bottom),r.width=sh(n.width),r.left=sh(n.left),r.right=sh(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=sh(t)),i&&(r.maxWidth=sh(i))}this._lastBoundingBoxSize=n,Cp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Cp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Cp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();Cp(n,this._getExactOverlayY(e,t,r)),Cp(n,this._getExactOverlayX(e,t,r))}else n.position="static";let s="",a=this._getOffset(e,"x"),u=this._getOffset(e,"y");a&&(s+=`translateX(${a}px) `),u&&(s+=`translateY(${u}px)`),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=sh(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=sh(o.maxWidth):i&&(n.maxWidth="")),Cp(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===t.overlayY?r.bottom=`${this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)}px`:r.top=sh(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=`${this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)}px`:i.left=sh(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:lp(t,n),isOriginOutsideView:up(t,n),isOverlayClipped:lp(e,n),isOverlayOutsideView:up(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{gp("originX",t.originX),pp("originY",t.originY),gp("overlayX",t.overlayX),pp("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&oh(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Xa)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Cp(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Sp(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(wp);return n&&"px"!==n?null:parseFloat(e)}return t||null}class kp{constructor(t,e,n,r,i,o,s){this._preferredPositions=[],this._positionStrategy=new xp(n,r,i,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new hp(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class Ep{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:o,maxHeight:s}=n,a=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),u=!("100%"!==i&&"100vh"!==i||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Op=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new Ep}connectedTo(t,e,n){return new kp(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new xp(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Rm),Gt(Pc),Gt(um),Gt(yp))},t.\u0275prov=lt({factory:function(){return new t(Gt(Rm),Gt(Pc),Gt(um),Gt(yp))},token:t,providedIn:"root"}),t})(),Tp=0,Ap=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=o,this._ngZone=s,this._document=a,this._directionality=u,this._location=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new fp(t);return i.direction=i.direction||this._directionality.value,new _p(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id=`cdk-overlay-${Tp++}`,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Ac)),new Wm(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(Gt(dp),Gt(yp),Gt(Ka),Gt(Op),Gt(vp),Gt(ds),Gt(cc),Gt(Pc),Gt(ym),Gt(Kc,8))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const Dp=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Mp=new Ft("cdk-connected-overlay-scroll-strategy");let Rp=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa))},t.\u0275dir=ye({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),Ip=(()=>{class t{constructor(t,e,n,r,i){this._overlay=t,this._dir=i,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=d.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new yl,this.positionChange=new yl,this.attach=new yl,this.detach=new yl,this.overlayKeydown=new yl,this._templatePortal=new jm(e,n),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=rh(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=rh(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=rh(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=rh(t)}get push(){return this._push}set push(t){this._push=rh(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=Dp),this._overlayRef=this._overlay.create(this._buildConfig()),this._overlayRef.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||rp(t)||(t.preventDefault(),this._detachOverlay())})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new fp({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t.positionChanges.subscribe(t=>this.positionChange.emit(t)),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe()}_detachOverlay(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Ts(Ap),Ts(_u),Ts(xu),Ts(Mp),Ts(ym,8))},t.\u0275dir=ye({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown"},exportAs:["cdkConnectedOverlay"],features:[Pa]}),t})();const Np={provide:Mp,deps:[Ap],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let zp=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[Ap,Np],imports:[[wm,Qm,Bm],Bm]}),t})(),Pp=(()=>{class t{constructor(){this.closeMenu=()=>{}}onClick(){this.closeMenu()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["ng-component"]],hostBindings:function(t,e){1&t&&Hs("click",(function(){return e.onClick()}))},decls:2,vars:0,template:function(t,e){1&t&&(Rs(0,"p"),Sa(1,"File menu"),Is())},styles:["[_nghost-%COMP%] {\n      display: block;\n      background: white;\n      max-width: 100%;\n      width: 615px;\n      border: 1px solid #c9d5e7;\n    }"]}),t})();var Fp=function(t){return t.backColor="HiliteColor",t.bold="bold",t.contentReadOnly="contentReadOnly",t.copy="copy",t.cut="cut",t.decreaseFontSize="decreaseFontSize",t.delete="delete",t.enableInlineTableEditing="enableInlineTableEditing",t.enableObjectResizing="enableObjectResizing",t.fontName="fontName",t.fontSize="fontSize",t.foreColor="foreColor",t.formatBlock="formatBlock",t.forwardDelete="forwardDelete",t.heading="heading",t.hiliteColor="HiliteColor",t.increaseFontSize="increaseFontSize",t.indent="indent",t.insertBrOnReturn="insertBrOnReturn",t.insertHorizontalRule="insertHorizontalRule",t.insertHTML="mceInsertRawHTML",t.insertImage="insertImage",t.insertDefinitionList="InsertDefinitionList",t.insertOrderedList="insertOrderedList",t.insertUnorderedList="insertUnorderedList",t.insertParagraph="insertParagraph",t.insertText="insertText",t.italic="italic",t.justifyCenter="justifyCenter",t.justifyFull="justifyFull",t.justifyLeft="justifyLeft",t.justifyRight="justifyRight",t.outdent="outdent",t.paste="paste",t.redo="Redo",t.removeFormat="removeFormat",t.selectAll="selectAll",t.strikeThrough="strikeThrough",t.subscript="subscript",t.superscript="superscript",t.underline="underline",t.undo="Undo",t.unlink="unlink",t.mceLowerCase="mceLowerCase",t.mceUpperCase="mceUpperCase",t.mceTitleCase="mceTitleCase",t.SearchReplace="SearchReplace",t.codeEditor="mceCodeEditor",t.createLink="mceLink",t}({});function Bp(){}function Lp(t,e){}function Hp(t,e){1&t&&Sa(0),2&t&&ka(Us(2).$implicit.name)}function Vp(t,e){if(1&t&&(Rs(0,"div",8),Es(1,Lp,0,0,"ng-template",9),Es(2,Hp,1,1,"ng-template",null,10,Vl),Is()),2&t){const t=Os(3),e=Us().$implicit;pi(1),Ds("ngIf",e.headerTemplate)("ngTemplateOutlet",e.headerTemplate)("ngIfElse",t)}}function jp(t,e){if(1&t){const t=Fs();Rs(0,"li",11,12),Rs(2,"a",13),Hs("click",(function(){Xe(t);const e=Os(1);return Us(2).settings.onMainTabActive(e)})),Sa(3),Is(),Is()}if(2&t){const t=Us(2);pi(3),ka(t.settings.mainTabName)}}function Up(t,e){if(1&t){const t=Fs();Rs(0,"li",14),Rs(1,"a",13),Hs("click",(function(){Xe(t);const n=e.$implicit;return Us(2).selectTab(n)})),Sa(2),Is(),Is()}if(2&t){const t=e.$implicit;la("active",t.active),Ss("aria-selected",t.active),pi(2),ka(t.name)}}const $p=function(t){return{backgroundColor:t}};function Wp(t,e){if(1&t&&(Rs(0,"div",3),Es(1,Vp,4,3,"div",4),Rs(2,"ul",5),Es(3,jp,4,1,"li",6),Es(4,Up,3,4,"li",7),Is(),Is()),2&t){const t=e.$implicit,n=e.first,r=Us();Ds("ngStyle",hl(4,$p,t.color)),pi(1),Ds("ngIf",r.settings.useContexts),pi(2),Ds("ngIf",n&&r.settings.mainTabName),pi(1),Ds("ngForOf",t.tabs)}}const qp=function(t){return{borderColor:t}},Gp=["*"];let Yp=(()=>{class t{constructor(){this.settings=new eh,this.tabSelected=new yl,this.contexts=[]}selectTab(t){t.showed=!0,this.contexts.forEach(e=>e.tabs.forEach(e=>e.active=e==t)),this.selectedTab=t,t.selected.emit(t),this.tabSelected.emit(t)}addContext(t){this.contexts.push(t),1===this.contexts.length&&t.tabs.length&&this.selectTab(t.tabs[0])}removeContext(t){const e=this.contexts.indexOf(t);e>=0&&(this.contexts.splice(e,1),!this.contexts.find(t=>t.tabs.find(t=>t.active))&&this.contexts.length&&this.contexts[0].tabs.length&&this.selectTab(this.contexts[0].tabs[0]))}onWheel(t){if(this.settings.mouseWheelTabs){if(t.deltaY>0){let t=!1;this.contexts.forEach(e=>e.tabs.forEach(e=>{e==this.selectedTab?t=!0:t&&(this.selectTab(e),t=!1)}))}else if(t.deltaY<0){let t=null,e=null;this.contexts.forEach(n=>n.tabs.forEach(n=>{n==this.selectedTab&&(e=t),t=n})),e&&this.selectTab(e)}t.preventDefault(),t.stopPropagation()}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["ng-ribbon"]],hostBindings:function(t,e){1&t&&Hs("wheel",(function(t){return e.onWheel(t)}))},inputs:{settings:"settings"},outputs:{tabSelected:"tabSelected"},ngContentSelectors:Gp,decls:4,vars:4,consts:[[1,"contexts",3,"ngStyle"],["class","context",3,"ngStyle",4,"ngFor","ngForOf"],[1,"ribbon-content"],[1,"context",3,"ngStyle"],["class","context-header",4,"ngIf"],["role","tablist"],["role","button","class","main",4,"ngIf"],["role","tab",3,"active",4,"ngFor","ngForOf"],[1,"context-header"],[3,"ngIf","ngTemplateOutlet","ngIfElse"],["contextNameTemplate",""],["role","button",1,"main"],["mainTab",""],[3,"click"],["role","tab"]],template:function(t,e){1&t&&(Ws(),Rs(0,"div",0),Es(1,Wp,5,6,"div",1),Is(),Rs(2,"div",2),Ys(3),Is()),2&t&&(Ds("ngStyle",hl(2,qp,(null==e.selectedTab?null:e.selectedTab.context.color)||"#dadbdc")),pi(1),Ds("ngForOf",e.contexts))},directives:[Xd,Ld,Vd,Zd],styles:["[_nghost-%COMP%]{display:block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background:#fff;padding-top:5px}.contexts[_ngcontent-%COMP%]{display:flex;max-width:100%;align-items:flex-start;border-bottom:1px solid #dadbdc}.contexts[_ngcontent-%COMP%]:first-child{margin-left:3px}.contexts[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{max-width:100%}.context-header[_ngcontent-%COMP%]{height:30px;text-align:center;vertical-align:middle;line-height:30px}.context[_ngcontent-%COMP%] + .context[_ngcontent-%COMP%]{margin-left:3px}ul[_ngcontent-%COMP%]{padding:0;list-style:none;display:block;white-space:nowrap;overflow-x:auto;overflow-y:hidden;margin:0 0 -1px}li[_ngcontent-%COMP%]{display:inline-block;margin:0 2px}li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:block;cursor:pointer;padding:0 14px;font-size:12px;height:30px;line-height:30px;border:1px solid transparent;border-radius:2px 2px 0 0;transition:all .5s cubic-bezier(.35,0,.25,1)}li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{border-color:#ebecec #ebecec #dadbdc;text-decoration:none;background-color:#fdfdff}li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#555;cursor:default;background-color:#f5f6f7;border:1px solid #dadbdc;border-bottom-color:transparent}li.main[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{background-color:#0066b4;color:#fff}li.main[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{background-color:#007ddd}  ng-ribbon-tab{display:none}.ribbon-content[_ngcontent-%COMP%]{background-color:#f5f6f7}"]}),t})();var Kp=function(t){return t[t.dataUri=0]="dataUri",t[t.string=1]="string",t}({});let Xp=(()=>{class t{constructor(){}readFile(t,e){return new Promise((n,r)=>{const i=new FileReader;i.onloadend=()=>n({fileName:t[0].name,content:i.result}),i.onerror=t=>r(t),i.onabort=t=>r(t),e==Kp.dataUri?i.readAsDataURL(t[0]):i.readAsText(t[0])})}uploadAs(t,e){return new Promise((n,r)=>{const i=document.createElement("input");i.type="file",i.accept=e,i.click(),i.addEventListener("change",()=>{i.files?this.readFile(i.files,t).then(n,r):r("no files")})})}uploadAsDataURL(t){return this.uploadAs(Kp.dataUri,t).then(t=>t.content)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Zp(t,e,n){return function(r){return r.lift(new Qp(t,e,n))}}class Qp{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Jp(t,this.nextOrObserver,this.error,this.complete))}}class Jp extends m{constructor(t,e,n,i){super(t),this._tapNext=Bp,this._tapError=Bp,this._tapComplete=Bp,this._tapError=n||Bp,this._tapComplete=i||Bp,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Bp,this._tapError=e.error||Bp,this._tapComplete=e.complete||Bp)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function tg(t,e=Ah){return n=>n.lift(new eg(t,e))}class eg{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new ng(t,this.dueTime,this.scheduler))}}class ng extends m{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(rg,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function rg(t){t.debouncedNext()}let ig=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({factory:function(){return new t},token:t,providedIn:"root"}),t})(),og=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=ah(t);return new b(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new C,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(Gt(ig))},t.\u0275prov=lt({factory:function(){return new t(Gt(ig))},token:t,providedIn:"root"}),t})(),sg=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new yl,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=rh(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=ih(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(tg(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Ts(og),Ts(Xa),Ts(cc))},t.\u0275dir=ye({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),ag=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[ig]}),t})();function ug(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}let lg=0;const cg=new Map;let dg=null,fg=(()=>{class t{constructor(t){this._document=t}describe(t,e){this._canBeDescribed(t,e)&&("string"!=typeof e?(this._setMessageId(e),cg.set(e,{messageElement:e,referenceCount:0})):cg.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))}removeDescription(t,e){if(this._isElementNode(t)){if(this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e),"string"==typeof e){const t=cg.get(e);t&&0===t.referenceCount&&this._deleteMessageElement(e)}dg&&0===dg.childNodes.length&&this._deleteMessagesContainer()}}ngOnDestroy(){const t=this._document.querySelectorAll("[cdk-describedby-host]");for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute("cdk-describedby-host");dg&&this._deleteMessagesContainer(),cg.clear()}_createMessageElement(t){const e=this._document.createElement("div");this._setMessageId(e),e.textContent=t,this._createMessagesContainer(),dg.appendChild(e),cg.set(t,{messageElement:e,referenceCount:0})}_setMessageId(t){t.id||(t.id=`cdk-describedby-message-${lg++}`)}_deleteMessageElement(t){const e=cg.get(t),n=e&&e.messageElement;dg&&n&&dg.removeChild(n),cg.delete(t)}_createMessagesContainer(){if(!dg){const t=this._document.getElementById("cdk-describedby-message-container");t&&t.parentNode.removeChild(t),dg=this._document.createElement("div"),dg.id="cdk-describedby-message-container",dg.setAttribute("aria-hidden","true"),dg.style.display="none",this._document.body.appendChild(dg)}}_deleteMessagesContainer(){dg&&dg.parentNode&&(dg.parentNode.removeChild(dg),dg=null)}_removeCdkDescribedByReferenceIds(t){const e=ug(t,"aria-describedby").filter(t=>0!=t.indexOf("cdk-describedby-message"));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=cg.get(e);!function(t,e,n){const r=ug(t,e);r.some(t=>t.trim()==n.trim())||(r.push(n.trim()),t.setAttribute(e,r.join(" ")))}(t,"aria-describedby",n.messageElement.id),t.setAttribute("cdk-describedby-host",""),n.referenceCount++}_removeMessageReference(t,e){const n=cg.get(e);n.referenceCount--,function(t,e,n){const r=ug(t,e).filter(t=>t!=n.trim());r.length?t.setAttribute(e,r.join(" ")):t.removeAttribute(e)}(t,"aria-describedby",n.messageElement.id),t.removeAttribute("cdk-describedby-host")}_isElementDescribedByMessage(t,e){const n=ug(t,"aria-describedby"),r=cg.get(e),i=r&&r.messageElement.id;return!!i&&-1!=n.indexOf(i)}_canBeDescribed(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;const n=null==e?"":`${e}`.trim(),r=t.getAttribute("aria-label");return!(!n||r&&r.trim()===n)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(Gt(Pc))},t.\u0275prov=lt({factory:function(){return new t(Gt(Pc))},token:t,providedIn:"root"}),t})();class hg{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new C,this._typeaheadSubscription=d.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new C,this.change=new C,t instanceof wl&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Zp(t=>this._pressedLetters.push(t)),tg(t),zh(()=>this._pressedLetters.length>0),z(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}setActiveItem(t){const e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((n||rp(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof wl?this._items.toArray():this._items}}class mg extends hg{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class pg extends hg{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}"undefined"!=typeof Element&&Element;const gg=new Ft("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),vg=new Ft("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let bg=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.\u0275fac=function(e){return new(e||t)(Gt(gg,8),Gt(cc),Gt(Pc),Gt(vg,8))},t.\u0275prov=lt({factory:function(){return new t(Gt(gg,8),Gt(cc),Gt(Pc),Gt(vg,8))},token:t,providedIn:"root"}),t})();function yg(t){return 0===t.buttons}const _g=new Ft("cdk-focus-monitor-default-options"),wg=pm({passive:!0,capture:!0});let xg=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=yg(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Cg(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=Cg(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){if(!this._platform.isBrowser)return uh(null);const n=ah(t),r=vm(n)||this._getDocument();if(this._elementInfo.has(n)){const t=this._elementInfo.get(n);return t.checkChildren=e,t.subject.asObservable()}const i={checkChildren:e,subject:new C,rootNode:r};return this._elementInfo.set(n,i),this._registerGlobalListeners(i),i.subject.asObservable()}stopMonitoring(t){const e=ah(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=ah(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=Cg(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==Cg(t))return;const r=this._getFocusOrigin(t);this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,wg),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,wg)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,wg),t.addEventListener("mousedown",this._documentMousedownListener,wg),t.addEventListener("touchstart",this._documentTouchstartListener,wg),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,wg),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,wg),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,wg),t.removeEventListener("mousedown",this._documentMousedownListener,wg),t.removeEventListener("touchstart",this._documentTouchstartListener,wg),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return t.\u0275fac=function(e){return new(e||t)(Gt(cc),Gt(um),Gt(Pc,8),Gt(_g,8))},t.\u0275prov=lt({factory:function(){return new t(Gt(cc),Gt(um),Gt(Pc,8),Gt(_g,8))},token:t,providedIn:"root"}),t})();function Cg(t){return t.composedPath?t.composedPath()[0]:t.target}let Sg=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(Gt(um),Gt(Pc))},t.\u0275prov=lt({factory:function(){return new t(Gt(um),Gt(Pc))},token:t,providedIn:"root"}),t})(),kg=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)(Gt(Sg))},imports:[[lm,ag]]}),t})();const Eg=new ru("9.2.2");class Og{}function Tg(t,e){return{type:7,name:t,definitions:e,options:{}}}function Ag(t,e=null){return{type:4,styles:e,timings:t}}function Dg(t,e=null){return{type:3,steps:t,options:e}}function Mg(t,e=null){return{type:2,steps:t,options:e}}function Rg(t){return{type:6,styles:t,offset:null}}function Ig(t,e,n){return{type:0,name:t,styles:e,options:n}}function Ng(t){return{type:5,steps:t}}function zg(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Pg(t=null){return{type:9,options:t}}function Fg(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function Bg(t){Promise.resolve(null).then(t)}class Lg{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Bg(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Hg{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Bg(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Vg(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function jg(t){switch(t.length){case 0:return new Lg;case 1:return t[0];default:return new Hg(t)}}function Ug(t,e,n,r,i={},o={}){const s=[],a=[];let u=-1,l=null;if(r.forEach(t=>{const n=t.offset,r=n==u,c=r&&l||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case"*":a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}c[r]=a}),r||a.push(c),l=c,u=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function $g(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Wg(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Wg(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Wg(n,"destroy",t)))}}function Wg(t,e,n){const r=n.totalTime,i=qg(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function qg(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Gg(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Yg(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Kg=(t,e)=>!1,Xg=(t,e)=>!1,Zg=(t,e,n)=>[];const Qg=Vg();(Qg||"undefined"!=typeof Element)&&(Kg=(t,e)=>t.contains(e),Xg=(()=>{if(Qg||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Xg}})(),Zg=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let Jg=null,tv=!1;function ev(t){Jg||(Jg=("undefined"!=typeof document?document.body:null)||{},tv=!!Jg.style&&"WebkitAppearance"in Jg.style);let e=!0;return Jg.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Jg.style,!e&&tv)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Jg.style),e}const nv=Xg,rv=Kg,iv=Zg;function ov(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let sv=(()=>{class t{validateStyleProperty(t){return ev(t)}matchesElement(t,e){return nv(t,e)}containsElement(t,e){return rv(t,e)}query(t,e,n){return iv(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new Lg(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),av=(()=>{class t{}return t.NOOP=new sv,t})();function uv(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:lv(parseFloat(e[1]),e[2])}function lv(t,e){switch(e){case"s":return 1e3*t;default:return t}}function cv(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=lv(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=lv(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function dv(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function fv(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else dv(t,n);return n}function hv(t,e,n){return n?e+":"+n+";":""}function mv(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=hv(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=hv(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function pv(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Cv(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Vg()&&mv(t))}function gv(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Cv(e);t.style[n]=""}),Vg()&&mv(t))}function vv(t){return Array.isArray(t)?1==t.length?t[0]:Mg(t):t}const bv=new RegExp("{{\\s*(.+?)\\s*}}","g");function yv(t){let e=[];if("string"==typeof t){let n;for(;n=bv.exec(t);)e.push(n[1]);bv.lastIndex=0}return e}function _v(t,e,n){const r=t.toString(),i=r.replace(bv,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function wv(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const xv=/-+([a-z0-9])/g;function Cv(t){return t.replace(xv,(...t)=>t[1].toUpperCase())}function Sv(t,e){return 0===t||0===e}function kv(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach((function(e){n[e]=Ov(t,e)}))}}return e}function Ev(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Ov(t,e){return window.getComputedStyle(t)[e]}function Tv(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(Mv(i,s)),"<"!=o[0]||"*"==i&&"*"==s||e.push(Mv(s,i))}(t,n,e)):n.push(t),n}const Av=new Set(["true","1"]),Dv=new Set(["false","0"]);function Mv(t,e){const n=Av.has(t)||Dv.has(t),r=Av.has(e)||Dv.has(e);return(i,o)=>{let s="*"==t||t==i,a="*"==e||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?Av.has(t):Dv.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?Av.has(e):Dv.has(e)),s&&a}}const Rv=new RegExp("s*:selfs*,?","g");function Iv(t,e,n){return new Nv(t).build(e,n)}class Nv{constructor(t){this._driver=t}build(t,e){const n=new zv(e);return this._resetContextStyleTimingState(n),Ev(this,vv(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(Pv(t)){const e=t;Object.keys(e).forEach(t=>{yv(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=wv(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Ev(this,vv(t.animation),e);return{type:1,matchers:Tv(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Fv(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Ev(this,t,e)),options:Fv(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Ev(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Fv(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Bv(cv(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Bv(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||cv(r,e),Bv(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Rg({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=Rg(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Pv(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=yv(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Pv(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Pv(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=u&&(r++,l=n.offset=u),s=s||l<0||l>1,o=o||l<a,a=l,i.push(l),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let c=0;r>0&&r<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(l-1));const d=l-1,f=e.currentTime,h=e.currentAnimateTimings,m=h.duration;return u.forEach((t,r)=>{const o=c>0?r==d?1:c*r:i[r],s=o*m;e.currentTime=f+h.delay+s,h.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Ev(this,vv(t.animation),e),options:Fv(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Fv(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Fv(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Rv,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Gg(e.collectedStyles,e.currentQuerySelector,{});const s=Ev(this,vv(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:Fv(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:cv(t.timings,e.errors,!0);return{type:12,animation:Ev(this,vv(t.animation),e),timings:n,options:null}}}class zv{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Pv(t){return!Array.isArray(t)&&"object"==typeof t}function Fv(t){var e;return t?(t=dv(t)).params&&(t.params=(e=t.params)?dv(e):null):t={},t}function Bv(t,e,n){return{duration:t,delay:e,easing:n}}function Lv(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Hv{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Vv=new RegExp(":enter","g"),jv=new RegExp(":leave","g");function Uv(t,e,n,r,i,o={},s={},a,u,l=[]){return(new $v).buildKeyframes(t,e,n,r,i,o,s,a,u,l)}class $v{buildKeyframes(t,e,n,r,i,o,s,a,u,l=[]){u=u||new Hv;const c=new qv(t,e,u,r,i,l,[]);c.options=a,c.currentTimeline.setStyles([o],null,c.errors,a),Ev(this,n,c);const d=c.timelines.filter(t=>t.containsAnimation());if(d.length&&Object.keys(s).length){const t=d[d.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,c.errors,a)}return d.length?d.map(t=>t.buildKeyframes()):[Lv(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?uv(n.duration):null,o=null!=n.delay?uv(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Ev(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Wv);const t=uv(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Ev(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?uv(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),Ev(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return cv(e.params?_v(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?uv(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Wv);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),Ev(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const l=u.currentTime;Ev(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}const Wv={};class qv{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Gv(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=uv(n.duration)),null!=n.delay&&(r.delay=uv(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=_v(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new qv(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Wv,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Yv(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(Vv,"."+this._enterClassName)).replace(jv,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class Gv{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Gv(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):fv(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=_v(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=fv(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?wv(t.values()):[],o=e.size?wv(e.values()):[];if(n){const t=r[0],e=dv(t);t.offset=0,e.offset=1,r=[t,e]}return Lv(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class Yv extends Gv{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=fv(t[0],!1);a.offset=0,i.push(a);const u=fv(t[0],!1);u.offset=Kv(s),i.push(u);const l=t.length-1;for(let r=1;r<=l;r++){let s=fv(t[r],!1);s.offset=Kv((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return Lv(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Kv(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Xv{}class Zv extends Xv{normalizePropertyName(t,e){return Cv(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(Qv[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const Qv=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Jv(t,e,n,r,i,o,s,a,u,l,c,d,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:d,errors:f}}const tb={};class eb{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,u,l){const c=[],d=this.ast.options&&this.ast.options.params||tb,f=this.buildStyles(n,s&&s.params||tb,c),h=a&&a.params||tb,m=this.buildStyles(r,h,c),p=new Set,g=new Map,v=new Map,b="void"===r,y={params:Object.assign(Object.assign({},d),h)},_=l?[]:Uv(t,e,this.ast.animation,i,o,f,m,y,u,c);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return Jv(e,this._triggerName,n,r,b,f,m,[],[],g,v,w,c);_.forEach(t=>{const n=t.element,r=Gg(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Gg(v,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&p.add(n)});const x=wv(p.values());return Jv(e,this._triggerName,n,r,b,f,m,_,x,g,v,w)}}class nb{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=dv(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=_v(o,r,e)),n[t]=o})}}),n}}class rb{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new nb(t.style,t.options&&t.options.params||{})}),ib(this.states,"true","1"),ib(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new eb(t,e,this.states))}),this.fallbackTransition=new eb(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function ib(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const ob=new Hv;class sb{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Iv(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Ug(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=Uv(this._driver,e,i,"ng-enter","ng-leave",{},{},n,ob,r),o.forEach(t=>{const e=Gg(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=jg(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=qg(e,"","","");return $g(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const ab=[],ub={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lb={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class cb{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=dv(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const db=new cb("void");class fb{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,yb(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=Gg(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=Gg(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(yb(t,"ng-trigger"),yb(t,"ng-trigger-"+e),a[e]=db),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new mb(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(yb(t,"ng-trigger"),yb(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const u=new cb(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),s[e]=u,a||(a=db),"void"!==u.value&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{gv(t,n),pv(t,r)})}return}const l=Gg(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(a.value,u.value,t,u.params),d=!1;if(!c){if(!r)return;c=i.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:u,player:o,isFallbackTransition:d}),d||(yb(t,"ng-animate-queued"),o.onStart(()=>{_b(t,"ng-animate-queued")})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),l.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&jg(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||db,s=new cb("void"),a=new mb(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==ub||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){yb(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=qg(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,$g(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class hb{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new fb(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(pb(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!pb(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),yb(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),_b(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(pb(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return pb(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return jg(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=ub,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)yb(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?jg(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Hv,r=[],i=new Map,o=[],s=new Map,a=new Map,u=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)l.add(e[n])});const c=this.bodyNode,d=Array.from(this.statesByElement.keys()),f=bb(d,this.collectedEnterElements),h=new Map;let m=0;f.forEach((t,e)=>{const n="ng-enter"+m++;h.set(e,n),t.forEach(t=>yb(t,n))});const p=[],g=new Set,v=new Set;for(let D=0;D<this.collectedLeaveElements.length;D++){const t=this.collectedLeaveElements[D],e=t.__ng_removed;e&&e.setForRemoval&&(p.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):v.add(t))}const b=new Map,y=bb(d,Array.from(g));y.forEach((t,e)=>{const n="ng-leave"+m++;b.set(e,n),t.forEach(t=>yb(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=h.get(e);t.forEach(t=>_b(t,n))}),y.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>_b(t,n))}),p.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const l=!c||!this.driver.containsElement(c,i),d=b.get(i),f=h.get(i),m=this._buildInstruction(t,n,f,d,l);if(!m.errors||!m.errors.length)return l||t.isFallbackTransition?(e.onStart(()=>gv(i,m.fromStyles)),e.onDestroy(()=>pv(i,m.toStyles)),void r.push(e)):(m.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,m.timelines),o.push({instruction:m,player:e,element:i}),m.queriedElements.forEach(t=>Gg(s,t,[]).push(e)),m.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void m.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))}));w.push(m)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const x=new Map,C=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Gg(x,e,[]).push(t),t.destroy()})});const S=p.filter(t=>xb(t,a,u)),k=new Map;vb(k,this.driver,v,u,"*").forEach(t=>{xb(t,a,u)&&S.push(t)});const E=new Map;f.forEach((t,e)=>{vb(E,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=k.get(t),n=E.get(t);k.set(t,Object.assign(Object.assign({},e),n))});const O=[],T=[],A={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(l.has(e))return o.onDestroy(()=>pv(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=A;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,x,i,E,k);if(o.setRealPlayer(n),t===A)O.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=jg(e)),r.push(o)}}else gv(e,s.fromStyles),o.onDestroy(()=>pv(e,s.toStyles)),T.push(o),l.has(e)&&r.push(o)}),T.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=jg(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let D=0;D<p.length;D++){const t=p[D],e=t.__ng_removed;if(_b(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?wb(this,t,r):this.processLeaveNode(t)}return p.length=0,O.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),O}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,u=Gg(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}gv(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,u=[],l=new Set,c=new Set,d=e.timelines.map(e=>{const d=e.element;l.add(d);const f=d.__ng_removed;if(f&&f.removedBeforeQueried)return new Lg(e.duration,e.delay);const h=d!==a,m=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof Hg?t(i.players,n):n.push(i)}}(t,e),e}((n.get(d)||ab).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===d),p=i.get(d),g=o.get(d),v=Ug(0,this._normalizer,0,e.keyframes,p,g),b=this._buildPlayer(e,v,m);if(e.subTimeline&&r&&c.add(d),h){const e=new mb(t,s,d);e.setRealPlayer(b),u.push(e)}return b});u.forEach(t=>{Gg(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>yb(t,"ng-animating"));const f=jg(d);return f.onDestroy(()=>{l.forEach(t=>_b(t,"ng-animating")),pv(a,e.toStyles)}),c.forEach(t=>{Gg(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Lg(t.duration,t.delay)}}class mb{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Lg,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>$g(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Gg(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function pb(t){return t&&1===t.nodeType}function gb(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function vb(t,e,n,r,i){const o=[];n.forEach(t=>o.push(gb(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=lb,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>gb(t,o[a++])),s}function bb(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=i.get(e);if(o)return o;const s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}function yb(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function _b(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function wb(t,e,n){jg(n).onDone(()=>t.processLeaveNode(e))}function xb(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Cb{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new hb(t,e,n),this._timelineEngine=new sb(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=Iv(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new rb(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Yg(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Yg(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Sb(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Eb(e[0]),e.length>1&&(r=Eb(e[e.length-1]))):e&&(n=Eb(e)),n||r?new kb(t,n,r):null}let kb=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&pv(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pv(this._element,this._initialStyles),this._endStyles&&(pv(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(gv(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gv(this._element,this._endStyles),this._endStyles=null),pv(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Eb(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Ob(i)&&(e=e||{},e[i]=t[i])}return e}function Ob(t){return"display"===t||"position"===t}class Tb{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Nb(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Ib(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Rb(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Ab(this._element,this._name,"paused")}resume(){Ab(this._element,this._name,"running")}setPosition(t){const e=Db(this._element,this._name);this._position=t*this._duration,Ib(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Rb(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Nb(t,"").split(","),r=Mb(n,e);r>=0&&(n.splice(r,1),Ib(t,"",n.join(",")))}(this._element,this._name))}}function Ab(t,e,n){Ib(t,"PlayState",n,Db(t,e))}function Db(t,e){const n=Nb(t,"");return n.indexOf(",")>0?Mb(n.split(","),e):Mb([n],e)}function Mb(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Rb(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Ib(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Nb(t,e){return t.style["animation"+e]}class zb{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Tb(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Ov(this.element,n))})}this.currentSnapshot=t}}class Pb extends Lg{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=ov(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Fb{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return ev(t)}matchesElement(t,e){return nv(t,e)}containsElement(t,e){return rv(t,e)}query(t,e,n){return iv(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>ov(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const o=document.createElement("style");return o.innerHTML=r,o}animate(t,e,n,r,i,o=[],s){s&&this._notifyFaultyScrubber();const a=o.filter(t=>t instanceof zb),u={};Sv(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=kv(t,e,u));if(0==n)return new Pb(t,l);const c=`gen_css_kf_${this._count++}`,d=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(d);const f=Sb(t,e),h=new zb(t,e,c,n,r,i,l,f);return h.onDestroy(()=>{var t;(t=d).parentNode.removeChild(t)}),h}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Bb{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Ov(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Lb{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Hb().toString()),this._cssKeyframesDriver=new Fb}validateStyleProperty(t){return ev(t)}matchesElement(t,e){return nv(t,e)}containsElement(t,e){return rv(t,e)}query(t,e,n){return iv(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},l=o.filter(t=>t instanceof Bb);Sv(n,r)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=Sb(t,e=kv(t,e=e.map(t=>fv(t,!1)),u));return new Bb(t,e,a,c)}}function Hb(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Vb=(()=>{class t extends Og{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:ue.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Mg(t):t;return $b(this._renderer,null,e,"register",[n]),new jb(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Qa),Gt(Pc))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class jb extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Ub(this._id,t,e||{},this._renderer)}}class Ub{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return $b(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function $b(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let Wb=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new qb("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new Gb(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Gt(Qa),Gt(Cb),Gt(cc))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class qb{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Gb extends qb{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return"@"!=i.charAt(0)&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Yb=(()=>{class t extends Cb{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Pc),Gt(av),Gt(Xv))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const Kb=new Ft("AnimationModuleType"),Xb=[{provide:av,useFactory:function(){return"function"==typeof Hb()?new Lb:new Fb}},{provide:Kb,useValue:"BrowserAnimations"},{provide:Og,useClass:Vb},{provide:Xv,useFactory:function(){return new Zv}},{provide:Cb,useClass:Yb},{provide:Qa,useFactory:function(t,e,n){return new Wb(t,e,n)},deps:[Bf,Cb,cc]}];let Zb=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:Xb,imports:[Qf]}),t})();const Qb=["*",[["mat-option"],["ng-container"]]],Jb=["*","mat-option, ng-container"];function ty(t,e){if(1&t&&Ns(0,"mat-pseudo-checkbox",3),2&t){const t=Us();Ds("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const ey=["*"],ny=new ru("9.2.2"),ry=new Ft("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let iy,oy=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return wr()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&ny.full!==Eg.full&&console.warn("The Angular Material version ("+ny.full+") does not match the Angular CDK version ("+Eg.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)(Gt(Sg),Gt(ry,8),Gt(Pc,8))},imports:[[wm],wm]}),t})();function sy(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=rh(t)}}}function ay(t,e){return class extends t{constructor(...t){super(...t),this.color=e}get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}}}function uy(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=rh(t)}}}function ly(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?t:e}}}function cy(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new C}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{iy="undefined"!=typeof Intl}catch(iT){iy=!1}let dy=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({factory:function(){return new t},token:t,providedIn:"root"}),t})(),fy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),t})();function hy(t,e,n="mat"){t.changes.pipe(jh(t)).subscribe(({length:t})=>{my(e,`${n}-2-line`,!1),my(e,`${n}-3-line`,!1),my(e,`${n}-multi-line`,!1),2===t||3===t?my(e,`${n}-${t}-line`,!0):t>3&&my(e,`${n}-multi-line`,!0)})}function my(t,e,n){const r=t.nativeElement.classList;n?r.add(e):r.remove(e)}let py=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[oy],oy]}),t})();class gy{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const vy={enterDuration:450,exitDuration:400},by=pm({passive:!0}),yy=["mousedown","touchstart"],_y=["mouseup","mouseleave","touchend","touchcancel"];class wy{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=ah(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},vy),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),s=t-r.left,a=e-r.top,u=i.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=`${s-o}px`,l.style.top=`${a-o}px`,l.style.height=`${2*o}px`,l.style.width=`${2*o}px`,null!=n.color&&(l.style.backgroundColor=n.color),l.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const c=new gy(this,l,n);return c.state=0,this._activeRipples.add(c),n.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=1,n.persistent||t&&this._isPointerDown||c.fadeOut()},u),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},vy),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=ah(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(yy))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(_y),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=yg(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,by)})})}_removeTriggerEvents(){this._triggerElement&&(yy.forEach(t=>{this._triggerElement.removeEventListener(t,this,by)}),this._pointerUpEventsRegistered&&_y.forEach(t=>{this._triggerElement.removeEventListener(t,this,by)}))}}const xy=new Ft("mat-ripple-global-options");let Cy=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new wy(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa),Ts(cc),Ts(um),Ts(xy,8),Ts(Kb,8))},t.\u0275dir=ye({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&la("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),Sy=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[oy,lm],oy]}),t})(),ky=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(Ts(Kb,8))},t.\u0275cmp=fe({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&la("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),Ey=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)}}),t})();class Oy{}const Ty=sy(Oy);let Ay=0,Dy=(()=>{class t extends Ty{constructor(){super(...arguments),this._labelId=`mat-optgroup-label-${Ay++}`}}return t.\u0275fac=function(e){return My(e||t)},t.\u0275cmp=fe({type:t,selectors:[["mat-optgroup"]],hostAttrs:["role","group",1,"mat-optgroup"],hostVars:4,hostBindings:function(t,e){2&t&&(Ss("aria-disabled",e.disabled.toString())("aria-labelledby",e._labelId),la("mat-optgroup-disabled",e.disabled))},inputs:{disabled:"disabled",label:"label"},exportAs:["matOptgroup"],features:[Da],ngContentSelectors:Jb,decls:4,vars:2,consts:[[1,"mat-optgroup-label",3,"id"]],template:function(t,e){1&t&&(Ws(Qb),Rs(0,"label",0),Sa(1),Ys(2),Is(),Ys(3,1)),2&t&&(Ds("id",e._labelId),pi(1),Ea("",e.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();const My=or(Dy);let Ry=0;class Iy{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const Ny=new Ft("MAT_OPTION_PARENT_COMPONENT");let zy=(()=>{class t{constructor(t,e,n,r){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${Ry++}`,this.onSelectionChange=new yl,this._stateChanges=new C}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=rh(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||rp(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new Iy(this,t))}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa),Ts(Ko),Ts(Ny,8),Ts(Dy,8))},t.\u0275cmp=fe({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&Hs("click",(function(){return e._selectViaInteraction()}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&(Ta("id",e.id),Ss("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),la("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:ey,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&(Ws(),Es(0,ty,1,2,"mat-pseudo-checkbox",0),Rs(1,"span",1),Ys(2),Is(),Ns(3,"div",2)),2&t&&(Ds("ngIf",e.multiple),pi(3),Ds("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[Vd,Cy,ky],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function Py(t,e,n){if(n.length){let r=e.toArray(),i=n.toArray(),o=0;for(let e=0;e<t+1;e++)r[e].group&&r[e].group===i[o]&&o++;return o}return 0}function Fy(t,e,n,r){const i=t*e;return i<n?i:i+e>n+r?Math.max(0,i-r+e):n}let By=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[Sy,xf,Ey]]}),t})();const Ly=new Ft("mat-label-global-options");class Hy{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Vy(t,this.selector,this.caught))}}class Vy extends N{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new E(this,void 0,void 0);this.add(r);const i=I(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}class jy{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Uy(t,this.callback))}}class Uy extends m{constructor(t,e){super(t),this.add(new d(e))}}class $y{}class Wy{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Wy?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Wy;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Wy?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class qy{encodeKey(t){return Gy(t)}encodeValue(t){return Gy(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Gy(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Yy{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new qy,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Yy({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Ky(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Xy(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Zy(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Qy{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Wy),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Yy,this.urlWithParams=e}serializeBody(){return null===this.body?null:Ky(this.body)||Xy(this.body)||Zy(this.body)||"string"==typeof this.body?this.body:this.body instanceof Yy?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Zy(this.body)?null:Xy(this.body)?this.body.type||null:Ky(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Yy?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new Qy(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}const Jy=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class t_ extends class{constructor(t,e=200,n="OK"){this.headers=t.headers||new Wy,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Jy.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new t_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function e_(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let n_=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Qy)r=t;else{let i=void 0;i=n.headers instanceof Wy?n.headers:new Wy(n.headers);let o=void 0;n.params&&(o=n.params instanceof Yy?n.params:new Yy({fromObject:n.params})),r=new Qy(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=uh(r).pipe(H(t=>this.handler.handle(t),void 0,1));if(t instanceof Qy||"events"===n.observe)return i;const o=i.pipe(zh(t=>t instanceof t_));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(z(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(z(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(z(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(z(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Yy).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,e_(n,e))}post(t,e,n={}){return this.request("POST",t,e_(n,e))}put(t,e,n={}){return this.request("PUT",t,e_(n,e))}}return t.\u0275fac=function(e){return new(e||t)(Gt($y))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function r_(...t){if(1===t.length){const e=t[0];if(u(e))return i_(e,null);if(l(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return i_(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return i_(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(z(t=>e(...t)))}return i_(t,null)}function i_(t,e){return new b(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=L(t[a]);let l=!1;n.add(u.subscribe({next:t=>{l||(l=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&l||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const o_=["*"];function s_(t){return Error(`Unable to find icon with the name "${t}"`)}function a_(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+`via Angular's DomSanitizer. Attempted URL was "${t}".`)}function u_(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+`Angular's DomSanitizer. Attempted literal was "${t}".`)}class l_{constructor(t,e){this.options=e,t.nodeName?this.svgElement=t:this.url=t}}let c_=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new l_(n,r))}addSvgIconLiteralInNamespace(t,e,n,r){const i=this._sanitizer.sanitize($r.HTML,n);if(!i)throw u_(n);const o=this._createSvgElementForSingleIcon(i,r);return this._addSvgIconConfig(t,e,new l_(o,r))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new l_(e,n))}addSvgIconSetLiteralInNamespace(t,e,n){const r=this._sanitizer.sanitize($r.HTML,e);if(!r)throw u_(e);const i=this._svgElementFromString(r);return this._addSvgIconSetConfig(t,new l_(i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize($r.RESOURCE_URL,t);if(!e)throw a_(t);const n=this._cachedIconsByUrl.get(e);return n?uh(d_(n)):this._loadSvgIconFromConfig(new l_(t)).pipe(Zp(t=>this._cachedIconsByUrl.set(e,t)),z(t=>d_(t)))}getNamedSvgIcon(t,e=""){const n=f_(e,t),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Jh(s_(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgElement?uh(d_(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(Zp(e=>t.svgElement=e),z(t=>d_(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?uh(n):r_(e.filter(t=>!t.svgElement).map(t=>{return this._loadSvgIconSetFromConfig(t).pipe((e=e=>{const n=`Loading icon set URL: ${this._sanitizer.sanitize($r.RESOURCE_URL,t.url)} failed: ${e.message}`;return this._errorHandler?this._errorHandler.handleError(new Error(n)):console.error(n),uh(null)},function(t){const n=new Hy(e),r=t.lift(n);return n.caught=r}));var e})).pipe(z(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw s_(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgElement){const e=this._extractSvgIconFromSet(r.svgElement,t,r.options);if(e)return e}}return null}_loadSvgIconFromConfig(t){return this._fetchUrl(t.url).pipe(z(e=>this._createSvgElementForSingleIcon(e,t.options)))}_loadSvgIconSetFromConfig(t){return t.svgElement?uh(t.svgElement):this._fetchUrl(t.url).pipe(z(e=>(t.svgElement||(t.svgElement=this._svgElementFromString(e)),t.svgElement)))}_createSvgElementForSingleIcon(t,e){const n=this._svgElementFromString(t);return this._setSvgAttributes(n,e),n}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const o=this._svgElementFromString("<svg></svg>");return o.appendChild(i),this._setSvgAttributes(o,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchUrl(t){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error(`Cannot fetch icon from URL "${t}".`);const e=this._sanitizer.sanitize($r.RESOURCE_URL,t);if(!e)throw a_(t);const n=this._inProgressUrlFetches.get(e);if(n)return n;const r=this._httpClient.get(e,{responseType:"text"}).pipe((i=()=>this._inProgressUrlFetches.delete(e),t=>t.lift(new jy(i))),J());var i;return this._inProgressUrlFetches.set(e,r),r}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(f_(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}return t.\u0275fac=function(e){return new(e||t)(Gt(n_,8),Gt(Yf),Gt(Pc,8),Gt(lr,8))},t.\u0275prov=lt({factory:function(){return new t(Gt(n_,8),Gt(Yf),Gt(Pc,8),Gt(lr,8))},token:t,providedIn:"root"}),t})();function d_(t){return t.cloneNode(!0)}function f_(t,e){return t+":"+e}class h_{constructor(t){this._elementRef=t}}const m_=ay(h_),p_=new Ft("mat-icon-location",{providedIn:"root",factory:function(){const t=Yt(Pc),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),g_=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],v_=g_.map(t=>`[${t}]`).join(", "),b_=/^url\(['"]?#(.*?)['"]?\)$/;let y_=(()=>{class t extends m_{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=rh(t)}get fontSet(){return this._fontSet}set fontSet(t){this._fontSet=this._cleanupFontValue(t)}get fontIcon(){return this._fontIcon}set fontIcon(t){this._fontIcon=this._cleanupFontValue(t)}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnChanges(t){const e=t.svgIcon;if(e)if(this.svgIcon){const[t,e]=this._splitIconName(this.svgIcon);this._iconRegistry.getNamedSvgIcon(e,t).pipe(tp(1)).subscribe(t=>this._setSvgElement(t),n=>{const r=`Error retrieving icon ${t}:${e}! ${n.message}`;this._errorHandler?this._errorHandler.handleError(new Error(r)):console.error(r)})}else e.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){const e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e)}this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(v_),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)g_.forEach(t=>{const i=e[r],o=i.getAttribute(t),s=o?o.match(b_):null;if(s){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:s[1]})}})}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa),Ts(c_),As("aria-hidden"),Ts(p_,8),Ts(lr,8))},t.\u0275cmp=fe({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:4,hostBindings:function(t,e){2&t&&la("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color)},inputs:{color:"color",inline:"inline",fontSet:"fontSet",fontIcon:"fontIcon",svgIcon:"svgIcon"},exportAs:["matIcon"],features:[Da,Pa],ngContentSelectors:o_,decls:1,vars:0,template:function(t,e){1&t&&(Ws(),Ys(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),__=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[oy],oy]}),t})(),w_=(()=>{class t{constructor(t,e,n){this._locale=t,this._iconRegistry=e,this._sanitizer=n,this._initialized=!1,this.customIcons={superscript:'<svg viewBox="0 0 24 24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4z"/><path d="M20.9 11H16v-1l.9-.8c.8-.6 1.3-1.2 1.7-1.6.4-.4.6-.9.6-1.2 0-.3-.1-.5-.3-.7-.2-.2-.5-.3-.9-.3-.3 0-.6.1-.8.2l-.7.4-.5-1.3c.3-.2.6-.4 1-.5.4-.1.9-.2 1.3-.2.8 0 1.4.2 1.8.6.4.4.6.9.6 1.6 0 .6-.2 1.1-.5 1.6s-.8.9-1.3 1.4l-.6.5h2.6V11z" fill="#4d82b8"/></svg>',subscript:'<svg viewBox="0 0 24 24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10z"/><path d="M20.9 19H16v-1l.9-.8c.8-.6 1.3-1.2 1.7-1.6.4-.4.6-.9.6-1.2 0-.3-.1-.5-.3-.7-.2-.2-.5-.3-.9-.3-.3 0-.6.1-.8.2l-.7.4-.5-1.2c.3-.2.6-.4 1-.5.4-.1.8-.2 1.3-.2.8 0 1.4.3 1.8.7s.6.9.6 1.6c0 .6-.2 1.1-.5 1.6s-.8.9-1.3 1.4l-.6.5h2.6V19z" fill="#4d82b8"/></svg>',"unordered-list":'<svg viewBox="0 0 24 24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8c-.6 0-1-.4-1-1s.4-1 1-1zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8c-.6 0-1-.4-1-1s.4-1 1-1zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8c-.6 0-1-.4-1-1s.4-1 1-1z" fill-rule="evenodd" clip-rule="evenodd"/><path d="M4.5 6c0-.4.1-.8.4-1.1s.7-.4 1.1-.4.8.1 1.1.4.4.7.4 1.1-.1.8-.4 1.1-.7.4-1.1.4-.8-.1-1.1-.4-.4-.7-.4-1.1zm0 6c0-.4.1-.8.4-1.1.3-.3.6-.4 1.1-.4s.8.1 1.1.4c.3.3.4.6.4 1.1s-.1.8-.4 1.1c-.3.3-.6.4-1.1.4s-.8-.1-1.1-.4c-.3-.3-.4-.7-.4-1.1zm0 6c0-.4.1-.8.4-1.1s.6-.4 1.1-.4.8.1 1.1.4.4.6.4 1.1-.1.8-.4 1.1-.7.4-1.1.4-.8-.1-1.1-.4-.4-.7-.4-1.1z" fill-rule="evenodd" clip-rule="evenodd" fill="#4d82b8"/></svg>',"ordered-list":'<svg viewBox="0 0 24 24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8c-.6 0-1-.4-1-1s.4-1 1-1zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8c-.6 0-1-.4-1-1s.4-1 1-1zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8c-.6 0-1-.4-1-1s.4-1 1-1z" fill-rule="evenodd" clip-rule="evenodd"/><path d="M6 4v3.5c0 .3-.2.5-.5.5S5 7.8 5 7.5V5h-.5c-.3 0-.5-.2-.5-.5s.2-.5.5-.5H6zm-1 8.8c0 .1.1.2.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9c-.5 0-.9-.4-.9-.9v-.2c0-.4.3-.8.6-.9l1.1-.4c.1 0 .2-.2.2-.3.1-.2 0-.3-.1-.3H4.5c-.3 0-.5-.2-.5-.4 0-.4.2-.6.5-.6h1.6c.5 0 .9.4.9.9v.2c0 .4-.3.8-.6.9l-1.2.4c-.1.1-.2.3-.2.4zM7 17v2c0 .6-.4 1-1 1H4.5c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4c-.2 0-.4-.2-.4-.4s.2-.4.4-.4h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5c-.3 0-.5-.2-.5-.5s.2-.5.5-.5H6c.6 0 1 .4 1 1z" fill-rule="evenodd" clip-rule="evenodd" fill="#4d82b8"/></svg>',indent:'<svg viewBox="0 0 24 24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7c-.6 0-1-.4-1-1s.4-1 1-1zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7c-.6 0-1-.4-1-1s.4-1 1-1zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7c-.6 0-1-.4-1-1s.4-1 1-1zm-5 4h12c.6 0 1 .4 1 1s-.4 1-1 1H7c-.6 0-1-.4-1-1s.4-1 1-1z" fill-rule="evenodd" clip-rule="evenodd"/><path d="M4.4 13.2L6.2 12l-1.8-1.2c-.4-.3-.5-.9-.2-1.4.3-.4.9-.5 1.4-.2l3 2c.6.4.6 1.3 0 1.7l-3 2c-.5.3-1.1.2-1.4-.3-.3-.5-.2-1.1.2-1.4z" fill-rule="evenodd" clip-rule="evenodd" fill="#4d82b8"/></svg>',outdent:'<svg viewBox="0 0 24 24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7c-.6 0-1-.4-1-1s.4-1 1-1zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7c-.6 0-1-.4-1-1s.4-1 1-1zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7c-.6 0-1-.4-1-1s.4-1 1-1zm-5 4h12c.6 0 1 .4 1 1s-.4 1-1 1H7c-.6 0-1-.4-1-1s.4-1 1-1z" fill-rule="evenodd" clip-rule="evenodd"/><path d="M8.6 13.2c.5.3.6.9.3 1.4-.3.5-.9.6-1.4.3l-3-2c-.6-.4-.6-1.3 0-1.7l3-2c.4-.3 1-.2 1.3.2.3.5.2 1.1-.3 1.4L6.8 12l1.8 1.2z" fill-rule="evenodd" clip-rule="evenodd" fill="#4d82b8"/></svg>',"remove-formatting":'<svg viewBox="0 0 32 32"><path fill="#5f5f5f" d="M9.26 2.04c1.2-.02 2.39-.03 3.58-.03 1.24 3.41 2.51 6.8 3.77 10.19-1.24 1.26-2.45 2.55-3.69 3.81-1.89-.01-3.78.01-5.68 0-.48 1.63-.98 3.26-1.47 4.88-1.19.08-2.39.12-3.58.13C4.54 14.69 6.97 8.39 9.26 2.04m-1.2 11.93l5.8.03c-.98-2.96-1.96-5.92-2.91-8.88-.9 2.97-1.86 5.92-2.89 8.85z"/><g fill="#e68497"><path d="M22.41 8.47c2.89-.19 4.54 3.05 6.44 4.8 1.93 1.75-.29 3.77-1.6 5.03-2.85 2.57-5.24 5.66-8.34 7.93-2.07.1-3.29-2.18-4.78-3.35-.94-1.28-3.52-2.83-1.87-4.53 3.27-3.39 6.44-6.98 10.15-9.88zM8.37 23.85c-.44-1.6 1.11-2.64 1.88-3.82 2.19 2.96 4.84 5.53 7.75 7.77-1.25.8-2.7 2.71-4.32 1.57-2-1.59-3.9-3.38-5.31-5.52z"/></g></svg>',search:'<svg viewBox="0 0 32 32"><path fill="#4d82b8" d="M12.96 3.15C18.24-1.09 27.05.95 29.9 7.1c3.26 5.96-.41 14.22-6.97 15.9-3.19 1.1-6.48-.01-9.48-1.17-3.05 2.84-5.8 5.99-8.89 8.79-1.76 2.19-5.35-1.44-3.1-3.18 2.74-3.11 5.92-5.82 8.69-8.92C7.38 13.54 8.2 6.61 12.96 3.15m3.22.98c-5.43 2.21-7.12 10.35-2.58 14.29 4.5 4.95 13.84 2.09 14.84-4.49C30.11 7.3 22.31.97 16.18 4.13z"/><path fill="#fff" d="M16.18 4.13c6.13-3.16 13.93 3.17 12.26 9.8-1 6.58-10.34 9.44-14.84 4.49-4.54-3.94-2.85-12.08 2.58-14.29z"/></svg>',cut:'<svg viewBox="0 0 55.8 60"><path d="M14.8 37l34-37s.13 13.84-3 18c-2.19 2.92-25 24-25 24l-3-3z" fill="gray" fill-rule="evenodd"/><path d="M40.8 38L6.9 0s-.22 13.84 2.9 18c2.19 2.92 25 24 25 24l2.91-1.78z" fill="gray" fill-rule="evenodd"/><path d="M22.8 47.5A10.4 10.4 0 1112.4 37a10.45 10.45 0 0110.4 10.5zM53.8 47.5A10.4 10.4 0 1143.4 37a10.45 10.45 0 0110.4 10.5z" fill="none" stroke="#3076bc" stroke-miterlimit="10" stroke-width="4"/></svg>',copy:'<svg viewBox="0 0 128 128"><path fill="#fafafa" d="M6 90V6h41.17L70 28.83V90H6z"/><path d="M46.34 8L68 29.66V88H8V8h38.34M48 4H4v88h68V28L48 4z" fill="gray"/><path fill="none" stroke="gray" stroke-miterlimit="10" stroke-width="4" d="M46 4v26h22"/><path fill="#4d82b8" d="M16 68h44v4H16zM16 56h44v4H16zM16 44h44v4H16z"/><path fill="#fafafa" d="M58 122V38h41.17L122 60.83V122H58z"/><path d="M98.34 40L120 61.66V120H60V40h38.34m1.66-4H56v88h68V60l-24-24z" fill="gray"/><path fill="none" stroke="gray" stroke-miterlimit="10" stroke-width="4" d="M98 36v26h22"/><path fill="#4d82b8" d="M68 100h44v4H68zM68 88h44v4H68zM68 76h44v4H68z"/></svg>',paste:'<svg viewBox="0 0 67.27 75.13"><path d="M39.27 37.11h16v11h11v26h-27v-37z" fill="#f6f6f6"/><path d="M56.37 38a68.49 68.49 0 019 9c-3 .15-6.08.12-9.12.11.02-3-.04-6.07.12-9.11z" fill="#f6f6f6"/><path d="M22.48.25a45.12 45.12 0 019.58 0c2.42.9 2.31 6 2.31 6l6.7-.11c2.56 0 3 .87 3.05 2.14l.15 7.83h-34v-8c.57-1.45.42-1.19 1.62-1.8 2.54-.27 8.24-.2 8.24-.2s-.08-5 2.35-5.86m1.79 3.86v6h6v-6zM38.27 36.11l17.81.2 11 11 .19 27.8h-29v-39m1 1v37h27v-26h-11v-11h-16m17.1.9l-.1 9.1h9.24z" fill="gray"/><path d="M.12 11.93c.6-4.37 6.29-4 9.13-3.84-.05 2.95.19 8.85.19 8.85H45.1s.23-5.9.19-8.85c2.84-.11 7-1 8.76 3.13.68 1.14.22 23.89.22 23.89h-17v35s-20 0-30 .08c-2.18 0-7-2.27-7.06-6.78C.18 49.4-.17 13.73.12 11.93z" fill="#edc87e"/></svg>',"line-height":'<svg viewBox="0 0 28 28.98"><path d="M0 5.49l5.5-5.5 5.5 5.5v4.33l-4-4v7.67H4V5.88l-4 4zM4 15.49h3v7.62c1.34-1.32 2.66-2.65 4-4v4.33c-1.82 1.85-3.66 3.68-5.49 5.51-1.85-1.79-3.68-3.63-5.51-5.46v-4.34l4 4z" fill="#4d82b8"/><path d="M13 5.49h15v1H13zM13 9.49h12v1H13zM13 13.49h15v1H13zM13 17.49h12v1H13zM13 21.49h15v1H13z" fill="#696969"/></svg>',zoom:'<svg viewBox="0 0 27.18 27.17"><path d="M3.5 2.5C7.98-1.75 16.1-.38 18.93 5.15c2.07 3.3.94 7.29.14 10.8 2.59 2.8 5.58 5.24 8 8.24a2.2 2.2 0 01-2.83 2.83c-3-2.37-5.43-5.36-8.23-7.95-3.72.9-8.06 2-11.42-.5C-.9 15.3-1.65 6.39 3.5 2.5m4 .06c-5.42 1.62-7.15 9.33-3 13.12 4.06 4.27 12.29 2 13.24-3.95C19.4 5.98 12.92.42 7.46 2.56z" fill="gray"/><path d="M7.46 2.56C12.92.42 19.4 5.98 17.74 11.73c-.95 5.91-9.18 8.22-13.24 3.95C.31 11.89 2.04 4.18 7.46 2.56z" fill="#fff"/></svg>',table:'<svg viewBox="0 0 28 24.99"><path d="M1 5h8v4H1V5zM10 5h8v4h-8zM19 5h8v4h-7.95C19 7.66 19 6.34 19 5zM1 10h8v4c-2.66 0-5.33.05-8 0v-4zM10 10h8v4q-4 .06-8 0v-4zM19 10h8v4h-8zM1 15h8v4H1zM10 15h8v4h-8zM19 15h8v4h-8zM1 20h8c0 1.32 0 2.64.07 4h-8C1 22.66 1 21.32 1 20zM10 20c2.65 0 5.29-.05 7.94 0l.06 4H9.94zM19 20h8v4h-8z" fill="#fff"/><path d="M0 0h28v25H0V0m1 5v19H27v-5-5-5-4H1z" fill="#727272"/><path d="M9 5h1v4h8V5h1c0 1.32.05 2.64.08 4h8v1h-8v4c2.67 0 5.33.05 8 0v1h-8v4h8v1h-8L19 24h-1v-4h-8v4H9c0-1.32 0-2.64-.07-4h-8v-1h8v-4h-8v-1h8v-4h-8V9h8L9 5m1 5v4q4 .06 8 0v-4h-8m0 5v4h8v-4h-8z" fill="#b3b3b3"/></svg>'},this.icons={"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 1 1 0-2h9.2zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h6.8zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h4.4zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 0 1 0-2h2zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 1 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10z"/></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19zm-1 8.8l.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>'}}configure(){if(this._initialized)return;const t=dd(this._locale);Object.keys(this.icons).forEach(e=>{"rtl"==t&&this.icons[`${e}-rtl`]&&(e=`${e}-rtl`),this._iconRegistry.addSvgIconLiteral(e,this._sanitizer.bypassSecurityTrustHtml(this.icons[e]))}),Object.keys(this.customIcons).forEach(t=>this._iconRegistry.addSvgIconLiteral(t,this._sanitizer.bypassSecurityTrustHtml(this.customIcons[t]))),this._initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Gt(Zl),Gt(c_),Gt(Yf))},t.\u0275prov=lt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const x_=["mainContextHeader"],C_=["mainContext"];function S_(t,e){}function k_(t,e){if(1&t&&Es(0,S_,0,0,"ng-template",5),2&t){const t=Us();Ds("ngIf",t.settings.useContexts)("ngTemplateOutlet",t.mainContextHeader)}}const E_=["name",$localize`:45a4b797ab6931fb10ed4ad33c49a77582db3db81926157928707021468:Inicio`];function O_(t,e){1&t&&(Rs(0,"ng-ribbon-home-tab"),Ys(1,1,["ngProjectAs","homeTabGroup0",5,["homeTabGroup0"]]),Ys(2,2,["ngProjectAs","homeTabGroup1",5,["homeTabGroup1"]]),Ys(3,3,["ngProjectAs","homeTabGroup2",5,["homeTabGroup2"]]),Ys(4,4,["ngProjectAs","homeTabGroup3",5,["homeTabGroup3"]]),Is())}function T_(t,e){if(1&t&&(Rs(0,"ng-ribbon-tab",6),rl(1,E_),Es(2,O_,5,0,"ng-ribbon-home-tab",7),Is()),2&t){const t=Us();Ds("active",!0)("order",1),pi(2),Ds("ngIf",t.editor)}}const A_=["name",$localize`:4f8245bacae0b551301bca164ef2e676f0f5cbb06281757374009452553:Insertar`],D_=["name",$localize`:d8d77448c75a3cec4ac1bc375bcff8d04d82d8272367680674096241746:Elementos`],M_=["matTooltip",$localize`:a0638dd18a68c28513825bc27b876de04ef63ef43749856710862625405:Inserta una tabla al documento.`];var R_;R_=$localize`:2ec5d89f8db223ca026e358a9d639397bbdb3899145111591157552954:Tabla`;const I_=["matTooltip",$localize`:0a00d0d2783316daa10735eb024a1fb4bf4422ba8915988378100203081:Incluye una imagen al documento desde un archivo local.`];var N_;N_=$localize`:07464a612b0c044a93bd1f851ce3bda8a9898b667937626225231657725:Imagen`;const z_=["matTooltip",$localize`:e1c73850f93913fcb89825f2f104fa49584b46d16918780922350657191:Crea un vnculo en el documento para el acceso rpido a pginas web y otros archivos.`];var P_;P_=$localize`:e08d21949ca0123b1409e261be61b7ca94f794c59040036088810033221:Enlace`;const F_=["matTooltip",$localize`:85461519f00009e1743f8696f9971bb7d0aab0118059563012970680969:Inserta una lnea horizontal que separa dos secciones del documento.`];var B_;B_=$localize`:34b8bcc4874af13b8dfe524349ceec6503690dc48044721524341360584:Separador`;const L_=["matTooltip",$localize`:039e1a6c8b6bcb02950b00245713a63743d40d5b4240525829296707174:Inserta una cita en el documento.`];var H_;H_=$localize`:dfa90e852112d26c8a4ef4c869b99d3f1f750e8a7681441480164444212:Cita`;const V_=["name",$localize`:d25f84e103a3bb1e21ba1d8de4bed2f1a40a8f035022819321472549990:Smbolos`];function j_(t,e){if(1&t){const t=Fs();Rs(0,"ng-ribbon-group",10),rl(1,V_),Rs(2,"app-symbol-list",15),Hs("symbolSelected",(function(e){Xe(t);const n=Us(2);return n.execute(n.Commands.insertText,e)})),Is(),Is()}if(2&t){const t=Us(2);pi(2),Ds("disabled",t.isDisabled(t.Commands.insertText))}}function U_(t,e){if(1&t){const t=Fs();Rs(0,"ng-ribbon-tab",8,9),rl(2,A_),Rs(3,"ng-ribbon-group",10),rl(4,D_),Rs(5,"button",11),rl(6,M_),Hs("click",(function(){Xe(t);const e=Us();return e.execute(e.Commands.insertHTML,e.defaultTable)})),Ns(7,"mat-icon",12),Rs(8,"div"),nl(9,R_),Is(),Is(),Rs(10,"button",11),rl(11,I_),Hs("click",(function(){return Xe(t),Us().insertImage()})),Ns(12,"img",13),Rs(13,"div"),nl(14,N_),Is(),Is(),Rs(15,"button",11),rl(16,z_),Hs("click",(function(){Xe(t);const e=Us();return e.execute(e.Commands.createLink)})),Ns(17,"img",13),Rs(18,"div"),nl(19,P_),Is(),Is(),Rs(20,"button",11),rl(21,F_),Hs("click",(function(){Xe(t);const e=Us();return e.execute(e.Commands.insertHorizontalRule)})),Ns(22,"img",13),Rs(23,"div"),nl(24,B_),Is(),Is(),Rs(25,"button",11),rl(26,L_),Hs("click",(function(){Xe(t);const e=Us();return e.execute(e.Commands.insertHTML,e.defaultQuote)})),Ns(27,"img",13),Rs(28,"div"),nl(29,H_),Is(),Is(),Is(),Es(30,j_,3,1,"ng-ribbon-group",14),Is()}if(2&t){const t=Os(1),e=Us();Ds("order",2),pi(5),Ds("disabled",e.isDisabled(e.Commands.insertHTML)),pi(5),Ds("disabled",e.isDisabled(e.Commands.insertHTML)),pi(2),Ks("src","",e.settings.assetsURL,"/images/picture.png",Kr),pi(3),Ds("disabled",e.isDisabled(e.Commands.createLink)),pi(2),Ks("src","",e.settings.assetsURL,"/images/link.png",Kr),pi(3),Ds("disabled",e.isDisabled(e.Commands.insertHorizontalRule)),pi(2),Ks("src","",e.settings.assetsURL,"/images/horizontal-line.png",Kr),pi(3),Ds("disabled",e.isDisabled(e.Commands.insertHTML)),pi(2),Ks("src","",e.settings.assetsURL,"/images/quote.png",Kr),pi(3),Ds("ngIf",t.showed)}}const $_=["*",[["homeTabGroup0"]],[["homeTabGroup1"]],[["homeTabGroup2"]],[["homeTabGroup3"]]],W_=["*","homeTabGroup0","homeTabGroup1","homeTabGroup2","homeTabGroup3"];let q_=(()=>{class t{constructor(t,e,n){this._cd=t,this._domUtils=e,this.settings=new nh,this.defaultTable="<table>\n<thead>\n<tr><th></th><th></th></tr>\n</thead>\n<tbody>\n<tr><td></td><td></td></tr>\n<tr><td></td><td></td></tr>\n</tbody>\n</table>",this.defaultQuote="<blockquote>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum a ante ut purus aliquam pellentesque. Suspendisse potenti. In sit amet risus quam, et egestas mauris. Nunc feugiat risus ut est facilisis condimentum. Sed et turpis velit, sit amet pharetra lacus.</blockquote>",this.Commands=Fp,n.configure()}ngOnChanges(t){t.editor&&(this._subscription&&this._subscription.unsubscribe(),this.editor&&(this._subscription=this.editor.updateUI.subscribe(()=>this.updateUI()),this.updateUI()))}updateUI(){this._cd.markForCheck()}execute(t,e){this.editor.execute(t,e)}isDisabled(t){return!this.editor||!this.editor.isCommandSupported(t)}insertImage(){this._domUtils.uploadAsDataURL("image/*").then(t=>this.execute(Fp.insertHTML,`<img src="${t}" />`),Bp)}insertChart(){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)(Ts(Ko),Ts(Xp),Ts(w_))},t.\u0275cmp=fe({type:t,selectors:[["ng-ribbon-wysiwyg"]],contentQueries:function(t,e,n){var r;1&t&&Nl(n,x_,!0),2&t&&Dl(r=Fl())&&(e.mainContextHeader=r.first)},viewQuery:function(t,e){var n;1&t&&(Ml(Yp,!0),Ml(C_,!0)),2&t&&(Dl(n=Fl())&&(e.ribbon=n.first),Dl(n=Fl())&&(e.mainContext=n.first))},inputs:{editor:"editor",settings:"settings"},features:[Pa],ngContentSelectors:W_,decls:8,vars:3,consts:[[3,"settings"],["mainContext",""],["header",""],[3,"active","order",4,"ngIf",6,"name"],[3,"order",4,"ngIf",6,"name"],[3,"ngIf","ngTemplateOutlet"],[3,"active","order",6,"name"],[4,"ngIf"],[3,"order",6,"name"],["insertTab",""],[6,"name"],["mat-button","",1,"xl",3,"disabled","click",6,"matTooltip"],["svgIcon","table"],[3,"src"],[4,"ngIf",6,"name"],[3,"disabled","symbolSelected"]],template:function(t,e){1&t&&(Ws($_),Rs(0,"ng-ribbon",0),Rs(1,"ng-ribbon-context",null,1),Es(3,k_,1,2,"ng-template",null,2,Vl),Es(5,T_,3,3,"ng-ribbon-tab",3),Es(6,U_,31,11,"ng-ribbon-tab",4),Ys(7),Is(),Is()),2&t&&(Ds("settings",e.settings),pi(5),Ds("ngIf",e.settings.showHomeTab),pi(1),Ds("ngIf",e.settings.showInsertTab))},styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     .flex-center{display:flex!important;align-items:center}[_nghost-%COMP%]     [mat-button].sm, [_nghost-%COMP%]     button.sm{padding:0 2px;min-width:auto;font-weight:400}@media (min-width:768px){[_nghost-%COMP%]     [mat-button].sm, [_nghost-%COMP%]     button.sm{padding:0 5px}}[_nghost-%COMP%]     [mat-button].sm img, [_nghost-%COMP%]     button.sm img{width:16px;height:16px;margin:0 3px}[_nghost-%COMP%]     [mat-button].xl, [_nghost-%COMP%]     button.xl{line-height:1.3;padding:0;height:100%;font-weight:400;white-space:normal;max-width:90px}@media (min-width:768px){[_nghost-%COMP%]     [mat-button].xl, [_nghost-%COMP%]     button.xl{padding:0 5px}}[_nghost-%COMP%]     [mat-button].xl img, [_nghost-%COMP%]     [mat-button].xl mat-icon, [_nghost-%COMP%]     button.xl img, [_nghost-%COMP%]     button.xl mat-icon{margin:5px;width:32px;height:32px;line-height:32px}[_nghost-%COMP%]     [mat-button][disabled], [_nghost-%COMP%]     button[disabled]{-webkit-filter:grayscale(100%);filter:grayscale(100%)}[_nghost-%COMP%]     [mat-button].active, [_nghost-%COMP%]     button.active{background-color:#c6c6c6}[_nghost-%COMP%]     .drop-down-icon{height:10px!important;line-height:10px!important}"]}),t})();const G_=new Ft("NgValueAccessor"),Y_={provide:G_,useExisting:xt(()=>K_),multi:!0};let K_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Ts(tu),Ts(Xa))},t.\u0275dir=ye({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Hs("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[qa([Y_])]}),t})();const X_={provide:G_,useExisting:xt(()=>Q_),multi:!0},Z_=new Ft("CompositionEventMode");let Q_=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=zc()?zc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(Ts(tu),Ts(Xa),Ts(Z_,8))},t.\u0275dir=ye({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Hs("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[qa([X_])]}),t})(),J_=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t}),t})(),tw=(()=>{class t extends J_{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return ew(e||t)},t.\u0275dir=ye({type:t,features:[Da]}),t})();const ew=or(tw);function nw(){throw new Error("unimplemented")}class rw extends J_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return nw()}get asyncValidator(){return nw()}}class iw{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let ow=(()=>{class t extends iw{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Ts(rw,2))},t.\u0275dir=ye({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&la("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Da]}),t})(),sw=(()=>{class t extends iw{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Ts(tw,2))},t.\u0275dir=ye({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&la("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Da]}),t})();function aw(t){return null==t||0===t.length}const uw=new Ft("NgValidators"),lw=new Ft("NgAsyncValidators"),cw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class dw{static min(t){return e=>{if(aw(e.value)||aw(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(aw(e.value)||aw(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return aw(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return aw(t.value)||cw.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(aw(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return dw.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(aw(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(fw);return 0==e.length?null:function(t){return mw(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(fw);return 0==e.length?null:function(t){return r_(function(t,e){return e.map(e=>e(t))}(t,e).map(hw)).pipe(z(mw))}}}function fw(t){return null!=t}function hw(t){const e=Bs(t)?L(t):t;if(!Ls(e))throw new Error("Expected validator to return Promise or Observable.");return e}function mw(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function pw(t){return t.validate?e=>t.validate(e):t}function gw(t){return t.validate?e=>t.validate(e):t}const vw={provide:G_,useExisting:xt(()=>bw),multi:!0};let bw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Ts(tu),Ts(Xa))},t.\u0275dir=ye({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Hs("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[qa([vw])]}),t})();const yw={provide:G_,useExisting:xt(()=>ww),multi:!0};let _w=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),ww=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(rw),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(Ts(tu),Ts(Xa),Ts(_w),Ts(ds))},t.\u0275dir=ye({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Hs("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[qa([yw])]}),t})();const xw={provide:G_,useExisting:xt(()=>Cw),multi:!0};let Cw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Ts(tu),Ts(Xa))},t.\u0275dir=ye({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Hs("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[qa([xw])]}),t})();const Sw='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',kw='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Ew='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Ow={provide:G_,useExisting:xt(()=>Aw),multi:!0};function Tw(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Aw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=bs}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Tw(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(Ts(tu),Ts(Xa))},t.\u0275dir=ye({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Hs("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[qa([Ow])]}),t})(),Dw=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Tw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa),Ts(tu),Ts(Aw,9))},t.\u0275dir=ye({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Mw={provide:G_,useExisting:xt(()=>Iw),multi:!0};function Rw(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Iw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=bs}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(Ts(tu),Ts(Xa))},t.\u0275dir=ye({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Hs("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[qa([Mw])]}),t})(),Nw=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Rw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Rw(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa),Ts(tu),Ts(Iw,9))},t.\u0275dir=ye({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function zw(t,e){return[...e.path,t]}function Pw(t,e){t||Hw(e,"Cannot find control with"),e.valueAccessor||Hw(e,"No value accessor for form control with"),t.validator=dw.compose([t.validator,e.validator]),t.asyncValidator=dw.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Fw(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Fw(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Fw(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Bw(t,e){null==t&&Hw(e,"Cannot find control with"),t.validator=dw.compose([t.validator,e.validator]),t.asyncValidator=dw.composeAsync([t.asyncValidator,e.asyncValidator])}function Lw(t){return Hw(t,"There is no FormControl instance attached to form control element with")}function Hw(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Vw(t){return null!=t?dw.compose(t.map(pw)):null}function jw(t){return null!=t?dw.composeAsync(t.map(gw)):null}const Uw=[K_,Cw,bw,Aw,Iw,ww];function $w(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Ww(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function qw(t){const e=Yw(t)?t.validators:t;return Array.isArray(e)?Vw(e):e||null}function Gw(t,e){const n=Yw(e)?e.asyncValidators:t;return Array.isArray(n)?jw(n):n||null}function Yw(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Kw{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=qw(t)}setAsyncValidators(t){this.asyncValidator=Gw(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=hw(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Zw?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Qw&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new yl,this.statusChanges=new yl}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Yw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Xw extends Kw{constructor(t=null,e,n){super(qw(e),Gw(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Zw extends Kw{constructor(t,e,n){super(qw(e),Gw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Xw?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Qw extends Kw{constructor(t,e,n){super(qw(e),Gw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Xw?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Jw={provide:tw,useExisting:xt(()=>ex)},tx=(()=>Promise.resolve(null))();let ex=(()=>{class t extends tw{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new yl,this.form=new Zw({},Vw(t),jw(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){tx.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Pw(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){tx.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),Ww(this._directives,t)})}addFormGroup(t){tx.then(()=>{const e=this._findContainer(t.path),n=new Zw({});Bw(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){tx.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){tx.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,$w(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(Ts(uw,10),Ts(lw,10))},t.\u0275dir=ye({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Hs("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qa([Jw]),Da]}),t})(),nx=(()=>{class t extends tw{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return zw(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Vw(this._validators)}get asyncValidator(){return jw(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return rx(e||t)},t.\u0275dir=ye({type:t,features:[Da]}),t})();const rx=or(nx);class ix{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${Sw}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${kw}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Ew}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${kw}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Ew}`)}}const ox={provide:tw,useExisting:xt(()=>sx)};let sx=(()=>{class t extends nx{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof ex||ix.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(Ts(tw,5),Ts(uw,10),Ts(lw,10))},t.\u0275dir=ye({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[qa([ox]),Da]}),t})();const ax={provide:rw,useExisting:xt(()=>lx)},ux=(()=>Promise.resolve(null))();let lx=(()=>{class t extends rw{constructor(t,e,n,r){super(),this.control=new Xw,this._registered=!1,this.update=new yl,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Hw(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var o;e.constructor===Q_?n=e:(o=e,Uw.some(t=>o.constructor===t)?(r&&Hw(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Hw(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(Hw(t,"No valid value accessor for form control with"),null)}(this,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!bs(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?zw(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Vw(this._rawValidators)}get asyncValidator(){return jw(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof sx)&&this._parent instanceof nx?ix.formGroupNameException():this._parent instanceof sx||this._parent instanceof ex||ix.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||ix.missingNameException()}_updateValue(t){ux.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;ux.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(Ts(tw,9),Ts(uw,10),Ts(lw,10),Ts(G_,10))},t.\u0275dir=ye({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[qa([ax]),Da,Pa]}),t})(),cx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const dx={provide:tw,useExisting:xt(()=>fx)};let fx=(()=>{class t extends tw{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new yl}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Pw(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Ww(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Bw(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Bw(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,$w(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>Lw(e)),e.valueAccessor.registerOnTouched(()=>Lw(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Pw(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Vw(this._validators);this.form.validator=dw.compose([this.form.validator,t]);const e=jw(this._asyncValidators);this.form.asyncValidator=dw.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||class{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Sw}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${kw}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Ew}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${Sw}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${kw}`)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(Ts(uw,10),Ts(lw,10))},t.\u0275dir=ye({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Hs("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qa([dx]),Da,Pa]}),t})();const hx={provide:uw,useExisting:xt(()=>px),multi:!0},mx={provide:uw,useExisting:xt(()=>gx),multi:!0};let px=(()=>{class t{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!==`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?dw.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&Ss("required",e.required?"":null)},inputs:{required:"required"},features:[qa([hx])]}),t})(),gx=(()=>{class t extends px{validate(t){return this.required?dw.requiredTrue(t):null}}return t.\u0275fac=function(e){return vx(e||t)},t.\u0275dir=ye({type:t,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&Ss("required",e.required?"":null)},features:[qa([mx]),Da]}),t})();const vx=or(gx),bx={provide:uw,useExisting:xt(()=>yx),multi:!0};let yx=(()=>{class t{set email(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}validate(t){return this._enabled?dw.email(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[qa([bx])]}),t})();const _x={provide:uw,useExisting:xt(()=>wx),multi:!0};let wx=(()=>{class t{ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=dw.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&Ss("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[qa([_x]),Pa]}),t})();const xx={provide:uw,useExisting:xt(()=>Cx),multi:!0};let Cx=(()=>{class t{ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=dw.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&Ss("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[qa([xx]),Pa]}),t})();const Sx={provide:uw,useExisting:xt(()=>kx),multi:!0};let kx=(()=>{class t{ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=dw.pattern(this.pattern)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&Ss("pattern",e.pattern?e.pattern:null)},inputs:{pattern:"pattern"},features:[qa([Sx]),Pa]}),t})(),Ex=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)}}),t})(),Ox=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[_w],imports:[Ex]}),t})();var Tx=n("5WJX"),Ax=n.n(Tx);n("DWi2"),n("hOyB"),n("Qjfq"),n("Tqh3"),n("vFQT"),n("B9FH"),n("iGOs"),n("kOcP"),n("YuVX"),n("ZNhe");let Dx=(()=>{class t{constructor(){}escape(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Mx=(()=>{class t{constructor(t,e,n,r){this._host=t,this._locale=e,this._htmlToolsSvc=n,this._ngZone=r,this.updateUI=new yl,this._propagateChange=Bp,this._onTouched=Bp}ngOnInit(){const t=this,e=this.tinyMceSettings||{},n=e.setup;e.setup=e=>{e.on("init",()=>{this._tinyMCE||(this._tinyMCE=e,this.setDisabledState(this._disabled),this.focus(),this._ngZone.runOutsideAngular(()=>{t._html&&e.setContent(t._html),e.on("blur",()=>this._ngZone.run(()=>this._onTouched())),e.on("change keyup undo redo",()=>{this._ngZone.run(()=>{this._html=e.getContent(),this._propagateChange(this._html)})}),e.on("NodeChange",()=>{this._ngZone.run(()=>{this.updateUI.emit()})})}))}),n&&n(e)};const r=Object.assign({target:this._host.nativeElement.appendChild(document.createElement("textarea")),base_url:"/assets/ribbon/vendor/tinymce",language:"pt"==this._locale?"pt_PT":this._locale,directionality:dd(this._locale),content_style:this.editorCSS,browser_spellcheck:!0,height:"100%",width:"100%",contextmenu:!1,custom_ui_selector:"ng-ribbon",plugins:"lists link image table paste imagetools quickbars searchreplace code",menubar:!1,statusbar:!1,branding:!1,paste_data_images:!0,toolbar:!1,imagetools_cors_hosts:[window.location.hostname],quickbars_insert_toolbar:!1,quickbars_selection_toolbar:"bold italic underline | formatselect | backcolor forecolor"},e);this._ngZone.runOutsideAngular(()=>Ax.a.init(r))}ngOnDestroy(){this._ngZone.runOutsideAngular(()=>Ax.a.remove(this._tinyMCE))}get tinyMCE(){return this._tinyMCE}get html(){return this._html}set html(t){this.writeValue(t),this._propagateChange(t)}get isDisabled(){return this._disabled}focus(){var t;null===(t=this._tinyMCE)||void 0===t||t.focus(!1)}execute(t,e){this._disabled||this._tinyMCE.execCommand(t,!1,e)}queryValue(t){var e;return null===(e=this._tinyMCE)||void 0===e?void 0:e.queryCommandValue(t)}queryBooleanValue(t){var e;return null===(e=this._tinyMCE)||void 0===e?void 0:e.queryCommandState(t)}isCommandSupported(t){return!this._disabled&&!!this._tinyMCE&&(t==Fp.undo?this._tinyMCE.undoManager.hasUndo():t==Fp.redo?this._tinyMCE.undoManager.hasRedo():this._tinyMCE.queryCommandSupported(t))}get activeElement(){var t;return null===(t=this._tinyMCE)||void 0===t?void 0:t.selection.getNode()}get fontFamily(){const t=this.queryValue(Fp.fontName);return t?t.split(/\s*,\s*/)[0].replace(/^['"]+|['"]+$/g,""):null}set fontFamily(t){this.execute(Fp.fontName,t)}get fontSize(){const t=this.queryValue(Fp.fontSize);return t||"0"===t?parseInt(t,10):null}set fontSize(t){this.execute(Fp.fontSize,t+"px")}registerOnChange(t){this._propagateChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._disabled=t,this._tinyMCE&&this._tinyMCE.setMode(t?"readonly":"design")}writeValue(t){this._html=t,this._tinyMCE&&this._tinyMCE.setContent(t)}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa),Ts(Zl),Ts(Dx),Ts(cc))},t.\u0275cmp=fe({type:t,selectors:[["ng-ribbon-textarea"]],inputs:{editorCSS:"editorCSS",tinyMceSettings:"tinyMceSettings"},outputs:{updateUI:"updateUI"},features:[qa([{provide:G_,useExisting:xt(()=>t),multi:!0}])],decls:0,vars:0,template:function(t,e){},styles:["[_nghost-%COMP%] {\n      display: block;\n      outline: none;\n      background: white;\n      overflow: hidden;\n      width: 100%;\n      height: 100%;\n      min-height: 100%;\n    }\n\n    [_nghost-%COMP%]     .tox-tinymce {\n      border: none !important;\n    }"]}),t})();const Rx=["header"],Ix=["*"];let Nx=(()=>{class t{constructor(t){this.tabs=[],this.ribbon=t}ngOnInit(){if(!this.ribbon)throw new Error(`Parent ribbon not found for context '${this.name}'`);this.ribbon.addContext(this)}ngOnDestroy(){this.ribbon.removeContext(this)}addTab(t){this.tabs.push(t),this.tabs=this.tabs.sort((t,e)=>t.order-e.order),t.active&&this.ribbon.selectTab(t)}removeTab(t){const e=this.tabs.indexOf(t);e>=0&&(t.active&&this.tabs.length>1&&this.ribbon.selectTab(this.tabs[e===this.tabs.length-1?e-1:e+1]),this.tabs.splice(e,1))}}return t.\u0275fac=function(e){return new(e||t)(Ts(Yp,8))},t.\u0275cmp=fe({type:t,selectors:[["ng-ribbon-context"]],contentQueries:function(t,e,n){var r;1&t&&Nl(n,Rx,!0),2&t&&Dl(r=Fl())&&(e.headerTemplate=r.first)},inputs:{name:"name",color:"color",ribbon:"ribbon"},ngContentSelectors:Ix,decls:1,vars:0,template:function(t,e){1&t&&(Ws(),Ys(0))},styles:["[_nghost-%COMP%] {\n      display: block;\n    }"]}),t})();const zx=["*"];let Px=(()=>{class t{constructor(t){this.order=0,this.selected=new yl,this.showed=!1,this.context=t}ngOnInit(){if(!this.context)throw new Error(`Parent context not found for tab '${this.name}'`);this.context.addTab(this)}ngOnDestroy(){this.context.removeTab(this)}}return t.\u0275fac=function(e){return new(e||t)(Ts(Nx,8))},t.\u0275cmp=fe({type:t,selectors:[["ng-ribbon-tab"]],hostAttrs:["role","tabpanel"],hostVars:2,hostBindings:function(t,e){2&t&&la("active",e.active)},inputs:{active:"active",name:"name",context:"context",order:"order"},outputs:{selected:"selected"},ngContentSelectors:zx,decls:1,vars:0,template:function(t,e){1&t&&(Ws(),Ys(0))},styles:["[_nghost-%COMP%]{border-bottom:1px solid #dadbdc;justify-content:flex-start;padding:4px;overflow-x:auto;flex-wrap:nowrap}.active[_nghost-%COMP%]{display:block;display:flex}"]}),t})();function Fx(t,e){if(1&t){const t=Fs();Rs(0,"button",2),Hs("click",(function(){return Xe(t),Us().showDialog.emit()})),qe.lFrame.currentNamespace="http://www.w3.org/2000/svg",Rs(1,"svg",3),Ns(2,"path",4),Is(),Is()}}const Bx=["*"];let Lx=(()=>{class t{constructor(){this.dialogLauncher=!1,this.showDialog=new yl}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["ng-ribbon-group"]],inputs:{name:"name",dialogLauncher:"dialogLauncher"},outputs:{showDialog:"showDialog"},ngContentSelectors:Bx,decls:4,vars:2,consts:[[1,"title"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 10 10"],["d","M1.7 8.3V1.6h6.6v1.7H10V0H0v10h4.2V8.3H1.7zM10 5L8.3 6.7 5.8 4.2 4.2 5.8l2.5 2.5L5 10h5V5z","fill","#939ba5"]],template:function(t,e){1&t&&(Ws(),Ys(0),Rs(1,"div",0),Sa(2),Es(3,Fx,3,0,"button",1),Is()),2&t&&(pi(2),Ea(" ",e.name," "),pi(1),Ds("ngIf",e.dialogLauncher))},directives:[Vd],styles:["[_nghost-%COMP%]{display:flex;align-items:center;align-content:center;position:relative;padding:0 4px 20px;border-right:1px solid #dadbdc;min-width:55px;flex-shrink:0;flex-wrap:nowrap;height:100%}.column[_nghost-%COMP%], [_nghost-%COMP%]     .column{display:flex;flex-direction:column;justify-content:space-around;justify-content:space-evenly;margin:0 5px;height:100%}[_nghost-%COMP%]     .vertical-divider{display:inline-block;border-color:#d2d2d2;height:80%;margin:0 2px}@media (min-width:768px){[_nghost-%COMP%]     .vertical-divider{margin:0 5px}}[_nghost-%COMP%]     input, [_nghost-%COMP%]     mat-select, [_nghost-%COMP%]     select{background:#fff;border:1px solid #c6c6c6;outline:none;margin:0 5px;padding:3px}[_nghost-%COMP%]     input:focus, [_nghost-%COMP%]     input:hover, [_nghost-%COMP%]     mat-select:focus, [_nghost-%COMP%]     mat-select:hover, [_nghost-%COMP%]     select:focus, [_nghost-%COMP%]     select:hover{border-color:#969696}.title[_ngcontent-%COMP%]{display:block;left:0;bottom:0;overflow:hidden;text-overflow:ellipsis;line-height:24px;height:20px;font-size:11px;text-align:center;white-space:nowrap;padding:0 5px}.title[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:0}.title[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{top:3px;background:transparent;border:none;outline:none}.title[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active, .title[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#c6c6c6}.title[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:8px;height:8px}"]}),t})();const Hx=["mat-button",""],Vx=["*"],jx=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class Ux{constructor(t){this._elementRef=t}}const $x=ay(sy(uy(Ux)));let Wx=(()=>{class t extends $x{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of jx)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color="accent")}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa),Ts(xg),Ts(Kb,8))},t.\u0275cmp=fe({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&Rl(Cy,!0),2&t&&Dl(n=Fl())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:3,hostBindings:function(t,e){2&t&&(Ss("disabled",e.disabled||null),la("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Da],attrs:Hx,ngContentSelectors:Vx,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(Ws(),Rs(0,"span",0),Ys(1),Is(),Ns(2,"div",1),Ns(3,"div",2)),2&t&&(pi(2),la("mat-button-ripple-round",e.isRoundButton||e.isIconButton),Ds("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Cy],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),qx=(()=>{class t extends Wx{constructor(t,e,n){super(e,t,n)}_haltDisabledEvents(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}return t.\u0275fac=function(e){return new(e||t)(Ts(xg),Ts(Xa),Ts(Kb,8))},t.\u0275cmp=fe({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){1&t&&Hs("click",(function(t){return e._haltDisabledEvents(t)})),2&t&&(Ss("tabindex",e.disabled?-1:e.tabIndex||0)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString()),la("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[Da],attrs:Hx,ngContentSelectors:Vx,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(Ws(),Rs(0,"span",0),Ys(1),Is(),Ns(2,"div",1),Ns(3,"div",2)),2&t&&(pi(2),la("mat-button-ripple-round",e.isRoundButton||e.isIconButton),Ds("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Cy],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),Gx=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[Sy,oy],oy]}),t})();function Yx(t,e){if(1&t){const t=Fs();Rs(0,"div",8),Hs("input",(function(e){Xe(t);const n=Us();return n.documentTitle=e.target.textContent,n.onTitleUpdated()})),Is()}2&t&&Ds("textContent",Us().documentTitle)}const Kx=["name",$localize`:07464a612b0c044a93bd1f851ce3bda8a9898b667937626225231657725:Imagen`],Xx=["name",$localize`:8393df2a86864c821d3ba520308da7a4923862b76890930864519343135:Formato`],Zx=["name",$localize`:516d443e2bebaae1b32b8dd25d00be0da8672add2615493033977417268:Ajustar`],Qx=["title",$localize`:76366c29223f0e006ee871d025574cb4d54e53a17460589589248744722:Cambia la imagen seleccionada por una diferente`];var Jx;function tC(t,e){1&t&&(Rs(0,"ng-ribbon-context",9),rl(1,Kx),Rs(2,"ng-ribbon-tab",10),rl(3,Xx),Rs(4,"ng-ribbon-group",10),rl(5,Zx),Rs(6,"button",11),rl(7,Qx),Ns(8,"img",12),Rs(9,"div"),nl(10,Jx),Is(),Is(),Is(),Is(),Is()),2&t&&(Us(),Ds("ribbon",Os(1).ribbon))}Jx=$localize`:e7b659e7d3b11e6e417bd61afe2892f6d844079b5882773384836880092:Reemplazar`;let eC=(()=>{class t{constructor(t,e){this._overlaySvc=t,this._titleSvc=e,this.documentTitle=$localize`Demo`,this.html='<h1>Welcome to <em>ng-ribbon</em></h1>\n<h3>Windows-like ribbon interface for you Angular apps + WYSIWYG implementation using TinyMCE</h3>\n\n<h4>Usage</h4>\n<ol>\n<li>Clone this repo: <a href="https://github.com/ideatic/ng-ribbon" target="_blank">https://github.com/ideatic/ng-ribbon</a></li>\n<li>Run <code>npm install</code></li>\n<li>Include this in your project\'s <code>angular.json</code><br/>\n<pre>\n    "assets": [\n              ...\n              {\n                "glob": "**/*",\n                "input": "./node_modules/tinymce/skins",\n                "output": "./assets/ribbon/vendor/tinymce/skins"\n              },\n              {\n                "glob": "**/*",\n                "input": "./node_modules/tinymce/themes",\n                "output": "./assets/ribbon/vendor/tinymce/themes"\n              },\n              {\n                "glob": "**/*",\n                "input": "./node_modules/tinymce-i18n/langs5",\n                "output": "./assets/ribbon/vendor/tinymce/langs"\n              },\n              {\n                "glob": "**/*",\n                "input": "projects/ng-ribbon-wysiwyg/src/assets",\n                "output": "./assets/ribbon/"\n              }\n            ]\n</pre>\n</li>\n<li>Run <code>ng serve</code> for a dev server</li>\n<li>Navigate to http://localhost:4200/</li>\n</ol>',this.showImageContext=!1,this.ribbonSettings=new nh({mainTabName:$localize`Archivo`,assetsURL:"/ng-ribbon/demo/assets",onMainTabActive:t=>this._showFileMenu(t)})}ngOnInit(){setTimeout(()=>this.showImageContext=!0,1e3),this.onTitleUpdated()}onTitleUpdated(){this._titleSvc.setTitle(`${this.documentTitle} - ng-ribbon`)}_showFileMenu(t){const e=this._overlaySvc.create({hasBackdrop:!0,positionStrategy:this._overlaySvc.position().flexibleConnectedTo(t).withPositions([new hp({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new hp({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"})]),scrollStrategy:this._overlaySvc.scrollStrategies.block()});e.backdropClick().subscribe(()=>e.dispose());const n=e.attach(new Vm(Pp));n.instance.closeMenu=()=>{n.destroy(),e.detach(),e.dispose()}}}return t.\u0275fac=function(e){return new(e||t)(Ts(Ap),Ts(th))},t.\u0275cmp=fe({type:t,selectors:[["app-root"]],decls:9,vars:4,consts:[[3,"settings","editor"],["ribbon",""],["mainContextHeader",""],["color","#f0f182",3,"ribbon",4,"ngIf",6,"name"],[1,"textarea-wrapper"],[1,"textarea"],[3,"ngModel","ngModelChange"],["editor",""],["contenteditable","",2,"outline","none",3,"textContent","input"],["color","#f0f182",3,"ribbon",6,"name"],[6,"name"],["mat-button","",1,"xl",6,"title"],["src","/assets/ribbon/images/picture.png"]],template:function(t,e){if(1&t&&(Rs(0,"ng-ribbon-wysiwyg",0,1),Es(2,Yx,1,1,"ng-template",null,2,Vl),Es(4,tC,11,1,"ng-ribbon-context",3),Is(),Rs(5,"div",4),Rs(6,"div",5),Rs(7,"ng-ribbon-textarea",6,7),Hs("ngModelChange",(function(t){return e.html=t})),Is(),Is(),Is()),2&t){const t=Os(8);Ds("settings",e.ribbonSettings)("editor",t),pi(4),Ds("ngIf",e.showImageContext),pi(3),Ds("ngModel",e.html)}},directives:[q_,Vd,Mx,ow,lx,Nx,Px,Lx,Wx],styles:["[_nghost-%COMP%] {\n        display: flex;\n        flex-direction: column;\n        height: 100%;\n      }\n\n      [_nghost-%COMP%]     ng-ribbon-group {\n        height: 105px;\n      }\n\n\n      .textarea-wrapper[_ngcontent-%COMP%] {\n        width: 100%;\n        flex-grow: 1;\n        padding: 10px;\n      }\n\n      .textarea[_ngcontent-%COMP%] {\n        max-width: 210mm;\n        width: 100%;\n        height: 297mm;\n        background: white;\n        border: 1px solid #c6c6c6;\n        padding: 2.54cm;\n        margin: 0 auto;\n      }"]}),t})(),nC=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[zp,Gx]}),t})(),rC=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[xf]]}),t})();const iC=["name",$localize`:5adcbdff8b510fb8ab4e6f0c941067a4ad8b6f284865848136482063272:Fuente`],oC=["matTooltip",$localize`:5adcbdff8b510fb8ab4e6f0c941067a4ad8b6f284865848136482063272:Fuente`],sC=["matTooltip",$localize`:ecab1ab7334658a872b93de6a48d2d671e42cc204065993687392584276:Tamao de la fuente`],aC=["matTooltip",$localize`:920a7bbb683fbcf8a0842bbe2eb196c8bada7e594237679857876185969:Aumentar tamao de la fuente`],uC=["matTooltip",$localize`:8f773726e581327bcdb7cc61591d673f252eec7b6173041864439376723:Reducir tamao de la fuente`],lC=["matTooltip",$localize`:eac63546cffe1bb2be08d14d0c1495bd325b1bbe6731490752929972226:Borrar formato`];var cC,dC,fC;cC=$localize`:9a4e0234647b45844fd592d3676eb57b3c285740655305651122952607:Minsculas`,dC=$localize`:c4c65b30bc88624b6ad220b590935b6451e9e3672899832903227515445:Maysculas`,fC=$localize`:474bf12b729ea585af34e59baa9f28b58c472a8f8331458230102334089:Ttulo`;const hC=["matTooltip",$localize`:89078ed48991f25f846177c2acdfe6696252b4ce5643279874372398237:Negrita`],mC=["matTooltip",$localize`:428a45a129a7c9d4cfd2dda4ffe1833fea59bceb7488168830821315560:Cursiva`],pC=["matTooltip",$localize`:64dc00a1eac42cd744bdbf8c9c5c2efb97c348292968210314730983799:Subrayado`],gC=["matTooltip",$localize`:77c685660a398ca49cbfd221d4428ae90dca98d53114716378552119971:Subndice`],vC=["matTooltip",$localize`:51cf1b66a3a65b0aaea184c8a678e8d17fcba0fc6937616776751935056:Superndice`],bC=["matTooltip",$localize`:4778a2d43c677e09f8bfa6371f1735f480898c636585960844912692959:Color de fondo`],yC=["matTooltip",$localize`:3e061a2539a17b9e5eba4894b5312cf755815a3c766044235408378108:Color de fuente`],_C=["name",$localize`:af9fbf38e8b4e98a4a8a01c356f60e12394a5eca394910966708565177:Prrafo`];var wC,xC,CC,SC,kC;wC=$localize`:474bf12b729ea585af34e59baa9f28b58c472a8f8331458230102334089:Ttulo`,xC=$localize`:e022d13298f33b3f60cb4b234d6c488fce7496c01235516274397854278:Ttulo principal`,CC=$localize`:be10668f1db84501b0b425e2ef9043e9816dc8887993356898548810268:Ttulo secundario`,SC=$localize`:2d868cec78e1d90ef9ea4c733ade4bc31efc906b6887905220681620692:Subttulo`,kC=$localize`:af9fbf38e8b4e98a4a8a01c356f60e12394a5eca394910966708565177:Prrafo`;const EC=["matTooltip",$localize`:9325168124049c3abbb5cf3cdd7cf7bb9aaa273e6008393515198496436:Alinear texto a la izquierda`],OC=["matTooltip",$localize`:c92e2bfabe73824f4060ab5cb1eafd9c35f782ec3665979760240292061:Centrar texto`],TC=["matTooltip",$localize`:c654a39684204bd512b6c1cfaff6b3ad2b6bf2d56537972076672860809:Alinear texto a la derecha`],AC=["matTooltip",$localize`:e9e4636f9e3599467f87935272698342d3849aad6300011405550510673:Justificar el texto para ocupar todo el ancho disponible`],DC=["matTooltip",$localize`:89353eba2d7e7392e78c0b4c9cd401ddf5db8bc8850302758433678715:Disminuir sangra`],MC=["matTooltip",$localize`:998cbc022bc24c1c8a0c0f541724a830d532e3cf9149434648988957577:Aumentar sangra`],RC=["name",$localize`:78b1251dcb9ee0197e97ec34006ad9a5f0e2221e6761843209563358778:Edicin`];var IC,NC,zC,PC;IC=$localize`:f65293569db2e9925520e035dea5db1f96fdfe62732313523368003935:Copiar`,NC=$localize`:05aee819e6afa08af5923607f67671d5074b9d3f1314796737578302352:Cortar`,zC=$localize`:e823f10c3fd6ac8337b097c9cfa83759ee5cb7792783365221163147277:Pegar`,PC=$localize`:b6bc65f3e9576dc6ac1493740124944c259a11f48713073708350341933:Buscar`;const FC=["matTooltip",$localize`:99e255de10424361e940c57ed3bdf4277919c3376561801954945500742:Deshacer`],BC=["matTooltip",$localize`:5d61694c3e43a74f05840526cb42fd3b80aaedae7917064851487442164:Rehacer`],LC=["matTooltip",$localize`:c1763f5c937281ed5eced04ab2b5f7af9f7b14f4782958386902442345:Editar cdigo HTML`],HC=function(t){return{fontFamily:t}};function VC(t,e){if(1&t&&(Rs(0,"mat-option",53),Sa(1),Is()),2&t){const t=e.$implicit;Ds("value",t)("ngStyle",hl(3,HC,t)),pi(1),ka(t)}}function jC(t,e){if(1&t&&(Rs(0,"mat-option",54),Sa(1),vl(2,"number"),Is()),2&t){const t=e.$implicit;Ds("value",t),pi(1),ka(bl(2,2,t))}}function UC(t,e){if(1&t){const t=Fs();Rs(0,"color-sketch",55),Hs("onChangeComplete",(function(e){Xe(t);const n=Us();return n.backColor=e.color.hex,n.execute(n.Commands.hiliteColor,n.backColor)})),Is()}2&t&&Ds("color",Us().backColor)}function $C(t,e){if(1&t){const t=Fs();Rs(0,"color-sketch",55),Hs("onChangeComplete",(function(e){Xe(t);const n=Us();return n.foreColor=e.color.hex,n.execute(n.Commands.foreColor,n.foreColor)})),Is()}2&t&&Ds("color",Us().foreColor)}const WC=[[["homeTabGroup0"]],[["homeTabGroup1"]],[["homeTabGroup2"]],[["homeTabGroup3"]]],qC=function(t){return{background:t}},GC=["homeTabGroup0","homeTabGroup1","homeTabGroup2","homeTabGroup3"];let YC=(()=>{class t{constructor(t){this.ribbon=t,this.backColor="yellow",this.foreColor="red",this.Commands=Fp}execute(t,e){this.ribbon.editor.execute(t,e)}isActive(t){return this.ribbon.editor.queryBooleanValue(t)}isDisabled(t){return!this.ribbon.editor.isCommandSupported(t)}}return t.\u0275fac=function(e){return new(e||t)(Ts(q_))},t.\u0275cmp=fe({type:t,selectors:[["ng-ribbon-home-tab"]],ngContentSelectors:GC,decls:146,vars:66,consts:[[1,"column",6,"name"],["type","text","matInput","",2,"width","90px","margin","0 1px",3,"ngModel","matAutocomplete","disabled","ngModelChange",6,"matTooltip"],["fontFamilies",""],[3,"value","ngStyle",4,"ngFor","ngForOf"],["type","text","matInput","",2,"width","35px",3,"ngModel","matAutocomplete","disabled","ngModelChange",6,"matTooltip"],["fontSizes",""],[3,"value",4,"ngFor","ngForOf"],["mat-button","",1,"sm",2,"padding-left","0",3,"disabled","click",6,"matTooltip"],["svgIcon","format"],[1,"font-size-arrow"],["mat-button","",1,"sm",3,"disabled","click",6,"matTooltip"],[1,"vertical-divider",3,"vertical"],["svgIcon","remove-formatting"],["mat-button","",1,"sm",3,"matMenuTriggerFor","disabled"],[1,"flex-center"],["svgIcon","change-case"],[2,"width","15px","margin-left","-10px","vertical-align","sub"],["caseMenu",""],["mat-menu-item","",3,"click"],["mat-button","","tabindex","-1",1,"sm",3,"disabled","click",6,"matTooltip"],["svgIcon","bold"],["svgIcon","italic"],["svgIcon","underline"],["svgIcon","subscript"],["svgIcon","superscript"],[3,"dropDownMenu","disabled","mainBtnClick",6,"matTooltip"],["svgIcon","highlight-bg-color"],[1,"btn-color-preview"],[3,"ngStyle"],["bgColorMenu",""],["svgIcon","text-color"],["foreColorMenu",""],[3,"dropDownMenu","disabled","mainBtnClick"],["titleMenu",""],["svgIcon","align-left"],["svgIcon","align-center"],["svgIcon","align-right"],["svgIcon","align-justify"],["svgIcon","outdent"],["svgIcon","indent"],[6,"name"],[1,"column"],["mat-button","",1,"sm","flex-center",2,"line-height","28px",3,"disabled","click"],["svgIcon","copy",1,"sm"],["svgIcon","cut",1,"sm"],["svgIcon","paste",1,"sm"],["mat-button","",1,"sm","flex-center",3,"disabled","click"],["svgIcon","search",1,"sm"],["mat-button","",1,"sm","undo",3,"disabled","click",6,"matTooltip"],["svgIcon","undo"],["mat-button","",1,"sm","redo",3,"disabled","click",6,"matTooltip"],["svgIcon","redo"],["svgIcon","sourcecode"],[3,"value","ngStyle"],[3,"value"],[2,"width","220px",3,"color","onChangeComplete"]],template:function(t,e){if(1&t&&(Ws(WC),Ys(0),Rs(1,"ng-ribbon-group",0),rl(2,iC),Rs(3,"mat-list"),Rs(4,"input",1),rl(5,oC),Hs("ngModelChange",(function(t){return e.ribbon.editor.fontFamily=t})),Is(),Rs(6,"mat-autocomplete",null,2),Es(8,VC,2,5,"mat-option",3),Is(),Rs(9,"input",4),rl(10,sC),Hs("ngModelChange",(function(t){return e.ribbon.editor.fontSize=t})),Is(),Rs(11,"mat-autocomplete",null,5),Es(13,jC,3,4,"mat-option",6),Is(),Rs(14,"button",7),rl(15,aC),Hs("click",(function(){return e.ribbon.editor.fontSize=e.ribbon.editor.fontSize+1})),Ns(16,"mat-icon",8),Rs(17,"mat-icon",9),Sa(18,"arrow_drop_up"),Is(),Is(),Rs(19,"button",10),rl(20,uC),Hs("click",(function(){return e.ribbon.editor.fontSize=e.ribbon.editor.fontSize-1})),Ns(21,"mat-icon",8),Rs(22,"mat-icon",9),Sa(23,"arrow_drop_down"),Is(),Is(),Ns(24,"mat-divider",11),Rs(25,"button",10),rl(26,lC),Hs("click",(function(){return e.execute(e.Commands.removeFormat)})),Ns(27,"mat-icon",12),Is(),Ns(28,"mat-divider",11),Rs(29,"button",13),Rs(30,"div",14),Ns(31,"mat-icon",15),Rs(32,"mat-icon",16),Sa(33,"arrow_drop_down"),Is(),Is(),Rs(34,"mat-menu",null,17),Rs(36,"button",18),Hs("click",(function(){return e.execute(e.Commands.mceLowerCase)})),nl(37,cC),Is(),Rs(38,"button",18),Hs("click",(function(){return e.execute(e.Commands.mceUpperCase)})),nl(39,dC),Is(),Rs(40,"button",18),Hs("click",(function(){return e.execute(e.Commands.mceTitleCase)})),nl(41,fC),Is(),Is(),Is(),Is(),Rs(42,"mat-list"),Rs(43,"button",19),rl(44,hC),Hs("click",(function(){return e.execute(e.Commands.bold)})),Ns(45,"mat-icon",20),Is(),Rs(46,"button",10),rl(47,mC),Hs("click",(function(){return e.execute(e.Commands.italic)})),Ns(48,"mat-icon",21),Is(),Rs(49,"button",10),rl(50,pC),Hs("click",(function(){return e.execute(e.Commands.underline)})),Ns(51,"mat-icon",22),Is(),Rs(52,"button",10),rl(53,gC),Hs("click",(function(){return e.execute(e.Commands.subscript)})),Ns(54,"mat-icon",23),Is(),Rs(55,"button",10),rl(56,vC),Hs("click",(function(){return e.execute(e.Commands.superscript)})),Ns(57,"mat-icon",24),Is(),Ns(58,"mat-divider",11),Rs(59,"app-split-button",25),rl(60,bC),Hs("mainBtnClick",(function(){return e.execute(e.Commands.hiliteColor,e.backColor)})),Ns(61,"mat-icon",26),Rs(62,"div",27),Ns(63,"div",28),Is(),Es(64,UC,1,1,"ng-template",null,29,Vl),Is(),Rs(66,"app-split-button",25),rl(67,yC),Hs("mainBtnClick",(function(){return e.execute(e.Commands.foreColor,e.foreColor)})),Ns(68,"mat-icon",30),Rs(69,"div",27),Ns(70,"div",28),Is(),Es(71,$C,1,1,"ng-template",null,31,Vl),Is(),Is(),Is(),Ys(73,1),Rs(74,"ng-ribbon-group",0),rl(75,_C),Rs(76,"mat-list"),Rs(77,"app-split-button",32),Hs("mainBtnClick",(function(){return e.execute(e.Commands.formatBlock,"h2")})),Rs(78,"mat-icon"),Sa(79,"text_fields"),Is(),Rs(80,"span"),nl(81,wC),Is(),Rs(82,"mat-menu",null,33),Rs(84,"button",18),Hs("click",(function(){return e.execute(e.Commands.formatBlock,"h1")})),nl(85,xC),Is(),Rs(86,"button",18),Hs("click",(function(){return e.execute(e.Commands.formatBlock,"h2")})),nl(87,CC),Is(),Rs(88,"button",18),Hs("click",(function(){return e.execute(e.Commands.formatBlock,"h3")})),nl(89,SC),Is(),Rs(90,"button",18),Hs("click",(function(){return e.execute(e.Commands.formatBlock,"p")})),nl(91,kC),Is(),Is(),Is(),Ns(92,"mat-divider",11),Ns(93,"app-list-buttons"),Is(),Rs(94,"mat-list"),Rs(95,"button",10),rl(96,EC),Hs("click",(function(){return e.execute(e.Commands.justifyLeft)})),Ns(97,"mat-icon",34),Is(),Rs(98,"button",10),rl(99,OC),Hs("click",(function(){return e.execute(e.Commands.justifyCenter)})),Ns(100,"mat-icon",35),Is(),Rs(101,"button",10),rl(102,TC),Hs("click",(function(){return e.execute(e.Commands.justifyRight)})),Ns(103,"mat-icon",36),Is(),Rs(104,"button",10),rl(105,AC),Hs("click",(function(){return e.execute(e.Commands.justifyFull)})),Ns(106,"mat-icon",37),Is(),Ns(107,"mat-divider",11),Rs(108,"button",10),rl(109,DC),Hs("click",(function(){return e.execute(e.Commands.outdent)})),Ns(110,"mat-icon",38),Is(),Rs(111,"button",10),rl(112,MC),Hs("click",(function(){return e.execute(e.Commands.indent)})),Ns(113,"mat-icon",39),Is(),Is(),Is(),Ys(114,2),Rs(115,"ng-ribbon-group",40),rl(116,RC),Rs(117,"div",41),Rs(118,"button",42),Hs("click",(function(){return e.execute(e.Commands.copy)})),Ns(119,"mat-icon",43),Rs(120,"span"),nl(121,IC),Is(),Is(),Rs(122,"button",42),Hs("click",(function(){return e.execute(e.Commands.cut)})),Ns(123,"mat-icon",44),Rs(124,"span"),nl(125,NC),Is(),Is(),Rs(126,"button",42),Hs("click",(function(){return e.execute(e.Commands.paste)})),Ns(127,"mat-icon",45),Rs(128,"span"),nl(129,zC),Is(),Is(),Is(),Rs(130,"div",41),Rs(131,"button",46),Hs("click",(function(){return e.execute(e.Commands.SearchReplace)})),Ns(132,"mat-icon",47),Rs(133,"span"),nl(134,PC),Is(),Is(),Rs(135,"div"),Rs(136,"button",48),rl(137,FC),Hs("click",(function(){return e.execute(e.Commands.undo)})),Ns(138,"mat-icon",49),Is(),Rs(139,"button",50),rl(140,BC),Hs("click",(function(){return e.execute(e.Commands.redo)})),Ns(141,"mat-icon",51),Is(),Rs(142,"button",10),rl(143,LC),Hs("click",(function(){return e.execute(e.Commands.codeEditor)})),Ns(144,"mat-icon",52),Is(),Is(),Is(),Is(),Ys(145,3)),2&t){const t=Os(7),n=Os(12),r=Os(35),i=Os(65),o=Os(72),s=Os(83);pi(4),Ds("ngModel",e.ribbon.editor.fontFamily)("matAutocomplete",t)("disabled",e.isDisabled(e.Commands.fontName)),pi(4),Ds("ngForOf",e.ribbon.settings.font.families),pi(1),Ds("ngModel",e.ribbon.editor.fontSize)("matAutocomplete",n)("disabled",e.isDisabled(e.Commands.fontSize)),pi(4),Ds("ngForOf",e.ribbon.settings.font.sizes),pi(1),Ds("disabled",e.isDisabled(e.Commands.fontSize)),pi(5),Ds("disabled",e.isDisabled(e.Commands.fontSize)),pi(5),Ds("vertical",!0),pi(1),Ds("disabled",e.isDisabled(e.Commands.removeFormat)),pi(3),Ds("vertical",!0),pi(1),Ds("matMenuTriggerFor",r)("disabled",e.isDisabled(e.Commands.mceLowerCase)),pi(14),la("active",e.isActive(e.Commands.bold)),Ds("disabled",e.isDisabled(e.Commands.bold)),pi(3),la("active",e.isActive(e.Commands.italic)),Ds("disabled",e.isDisabled(e.Commands.italic)),pi(3),la("active",e.isActive(e.Commands.underline)),Ds("disabled",e.isDisabled(e.Commands.underline)),pi(3),la("active",e.isActive(e.Commands.subscript)),Ds("disabled",e.isDisabled(e.Commands.subscript)),pi(3),la("active",e.isActive(e.Commands.superscript)),Ds("disabled",e.isDisabled(e.Commands.superscript)),pi(3),Ds("vertical",!0),pi(1),Ds("dropDownMenu",i)("disabled",e.isDisabled(e.Commands.hiliteColor)),pi(4),Ds("ngStyle",hl(62,qC,e.backColor)),pi(3),Ds("dropDownMenu",o)("disabled",e.isDisabled(e.Commands.foreColor)),pi(4),Ds("ngStyle",hl(64,qC,e.foreColor)),pi(7),Ds("dropDownMenu",s)("disabled",e.isDisabled(e.Commands.formatBlock)),pi(15),Ds("vertical",!0),pi(3),la("active",e.isActive(e.Commands.justifyLeft)),Ds("disabled",e.isDisabled(e.Commands.justifyLeft)),pi(3),la("active",e.isActive(e.Commands.justifyCenter)),Ds("disabled",e.isDisabled(e.Commands.justifyCenter)),pi(3),la("active",e.isActive(e.Commands.justifyRight)),Ds("disabled",e.isDisabled(e.Commands.justifyRight)),pi(3),la("active",e.isActive(e.Commands.justifyFull)),Ds("disabled",e.isDisabled(e.Commands.justifyFull)),pi(3),Ds("vertical",!0),pi(1),Ds("disabled",e.isDisabled(e.Commands.outdent)),pi(3),Ds("disabled",e.isDisabled(e.Commands.indent)),pi(7),Ds("disabled",e.isDisabled(e.Commands.copy)),pi(4),Ds("disabled",e.isDisabled(e.Commands.cut)),pi(4),Ds("disabled",e.isDisabled(e.Commands.paste)),pi(5),Ds("disabled",e.isDisabled(e.Commands.SearchReplace)),pi(5),Ds("disabled",e.isDisabled(e.Commands.undo)),pi(3),Ds("disabled",e.isDisabled(e.Commands.redo)),pi(3),Ds("disabled",e.isDisabled(e.Commands.codeEditor))}},styles:["[_nghost-%COMP%]{justify-content:flex-start;display:flex}[_nghost-%COMP%]     .mat-form-field-infix{padding:0}mat-list[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:0}.btn-color-preview[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:6px;left:0;right:0}.btn-color-preview[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:5px;margin:0 auto}.font-size-arrow[_ngcontent-%COMP%]{width:15px;margin-left:-10px;vertical-align:sub;color:#4d82b8}mat-icon.sm[_ngcontent-%COMP%]{width:16px;height:16px;line-height:16px;margin:0 5px}.redo[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .undo[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#4d82b8}"]}),t})();function KC(t,e){if(1&t){const t=Fs();Rs(0,"button",2),Hs("click",(function(){Xe(t);const n=e.$implicit;return Us(2).symbolSelected.emit(n)})),Sa(1),Is()}if(2&t){const t=e.$implicit;Ds("disabled",Us(2).disabled),pi(1),ka(t)}}function XC(t,e){if(1&t&&(Rs(0,"div"),Rs(1,"h3"),Sa(2),Is(),Es(3,KC,2,2,"button",1),Is()),2&t){const t=e.$implicit;pi(2),ka(t.name),pi(1),Ds("ngForOf",t.symbols)}}let ZC=(()=>{class t{constructor(){this.disabled=!1,this.symbolSelected=new yl,this.symbols=[{name:$localize`Letras griegas`,symbols:["\u03b1","\u03b2","\u0393","\u03b3","\u0394","\u03b4","\u03b5","\u03b6","\u03b7","\u0398","\u03b8","\u03b9","\u03ba","\u039b","\u03bb","\u03bc","\u03bd","\u039e","Xi","\u03bf","\u03a0","\u03c0","\u03c1","\u03a3","\u03c3","\u03c4","\u03c5","\u03a6","\u03c6","\u03c7","\u03a8","\u03c8","\u03a9","\u03c9"]},{name:$localize`Matemticas`,symbols:["\xb9","\xb2","\xb3","\u207f","\u2030","\u2202","\u222b","\u2206","\u2211","\u220f","\u221a","\u221e","\u2229","\u215e","\u2248","\u2260","\u2264","\u2265","\xf7","\xbd","\u2153","\u2154","\xbc","\xbe","\u215b","\u215c","\u215d"]},{name:$localize`Flechas`,symbols:["\u2190","\u2191","\u2192","\u2193","\u2194","\u2195"]},{name:$localize`Varios`,symbols:["\u2022","\u266a","\u266b","\u2640","\u2642","\u2660","\u2663","\u2665","\u2666","\xa9","\xae","\u2122","\xac"]},{name:$localize`Divisas`,symbols:["\u20ac","$","\xa3","\xa2","\xa5","\xa4","\u20a7","\u20a8","\uffe6"]}]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-symbol-list"]],inputs:{disabled:"disabled"},outputs:{symbolSelected:"symbolSelected"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["mat-button","",3,"disabled","click",4,"ngFor","ngForOf"],["mat-button","",3,"disabled","click"]],template:function(t,e){1&t&&Es(0,XC,4,2,"div",0),2&t&&Ds("ngForOf",e.symbols)},directives:[Ld,Wx],styles:["[_nghost-%COMP%] {\n      display: block;\n      max-height: 75px;\n      min-width: 200px;\n      max-width: 700px;\n      overflow-y: scroll;\n      background: #fafbfc;\n      border: 1px solid #dbdcdd;\n      padding: 5px;\n    }\n\n    div[_ngcontent-%COMP%] {\n      margin-bottom: 10px;\n    }\n\n    h3[_ngcontent-%COMP%] {\n      color: rgba(0, 0, 0, .54);\n      font-size: 14px;\n      margin: 0 0 5px 0;\n      border-bottom: 1px solid rgba(0, 0, 0, .14);\n    }\n\n    button[_ngcontent-%COMP%] {\n      font-size: 40px;\n      padding: 0 10px;\n      margin-bottom: 10px;\n      width: 40px;\n      max-width: 40px;\n    }"]}),t})();function QC(t,e=Ah){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new JC(r,e))}class JC{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new tS(t,this.delay,this.scheduler))}}class tS extends m{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(tS.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new eS(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(nm.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(nm.createComplete()),this.unsubscribe()}}class eS{constructor(t,e){this.time=t,this.notification=e}}const nS=["mat-menu-item",""],rS=["*"];function iS(t,e){if(1&t){const t=Fs();Rs(0,"div",0),Hs("keydown",(function(e){return Xe(t),Us()._handleKeydown(e)}))("click",(function(){return Xe(t),Us().closed.emit("click")}))("@transformMenu.start",(function(e){return Xe(t),Us()._onAnimationStart(e)}))("@transformMenu.done",(function(e){return Xe(t),Us()._onAnimationDone(e)})),Rs(1,"div",1),Ys(2),Is(),Is()}if(2&t){const t=Us();Ds("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),Ss("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const oS={transformMenu:Tg("transformMenu",[Ig("void",Rg({opacity:0,transform:"scale(0.8)"})),zg("void => enter",Dg([Fg(".mat-menu-content, .mat-mdc-menu-content",Ag("100ms linear",Rg({opacity:1}))),Ag("120ms cubic-bezier(0, 0, 0.2, 1)",Rg({transform:"scale(1)"}))])),zg("* => void",Ag("100ms 25ms linear",Rg({opacity:0})))]),fadeInItems:Tg("fadeInItems",[Ig("showing",Rg({opacity:1})),zg("void => *",[Rg({opacity:0}),Ag("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let sS=(()=>{class t{constructor(t,e,n,r,i,o,s){this._template=t,this._componentFactoryResolver=e,this._appRef=n,this._injector=r,this._viewContainerRef=i,this._document=o,this._changeDetectorRef=s,this._attached=new C}attach(t={}){this._portal||(this._portal=new jm(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new Wm(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const e=this._template.elementRef.nativeElement;e.parentNode.insertBefore(this._outlet.outletElement,e),this._changeDetectorRef&&this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,t),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return t.\u0275fac=function(e){return new(e||t)(Ts(_u),Ts(Ka),Ts(Ac),Ts(ds),Ts(xu),Ts(Pc),Ts(Ko))},t.\u0275dir=ye({type:t,selectors:[["ng-template","matMenuContent",""]]}),t})();const aS=new Ft("MAT_MENU_PANEL");class uS{}const lS=uy(sy(uS));let cS=(()=>{class t extends lS{constructor(t,e,n,r){super(),this._elementRef=t,this._focusMonitor=n,this._parentMenu=r,this.role="menuitem",this._hovered=new C,this._focused=new C,this._highlighted=!1,this._triggersSubmenu=!1,n&&n.monitor(this._elementRef,!1),r&&r.addItem&&r.addItem(this),this._document=e}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement,e=this._document?this._document.TEXT_NODE:3;let n="";if(t.childNodes){const r=t.childNodes.length;for(let i=0;i<r;i++)t.childNodes[i].nodeType===e&&(n+=t.childNodes[i].textContent)}return n.trim()}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa),Ts(Pc),Ts(xg),Ts(aS,8))},t.\u0275cmp=fe({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&Hs("click",(function(t){return e._checkDisabled(t)}))("mouseenter",(function(){return e._handleMouseEnter()})),2&t&&(Ss("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),la("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[Da],attrs:nS,ngContentSelectors:rS,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(Ws(),Ys(0),Ns(1,"div",0)),2&t&&(pi(1),Ds("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[Cy],encapsulation:2,changeDetection:0}),t})();const dS=new Ft("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let fS=0,hS=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new wl,this._tabSubscription=d.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new C,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new yl,this.close=this.closed,this.panelId=`mat-menu-panel-${fS++}`}get xPosition(){return this._xPosition}set xPosition(t){"before"!==t&&"after"!==t&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){"above"!==t&&"below"!==t&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=rh(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=rh(t)}set panelClass(t){const e=this._previousPanelClass;e&&e.length&&e.split(" ").forEach(t=>{this._classList[t]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(t=>{this._classList[t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new pg(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(jh(this._directDescendantItems),Wh(t=>W(...t.map(t=>t._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(jh(this._directDescendantItems),Wh(t=>W(...t.map(t=>t._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const e=t.keyCode,n=this._keyManager;switch(e){case 27:rp(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case 36:case 35:rp(t)||(36===e?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:38!==e&&40!==e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.asObservable().pipe(tp(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length){let t=this._directDescendantItems.first._getHostElement().parentElement;for(;t;){if("menu"===t.getAttribute("role")){t.focus();break}t=t.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const e=`mat-elevation-z${Math.min(4+t,24)}`,n=Object.keys(this._classList).find(t=>t.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}setPositionClasses(t=this.xPosition,e=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(jh(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa),Ts(cc),Ts(dS))},t.\u0275dir=ye({type:t,contentQueries:function(t,e,n){var r;1&t&&(Nl(n,sS,!0),Nl(n,cS,!0),Nl(n,cS,!1)),2&t&&(Dl(r=Fl())&&(e.lazyContent=r.first),Dl(r=Fl())&&(e._allItems=r),Dl(r=Fl())&&(e.items=r))},viewQuery:function(t,e){var n;1&t&&Rl(_u,!0),2&t&&Dl(n=Fl())&&(e.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t})(),mS=(()=>{class t extends hS{}return t.\u0275fac=function(e){return pS(e||t)},t.\u0275dir=ye({type:t,features:[Da]}),t})();const pS=or(mS);let gS=(()=>{class t extends mS{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa),Ts(cc),Ts(dS))},t.\u0275cmp=fe({type:t,selectors:[["mat-menu"]],exportAs:["matMenu"],features:[qa([{provide:aS,useExisting:mS},{provide:mS,useExisting:t}]),Da],ngContentSelectors:rS,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,e){1&t&&(Ws(),Es(0,iS,3,6,"ng-template"))},directives:[Pd],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[oS.transformMenu,oS.fadeInItems]},changeDetection:0}),t})();const vS=new Ft("mat-menu-scroll-strategy"),bS={provide:vS,deps:[Ap],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},yS=pm({passive:!0});let _S=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this._overlay=t,this._element=e,this._viewContainerRef=n,this._parentMenu=i,this._menuItemInstance=o,this._dir=s,this._focusMonitor=a,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=d.EMPTY,this._hoverSubscription=d.EMPTY,this._menuCloseSubscription=d.EMPTY,this._handleTouchStart=()=>this._openedBy="touch",this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new yl,this.onMenuOpen=this.menuOpened,this.menuClosed=new yl,this.onMenuClose=this.menuClosed,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,yS),o&&(o._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=r}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.asObservable().subscribe(t=>{this._destroyMenu(),"click"!==t&&"tab"!==t||!this._parentMenu||this._parentMenu.closed.emit(t)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,yS),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),e=t.getConfig();this._setPosition(e.positionStrategy),e.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof mS&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}_destroyMenu(){if(!this._overlayRef||!this.menuOpen)return;const t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),t instanceof mS?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(zh(t=>"void"===t.toState),tp(1),Bh(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t.lazyContent&&t.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}_setMenuElevation(){if(this.menu.setElevation){let t=0,e=this.menu.parentMenu;for(;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}_restoreFocus(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}_checkMenu(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new fp({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(t=>{this.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[e,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[r,i]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[o,s]=[r,i],[a,u]=[e,n],l=0;this.triggersSubmenu()?(u=e="before"===this.menu.xPosition?"start":"end",n=a="end"===e?"start":"end",l="bottom"===r?8:-8):this.menu.overlapTrigger||(o="top"===r?"bottom":"top",s="top"===i?"bottom":"top"),t.withPositions([{originX:e,originY:o,overlayX:a,overlayY:r,offsetY:l},{originX:n,originY:o,overlayX:u,overlayY:r,offsetY:l},{originX:e,originY:s,overlayX:a,overlayY:i,offsetY:-l},{originX:n,originY:s,overlayX:u,overlayY:i,offsetY:-l}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments();return W(t,this._parentMenu?this._parentMenu.closed:uh(),this._parentMenu?this._parentMenu._hovered().pipe(zh(t=>t!==this._menuItemInstance),zh(()=>this._menuOpen)):uh(),e)}_handleMousedown(t){yg(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const e=t.keyCode;this.triggersSubmenu()&&(39===e&&"ltr"===this.dir||37===e&&"rtl"===this.dir)&&this.openMenu()}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(zh(t=>t===this._menuItemInstance&&!t.disabled),QC(0,Sh)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof mS&&this.menu._isAnimating?this.menu._animationDone.pipe(tp(1),QC(0,Sh),Bh(this._parentMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new jm(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(Ts(Ap),Ts(Xa),Ts(xu),Ts(vS),Ts(mS,8),Ts(cS,10),Ts(ym,8),Ts(xg))},t.\u0275dir=ye({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&Hs("mousedown",(function(t){return e._handleMousedown(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("click",(function(t){return e._handleClick(t)})),2&t&&Ss("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t})(),wS=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[bS],imports:[oy]}),t})(),xS=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[bS],imports:[[xf,oy,Sy,zp,wS],Fm,oy,wS]}),t})(),CS=(()=>{class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=rh(t)}get inset(){return this._inset}set inset(t){this._inset=rh(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,e){2&t&&(Ss("aria-orientation",e.vertical?"vertical":"horizontal"),la("mat-divider-vertical",e.vertical)("mat-divider-horizontal",!e.vertical)("mat-divider-inset",e.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,e){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),t})(),SS=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[oy],oy]}),t})();const kS=["*"],ES=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],OS=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],TS=["text"];function AS(t,e){if(1&t&&Ns(0,"mat-pseudo-checkbox",5),2&t){const t=Us();Ds("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const DS=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],MS=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];class RS{}const IS=sy(uy(RS));class NS{}const zS=uy(NS);let PS=(()=>{class t extends IS{constructor(){super(...arguments),this._stateChanges=new C}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return FS(e||t)},t.\u0275cmp=fe({type:t,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[Da,Pa],ngContentSelectors:kS,decls:1,vars:0,template:function(t,e){1&t&&(Ws(),Ys(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})();const FS=or(PS);let BS=(()=>{class t extends IS{constructor(t){super(),this._elementRef=t,this._stateChanges=new C,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa))},t.\u0275cmp=fe({type:t,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[Da,Pa],ngContentSelectors:kS,decls:1,vars:0,template:function(t,e){1&t&&(Ws(),Ys(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})(),LS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),t})(),HS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),t})(),VS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-subheader"]}),t})(),jS=(()=>{class t extends zS{constructor(t,e,n,r){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new C,this._disabled=!1,this._isInteractiveList=!!(n||r&&"action-list"===r._getListType()),this._list=n||r;const i=this._getHostElement();"button"!==i.nodeName.toLowerCase()||i.hasAttribute("type")||i.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Bh(this._destroyed)).subscribe(()=>{e.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=rh(t)}ngAfterContentInit(){hy(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa),Ts(Ko),Ts(PS,8),Ts(BS,8))},t.\u0275cmp=fe({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,e,n){var r;1&t&&(Nl(n,LS,!0),Nl(n,HS,!0),Nl(n,fy,!0)),2&t&&(Dl(r=Fl())&&(e._avatar=r.first),Dl(r=Fl())&&(e._icon=r.first),Dl(r=Fl())&&(e._lines=r))},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,e){2&t&&la("mat-list-item-disabled",e.disabled)("mat-list-item-avatar",e._avatar||e._icon)("mat-list-item-with-avatar",e._avatar||e._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[Da],ngContentSelectors:OS,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,e){1&t&&(Ws(ES),Rs(0,"div",0),Ns(1,"div",1),Ys(2),Rs(3,"div",2),Ys(4,1),Is(),Ys(5,2),Is()),2&t&&(pi(1),Ds("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()))},directives:[Cy],encapsulation:2,changeDetection:0}),t})();class US{}const $S=uy(US);class WS{}const qS=uy(WS),GS={provide:G_,useExisting:xt(()=>XS),multi:!0};class YS{constructor(t,e){this.source=t,this.option=e}}let KS=(()=>{class t extends qS{constructor(t,e,n){super(),this._element=t,this._changeDetector=e,this.selectionList=n,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&t!==this.value&&this._inputsInitialized&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const e=rh(t);e!==this._disabled&&(this._disabled=e,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const e=rh(t);e!==this._selected&&(this._setSelected(e),this.selectionList._reportValueChange())}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(e=>t.compareWith(e,this._value))&&this._setSelected(!0);const e=this._selected;Promise.resolve().then(()=>{(this._selected||e)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){hy(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,e=this.selectionList._removeOptionFromList(this);t&&e&&e.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){this.disabled||!this.selectionList.multiple&&this.selected||(this.toggle(),this.selectionList._emitChangeEvent(this))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa),Ts(Ko),Ts(xt(()=>XS)))},t.\u0275cmp=fe({type:t,selectors:[["mat-list-option"]],contentQueries:function(t,e,n){var r;1&t&&(Nl(n,LS,!0),Nl(n,HS,!0),Nl(n,fy,!0)),2&t&&(Dl(r=Fl())&&(e._avatar=r.first),Dl(r=Fl())&&(e._icon=r.first),Dl(r=Fl())&&(e._lines=r))},viewQuery:function(t,e){var n;1&t&&Rl(TS,!0),2&t&&Dl(n=Fl())&&(e._text=n.first)},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(t,e){1&t&&Hs("focus",(function(){return e._handleFocus()}))("blur",(function(){return e._handleBlur()}))("click",(function(){return e._handleClick()})),2&t&&(Ss("aria-selected",e.selected)("aria-disabled",e.disabled)("tabindex",-1),la("mat-list-item-disabled",e.disabled)("mat-list-item-with-avatar",e._avatar||e._icon)("mat-primary","primary"===e.color)("mat-accent","primary"!==e.color&&"warn"!==e.color)("mat-warn","warn"===e.color)("mat-list-single-selected-option",e.selected&&!e.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",selected:"selected",disabled:"disabled"},exportAs:["matListOption"],features:[Da],ngContentSelectors:MS,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(t,e){1&t&&(Ws(DS),Rs(0,"div",0),Ns(1,"div",1),Es(2,AS,1,2,"mat-pseudo-checkbox",2),Rs(3,"div",3,4),Ys(5),Is(),Ys(6,1),Is()),2&t&&(la("mat-list-item-content-reverse","after"==e.checkboxPosition),pi(1),Ds("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()),pi(1),Ds("ngIf",e.selectionList.multiple))},directives:[Cy,Vd,ky],encapsulation:2,changeDetection:0}),t})(),XS=(()=>{class t extends $S{constructor(t,e,n){super(),this._element=t,this._changeDetector=n,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new yl,this.tabIndex=0,this.color="accent",this.compareWith=(t,e)=>t===e,this._disabled=!1,this.selectedOptions=new Cm(this._multiple),this._tabIndex=-1,this._onChange=t=>{},this._destroyed=new C,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=rh(t),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(t){const e=rh(t);if(e!==this._multiple){if(wr()&&this._contentInitialized)throw new Error("Cannot change `multiple` mode of mat-selection-list after initialization.");this._multiple=e,this.selectedOptions=new Cm(this._multiple,this.selectedOptions.selected)}}ngAfterContentInit(){this._contentInitialized=!0,this._keyManager=new pg(this.options).withWrap().withTypeAhead().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(Bh(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(jh(null),Bh(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(Bh(this._destroyed)).subscribe(t=>{if(t.added)for(let e of t.added)e.selected=!0;if(t.removed)for(let e of t.removed)e.selected=!1})}ngOnChanges(t){const e=t.disableRipple,n=t.color;(e&&!e.firstChange||n&&!n.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){this._setAllOptionsSelected(!0)}deselectAll(){this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const e=this._getOptionIndex(t);return e>-1&&this._keyManager.activeItemIndex===e&&(e>0?this._keyManager.updateActiveItem(e-1):0===e&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(e+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const e=t.keyCode,n=this._keyManager,r=n.activeItemIndex,i=rp(t);switch(e){case 32:case 13:i||n.isTyping()||(this._toggleFocusedOption(),t.preventDefault());break;case 36:case 35:i||(36===e?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:if(65===e&&this.multiple&&rp(t,"ctrlKey")&&!n.isTyping()){const e=this.options.some(t=>!t.disabled&&!t.selected);this._setAllOptionsSelected(e,!0),t.preventDefault()}else n.onKeydown(t)}this.multiple&&(38===e||40===e)&&t.shiftKey&&n.activeItemIndex!==r&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new YS(this,t))}_onFocus(){const t=this._keyManager.activeItemIndex;t&&-1!==t?this._keyManager.setActiveItem(t):this._keyManager.setFirstItemActive()}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(t=>t._setSelected(!1)),t.forEach(t=>{const e=this.options.find(e=>!e.selected&&this.compareWith(e.value,t));e&&e._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let e=this.options.toArray()[t];!e||e.disabled||!this._multiple&&e.selected||(e.toggle(),this._emitChangeEvent(e))}}_setAllOptionsSelected(t,e){let n=!1;this.options.forEach(r=>{e&&r.disabled||!r._setSelected(t)||(n=!0)}),n&&this._reportValueChange()}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa),As("tabindex"),Ts(Ko))},t.\u0275cmp=fe({type:t,selectors:[["mat-selection-list"]],contentQueries:function(t,e,n){var r;1&t&&Nl(n,KS,!0),2&t&&Dl(r=Fl())&&(e.options=r)},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(t,e){1&t&&Hs("focus",(function(){return e._onFocus()}))("blur",(function(){return e._onTouched()}))("keydown",(function(t){return e._keydown(t)})),2&t&&Ss("aria-multiselectable",e.multiple)("aria-disabled",e.disabled.toString())("tabindex",e._tabIndex)},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[qa([GS]),Da,Pa],ngContentSelectors:kS,decls:1,vars:0,template:function(t,e){1&t&&(Ws(),Ys(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})(),ZS=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[py,Sy,oy,Ey,xf],py,oy,Ey,SS]}),t})();const QS=["underline"],JS=["connectionContainer"],tk=["inputContainer"],ek=["label"];function nk(t,e){1&t&&(zs(0),Rs(1,"div",14),Ns(2,"div",15),Ns(3,"div",16),Ns(4,"div",17),Is(),Rs(5,"div",18),Ns(6,"div",15),Ns(7,"div",16),Ns(8,"div",17),Is(),Ps())}function rk(t,e){1&t&&(Rs(0,"div",19),Ys(1,1),Is())}function ik(t,e){if(1&t&&(zs(0),Ys(1,2),Rs(2,"span"),Sa(3),Is(),Ps()),2&t){const t=Us(2);pi(3),ka(t._control.placeholder)}}function ok(t,e){1&t&&Ys(0,3,["*ngSwitchCase","true"])}function sk(t,e){1&t&&(Rs(0,"span",23),Sa(1," *"),Is())}function ak(t,e){if(1&t){const t=Fs();Rs(0,"label",20,21),Hs("cdkObserveContent",(function(){return Xe(t),Us().updateOutlineGap()})),Es(2,ik,4,1,"ng-container",12),Es(3,ok,1,0,void 0,12),Es(4,sk,2,0,"span",22),Is()}if(2&t){const t=Us();la("mat-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),Ds("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),Ss("for",t._control.id)("aria-owns",t._control.id),pi(2),Ds("ngSwitchCase",!1),pi(1),Ds("ngSwitchCase",!0),pi(1),Ds("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function uk(t,e){1&t&&(Rs(0,"div",24),Ys(1,4),Is())}function lk(t,e){if(1&t&&(Rs(0,"div",25,26),Ns(2,"span",27),Is()),2&t){const t=Us();pi(2),la("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function ck(t,e){1&t&&(Rs(0,"div"),Ys(1,5),Is()),2&t&&Ds("@transitionMessages",Us()._subscriptAnimationState)}function dk(t,e){if(1&t&&(Rs(0,"div",31),Sa(1),Is()),2&t){const t=Us(2);Ds("id",t._hintLabelId),pi(1),ka(t.hintLabel)}}function fk(t,e){if(1&t&&(Rs(0,"div",28),Es(1,dk,2,2,"div",29),Ys(2,6),Ns(3,"div",30),Ys(4,7),Is()),2&t){const t=Us();Ds("@transitionMessages",t._subscriptAnimationState),pi(1),Ds("ngIf",t.hintLabel)}}const hk=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],mk=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let pk=0,gk=(()=>{class t{constructor(){this.id=`mat-error-${pk++}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&Ss("id",e.id)},inputs:{id:"id"}}),t})();const vk={transitionMessages:Tg("transitionMessages",[Ig("enter",Rg({opacity:1,transform:"translateY(0%)"})),zg("void => enter",[Rg({opacity:0,transform:"translateY(-100%)"}),Ag("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let bk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t}),t})();function yk(t){return Error(`A hint was already declared for 'align="${t}"'.`)}let _k=0,wk=(()=>{class t{constructor(){this.align="start",this.id=`mat-hint-${_k++}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,e){2&t&&(Ss("id",e.id)("align",null),la("mat-right","end"==e.align))},inputs:{align:"align",id:"id"}}),t})(),xk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["mat-label"]]}),t})(),Ck=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["mat-placeholder"]]}),t})(),Sk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["","matPrefix",""]]}),t})(),kk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["","matSuffix",""]]}),t})(),Ek=0;class Ok{constructor(t){this._elementRef=t}}const Tk=ay(Ok,"primary"),Ak=new Ft("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Dk=new Ft("MatFormField");let Mk=(()=>{class t extends Tk{constructor(t,e,n,r,i,o,s,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=o,this._ngZone=s,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new C,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId=`mat-hint-${Ek++}`,this._labelId=`mat-form-field-label-${Ek++}`,this._labelOptions=n||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=rh(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(jh(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Bh(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Bh(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),W(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(jh(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(jh(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Bh(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,lh(this._label.nativeElement,"transitionend").pipe(tp(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw yk("start");t=n}else if("end"===n.align){if(e)throw yk("end");e=n}})}}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),o=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const o=this._getStartEnd(i),s=this._getStartEnd(t.children[0].getBoundingClientRect());let a=0;for(const e of t.children)a+=e.offsetWidth;e=Math.abs(s-o)-5,n=a>0?.75*a+10:0}for(let s=0;s<i.length;s++)i[s].style.width=`${e}px`;for(let s=0;s<o.length;s++)o[s].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa),Ts(Ko),Ts(Ly,8),Ts(ym,8),Ts(Ak,8),Ts(um),Ts(cc),Ts(Kb,8))},t.\u0275cmp=fe({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var r;1&t&&(Nl(n,bk,!0),zl(n,bk,!0),Nl(n,xk,!0),zl(n,xk,!0),Nl(n,Ck,!0),Nl(n,gk,!0),Nl(n,wk,!0),Nl(n,Sk,!0),Nl(n,kk,!0)),2&t&&(Dl(r=Fl())&&(e._controlNonStatic=r.first),Dl(r=Fl())&&(e._controlStatic=r.first),Dl(r=Fl())&&(e._labelChildNonStatic=r.first),Dl(r=Fl())&&(e._labelChildStatic=r.first),Dl(r=Fl())&&(e._placeholderChild=r.first),Dl(r=Fl())&&(e._errorChildren=r),Dl(r=Fl())&&(e._hintChildren=r),Dl(r=Fl())&&(e._prefixChildren=r),Dl(r=Fl())&&(e._suffixChildren=r))},viewQuery:function(t,e){var n;1&t&&(Rl(QS,!0),Ml(JS,!0),Rl(tk,!0),Rl(ek,!0)),2&t&&(Dl(n=Fl())&&(e.underlineRef=n.first),Dl(n=Fl())&&(e._connectionContainerRef=n.first),Dl(n=Fl())&&(e._inputContainerRef=n.first),Dl(n=Fl())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&la("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat)("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[qa([{provide:Dk,useExisting:t}]),Da],ngContentSelectors:mk,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(Ws(hk),Rs(0,"div",0),Rs(1,"div",1,2),Hs("click",(function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)})),Es(3,nk,9,0,"ng-container",3),Es(4,rk,2,0,"div",4),Rs(5,"div",5,6),Ys(7),Rs(8,"span",7),Es(9,ak,5,16,"label",8),Is(),Is(),Es(10,uk,2,0,"div",9),Is(),Es(11,lk,3,4,"div",10),Rs(12,"div",11),Es(13,ck,2,1,"div",12),Es(14,fk,5,2,"div",13),Is(),Is()),2&t&&(pi(3),Ds("ngIf","outline"==e.appearance),pi(1),Ds("ngIf",e._prefixChildren.length),pi(5),Ds("ngIf",e._hasFloatingLabel()),pi(1),Ds("ngIf",e._suffixChildren.length),pi(1),Ds("ngIf","outline"!=e.appearance),pi(1),Ds("ngSwitch",e._getDisplayedMessages()),pi(1),Ds("ngSwitchCase","error"),pi(1),Ds("ngSwitchCase","hint"))},directives:[Vd,Wd,qd,sg],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[vk.transitionMessages]},changeDetection:0}),t})(),Rk=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[xf,ag]]}),t})();function Ik(t){return new b(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?L(n):Qh()).subscribe(e)})}const Nk=["trigger"],zk=["panel"];function Pk(t,e){if(1&t&&(Rs(0,"span",8),Sa(1),Is()),2&t){const t=Us();pi(1),ka(t.placeholder||"\xa0")}}function Fk(t,e){if(1&t&&(Rs(0,"span"),Sa(1),Is()),2&t){const t=Us(2);pi(1),ka(t.triggerValue||"\xa0")}}function Bk(t,e){1&t&&Ys(0,0,["*ngSwitchCase","true"])}function Lk(t,e){1&t&&(Rs(0,"span",9),Es(1,Fk,2,1,"span",10),Es(2,Bk,1,0,void 0,11),Is()),2&t&&(Ds("ngSwitch",!!Us().customTrigger),pi(2),Ds("ngSwitchCase",!0))}function Hk(t,e){if(1&t){const t=Fs();Rs(0,"div",12),Rs(1,"div",13,14),Hs("@transformPanel.done",(function(e){return Xe(t),Us()._panelDoneAnimatingStream.next(e.toState)}))("keydown",(function(e){return Xe(t),Us()._handleKeydown(e)})),Ys(3,1),Is(),Is()}if(2&t){const t=Us();Ds("@transformPanelWrap",void 0),pi(1),Oa("mat-select-panel ",t._getPanelTheme(),""),ua("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),Ds("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),Ss("id",t.id+"-panel")}}const Vk=[[["mat-select-trigger"]],"*"],jk=["mat-select-trigger","*"],Uk={transformPanelWrap:Tg("transformPanelWrap",[zg("* => void",Fg("@transformPanel",[Pg()],{optional:!0}))]),transformPanel:Tg("transformPanel",[Ig("void",Rg({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Ig("showing",Rg({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Ig("showing-multiple",Rg({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),zg("void => *",Ag("120ms cubic-bezier(0, 0, 0.2, 1)")),zg("* => void",Ag("100ms 25ms linear",Rg({opacity:0})))])};let $k=0;const Wk=new Ft("mat-select-scroll-strategy"),qk=new Ft("MAT_SELECT_CONFIG"),Gk={provide:Wk,deps:[Ap],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class Yk{constructor(t,e){this.source=t,this.value=e}}class Kk{constructor(t,e,n,r,i){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}}const Xk=uy(ly(sy(cy(Kk))));let Zk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["mat-select-trigger"]]}),t})(),Qk=(()=>{class t extends Xk{constructor(t,e,n,r,i,o,s,a,u,l,c,d,f,h){super(i,r,s,a,l),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=o,this._parentFormField=u,this.ngControl=l,this._liveAnnouncer=f,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(t,e)=>t===e,this._uid=`mat-select-${$k++}`,this._destroy=new C,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._optionIds="",this._transformOrigin="top",this._panelDoneAnimatingStream=new C,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=Ik(()=>{const t=this.options;return t?t.changes.pipe(jh(t),Wh(()=>W(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.asObservable().pipe(tp(1),Wh(()=>this.optionSelectionChanges))}),this.openedChange=new yl,this._openedStream=this.openedChange.pipe(zh(t=>t),z(()=>{})),this._closedStream=this.openedChange.pipe(zh(t=>!t),z(()=>{})),this.selectionChange=new yl,this.valueChange=new yl,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(c)||0,this.id=this.id,h&&(null!=h.disableOptionCentering&&(this.disableOptionCentering=h.disableOptionCentering),null!=h.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=h.typeaheadDebounceInterval))}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=rh(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=rh(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=rh(t)}get compareWith(){return this._compareWith}set compareWith(t){if("function"!=typeof t)throw Error("`compareWith` must be a function.");this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.writeValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=ih(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Cm(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Eh(),Bh(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(Bh(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Bh(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(jh(null),Bh(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(tp(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.options&&this._setSelectionByValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,r=13===e||32===e,i=this._keyManager;if(!i.isTyping()&&r&&!rp(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const n=this.selected;36===e||35===e?(36===e?i.setFirstItemActive():i.setLastItemActive(),t.preventDefault()):i.onKeydown(t);const r=this.selected;r&&n!==r&&this._liveAnnouncer.announce(r.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,r=40===n||38===n,i=e.isTyping();if(36===n||35===n)t.preventDefault(),36===n?e.setFirstItemActive():e.setLastItemActive();else if(r&&t.altKey)t.preventDefault(),this.close();else if(i||13!==n&&32!==n||!e.activeItem||rp(t))if(!i&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&r&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(tp(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._selectionModel.clear(),t.forEach(t=>this._selectValue(t)),this._sortValues()}else{this._selectionModel.clear();const e=this._selectValue(t);e?this._keyManager.setActiveItem(e):this.panelOpen||this._keyManager.setActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return wr()&&console.warn(n),!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new mg(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Bh(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Bh(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=W(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Bh(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),W(...this.options.map(t=>t._stateChanges)).pipe(Bh(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()}),this._setOptionIds()}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new Yk(this,e)),this._changeDetectorRef.markForCheck()}_setOptionIds(){this._optionIds=this.options.map(t=>t.id).join(" ")}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const t=this._keyManager.activeItemIndex||0,e=Py(t,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=Fy(t+e,this._getItemHeight(),this.panel.nativeElement.scrollTop,256)}focus(t){this._elementRef.nativeElement.focus(t)}_getOptionIndex(t){return this.options.reduce((e,n,r)=>void 0!==e?e:t===n?r:void 0,void 0)}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,256),r=e*t-n;let i=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);i+=Py(i,this.options,this.optionGroups);const o=n/2;this._scrollTop=this._calculateOverlayScroll(i,o,r),this._offsetY=this._calculateOverlayOffsetY(i,o,r),this._checkOverlayWithinViewport(r)}_calculateOverlayScroll(t,e,n){const r=this._getItemHeight();return Math.min(Math.max(0,r*t-e+r/2),n)}_getAriaLabel(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder}_getAriaLabelledby(){return this.ariaLabelledby?this.ariaLabelledby:this._parentFormField&&this._parentFormField._hasFloatingLabel()&&!this._getAriaLabel()&&this._parentFormField._labelId||null}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),r=this.multiple?56:32;let i;if(this.multiple)i=40;else{let t=this._selectionModel.selected[0]||this.options.first;i=t&&t.group?32:16}n||(i*=-1);const o=0-(t.left+i-(n?r:0)),s=t.right+i-e.width+(n?0:r);o>0?i+=o+8:s>0&&(i-=s+8),this.overlayDir.offsetX=Math.round(i),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const r=this._getItemHeight(),i=(r-this._triggerRect.height)/2,o=Math.floor(256/r);let s;return this._disableOptionCentering?0:(s=0===this._scrollTop?t*r:this._scrollTop===n?(t-(this._getItemCount()-o))*r+(r-(this._getItemCount()*r-256)%r):e-r/2,Math.round(-1*s-i))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,i=n.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),s=Math.min(this._getItemCount()*e,256)-o-this._triggerRect.height;s>i?this._adjustPanelUp(s,i):o>r?this._adjustPanelDown(o,r,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const r=Math.round(t-e);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return 3*this._triggerFontSize}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return t.\u0275fac=function(e){return new(e||t)(Ts(Rm),Ts(Ko),Ts(cc),Ts(dy),Ts(Xa),Ts(ym,8),Ts(ex,8),Ts(fx,8),Ts(Dk,8),Ts(rw,10),As("tabindex"),Ts(Wk),Ts(bg),Ts(qk,8))},t.\u0275cmp=fe({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){var r;1&t&&(Nl(n,Zk,!0),Nl(n,zy,!0),Nl(n,Dy,!0)),2&t&&(Dl(r=Fl())&&(e.customTrigger=r.first),Dl(r=Fl())&&(e.options=r),Dl(r=Fl())&&(e.optionGroups=r))},viewQuery:function(t,e){var n;1&t&&(Rl(Nk,!0),Rl(zk,!0),Rl(Ip,!0)),2&t&&(Dl(n=Fl())&&(e.trigger=n.first),Dl(n=Fl())&&(e.panel=n.first),Dl(n=Fl())&&(e.overlayDir=n.first))},hostAttrs:["role","listbox",1,"mat-select"],hostVars:19,hostBindings:function(t,e){1&t&&Hs("keydown",(function(t){return e._handleKeydown(t)}))("focus",(function(){return e._onFocus()}))("blur",(function(){return e._onBlur()})),2&t&&(Ss("id",e.id)("tabindex",e.tabIndex)("aria-label",e._getAriaLabel())("aria-labelledby",e._getAriaLabelledby())("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-owns",e.panelOpen?e._optionIds:null)("aria-multiselectable",e.multiple)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),la("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",disableOptionCentering:"disableOptionCentering",typeaheadDebounceInterval:"typeaheadDebounceInterval",placeholder:"placeholder",required:"required",multiple:"multiple",compareWith:"compareWith",value:"value",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[qa([{provide:bk,useExisting:t},{provide:Ny,useExisting:t}]),Da,Pa],ngContentSelectors:jk,decls:9,vars:9,consts:[["cdk-overlay-origin","","aria-hidden","true",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],[3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(Ws(Vk),Rs(0,"div",0,1),Hs("click",(function(){return e.toggle()})),Rs(3,"div",2),Es(4,Pk,2,1,"span",3),Es(5,Lk,3,2,"span",4),Is(),Rs(6,"div",5),Ns(7,"div",6),Is(),Is(),Es(8,Hk,4,11,"ng-template",7),Hs("backdropClick",(function(){return e.close()}))("attach",(function(){return e._onAttached()}))("detach",(function(){return e.close()}))),2&t){const t=Os(1);pi(3),Ds("ngSwitch",e.empty),pi(1),Ds("ngSwitchCase",!0),pi(1),Ds("ngSwitchCase",!1),pi(3),Ds("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[Rp,Wd,qd,Ip,Gd,Pd],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[Uk.transformPanelWrap,Uk.transformPanel]},changeDetection:0}),t})(),Jk=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[Gk],imports:[[xf,zp,By,oy],Fm,Rk,By,oy]}),t})();const tE=["panel"];function eE(t,e){if(1&t&&(Rs(0,"div",0,1),Ys(2),Is()),2&t){const t=Us();Ds("id",t.id)("ngClass",t._classList)}}const nE=["*"];let rE=0;class iE{constructor(t,e){this.source=t,this.option=e}}class oE{}const sE=uy(oE),aE=new Ft("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let uE=(()=>{class t extends sE{constructor(t,e,n){super(),this._changeDetectorRef=t,this._elementRef=e,this._activeOptionChanges=d.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new yl,this.opened=new yl,this.closed=new yl,this.optionActivated=new yl,this._classList={},this.id=`mat-autocomplete-${rE++}`,this._autoActiveFirstOption=!!n.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=rh(t)}set classList(t){this._classList=t&&t.length?t.split(" ").reduce((t,e)=>(t[e.trim()]=!0,t),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new mg(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const e=new iE(this,t);this.optionSelected.emit(e)}_setVisibilityClasses(t){t["mat-autocomplete-visible"]=this.showPanel,t["mat-autocomplete-hidden"]=!this.showPanel}}return t.\u0275fac=function(e){return new(e||t)(Ts(Ko),Ts(Xa),Ts(aE))},t.\u0275cmp=fe({type:t,selectors:[["mat-autocomplete"]],contentQueries:function(t,e,n){var r;1&t&&(Nl(n,zy,!0),Nl(n,Dy,!0)),2&t&&(Dl(r=Fl())&&(e.options=r),Dl(r=Fl())&&(e.optionGroups=r))},viewQuery:function(t,e){var n;1&t&&(Ml(_u,!0),Rl(tE,!0)),2&t&&(Dl(n=Fl())&&(e.template=n.first),Dl(n=Fl())&&(e.panel=n.first))},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple",displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",classList:["class","classList"],panelWidth:"panelWidth"},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[qa([{provide:Ny,useExisting:t}]),Da],ngContentSelectors:nE,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(t,e){1&t&&(Ws(),Es(0,eE,3,2,"ng-template"))},directives:[Pd],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),lE=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa))},t.\u0275dir=ye({type:t,selectors:[["","matAutocompleteOrigin",""]],exportAs:["matAutocompleteOrigin"]}),t})();const cE=new Ft("mat-autocomplete-scroll-strategy"),dE={provide:cE,deps:[Ap],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},fE={provide:G_,useExisting:xt(()=>hE),multi:!0};let hE=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u,l){this._element=t,this._overlay=e,this._viewContainerRef=n,this._zone=r,this._changeDetectorRef=i,this._dir=s,this._formField=a,this._document=u,this._viewportRuler=l,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=d.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new C,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=Ik(()=>this.autocomplete&&this.autocomplete.options?W(...this.autocomplete.options.map(t=>t.onSelectionChange)):this._zone.onStable.asObservable().pipe(tp(1),Wh(()=>this.optionSelections))),this._scrollStrategy=o}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=rh(t)}ngAfterViewInit(){const t=this._getWindow();void 0!==t&&(this._zone.runOutsideAngular(()=>{t.addEventListener("blur",this._windowBlurHandler)}),this._isInsideShadowRoot=!!vm(this._element.nativeElement))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();void 0!==t&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return W(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(zh(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(zh(()=>this._overlayAttached)):uh()).pipe(z(t=>t instanceof Iy?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return W(lh(this._document,"click"),lh(this._document,"touchend")).pipe(zh(t=>{const e=this._isInsideShadowRoot&&t.composedPath?t.composedPath()[0]:t.target,n=this._formField?this._formField._elementRef.nativeElement:null;return this._overlayAttached&&e!==this._element.nativeElement&&(!n||!n.contains(e))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(e)}))}writeValue(t){Promise.resolve(null).then(()=>this._setTriggerValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const e=t.keyCode;if(27===e&&t.preventDefault(),this.activeOption&&13===e&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const n=this.autocomplete._keyManager.activeItem,r=38===e||40===e;this.panelOpen||9===e?this.autocomplete._keyManager.onKeydown(t):r&&this._canOpen()&&this.openPanel(),(r||this.autocomplete._keyManager.activeItem!==n)&&this._scrollToOption()}}_handleInput(t){let e=t.target,n=e.value;"number"===e.type&&(n=""==n?null:parseFloat(n)),this._previousValue!==n&&(this._previousValue=n,this._onChange(n),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_scrollToOption(){const t=this.autocomplete._keyManager.activeItemIndex||0,e=Py(t,this.autocomplete.options,this.autocomplete.optionGroups);if(0===t&&1===e)this.autocomplete._setScrollTop(0);else{const n=Fy(t+e,48,this.autocomplete._getScrollTop(),256);this.autocomplete._setScrollTop(n)}}_subscribeToClosingActions(){return W(this._zone.onStable.asObservable().pipe(tp(1)),this.autocomplete.options.changes.pipe(Zp(()=>this._positionStrategy.reapplyLastPosition()),QC(0))).pipe(Wh(()=>{const t=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),t!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),tp(1)).subscribe(t=>this._setValueAndClose(t))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(t){const e=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,n=null!=e?e:"";this._formField?this._formField._control.value=n:this._element.nativeElement.value=n,this._previousValue=n}_setValueAndClose(t){t&&t.source&&(this._clearPreviousSelectedOption(t.source),this._setTriggerValue(t.source.value),this._onChange(t.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(t.source)),this.closePanel()}_clearPreviousSelectedOption(t){this.autocomplete.options.forEach(e=>{e!=t&&e.selected&&e.deselect()})}_attachOverlay(){if(!this.autocomplete)throw Error("Attempting to open an undefined instance of `mat-autocomplete`. Make sure that the id passed to the `matAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.");let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new jm(this.autocomplete.template,this._viewContainerRef),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,t.keydownEvents().subscribe(t=>{(27===t.keyCode||38===t.keyCode&&t.altKey)&&(this._resetActiveItem(),this._closeKeyEventStream.next(),t.stopPropagation(),t.preventDefault())}),this._viewportRuler&&(this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})}))),t&&!t.hasAttached()&&(t.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const e=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&e!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new fp({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const e=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],n=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-autocomplete-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-autocomplete-panel-above"}];let r;r="above"===this.position?n:"below"===this.position?e:[...e,...n],t.withPositions(r)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){this.autocomplete._keyManager.setActiveItem(this.autocomplete.autoActiveFirstOption?0:-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}_getWindow(){var t;return(null===(t=this._document)||void 0===t?void 0:t.defaultView)||window}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa),Ts(Ap),Ts(xu),Ts(cc),Ts(Ko),Ts(cE),Ts(ym,8),Ts(Dk,9),Ts(Pc,8),Ts(Rm))},t.\u0275dir=ye({type:t,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(t,e){1&t&&Hs("focusin",(function(){return e._handleFocus()}))("blur",(function(){return e._onTouched()}))("input",(function(t){return e._handleInput(t)}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&Ss("autocomplete",e.autocompleteAttribute)("role",e.autocompleteDisabled?null:"combobox")("aria-autocomplete",e.autocompleteDisabled?null:"list")("aria-activedescendant",e.panelOpen&&e.activeOption?e.activeOption.id:null)("aria-expanded",e.autocompleteDisabled?null:e.panelOpen.toString())("aria-owns",e.autocompleteDisabled||!e.panelOpen||null==e.autocomplete?null:e.autocomplete.id)("aria-haspopup",!e.autocompleteDisabled)},inputs:{position:["matAutocompletePosition","position"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"],autocomplete:["matAutocomplete","autocomplete"],connectedTo:["matAutocompleteConnectedTo","connectedTo"]},exportAs:["matAutocompleteTrigger"],features:[qa([fE]),Pa]}),t})(),mE=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[dE],imports:[[By,zp,oy,xf],Fm,By,oy]}),t})();const pE=pm({passive:!0});let gE=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Zh;const e=ah(t),n=this._monitoredElements.get(e);if(n)return n.subject.asObservable();const r=new C,i="cdk-text-field-autofilled",o=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",o,pE),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",o,pE)}}),r.asObservable()}stopMonitoring(t){const e=ah(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(Gt(um),Gt(cc))},t.\u0275prov=lt({factory:function(){return new t(Gt(um),Gt(cc))},token:t,providedIn:"root"}),t})(),vE=(()=>{class t{constructor(t,e){this._elementRef=t,this._autofillMonitor=e,this.cdkAutofill=new yl}ngOnInit(){this._autofillMonitor.monitor(this._elementRef).subscribe(t=>this.cdkAutofill.emit(t))}ngOnDestroy(){this._autofillMonitor.stopMonitoring(this._elementRef)}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa),Ts(gE))},t.\u0275dir=ye({type:t,selectors:[["","cdkAutofill",""]],outputs:{cdkAutofill:"cdkAutofill"}}),t})(),bE=(()=>{class t{constructor(t,e,n,r){this._elementRef=t,this._platform=e,this._ngZone=n,this._destroyed=new C,this._enabled=!0,this._previousMinRows=-1,this._document=r,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(t){this._minRows=ih(t),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(t){this._maxRows=ih(t),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(t){t=rh(t),this._enabled!==t&&((this._enabled=t)?this.resizeToFitContent(!0):this.reset())}_setMinHeight(){const t=this.minRows&&this._cachedLineHeight?`${this.minRows*this._cachedLineHeight}px`:null;t&&(this._textareaElement.style.minHeight=t)}_setMaxHeight(){const t=this.maxRows&&this._cachedLineHeight?`${this.maxRows*this._cachedLineHeight}px`:null;t&&(this._textareaElement.style.maxHeight=t)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{lh(this._getWindow(),"resize").pipe(Nh(16),Bh(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0))}))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let t=this._textareaElement.cloneNode(!1);t.rows=1,t.style.position="absolute",t.style.visibility="hidden",t.style.border="none",t.style.padding="0",t.style.height="",t.style.minHeight="",t.style.maxHeight="",t.style.overflow="hidden",this._textareaElement.parentNode.appendChild(t),this._cachedLineHeight=t.clientHeight,this._textareaElement.parentNode.removeChild(t),this._setMinHeight(),this._setMaxHeight()}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(t=!1){if(!this._enabled)return;if(this._cacheTextareaLineHeight(),!this._cachedLineHeight)return;const e=this._elementRef.nativeElement,n=e.value;if(!t&&this._minRows===this._previousMinRows&&n===this._previousValue)return;const r=e.placeholder;e.classList.add("cdk-textarea-autosize-measuring"),e.placeholder="",e.style.height=`${e.scrollHeight-4}px`,e.classList.remove("cdk-textarea-autosize-measuring"),e.placeholder=r,this._ngZone.runOutsideAngular(()=>{"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(()=>this._scrollToCaretPosition(e)):setTimeout(()=>this._scrollToCaretPosition(e))}),this._previousValue=n,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(t){const{selectionStart:e,selectionEnd:n}=t,r=this._getDocument();this._destroyed.isStopped||r.activeElement!==t||t.setSelectionRange(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa),Ts(um),Ts(cc),Ts(Pc,8))},t.\u0275dir=ye({type:t,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(t,e){1&t&&Hs("input",(function(){return e._noopInputHandler()}))},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"]},exportAs:["cdkTextareaAutosize"]}),t})(),yE=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[lm]]}),t})(),_E=(()=>{class t extends bE{get matAutosizeMinRows(){return this.minRows}set matAutosizeMinRows(t){this.minRows=t}get matAutosizeMaxRows(){return this.maxRows}set matAutosizeMaxRows(t){this.maxRows=t}get matAutosize(){return this.enabled}set matAutosize(t){this.enabled=t}get matTextareaAutosize(){return this.enabled}set matTextareaAutosize(t){this.enabled=t}}return t.\u0275fac=function(e){return wE(e||t)},t.\u0275dir=ye({type:t,selectors:[["textarea","mat-autosize",""],["textarea","matTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize","mat-autosize"],inputs:{cdkAutosizeMinRows:"cdkAutosizeMinRows",cdkAutosizeMaxRows:"cdkAutosizeMaxRows",matAutosizeMinRows:"matAutosizeMinRows",matAutosizeMaxRows:"matAutosizeMaxRows",matAutosize:["mat-autosize","matAutosize"],matTextareaAutosize:"matTextareaAutosize"},exportAs:["matTextareaAutosize"],features:[Da]}),t})();const wE=or(_E),xE=new Ft("MAT_INPUT_VALUE_ACCESSOR"),CE=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let SE=0;class kE{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const EE=cy(kE);let OE=(()=>{class t extends EE{constructor(t,e,n,r,i,o,s,a,u){super(o,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._uid=`mat-input-${SE++}`,this._isServer=!1,this._isNativeSelect=!1,this.focused=!1,this.stateChanges=new C,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>dm().has(t));const l=this._elementRef.nativeElement;this._inputValueAccessor=s||l,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===l.nodeName.toLowerCase(),this._isNativeSelect&&(this.controlType=l.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=rh(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=rh(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea()&&dm().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=rh(t)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_isTextarea(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(CE.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(Ts(Xa),Ts(um),Ts(rw,10),Ts(ex,8),Ts(fx,8),Ts(dy),Ts(xE,10),Ts(gE),Ts(cc))},t.\u0275dir=ye({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:10,hostBindings:function(t,e){1&t&&Hs("focus",(function(){return e._focusChanged(!0)}))("blur",(function(){return e._focusChanged(!1)}))("input",(function(){return e._onInput()})),2&t&&(Ta("disabled",e.disabled)("required",e.required),Ss("id",e.id)("placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-describedby",e._ariaDescribedby||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),la("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher"},exportAs:["matInput"],features:[qa([{provide:bk,useExisting:t}]),Da,Pa]}),t})(),TE=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[dy],imports:[[yE,Rk],yE,Rk]}),t})();const AE={};class DE{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ME(t,this.resultSelector))}}class ME extends N{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(AE),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(I(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===AE?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class RE{constructor(t){this.total=t}call(t,e){return e.subscribe(new IE(t,this.total))}}class IE extends m{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const NE=new Set;let zE,PE=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):FE}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!NE.has(t))try{zE||(zE=document.createElement("style"),zE.setAttribute("type","text/css"),document.head.appendChild(zE)),zE.sheet&&(zE.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),NE.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(Gt(um))},t.\u0275prov=lt({factory:function(){return new t(Gt(um))},token:t,providedIn:"root"}),t})();function FE(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let BE=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new C}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return LE(oh(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=function(...t){let e=null,n=null;return k(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),$(t,n).lift(new DE(e))}(LE(oh(t)).map(t=>this._registerQuery(t).observable));return e=Vh(e.pipe(tp(1)),e.pipe(t=>t.lift(new RE(1)),tg(0))),e.pipe(z(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(t=>{e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new b(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(jh(e),z(e=>({query:t,matches:e.matches})),Bh(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(Gt(PE),Gt(cc))},t.\u0275prov=lt({factory:function(){return new t(Gt(PE),Gt(cc))},token:t,providedIn:"root"}),t})();function LE(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const HE={tooltipState:Tg("state",[Ig("initial, void, hidden",Rg({opacity:0,transform:"scale(0)"})),Ig("visible",Rg({transform:"scale(1)"})),zg("* => visible",Ag("200ms cubic-bezier(0, 0, 0.2, 1)",Ng([Rg({opacity:0,transform:"scale(0)",offset:0}),Rg({opacity:.5,transform:"scale(0.99)",offset:.5}),Rg({opacity:1,transform:"scale(1)",offset:1})]))),zg("* => hidden",Ag("100ms cubic-bezier(0, 0, 0.2, 1)",Rg({opacity:0})))])},VE=pm({passive:!0});function jE(t){return Error(`Tooltip position "${t}" is invalid.`)}const UE=new Ft("mat-tooltip-scroll-strategy"),$E={provide:UE,deps:[Ap],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},WE=new Ft("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let qE=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u,l,c,d){this._overlay=t,this._elementRef=e,this._scrollDispatcher=n,this._viewContainerRef=r,this._ngZone=i,this._platform=o,this._ariaDescriber=s,this._focusMonitor=a,this._dir=l,this._defaultOptions=c,this._position="below",this._disabled=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=new Map,this._destroyed=new C,this._handleKeydown=t=>{this._isTooltipVisible()&&27===t.keyCode&&!rp(t)&&(t.preventDefault(),t.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=u,c&&(c.position&&(this.position=c.position),c.touchGestures&&(this.touchGestures=c.touchGestures)),a.monitor(e).pipe(Bh(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&i.run(()=>this.show()):i.run(()=>this.hide(0))}),i.runOutsideAngular(()=>{e.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=rh(t),this._disabled&&this.hide(0)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=t?`${t}`.trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message)})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngOnInit(){this._setupPointerEvents()}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach((e,n)=>{t.removeEventListener(n,e,VE)}),this._passiveListeners.clear(),this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const e=this._createOverlay();this._detach(),this._portal=this._portal||new Vm(GE,this._viewContainerRef),this._tooltipInstance=e.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Bh(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),e=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(t);return e.positionChanges.pipe(Bh(this._destroyed)).subscribe(t=>{this._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:e,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Bh(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign(Object.assign({},e.main),n.main),Object.assign(Object.assign({},e.fallback),n.fallback)])}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;if("above"==e||"below"==e)n={originX:"center",originY:"above"==e?"top":"bottom"};else if("before"==e||"left"==e&&t||"right"==e&&!t)n={originX:"start",originY:"center"};else{if(!("after"==e||"right"==e&&t||"left"==e&&!t))throw jE(e);n={originX:"end",originY:"center"}}const{x:r,y:i}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:r,originY:i}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;if("above"==e)n={overlayX:"center",overlayY:"bottom"};else if("below"==e)n={overlayX:"center",overlayY:"top"};else if("before"==e||"left"==e&&t||"right"==e&&!t)n={overlayX:"end",overlayY:"center"};else{if(!("after"==e||"right"==e&&t||"left"==e&&!t))throw jE(e);n={overlayX:"start",overlayY:"center"}}const{x:r,y:i}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:r,overlayY:i}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(tp(1),Bh(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}_setupPointerEvents(){if(this._platform.IOS||this._platform.ANDROID){if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const t=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};this._passiveListeners.set("touchend",t).set("touchcancel",t).set("touchstart",()=>{clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)})}}else this._passiveListeners.set("mouseenter",()=>this.show()).set("mouseleave",()=>this.hide());this._passiveListeners.forEach((t,e)=>{this._elementRef.nativeElement.addEventListener(e,t,VE)})}_disableNativeGesturesIfNecessary(){const t=this._elementRef.nativeElement,e=t.style,n=this.touchGestures;"off"!==n&&(("on"===n||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName)&&(e.userSelect=e.msUserSelect=e.webkitUserSelect=e.MozUserSelect="none"),"on"!==n&&t.draggable||(e.webkitUserDrag="none"),e.touchAction="none",e.webkitTapHighlightColor="transparent")}}return t.\u0275fac=function(e){return new(e||t)(Ts(Ap),Ts(Xa),Ts(Dm),Ts(xu),Ts(cc),Ts(um),Ts(fg),Ts(xg),Ts(UE),Ts(ym,8),Ts(WE,8),Ts(Xa))},t.\u0275dir=ye({type:t,selectors:[["","matTooltip",""]],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),t})(),GE=(()=>{class t{constructor(t,e){this._changeDetectorRef=t,this._breakpointObserver=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new C,this._isHandset=this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)")}show(t){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},t)}hide(t){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},t)}afterHidden(){return this._onHide.asObservable()}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(Ts(Ko),Ts(BE))},t.\u0275cmp=fe({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){1&t&&Hs("click",(function(){return e._handleBodyInteraction()}),!1,Vn),2&t&&ua("zoom","visible"===e._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){var n;1&t&&(Rs(0,"div",0),Hs("@state.start",(function(){return e._animationStart()}))("@state.done",(function(t){return e._animationDone(t)})),vl(1,"async"),Sa(2),Is()),2&t&&(la("mat-tooltip-handset",null==(n=bl(1,5,e._isHandset))?null:n.matches),Ds("ngClass",e.tooltipClass)("@state",e._visibility),pi(2),ka(e.message))},directives:[Pd],pipes:[rf],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[HE.tooltipState]},changeDetection:0}),t})(),YE=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[$E],imports:[[kg,xf,zp,oy],oy,Fm]}),t})(),KE=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[zp,Qm,mE,TE,__,xS,SS,ZS,Gx,Jk,YE]}),t})(),XE=(()=>{class t{constructor(t,e,n){this._overlaySvc=t,this._host=e,this._viewContainerRef=n}onClick(){const t=this._overlaySvc.create({hasBackdrop:!0,backdropClass:"",positionStrategy:this._overlaySvc.position().flexibleConnectedTo(this._host).withPositions([new hp({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new hp({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"})]),scrollStrategy:this._overlaySvc.scrollStrategies.block()});t.backdropClick().subscribe(()=>t.dispose());const e=new jm(this.menuTriggerFor,this._viewContainerRef);this._embeddedViewRef=t.attach(e)}ngOnDestroy(){var t;null===(t=this._embeddedViewRef)||void 0===t||t.destroy(),this._overlayRef&&(this._overlayRef.detach(),this._overlayRef.dispose())}}return t.\u0275fac=function(e){return new(e||t)(Ts(Ap),Ts(Xa),Ts(xu))},t.\u0275dir=ye({type:t,selectors:[["","menuTriggerFor",""]],hostBindings:function(t,e){1&t&&Hs("click",(function(){return e.onClick()}))},inputs:{menuTriggerFor:"menuTriggerFor"}}),t})();function ZE(t,e){(function(t){return"string"==typeof t&&t.includes(".")&&1===parseFloat(t)})(t)&&(t="100%");const n=function(t){return"string"==typeof t&&t.includes("%")}(t);return t=360===e?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:t=360===e?(t<0?t%e+e:t%e)/parseFloat(String(e)):t%e/parseFloat(String(e))}function QE(t){return Math.min(1,Math.max(0,t))}function JE(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function tO(t){return t<=1?`${100*Number(t)}%`:t}function eO(t){return 1===t.length?"0"+t:String(t)}function nO(t,e,n){t=ZE(t,255),e=ZE(e,255),n=ZE(n,255);const r=Math.max(t,e,n),i=Math.min(t,e,n);let o=0,s=0;const a=(r+i)/2;if(r===i)s=0,o=0;else{const u=r-i;switch(s=a>.5?u/(2-r-i):u/(r+i),r){case t:o=(e-n)/u+(e<n?6:0);break;case e:o=(n-t)/u+2;break;case n:o=(t-e)/u+4}o/=6}return{h:o,s,l:a}}function rO(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*n*(e-t):n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function iO(t,e,n){t=ZE(t,255),e=ZE(e,255),n=ZE(n,255);const r=Math.max(t,e,n),i=Math.min(t,e,n);let o=0;const s=r,a=r-i,u=0===r?0:a/r;if(r===i)o=0;else{switch(r){case t:o=(e-n)/a+(e<n?6:0);break;case e:o=(n-t)/a+2;break;case n:o=(t-e)/a+4}o/=6}return{h:o,s:u,v:s}}function oO(t,e,n,r){const i=[eO(Math.round(t).toString(16)),eO(Math.round(e).toString(16)),eO(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function sO(t){return aO(t)/255}function aO(t){return parseInt(t,16)}const uO={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},lO="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",cO=`[\\s|\\(]+(${lO})[,|\\s]+(${lO})[,|\\s]+(${lO})\\s*\\)?`,dO=`[\\s|\\(]+(${lO})[,|\\s]+(${lO})[,|\\s]+(${lO})[,|\\s]+(${lO})\\s*\\)?`,fO={CSS_UNIT:new RegExp(lO),rgb:new RegExp("rgb"+cO),rgba:new RegExp("rgba"+dO),hsl:new RegExp("hsl"+cO),hsla:new RegExp("hsla"+dO),hsv:new RegExp("hsv"+cO),hsva:new RegExp("hsva"+dO),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function hO(t){return Boolean(fO.CSS_UNIT.exec(String(t)))}class mO{constructor(t="",e={}){var n;if(t instanceof mO)return t;"number"==typeof t&&(t=function(t){return{r:t>>16,g:(65280&t)>>8,b:255&t}}(t)),this.originalInput=t;const r=function(t){let e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;var u,l;return"string"==typeof t&&(t=function(t){if(0===(t=t.trim().toLowerCase()).length)return!1;let e=!1;if(uO[t])t=uO[t],e=!0;else if("transparent"===t)return{r:0,g:0,b:0,a:0,format:"name"};let n=fO.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=fO.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=fO.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=fO.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=fO.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=fO.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=fO.hex8.exec(t),n?{r:aO(n[1]),g:aO(n[2]),b:aO(n[3]),a:sO(n[4]),format:e?"name":"hex8"}:(n=fO.hex6.exec(t),n?{r:aO(n[1]),g:aO(n[2]),b:aO(n[3]),format:e?"name":"hex"}:(n=fO.hex4.exec(t),n?{r:aO(n[1]+n[1]),g:aO(n[2]+n[2]),b:aO(n[3]+n[3]),a:sO(n[4]+n[4]),format:e?"name":"hex8"}:(n=fO.hex3.exec(t),!!n&&{r:aO(n[1]+n[1]),g:aO(n[2]+n[2]),b:aO(n[3]+n[3]),format:e?"name":"hex"})))))))))}(t)),"object"==typeof t&&(hO(t.r)&&hO(t.g)&&hO(t.b)?(u=t.g,l=t.b,e={r:255*ZE(t.r,255),g:255*ZE(u,255),b:255*ZE(l,255)},s=!0,a="%"===String(t.r).substr(-1)?"prgb":"rgb"):hO(t.h)&&hO(t.s)&&hO(t.v)?(r=tO(t.s),i=tO(t.v),e=function(t,e,n){t=6*ZE(t,360),e=ZE(e,100),n=ZE(n,100);const r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),u=r%6;return{r:255*[n,s,o,o,a,n][u],g:255*[a,n,n,s,o,o][u],b:255*[o,o,a,n,n,s][u]}}(t.h,r,i),s=!0,a="hsv"):hO(t.h)&&hO(t.s)&&hO(t.l)&&(r=tO(t.s),o=tO(t.l),e=function(t,e,n){let r,i,o;if(t=ZE(t,360),e=ZE(e,100),n=ZE(n,100),0===e)i=n,o=n,r=n;else{const s=n<.5?n*(1+e):n+e-n*e,a=2*n-s;r=rO(a,s,t+1/3),i=rO(a,s,t),o=rO(a,s,t-1/3)}return{r:255*r,g:255*i,b:255*o}}(t.h,r,o),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=JE(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}(t);this.originalInput=t,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(n=e.format)&&void 0!==n?n:r.format,this.gradientType=e.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}isDark(){return this.getBrightness()<128}isLight(){return!this.isDark()}getBrightness(){const t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3}getLuminance(){const t=this.toRgb();let e,n,r;const i=t.r/255,o=t.g/255,s=t.b/255;return e=i<=.03928?i/12.92:((i+.055)/1.055)**2.4,n=o<=.03928?o/12.92:((o+.055)/1.055)**2.4,r=s<=.03928?s/12.92:((s+.055)/1.055)**2.4,.2126*e+.7152*n+.0722*r}getAlpha(){return this.a}setAlpha(t){return this.a=JE(t),this.roundA=Math.round(100*this.a)/100,this}toHsv(){const t=iO(this.r,this.g,this.b);return{h:360*t.h,s:t.s,v:t.v,a:this.a}}toHsvString(){const t=iO(this.r,this.g,this.b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.v);return 1===this.a?`hsv(${e}, ${n}%, ${r}%)`:`hsva(${e}, ${n}%, ${r}%, ${this.roundA})`}toHsl(){const t=nO(this.r,this.g,this.b);return{h:360*t.h,s:t.s,l:t.l,a:this.a}}toHslString(){const t=nO(this.r,this.g,this.b),e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.l);return 1===this.a?`hsl(${e}, ${n}%, ${r}%)`:`hsla(${e}, ${n}%, ${r}%, ${this.roundA})`}toHex(t=!1){return oO(this.r,this.g,this.b,t)}toHexString(t=!1){return"#"+this.toHex(t)}toHex8(t=!1){return function(t,e,n,r,i){const o=[eO(Math.round(t).toString(16)),eO(Math.round(e).toString(16)),eO(Math.round(n).toString(16)),eO((s=r,Math.round(255*parseFloat(s)).toString(16)))];var s;return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,t)}toHex8String(t=!1){return"#"+this.toHex8(t)}toRgb(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}}toRgbString(){const t=Math.round(this.r),e=Math.round(this.g),n=Math.round(this.b);return 1===this.a?`rgb(${t}, ${e}, ${n})`:`rgba(${t}, ${e}, ${n}, ${this.roundA})`}toPercentageRgb(){const t=t=>`${Math.round(100*ZE(t,255))}%`;return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}}toPercentageRgbString(){const t=t=>Math.round(100*ZE(t,255));return 1===this.a?`rgb(${t(this.r)}%, ${t(this.g)}%, ${t(this.b)}%)`:`rgba(${t(this.r)}%, ${t(this.g)}%, ${t(this.b)}%, ${this.roundA})`}toName(){if(0===this.a)return"transparent";if(this.a<1)return!1;const t="#"+oO(this.r,this.g,this.b,!1);for(const[e,n]of Object.entries(uO))if(t===n)return e;return!1}toString(t){const e=Boolean(t);t=null!=t?t:this.format;let n=!1;return e||!(this.a<1&&this.a>=0)||!t.startsWith("hex")&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this.a?this.toName():this.toRgbString()}toNumber(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)}clone(){return new mO(this.toString())}lighten(t=10){const e=this.toHsl();return e.l+=t/100,e.l=QE(e.l),new mO(e)}brighten(t=10){const e=this.toRgb();return e.r=Math.max(0,Math.min(255,e.r-Math.round(-t/100*255))),e.g=Math.max(0,Math.min(255,e.g-Math.round(-t/100*255))),e.b=Math.max(0,Math.min(255,e.b-Math.round(-t/100*255))),new mO(e)}darken(t=10){const e=this.toHsl();return e.l-=t/100,e.l=QE(e.l),new mO(e)}tint(t=10){return this.mix("white",t)}shade(t=10){return this.mix("black",t)}desaturate(t=10){const e=this.toHsl();return e.s-=t/100,e.s=QE(e.s),new mO(e)}saturate(t=10){const e=this.toHsl();return e.s+=t/100,e.s=QE(e.s),new mO(e)}greyscale(){return this.desaturate(100)}spin(t){const e=this.toHsl(),n=(e.h+t)%360;return e.h=n<0?360+n:n,new mO(e)}mix(t,e=50){const n=this.toRgb(),r=new mO(t).toRgb(),i=e/100;return new mO({r:(r.r-n.r)*i+n.r,g:(r.g-n.g)*i+n.g,b:(r.b-n.b)*i+n.b,a:(r.a-n.a)*i+n.a})}analogous(t=6,e=30){const n=this.toHsl(),r=360/e,i=[this];for(n.h=(n.h-(r*t>>1)+720)%360;--t;)n.h=(n.h+r)%360,i.push(new mO(n));return i}complement(){const t=this.toHsl();return t.h=(t.h+180)%360,new mO(t)}monochromatic(t=6){const e=this.toHsv(),{h:n}=e,{s:r}=e;let{v:i}=e;const o=[],s=1/t;for(;t--;)o.push(new mO({h:n,s:r,v:i})),i=(i+s)%1;return o}splitcomplement(){const t=this.toHsl(),{h:e}=t;return[this,new mO({h:(e+72)%360,s:t.s,l:t.l}),new mO({h:(e+216)%360,s:t.s,l:t.l})]}triad(){return this.polyad(3)}tetrad(){return this.polyad(4)}polyad(t){const e=this.toHsl(),{h:n}=e,r=[this],i=360/t;for(let o=1;o<t;o++)r.push(new mO({h:(n+o*i)%360,s:e.s,l:e.l}));return r}equals(t){return this.toRgbString()===new mO(t).toRgbString()}}function pO(t,e){if(1&t){const t=Fs();Rs(0,"span",3),Hs("mousedown",(function(e){return Xe(t),Us().handleMousedown(e)})),Sa(1),Is()}if(2&t){const t=Us();Ds("ngStyle",t.labelStyle),pi(1),Ea(" ",t.label," ")}}function gO(t,e){if(1&t&&(Rs(0,"div",2),Ns(1,"div",3),Is()),2&t){const t=Us();ua("left",t.left)("top",t.top),pi(1),Ds("ngStyle",t.pointer)}}const vO=["*"];function bO(t,e){1&t&&Ns(0,"color-checkboard",2)}const yO={};let _O=(()=>{let t=class{constructor(){this.white="transparent",this.size=8,this.grey="rgba(0,0,0,.08)"}ngOnInit(){const t=function(t,e,n){const r=`${t}-${e}-${n}`;if(yO[r])return yO[r];const i=function(t,e,n){if("undefined"==typeof document)return null;const r=document.createElement("canvas");r.width=2*n,r.height=2*n;const i=r.getContext("2d");return i?(i.fillStyle=t,i.fillRect(0,0,r.width,r.height),i.fillStyle=e,i.fillRect(0,0,n,n),i.translate(n,n),i.fillRect(0,0,n,n),r.toDataURL()):null}(t,e,n);return i?(yO[r]=i,i):null}(this.white,this.grey,this.size);this.gridStyles={borderRadius:this.borderRadius,boxShadow:this.boxShadow,background:`url(${t}) center left`}}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["color-checkboard"]],inputs:{white:"white",size:"size",grey:"grey",boxShadow:"boxShadow",borderRadius:"borderRadius"},decls:1,vars:1,consts:[[1,"grid",3,"ngStyle"]],template:function(t,e){1&t&&Ns(0,"div",0),2&t&&Ds("ngStyle",e.gridStyles)},directives:[Xd],styles:[".grid[_ngcontent-%COMP%] {\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n    position: absolute;\n  }"],changeDetection:0}),t})(),wO=(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[xf]]}),t})(),xO=(()=>{let t=class{constructor(t){this.el=t,this.coordinatesChange=new C,this.mousechange=new C,this.mouseListening=!1}mousemove(t,e,n,r=!1){this.mouseListening&&(t.preventDefault(),this.mousechange.next({$event:t,x:e,y:n,isTouch:r}))}mouseup(){this.mouseListening=!1}mousedown(t,e,n,r=!1){t.preventDefault(),this.mouseListening=!0,this.mousechange.next({$event:t,x:e,y:n,isTouch:r})}ngOnInit(){this.sub=this.mousechange.pipe(Eh((t,e)=>t.x===e.x&&t.y===e.y)).subscribe(t=>this.handleChange(t.x,t.y,t.$event,t.isTouch))}ngOnDestroy(){this.sub.unsubscribe()}handleChange(t,e,n,r){const i=this.el.nativeElement.clientWidth,o=this.el.nativeElement.clientHeight,s=t-(this.el.nativeElement.getBoundingClientRect().left+window.pageXOffset);let a=e-this.el.nativeElement.getBoundingClientRect().top;r||(a-=window.pageYOffset),this.coordinatesChange.next({x:t,y:e,top:a,left:s,containerWidth:i,containerHeight:o,$event:n})}};return t.\u0275fac=function(e){return new(e||t)(Ts(Xa))},t.\u0275dir=ye({type:t,selectors:[["","ngx-color-coordinates",""]],hostBindings:function(t,e){1&t&&Hs("mousemove",(function(t){return e.mousemove(t,t.pageX,t.pageY)}),!1,Hn)("touchmove",(function(t){return e.mousemove(t,t.touches[0].clientX,t.touches[0].clientY,!0)}),!1,Hn)("mouseup",(function(){return e.mouseup()}),!1,Hn)("touchend",(function(){return e.mouseup()}),!1,Hn)("mousedown",(function(t){return e.mousedown(t,t.pageX,t.pageY)}))("touchstart",(function(t){return e.mousedown(t,t.touches[0].clientX,t.touches[0].clientY,!0)}))},outputs:{coordinatesChange:"coordinatesChange"}}),t})(),CO=(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)}}),t})(),SO=(()=>{let t=class{constructor(){this.direction="horizontal",this.onChange=new yl}ngOnChanges(){"vertical"===this.direction?(this.pointerLeft=0,this.pointerTop=100*this.rgb.a,this.gradient={background:`linear-gradient(to bottom, rgba(${this.rgb.r},${this.rgb.g},${this.rgb.b}, 0) 0%,\n          rgba(${this.rgb.r},${this.rgb.g},${this.rgb.b}, 1) 100%)`}):(this.gradient={background:`linear-gradient(to right, rgba(${this.rgb.r},${this.rgb.g},${this.rgb.b}, 0) 0%,\n          rgba(${this.rgb.r},${this.rgb.g},${this.rgb.b}, 1) 100%)`},this.pointerLeft=100*this.rgb.a)}handleChange({top:t,left:e,containerHeight:n,containerWidth:r,$event:i}){let o;if("vertical"===this.direction){let e;e=t<0?0:t>n?1:Math.round(100*t/n)/100,this.hsl.a!==e&&(o={h:this.hsl.h,s:this.hsl.s,l:this.hsl.l,a:e,source:"rgb"})}else{let t;t=e<0?0:e>r?1:Math.round(100*e/r)/100,this.hsl.a!==t&&(o={h:this.hsl.h,s:this.hsl.s,l:this.hsl.l,a:t,source:"rgb"})}if(!o)return null;this.onChange.emit({data:o,$event:i})}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["color-alpha"]],inputs:{direction:"direction",hsl:"hsl",rgb:"rgb",pointer:"pointer",shadow:"shadow",radius:"radius"},outputs:{onChange:"onChange"},features:[Pa],decls:7,vars:15,consts:[[1,"alpha"],[1,"alpha-checkboard"],[1,"alpha-gradient",3,"ngStyle"],["ngx-color-coordinates","",3,"coordinatesChange"],[1,"alpha-pointer"],[1,"alpha-slider",3,"ngStyle"]],template:function(t,e){1&t&&(Rs(0,"div",0),Rs(1,"div",1),Ns(2,"color-checkboard"),Is(),Ns(3,"div",2),Rs(4,"div",3),Hs("coordinatesChange",(function(t){return e.handleChange(t)})),Rs(5,"div",4),Ns(6,"div",5),Is(),Is(),Is()),2&t&&(ua("border-radius",e.radius),pi(3),ua("box-shadow",e.shadow)("border-radius",e.radius),Ds("ngStyle",e.gradient),pi(1),Oa("alpha-container color-alpha-",e.direction,""),pi(1),ua("left",e.pointerLeft,"%")("top",e.pointerTop,"%"),pi(1),Ds("ngStyle",e.pointer))},directives:[_O,Xd,xO],styles:[".alpha[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n    }\n    .alpha-checkboard[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      overflow: hidden;\n    }\n    .alpha-gradient[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n    }\n    .alpha-container[_ngcontent-%COMP%] {\n      position: relative;\n      height: 100%;\n      margin: 0 3px;\n    }\n    .alpha-pointer[_ngcontent-%COMP%] {\n      position: absolute;\n    }\n    .alpha-slider[_ngcontent-%COMP%] {\n      width: 4px;\n      border-radius: 1px;\n      height: 8px;\n      box-shadow: 0 0 2px rgba(0, 0, 0, .6);\n      background: #fff;\n      margin-top: 1px;\n      transform: translateX(-2px);\n    },"],changeDetection:0}),t})(),kO=(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[xf,wO,CO]]}),t})();function EO(t){let e=0,n=0;return["r","g","b","a","h","s","l","v"].forEach(r=>{t[r]&&(e+=1,isNaN(t[r])||(n+=1),"s"===r||"l"===r)&&/^\d+%$/.test(t[r])&&(n+=1)}),e===n&&t}function OO(t,e){const n=new mO(t.hex?t.hex:t),r=n.toHsl(),i=n.toHsv(),o=n.toRgb(),s=n.toHex();return 0===r.s&&(r.h=e||0,i.h=e||0),{hsl:r,hex:"000000"===s&&0===o.a?"transparent":n.toHexString(),rgb:o,hsv:i,oldHue:t.h||e||r.h,source:t.source}}function TO(t){return new mO(t).isValid}let AO=(()=>{let t=class{constructor(){this.color={h:250,s:.5,l:.2,a:1},this.onChange=new yl,this.onChangeComplete=new yl,this.onSwatchHover=new yl}ngOnInit(){this.changes=this.onChange.pipe(tg(100)).subscribe(t=>this.onChangeComplete.emit(t)),this.setState(OO(this.color,0)),this.currentColor=this.hex}ngOnChanges(){this.setState(OO(this.color,this.oldHue))}ngOnDestroy(){this.changes.unsubscribe()}setState(t){this.oldHue=t.oldHue,this.hsl=t.hsl,this.hsv=t.hsv,this.rgb=t.rgb,this.hex=t.hex,this.source=t.source,this.afterValidChange()}handleChange(t,e){if(EO(t)){const n=OO(t,t.h||this.oldHue);this.setState(n),this.onChange.emit({color:n,$event:e}),this.afterValidChange()}}afterValidChange(){}handleSwatchHover(t,e){if(EO(t)){const n=OO(t,t.h||this.oldHue);this.setState(n),this.onSwatchHover.emit({color:n,$event:e})}}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["color-wrap"]],inputs:{color:"color",className:"className"},outputs:{onChange:"onChange",onChangeComplete:"onChangeComplete",onSwatchHover:"onSwatchHover"},features:[Pa],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),DO=(()=>{let t=class{constructor(){this.placeholder="",this.onChange=new yl,this.focus=!1}ngOnInit(){this.wrapStyle=this.style&&this.style.wrap?this.style.wrap:{},this.inputStyle=this.style&&this.style.input?this.style.input:{},this.labelStyle=this.style&&this.style.label?this.style.label:{},this.dragLabel&&(this.labelStyle.cursor="ew-resize")}handleFocus(t){this.focus=!0}handleFocusOut(t){this.focus=!1,this.currentValue=this.blurValue}handleKeydown(t){const e=String(t.target.value),n=e.indexOf("%")>-1,r=Number(e.replace(/%/g,""));if(!isNaN(r)){const e=this.arrowOffset||1;38===t.keyCode&&(this.onChange.emit(this.label?{data:{[this.label]:r+e},$event:t}:{data:r+e,$event:t}),this.currentValue=n?`${r+e}%`:r+e),40===t.keyCode&&(this.onChange.emit(this.label?{data:{[this.label]:r-e},$event:t}:{data:r-e,$event:t}),this.currentValue=n?`${r-e}%`:r-e)}}handleKeyup(t){40!==t.keyCode&&38!==t.keyCode&&this.onChange.emit(this.label?{data:{[this.label]:t.target.value},$event:t}:{data:t.target.value,$event:t})}ngOnChanges(){this.focus||(this.currentValue=String(this.value).toUpperCase()),this.blurValue=String(this.value).toUpperCase()}ngOnDestroy(){this.unsubscribe()}subscribe(){this.mousemove=lh(document,"mousemove").subscribe(t=>this.handleDrag(t)),this.mouseup=lh(document,"mouseup").subscribe(()=>this.unsubscribe())}unsubscribe(){this.mousemove&&this.mousemove.unsubscribe(),this.mouseup&&this.mouseup.unsubscribe()}handleMousedown(t){this.dragLabel&&(t.preventDefault(),this.handleDrag(t),this.subscribe())}handleDrag(t){if(this.dragLabel){const e=Math.round(this.value+t.movementX);e>=0&&e<=this.dragMax&&this.onChange.emit({data:{[this.label]:e},$event:t})}}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["color-editable-input"]],inputs:{placeholder:"placeholder",style:"style",label:"label",value:"value",arrowOffset:"arrowOffset",dragLabel:"dragLabel",dragMax:"dragMax"},outputs:{onChange:"onChange"},features:[Pa],decls:3,vars:5,consts:[[1,"wrap",3,"ngStyle"],["spellCheck","false",3,"ngStyle","value","placeholder","keydown","keyup","focus","focusout"],[3,"ngStyle","mousedown",4,"ngIf"],[3,"ngStyle","mousedown"]],template:function(t,e){1&t&&(Rs(0,"div",0),Rs(1,"input",1),Hs("keydown",(function(t){return e.handleKeydown(t)}))("keyup",(function(t){return e.handleKeyup(t)}))("focus",(function(t){return e.handleFocus(t)}))("focusout",(function(t){return e.handleFocusOut(t)})),Is(),Es(2,pO,2,2,"span",2),Is()),2&t&&(Ds("ngStyle",e.wrapStyle),pi(1),Ds("ngStyle",e.inputStyle)("value",e.currentValue)("placeholder",e.placeholder),pi(1),Ds("ngIf",e.label))},directives:[Xd,Vd],styles:["[_nghost-%COMP%] {\n      display: flex;\n    }\n    .wrap[_ngcontent-%COMP%] {\n      position: relative;\n    }"],changeDetection:0}),t})(),MO=(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[xf]]}),t})(),RO=(()=>{let t=class{constructor(){this.hidePointer=!1,this.direction="horizontal",this.onChange=new yl,this.left="0px",this.top=""}ngOnChanges(){"horizontal"===this.direction?this.left=`${100*this.hsl.h/360}%`:this.top=`${-100*this.hsl.h/360+100}%`}handleChange({top:t,left:e,containerHeight:n,containerWidth:r,$event:i}){let o;if("vertical"===this.direction){let e;e=t<0?359:t>n?0:360*(-100*t/n+100)/100,this.hsl.h!==e&&(o={h:e,s:this.hsl.s,l:this.hsl.l,a:this.hsl.a,source:"rgb"})}else{let t;t=e<0?0:e>r?359:100*e/r*360/100,this.hsl.h!==t&&(o={h:t,s:this.hsl.s,l:this.hsl.l,a:this.hsl.a,source:"rgb"})}if(!o)return null;this.onChange.emit({data:o,$event:i})}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["color-hue"]],inputs:{hidePointer:"hidePointer",direction:"direction",hsl:"hsl",pointer:"pointer",radius:"radius",shadow:"shadow"},outputs:{onChange:"onChange"},features:[Pa],decls:3,vars:8,consts:[["ngx-color-coordinates","",1,"color-hue-container",3,"coordinatesChange"],["class","color-hue-pointer",3,"left","top",4,"ngIf"],[1,"color-hue-pointer"],[1,"color-hue-slider",3,"ngStyle"]],template:function(t,e){1&t&&(Rs(0,"div"),Rs(1,"div",0),Hs("coordinatesChange",(function(t){return e.handleChange(t)})),Es(2,gO,2,5,"div",1),Is(),Is()),2&t&&(Oa("color-hue color-hue-",e.direction,""),ua("border-radius",e.radius,"px")("box-shadow",e.shadow),pi(2),Ds("ngIf",!e.hidePointer))},directives:[xO,Vd,Xd],styles:[".color-hue[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n    }\n    .color-hue-container[_ngcontent-%COMP%] {\n      margin: 0 2px;\n      position: relative;\n      height: 100%;\n    }\n    .color-hue-pointer[_ngcontent-%COMP%] {\n      position: absolute;\n    }\n    .color-hue-slider[_ngcontent-%COMP%] {\n      margin-top: 1px;\n      width: 4px;\n      border-radius: 1px;\n      height: 8px;\n      box-shadow: 0 0 2px rgba(0, 0, 0, .6);\n      background: #fff;\n      transform: translateX(-2px);\n    }\n    .color-hue-horizontal[_ngcontent-%COMP%] {\n      background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n        33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n    }\n    .color-hue-vertical[_ngcontent-%COMP%] {\n      background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n        #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n    }"],changeDetection:0}),t})(),IO=(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[xf,CO]]}),t})(),NO=(()=>{let t=class{constructor(){this.onChange=new yl}ngOnChanges(){this.background=`hsl(${this.hsl.h}, 100%, 50%)`,this.pointerTop=-100*this.hsv.v+1+100+"%",this.pointerLeft=100*this.hsv.s+"%"}handleChange({top:t,left:e,containerHeight:n,containerWidth:r,$event:i}){e<0?e=0:e>r?e=r:t<0?t=0:t>n&&(t=n);let o=-t/n+1;o=o>0?o:0,o=o>1?1:o,this.onChange.emit({data:{h:this.hsl.h,s:e/r,v:o,a:this.hsl.a,source:"hsva"},$event:i})}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["color-saturation"]],inputs:{hsl:"hsl",hsv:"hsv",radius:"radius",pointer:"pointer",circle:"circle"},outputs:{onChange:"onChange"},features:[Pa],decls:5,vars:8,consts:[["ngx-color-coordinates","",1,"color-saturation",3,"coordinatesChange"],[1,"saturation-white"],[1,"saturation-black"],[1,"saturation-pointer",3,"ngStyle"],[1,"saturation-circle",3,"ngStyle"]],template:function(t,e){1&t&&(Rs(0,"div",0),Hs("coordinatesChange",(function(t){return e.handleChange(t)})),Rs(1,"div",1),Ns(2,"div",2),Rs(3,"div",3),Ns(4,"div",4),Is(),Is(),Is()),2&t&&(ua("background",e.background,Xr),pi(3),ua("top",e.pointerTop)("left",e.pointerLeft),Ds("ngStyle",e.pointer),pi(1),Ds("ngStyle",e.circle))},directives:[xO,Xd],styles:[".saturation-white[_ngcontent-%COMP%] {\n      background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n    }\n    .saturation-black[_ngcontent-%COMP%] {\n      background: linear-gradient(to top, #000, rgba(0,0,0,0));\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n    }\n    .color-saturation[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n    }\n    .saturation-pointer[_ngcontent-%COMP%] {\n      position: absolute;\n      cursor: default;\n    }\n    .saturation-circle[_ngcontent-%COMP%] {\n      width: 4px;\n      height: 4px;\n      box-shadow: 0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3), 0 0 1px 2px rgba(0,0,0,.4);\n      border-radius: 50%;\n      cursor: hand;\n      transform: translate(-2px, -4px);\n    }"],changeDetection:0}),t})(),zO=(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[xf,CO]]}),t})(),PO=(()=>{let t=class{constructor(){this.style={},this.focusStyle={},this.onClick=new yl,this.onHover=new yl,this.divStyles={},this.focusStyles={},this.inFocus=!1}ngOnInit(){this.divStyles=Object.assign({background:this.color,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},this.style)}currentStyles(){return this.focusStyles=Object.assign(Object.assign({},this.divStyles),this.focusStyle),this.focus||this.inFocus?this.focusStyles:this.divStyles}handleFocusOut(){this.inFocus=!1}handleFocus(){this.inFocus=!0}handleHover(t,e){this.onHover.emit({hex:t,$event:e})}handleClick(t,e){this.onClick.emit({hex:t,$event:e})}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["color-swatch"]],inputs:{style:"style",focusStyle:"focusStyle",color:"color",focus:"focus"},outputs:{onClick:"onClick",onHover:"onHover"},ngContentSelectors:vO,decls:3,vars:3,consts:[["tabindex","0",1,"swatch",3,"ngStyle","click","keydown.enter","focus","blur","mouseover"],["boxShadow","inset 0 0 0 1px rgba(0,0,0,0.1)",4,"ngIf"],["boxShadow","inset 0 0 0 1px rgba(0,0,0,0.1)"]],template:function(t,e){1&t&&(Ws(),Rs(0,"div",0),Hs("click",(function(t){return e.handleClick(e.color,t)}))("keydown.enter",(function(t){return e.handleClick(e.color,t)}))("focus",(function(){return e.handleFocus()}))("blur",(function(){return e.handleFocusOut()}))("mouseover",(function(t){return e.handleHover(e.color,t)})),Ys(1),Es(2,bO,1,0,"color-checkboard",1),Is()),2&t&&(Ds("ngStyle",e.currentStyles()),Ss("title",e.color),pi(2),Ds("ngIf","transparent"===e.color))},directives:[Xd,Vd,_O],encapsulation:2,changeDetection:0}),t})(),FO=(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[xf,wO]]}),t})();const BO=function(t,e){return{input:t,label:e}};function LO(t,e){if(1&t){const t=Fs();Rs(0,"div",8),Rs(1,"color-editable-input",9),Hs("onChange",(function(e){return Xe(t),Us().handleChange(e)})),Is(),Is()}if(2&t){const t=Us();pi(1),ca(ml(5,BO,t.input,t.label)),Ds("value",t.round(100*t.rgb.a))("dragLabel",!0)("dragMax",100)}}function HO(t,e){if(1&t){const t=Fs();Rs(0,"div",2),Rs(1,"color-swatch",3),Hs("onClick",(function(e){return Xe(t),Us().handleClick(e)}))("onHover",(function(e){return Xe(t),Us().onSwatchHover.emit(e)})),Is(),Is()}if(2&t){const t=e.$implicit,n=Us();pi(1),ca(n.swatchStyle),Ds("color",n.normalizeValue(t).color)("focusStyle",n.focusStyle(t))}}function VO(t,e){if(1&t){const t=Fs();Rs(0,"div",12),Rs(1,"color-alpha",13),Hs("onChange",(function(e){return Xe(t),Us().handleValueChange(e)})),Is(),Is()}if(2&t){const t=Us();pi(1),Ds("radius",2)("rgb",t.rgb)("hsl",t.hsl)}}function jO(t,e){if(1&t){const t=Fs();Rs(0,"div",14),Rs(1,"color-sketch-preset-colors",15),Hs("onClick",(function(e){return Xe(t),Us().handleBlockChange(e)}))("onSwatchHover",(function(e){return Xe(t),Us().onSwatchHover.emit(e)})),Is(),Is()}if(2&t){const t=Us();pi(1),Ds("colors",t.presetColors)}}let UO=(()=>{let t=class{constructor(){this.disableAlpha=!1,this.onChange=new yl,this.input={width:"100%",padding:"4px 10% 3px",border:"none",boxSizing:"border-box",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},this.label={display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}}round(t){return Math.round(t)}handleChange({data:t,$event:e}){if(t.hex){if(TO(t.hex)){const n=new mO(t.hex);this.onChange.emit({data:{hex:this.disableAlpha?n.toHex():n.toHex8(),source:"hex"},$event:e})}}else t.r||t.g||t.b?this.onChange.emit({data:{r:t.r||this.rgb.r,g:t.g||this.rgb.g,b:t.b||this.rgb.b,source:"rgb"},$event:e}):t.a?(t.a<0?t.a=0:t.a>100&&(t.a=100),t.a/=100,this.disableAlpha&&(t.a=1),this.onChange.emit({data:{h:this.hsl.h,s:this.hsl.s,l:this.hsl.l,a:Math.round(100*t.a)/100,source:"rgb"},$event:e})):(t.h||t.s||t.l)&&this.onChange.emit({data:{h:t.h||this.hsl.h,s:Number(t.s&&t.s||this.hsl.s),l:Number(t.l&&t.l||this.hsl.l),source:"hsl"},$event:e})}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["color-sketch-fields"]],inputs:{disableAlpha:"disableAlpha",hsl:"hsl",rgb:"rgb",hex:"hex"},outputs:{onChange:"onChange"},decls:10,vars:31,consts:[[1,"sketch-fields"],[1,"sketch-double"],["label","hex",3,"value","onChange"],[1,"sketch-single"],["label","r",3,"value","dragLabel","dragMax","onChange"],["label","g",3,"value","dragLabel","dragMax","onChange"],["label","b",3,"value","dragLabel","dragMax","onChange"],["class","sketch-alpha",4,"ngIf"],[1,"sketch-alpha"],["label","a",3,"value","dragLabel","dragMax","onChange"]],template:function(t,e){1&t&&(Rs(0,"div",0),Rs(1,"div",1),Rs(2,"color-editable-input",2),Hs("onChange",(function(t){return e.handleChange(t)})),Is(),Is(),Rs(3,"div",3),Rs(4,"color-editable-input",4),Hs("onChange",(function(t){return e.handleChange(t)})),Is(),Is(),Rs(5,"div",3),Rs(6,"color-editable-input",5),Hs("onChange",(function(t){return e.handleChange(t)})),Is(),Is(),Rs(7,"div",3),Rs(8,"color-editable-input",6),Hs("onChange",(function(t){return e.handleChange(t)})),Is(),Is(),Es(9,LO,2,8,"div",7),Is()),2&t&&(pi(2),ca(ml(19,BO,e.input,e.label)),Ds("value",e.hex.replace("#","")),pi(2),ca(ml(22,BO,e.input,e.label)),Ds("value",e.rgb.r)("dragLabel",!0)("dragMax",255),pi(2),ca(ml(25,BO,e.input,e.label)),Ds("value",e.rgb.g)("dragLabel",!0)("dragMax",255),pi(2),ca(ml(28,BO,e.input,e.label)),Ds("value",e.rgb.b)("dragLabel",!0)("dragMax",255),pi(1),Ds("ngIf",!1===e.disableAlpha))},directives:[DO,Vd],styles:[".sketch-fields[_ngcontent-%COMP%] {\n      display: flex;\n      padding-top: 4px;\n    }\n    .sketch-double[_ngcontent-%COMP%] {\n      -webkit-box-flex: 2;\n      flex: 2 1 0%;\n    }\n    .sketch-single[_ngcontent-%COMP%] {\n      flex: 1 1 0%;\n      padding-left: 6px;\n    }\n    .sketch-alpha[_ngcontent-%COMP%] {\n      -webkit-box-flex: 1;\n      flex: 1 1 0%;\n      padding-left: 6px;\n    }"],changeDetection:0}),t})(),$O=(()=>{let t=class{constructor(){this.onClick=new yl,this.onSwatchHover=new yl,this.swatchStyle={borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}}handleClick({hex:t,$event:e}){this.onClick.emit({hex:t,$event:e})}normalizeValue(t){return"string"==typeof t?{color:t}:t}focusStyle(t){return{boxShadow:`inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px ${this.normalizeValue(t).color}`}}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["color-sketch-preset-colors"]],inputs:{colors:"colors"},outputs:{onClick:"onClick",onSwatchHover:"onSwatchHover"},decls:2,vars:1,consts:[[1,"sketch-swatches"],["class","sketch-wrap",4,"ngFor","ngForOf"],[1,"sketch-wrap"],[1,"swatch",3,"color","focusStyle","onClick","onHover"]],template:function(t,e){1&t&&(Rs(0,"div",0),Es(1,HO,2,4,"div",1),Is()),2&t&&(pi(1),Ds("ngForOf",e.colors))},directives:[Ld,PO],styles:[".sketch-swatches[_ngcontent-%COMP%] {\n      position: relative;\n      display: flex;\n      flex-wrap: wrap;\n      margin: 0px -10px;\n      padding: 10px 0px 0px 10px;\n      border-top: 1px solid rgb(238, 238, 238);\n    }\n    .sketch-wrap[_ngcontent-%COMP%] {\n      width: 16px;\n      height: 16px;\n      margin: 0px 10px 10px 0px;\n    }"],changeDetection:0}),t})(),WO=(()=>{let t=class extends AO{constructor(){super(),this.disableAlpha=!1,this.presetColors=["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"],this.width=200}afterValidChange(){this.activeBackground=`rgba(${this.rgb.r}, ${this.rgb.g}, ${this.rgb.b}, ${this.disableAlpha?1:this.rgb.a})`}handleValueChange({data:t,$event:e}){this.handleChange(t,e)}handleBlockChange({hex:t,$event:e}){TO(t)&&this.handleChange({hex:t,source:"hex"},e)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["color-sketch"]],inputs:{disableAlpha:"disableAlpha",presetColors:"presetColors",width:"width"},features:[Da],decls:14,vars:16,consts:[[1,"sketch-saturation"],[3,"hsl","hsv","onChange"],[1,"sketch-controls"],[1,"sketch-sliders"],[1,"sketch-hue"],[3,"hsl","onChange"],["class","sketch-alpha",4,"ngIf"],[1,"sketch-color"],[1,"sketch-active"],[1,"sketch-fields-container"],[3,"rgb","hsl","hex","disableAlpha","onChange"],["class","sketch-swatches-container",4,"ngIf"],[1,"sketch-alpha"],[3,"radius","rgb","hsl","onChange"],[1,"sketch-swatches-container"],[3,"colors","onClick","onSwatchHover"]],template:function(t,e){1&t&&(Rs(0,"div"),Rs(1,"div",0),Rs(2,"color-saturation",1),Hs("onChange",(function(t){return e.handleValueChange(t)})),Is(),Is(),Rs(3,"div",2),Rs(4,"div",3),Rs(5,"div",4),Rs(6,"color-hue",5),Hs("onChange",(function(t){return e.handleValueChange(t)})),Is(),Is(),Es(7,VO,2,3,"div",6),Is(),Rs(8,"div",7),Ns(9,"color-checkboard"),Ns(10,"div",8),Is(),Is(),Rs(11,"div",9),Rs(12,"color-sketch-fields",10),Hs("onChange",(function(t){return e.handleValueChange(t)})),Is(),Is(),Es(13,jO,2,1,"div",11),Is()),2&t&&(Oa("sketch-picker ",e.className,""),ua("width",e.width),pi(2),Ds("hsl",e.hsl)("hsv",e.hsv),pi(4),Ds("hsl",e.hsl),pi(1),Ds("ngIf",!1===e.disableAlpha),pi(3),ua("background",e.activeBackground,Xr),pi(2),Ds("rgb",e.rgb)("hsl",e.hsl)("hex",e.hex)("disableAlpha",e.disableAlpha),pi(1),Ds("ngIf",e.presetColors&&e.presetColors.length))},directives:[NO,RO,Vd,_O,UO,SO,$O],styles:[".sketch-picker[_ngcontent-%COMP%] {\n      padding: 10px 10px 3px;\n      box-sizing: initial;\n      background: #fff;\n      border-radius: 4px;\n      box-shadow: 0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15);\n    }\n    .sketch-saturation[_ngcontent-%COMP%] {\n      width: 100%;\n      padding-bottom: 75%;\n      position: relative;\n      overflow: hidden;\n    }\n    .sketch-fields-container[_ngcontent-%COMP%] {\n      display: flex;\n    }\n    .sketch-swatches-container[_ngcontent-%COMP%] {\n      display: flex;\n    }\n    .sketch-controls[_ngcontent-%COMP%] {\n      display: flex;\n    }\n    .sketch-sliders[_ngcontent-%COMP%] {\n      padding: 4px 0px;\n      -webkit-box-flex: 1;\n      flex: 1 1 0%;\n    }\n    .sketch-hue[_ngcontent-%COMP%] {\n      position: relative;\n      height: 10px;\n      overflow: hidden;\n    }\n    .sketch-alpha[_ngcontent-%COMP%] {\n      position: relative;\n      height: 10px;\n      margin-top: 4px;\n      overflow: hidden;\n    }\n    .sketch-color[_ngcontent-%COMP%] {\n      width: 24px;\n      height: 24px;\n      position: relative;\n      margin-top: 4px;\n      margin-left: 4px;\n      border-radius: 3px;\n    }\n    .sketch-active[_ngcontent-%COMP%] {\n      position: absolute;\n      top: 0px;\n      right: 0px;\n      bottom: 0px;\n      left: 0px;\n      border-radius: 2px;\n      box-shadow: rgba(0, 0, 0, 0.15) 0px 0px 0px 1px inset, rgba(0, 0, 0, 0.25) 0px 0px 4px inset;\n    }"],changeDetection:0}),t})(),qO=(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},imports:[[xf,kO,wO,MO,IO,zO,FO]]}),t})();function GO(t,e){if(1&t&&(Rs(0,"button",3),Rs(1,"mat-icon",4),Sa(2,"arrow_drop_down"),Is(),Is()),2&t){const t=Us();la("active",t.isActive),Ds("matMenuTriggerFor",t.dropDownMenu)("disabled",t.disabled)}}function YO(t,e){if(1&t&&(Rs(0,"button",5),Rs(1,"mat-icon",4),Sa(2,"arrow_drop_down"),Is(),Is()),2&t){const t=Us();la("active",t.isActive),Ds("menuTriggerFor",t.dropDownMenu)("disabled",t.disabled)}}const KO=["*"];let XO=(()=>{class t{constructor(){this.disabled=!1,this.isActive=!1,this.mainBtnClick=new yl}get isMatMenu(){return this.dropDownMenu instanceof mS}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-split-button"]],inputs:{disabled:"disabled",isActive:"isActive",dropDownMenu:"dropDownMenu"},outputs:{mainBtnClick:"mainBtnClick"},ngContentSelectors:KO,decls:5,vars:5,consts:[["mat-button","",1,"sm",3,"disabled","click"],["mat-button","","class","split-button",3,"matMenuTriggerFor","active","disabled",4,"ngIf","ngIfElse"],["renderDropDownMenu",""],["mat-button","",1,"split-button",3,"matMenuTriggerFor","disabled"],[1,"drop-down-icon"],["mat-button","",1,"split-button",3,"menuTriggerFor","disabled"]],template:function(t,e){if(1&t&&(Ws(),Rs(0,"button",0),Hs("click",(function(t){return e.mainBtnClick.emit(t)})),Ys(1),Is(),Es(2,GO,3,4,"button",1),Es(3,YO,3,4,"ng-template",null,2,Vl)),2&t){const t=Os(4);la("active",e.isActive),Ds("disabled",e.disabled),pi(2),Ds("ngIf",e.isMatMenu)("ngIfElse",t)}},directives:[Wx,Vd,_S,y_,XE],styles:[".split-button[_ngcontent-%COMP%] {\n      padding: 0 5px 0 0;\n      margin-left: -5px;\n      min-width: auto;\n      font-weight: normal;\n    }\n\n    mat-icon[_ngcontent-%COMP%] {\n      width: 20px;\n    }"]}),t})();const ZO=["matTooltip",$localize`:e8fa4d4fe3d5a97ff3fc21fc53021a1a8ee354a81802619862731601881:Lista`],QO=["matTooltip",$localize`:219cd1034553167edaf7d1e6790d69650804b1bb6248766470031482267:Lista ordenada`];function JO(t,e){if(1&t){const t=Fs();Rs(0,"div",5),Rs(1,"button",6),Hs("click",(function(){Xe(t);const e=Us();return e.homeTab.execute(e.Commands.insertUnorderedList,{"list-style-type":"disc"})})),Ns(2,"mat-icon",7),Is(),Rs(3,"button",6),Hs("click",(function(){Xe(t);const e=Us();return e.homeTab.execute(e.Commands.insertUnorderedList,{"list-style-type":"circle"})})),Ns(4,"mat-icon",8),Is(),Rs(5,"button",6),Hs("click",(function(){Xe(t);const e=Us();return e.homeTab.execute(e.Commands.insertUnorderedList,{"list-style-type":"square"})})),Ns(6,"mat-icon",9),Is(),Is()}}function tT(t,e){if(1&t){const t=Fs();Rs(0,"div",5),Rs(1,"div"),Rs(2,"button",6),Hs("click",(function(){Xe(t);const e=Us();return e.homeTab.execute(e.Commands.insertOrderedList,{"list-style-type":"decimal"})})),Ns(3,"mat-icon",10),Is(),Rs(4,"button",6),Hs("click",(function(){Xe(t);const e=Us();return e.homeTab.execute(e.Commands.insertOrderedList,{"list-style-type":"lower-alpha"})})),Ns(5,"mat-icon",11),Is(),Rs(6,"button",6),Hs("click",(function(){Xe(t);const e=Us();return e.homeTab.execute(e.Commands.insertOrderedList,{"list-style-type":"lower-greek"})})),Ns(7,"mat-icon",12),Is(),Is(),Rs(8,"div"),Rs(9,"button",6),Hs("click",(function(){Xe(t);const e=Us();return e.homeTab.execute(e.Commands.insertOrderedList,{"list-style-type":"lower-roman"})})),Ns(10,"mat-icon",13),Is(),Rs(11,"button",6),Hs("click",(function(){Xe(t);const e=Us();return e.homeTab.execute(e.Commands.insertOrderedList,{"list-style-type":"upper-alpha"})})),Ns(12,"mat-icon",14),Is(),Rs(13,"button",6),Hs("click",(function(){Xe(t);const e=Us();return e.homeTab.execute(e.Commands.insertOrderedList,{"list-style-type":"upper-roman"})})),Ns(14,"mat-icon",15),Is(),Is(),Is()}}let eT=(()=>{class t{constructor(t){this.homeTab=t,this.Commands=Fp}}return t.\u0275fac=function(e){return new(e||t)(Ts(YC))},t.\u0275cmp=fe({type:t,selectors:[["app-list-buttons"]],decls:10,vars:6,consts:[[1,"sm",3,"dropDownMenu","isActive","disabled","mainBtnClick",6,"matTooltip"],["svgIcon","unordered-list"],["listMenu",""],["svgIcon","ordered-list"],["orderedListMenu",""],[1,"list-type-menu"],["mat-button","",3,"click"],["svgIcon","list-bull-default"],["svgIcon","list-bull-circle"],["svgIcon","list-bull-square"],["svgIcon","list-num-default"],["svgIcon","list-num-lower-alpha"],["svgIcon","list-num-lower-greek"],["svgIcon","list-num-lower-roman"],["svgIcon","list-num-upper-alpha"],["svgIcon","list-num-upper-roman"]],template:function(t,e){if(1&t&&(Rs(0,"app-split-button",0),rl(1,ZO),Hs("mainBtnClick",(function(){return e.homeTab.execute(e.Commands.insertUnorderedList)})),Ns(2,"mat-icon",1),Es(3,JO,7,0,"ng-template",null,2,Vl),Is(),Rs(5,"app-split-button",0),rl(6,QO),Hs("mainBtnClick",(function(){return e.homeTab.execute(e.Commands.insertOrderedList)})),Ns(7,"mat-icon",3),Es(8,tT,15,0,"ng-template",null,4,Vl),Is()),2&t){const t=Os(4),n=Os(9);Ds("dropDownMenu",t)("isActive",e.homeTab.isActive(e.Commands.insertUnorderedList))("disabled",e.homeTab.isDisabled(e.Commands.insertUnorderedList)),pi(5),Ds("dropDownMenu",n)("isActive",e.homeTab.isActive(e.Commands.insertOrderedList))("disabled",e.homeTab.isDisabled(e.Commands.insertOrderedList))}},directives:[XO,qE,y_,Wx],styles:[".list-type-menu[_ngcontent-%COMP%] {\n      background: white;\n      padding: 4px;\n      border: 1px solid #ccc;\n      border-radius: 3px;\n      box-shadow: 0 4px 8px 0 rgba(34, 47, 62, .1);\n    }\n\n    .list-type-menu[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n      display: block;\n      width: 48px;\n      height: 48px;\n    }"]}),t})(),nT=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[w_],imports:[[xf,Ox,rC,KE,qO]]}),t})();he(q_,[Pd,Fd,Ld,Vd,Zd,Xd,Wd,qd,Gd,Yd,Kd,cx,Dw,Nw,Q_,bw,Cw,K_,Aw,Iw,ww,ow,sw,px,wx,Cx,kx,gx,yx,lx,sx,ex,Yp,Nx,Px,Lx,Ip,Rp,_m,Mm,Am,Pm,Nm,qm,Km,Gm,Xm,uE,zy,Dy,hE,lE,vE,bE,gk,Mk,wk,xk,Ck,Sk,kk,OE,_E,y_,gS,cS,_S,sS,CS,BS,PS,jS,LS,fy,HS,VS,ky,XS,KS,Wx,qx,Qk,Zk,qE,GE,WO,UO,$O,q_,Mx,YC,XO,ZC,eT,XE],[rf,uf,of,hf,wf,gf,vf,af,bf,lf,df,ff,mf]),he(YC,[Pd,Fd,Ld,Vd,Zd,Xd,Wd,qd,Gd,Yd,Kd,cx,Dw,Nw,Q_,bw,Cw,K_,Aw,Iw,ww,ow,sw,px,wx,Cx,kx,gx,yx,lx,sx,ex,Yp,Nx,Px,Lx,Ip,Rp,_m,Mm,Am,Pm,Nm,qm,Km,Gm,Xm,uE,zy,Dy,hE,lE,vE,bE,gk,Mk,wk,xk,Ck,Sk,kk,OE,_E,y_,gS,cS,_S,sS,CS,BS,PS,jS,LS,fy,HS,VS,ky,XS,KS,Wx,qx,Qk,Zk,qE,GE,WO,UO,$O,q_,Mx,YC,XO,ZC,eT,XE],[rf,uf,of,hf,wf,gf,vf,af,bf,lf,df,ff,mf]);let rT=(()=>{class t{}return t.\u0275mod=ve({type:t,bootstrap:[eC]}),t.\u0275inj=ct({factory:function(e){return new(e||t)},providers:[],imports:[[Qf,Zb,Ox,nC,rC,nT]]}),t})();(function(){if(_r)throw new Error("Cannot enable prod mode after platform setup.");yr=!1})(),Xf().bootstrapModule(rT).catch(t=>console.error(t))},zdkC:function(t,e){!function(t){"use strict";var e,n,r,i,o=tinymce.util.Tools.resolve("tinymce.PluginManager"),s=function(){},a=function(t){return function(){return t}},u=function(t){return t},l=a(!1),c=a(!0),d=function(){return f},f=(e=function(t){return t.isNone()},i={fold:function(t,e){return t()},is:l,isSome:l,isNone:c,getOr:r=function(t){return t},getOrThunk:n=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:a(null),getOrUndefined:a(void 0),or:r,orThunk:n,map:d,each:s,bind:d,exists:l,forall:c,filter:d,equals:e,equals_:e,toArray:function(){return[]},toString:a("none()")},Object.freeze&&Object.freeze(i),i),h=function(t){var e=a(t),n=function(){return i},r=function(e){return e(t)},i={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:c,isNone:l,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return h(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?i:f},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(l,(function(e){return n(t,e)}))}};return i},m={some:h,none:d,from:function(t){return null==t?f:h(t)}},p=function(t){return function(e){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(e)===t}},g=p("string"),v=p("object"),b=p("array"),y=p("boolean"),_=p("function"),w=p("number"),x=Array.prototype.push,C=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!b(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);x.apply(e,t[n])}return e},S=(_(Array.from),function(){return(S=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)}),k={},E={exports:k};!function(t,e,n,r){!function(t){"object"==typeof e&&void 0!==n?n.exports=t():("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=t()}((function(){return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};e[s][0].call(l.exports,(function(t){return i(e[s][1][t]||t)}),l,l.exports,t,e,n,r)}return n[s].exports}for(var o=!1,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){var r,i,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(t){r=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,c=[],d=!1,f=-1;function h(){d&&l&&(d=!1,l.length?c=l.concat(c):f=-1,c.length&&m())}function m(){if(!d){var t=u(h);d=!0;for(var e=c.length;e;){for(l=c,c=[];++f<e;)l&&l[f].run();f=-1,e=c.length}l=null,d=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||d||u(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){!function(n){var r=setTimeout;function i(){}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function s(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(i){return void u(e.promise,i)}a(e.promise,r)}else(1===t._state?a:u)(e.promise,t._value)}))):t._deferreds.push(e)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void d((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(s){u(t,s)}var r,i}function u(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&o._immediateFn((function(){t._handled||o._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)s(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function d(t,e){var n=!1;try{t((function(t){n||(n=!0,a(e,t))}),(function(t){n||(n=!0,u(e,t))}))}catch(r){if(n)return;n=!0,u(e,r)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(i);return s(this,new c(t,e,n)),n},o.all=function(t){var e=Array.prototype.slice.call(t);return new o((function(t,n){if(0===e.length)return t([]);var r=e.length;function i(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){i(o,t)}),n)}e[o]=s,0==--r&&t(e)}catch(u){n(u)}}for(var o=0;o<e.length;o++)i(o,e[o])}))},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o((function(e){e(t)}))},o.reject=function(t){return new o((function(e,n){n(t)}))},o.race=function(t){return new o((function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)}))},o._immediateFn="function"==typeof t?function(e){t(e)}:function(t){r(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},o._setImmediateFn=function(t){o._immediateFn=t},o._setUnhandledRejectionFn=function(t){o._unhandledRejectionFn=t},void 0!==e&&e.exports?e.exports=o:n.Promise||(n.Promise=o)}(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,r){var i=t("process/browser.js").nextTick,o=Function.prototype.apply,s=Array.prototype.slice,a={},u=0;function l(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new l(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new l(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=u++,r=!(arguments.length<2)&&s.call(arguments,1);return a[e]=!0,i((function(){a[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof r?r:function(t){delete a[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var r=t("promise-polyfill"),i="undefined"!=typeof window?window:Function("return this;")();e.exports={boltExport:i.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))}(0,k,E);var O,T=E.exports.boltExport,A=function(e){var n=m.none(),r=[],i=function(t){o()?s(t):r.push(t)},o=function(){return n.isSome()},s=function(e){n.each((function(n){t.setTimeout((function(){e(n)}),0)}))};return e((function(t){n=m.some(t),function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}(r,s),r=[]})),{get:i,map:function(t){return A((function(e){i((function(n){e(t(n))}))}))},isReady:o}},D={nu:A,pure:function(t){return A((function(e){e(t)}))}},M=function(e){t.setTimeout((function(){throw e}),0)},R=function(t){var e=function(e){t().then(e,M)};return{map:function(e){return R((function(){return t().then(e)}))},bind:function(e){return R((function(){return t().then((function(t){return e(t).toPromise()}))}))},anonBind:function(e){return R((function(){return t().then((function(){return e.toPromise()}))}))},toLazy:function(){return D.nu(e)},toCached:function(){var e=null;return R((function(){return null===e&&(e=t()),e}))},toPromise:t,get:e}},I=function(t){return R((function(){return new T(t)}))},N=function(t){return{is:function(e){return t===e},isValue:c,isError:l,getOr:a(t),getOrThunk:a(t),getOrDie:a(t),or:function(e){return N(t)},orThunk:function(e){return N(t)},fold:function(e,n){return n(t)},map:function(e){return N(e(t))},mapError:function(e){return N(t)},each:function(e){e(t)},bind:function(e){return e(t)},exists:function(e){return e(t)},forall:function(e){return e(t)},toOption:function(){return m.some(t)}}},z=function(t){return{is:l,isValue:l,isError:c,getOr:u,getOrThunk:function(t){return t()},getOrDie:function(){return(e=String(t),function(){throw new Error(e)})();var e},or:function(t){return t},orThunk:function(t){return t()},fold:function(e,n){return e(t)},map:function(e){return z(t)},mapError:function(e){return z(e(t))},each:s,bind:function(e){return z(t)},exists:l,forall:c,toOption:m.none}},P={value:N,error:z,fromOption:function(t,e){return t.fold((function(){return z(e)}),N)}},F=function(e){return S(S({},e),{toCached:function(){return F(e.toCached())},bindFuture:function(t){return F(e.bind((function(e){return e.fold((function(t){return e=P.error(t),R((function(){return T.resolve(e)}));var e}),(function(e){return t(e)}))})))},bindResult:function(t){return F(e.map((function(e){return e.bind(t)})))},mapResult:function(t){return F(e.map((function(e){return e.map(t)})))},mapError:function(t){return F(e.map((function(e){return e.mapError(t)})))},foldResult:function(t,n){return e.map((function(e){return e.fold(t,n)}))},withTimeout:function(n,r){return F(I((function(i){var o=!1,s=t.setTimeout((function(){o=!0,i(P.error(r()))}),n);e.get((function(e){o||(t.clearTimeout(s),i(e))}))})))}})},B=Object.prototype.hasOwnProperty,L=(O=function(t,e){return v(t)&&v(e)?L(t,e):e},function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];if(0===t.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<t.length;r++){var i=t[r];for(var o in i)B.call(i,o)&&(n[o]=O(n[o],i[o]))}return n}),H=(void 0!==t.window||Function("return this;")(),function(e,n,r){!function(e,n,r){if(!(g(r)||y(r)||w(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")}(e.dom(),n,r)}),V=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:a(t)}},j=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),U=tinymce.util.Tools.resolve("tinymce.util.Promise"),$=tinymce.util.Tools.resolve("tinymce.util.XHR"),W=function(t){return t.getParam("images_upload_url","","string")},q=function(t){return t.getParam("images_upload_handler",void 0,"function")},G=function(t){return t.getParam("image_dimensions",!0,"boolean")},Y=W,K=q,X=function(t,e){return Math.max(parseInt(t,10),parseInt(e,10))},Z=function(t){return t&&(t=t.replace(/px$/,"")),t},Q=function(t){return t.length>0&&/^[0-9]+$/.test(t)&&(t+="px"),t},J=function(t){if(t.margin){var e=String(t.margin).split(" ");switch(e.length){case 1:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[0],t["margin-bottom"]=t["margin-bottom"]||e[0],t["margin-left"]=t["margin-left"]||e[0];break;case 2:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[1],t["margin-bottom"]=t["margin-bottom"]||e[0],t["margin-left"]=t["margin-left"]||e[1];break;case 3:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[1],t["margin-bottom"]=t["margin-bottom"]||e[2],t["margin-left"]=t["margin-left"]||e[1];break;case 4:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[1],t["margin-bottom"]=t["margin-bottom"]||e[2],t["margin-left"]=t["margin-left"]||e[3]}delete t.margin}return t},tt=function(t){return"IMG"===t.nodeName&&(t.hasAttribute("data-mce-object")||t.hasAttribute("data-mce-placeholder"))},et=j.DOM,nt=function(t){return t.style.marginLeft&&t.style.marginRight&&t.style.marginLeft===t.style.marginRight?Z(t.style.marginLeft):""},rt=function(t){return t.style.marginTop&&t.style.marginBottom&&t.style.marginTop===t.style.marginBottom?Z(t.style.marginTop):""},it=function(t){return t.style.borderWidth?Z(t.style.borderWidth):""},ot=function(t,e){return t.hasAttribute(e)?t.getAttribute(e):""},st=function(t,e){return t.style[e]?t.style[e]:""},at=function(t){return null!==t.parentNode&&"FIGURE"===t.parentNode.nodeName},ut=function(t,e,n){t.setAttribute(e,n)},lt=function(t,e){var n=t.getAttribute("style"),r=e(null!==n?n:"");r.length>0?(t.setAttribute("style",r),t.setAttribute("data-mce-style",r)):t.removeAttribute("style")},ct=function(t,e){return function(t,n,r){t.style[n]?(t.style[n]=Q(r),lt(t,e)):ut(t,n,r)}},dt=function(t,e){return t.style[e]?Z(t.style[e]):ot(t,e)},ft=function(t,e){var n=Q(e);t.style.marginLeft=n,t.style.marginRight=n},ht=function(t,e){var n=Q(e);t.style.marginTop=n,t.style.marginBottom=n},mt=function(t,e){var n=Q(e);t.style.borderWidth=n},pt=function(t,e){t.style.borderStyle=e},gt=function(t){return"FIGURE"===t.nodeName},vt=function(t){return 0===et.getAttrib(t,"alt").length&&"presentation"===et.getAttrib(t,"role")},bt=function(t){return vt(t)?"":ot(t,"alt")},yt=function(t,e){return{src:ot(e,"src"),alt:bt(e),title:ot(e,"title"),width:dt(e,"width"),height:dt(e,"height"),class:ot(e,"class"),style:t(ot(e,"style")),caption:at(e),hspace:nt(e),vspace:rt(e),border:it(e),borderStyle:st(e,"borderStyle"),isDecorative:vt(e)}},_t=function(t,e,n,r,i){n[r]!==e[r]&&i(t,r,n[r])},wt=function(t,e,n,r){if(n){et.setAttrib(t,"role","presentation");var i=V(t);H(i,"alt","")}else r.hasAccessibilityOptions?et.setAttrib(t,"alt",e):(i=V(t),H(i,"alt",e)),"presentation"===et.getAttrib(t,"role")&&et.setAttrib(t,"role","")},xt=function(t,e){return function(n,r,i){t(n,i),lt(n,e)}},Ct=function(t,e,n,r){var i=yt(t,n);_t(n,i,e,"caption",(function(t,e,n){return function(t){at(t)?function(t){var e=t.parentNode;et.insertAfter(t,e),et.remove(e)}(t):function(t){var e=et.create("figure",{class:"image"});et.insertAfter(e,t),e.appendChild(t),e.appendChild(et.create("figcaption",{contentEditable:"true"},"Caption")),e.contentEditable="false"}(t)}(t)})),_t(n,i,e,"src",ut),_t(n,i,e,"title",ut),_t(n,i,e,"width",ct(0,t)),_t(n,i,e,"height",ct(0,t)),_t(n,i,e,"class",ut),_t(n,i,e,"style",xt((function(t,e){return ut(t,"style",e)}),t)),_t(n,i,e,"hspace",xt(ft,t)),_t(n,i,e,"vspace",xt(ht,t)),_t(n,i,e,"border",xt(mt,t)),_t(n,i,e,"borderStyle",xt(pt,t)),function(t,e,n,r){n.alt===e.alt&&n.isDecorative===e.isDecorative||wt(t,n.alt,n.isDecorative,r)}(n,i,e,r)},St=function(t,e){var n=t.dom.styles.parse(e),r=J(n),i=t.dom.styles.parse(t.dom.styles.serialize(r));return t.dom.styles.serialize(i)},kt=function(t){var e=t.selection.getNode(),n=t.dom.getParent(e,"figure.image");return n?t.dom.select("img",n)[0]:e&&("IMG"!==e.nodeName||tt(e))?null:e},Et=function(t,e){var n=t.dom,r=n.getParent(e.parentNode,(function(e){return!!t.schema.getTextBlockElements()[e.nodeName]}),t.getBody());return r?n.split(r,e):e},Ot=tinymce.util.Tools.resolve("tinymce.util.Tools"),Tt=function(t){return g(t.value)?t.value:""},At=function(t,e){var n=[];return Ot.each(t,(function(t){var r=g(t.text)?t.text:g(t.title)?t.title:"";if(void 0!==t.menu){var i=At(t.menu,e);n.push({text:r,items:i})}else{var o=e(t);n.push({text:r,value:o})}})),n},Dt=function(t){return void 0===t&&(t=Tt),function(e){return e?m.from(e).map((function(e){return At(e,t)})):m.none()}},Mt=function(t,e){return function(t,n){for(var r=0;r<t.length;r++){var i=function(t){return Object.prototype.hasOwnProperty.call(t,"items")}(o=t[r])?Mt(o.items,e):o.value===e?m.some(o):m.none();if(i.isSome())return i}var o;return m.none()}(t)},Rt=Dt,It=function(t,e){return t.bind((function(t){return Mt(t,e)}))},Nt=function(t){var e,n=Rt((function(e){return t.convertURL(e.value||e.url,"src")})),r=I((function(e){!function(t,e){var n=function(t){return t.getParam("image_list",!1)}(t);"string"==typeof n?$.send({url:n,success:function(t){e(JSON.parse(t))}}):"function"==typeof n?n(e):e(n)}(t,(function(t){e(n(t).map((function(t){return C([[{text:"None",value:""}],t])})))}))})),i=(e=function(t){return t.getParam("image_class_list")}(t),Dt(Tt)(e)),o=function(t){return t.getParam("image_advtab",!1,"boolean")}(t),s=function(t){return t.getParam("image_uploadtab",!0,"boolean")}(t),a=function(t){return!!W(t)}(t),u=function(t){return!!q(t)}(t),l=function(t){var e=kt(t);return e?yt((function(e){return St(t,e)}),e):{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}}(t),c=function(t){return t.getParam("image_description",!0,"boolean")}(t),d=function(t){return t.getParam("image_title",!1,"boolean")}(t),f=G(t),h=function(t){return t.getParam("image_caption",!1,"boolean")}(t),p=function(t){return t.getParam("a11y_advanced_options",!1,"boolean")}(t),v=Y(t),b=function(t){return t.getParam("images_upload_base_path",void 0,"string")}(t),y=function(t){return t.getParam("images_upload_credentials",!1,"boolean")}(t),_=K(t),w=function(t){return t.getParam("automatic_uploads",!0,"boolean")}(t),x=m.some(function(t){return t.getParam("image_prepend_url","","string")}(t)).filter((function(t){return g(t)&&t.length>0}));return r.map((function(t){return{image:l,imageList:t,classList:i,hasAdvTab:o,hasUploadTab:s,hasUploadUrl:a,hasUploadHandler:u,hasDescription:c,hasImageTitle:d,hasDimensions:f,hasImageCaption:h,url:v,basePath:b,credentials:y,handler:_,prependURL:x,hasAccessibilityOptions:p,automaticUploads:w}}))},zt=function(t){var e=t.imageList.map((function(t){return{name:"images",type:"selectbox",label:"Image list",items:t}})),n={name:"alt",type:"input",label:"Alternative description",disabled:t.hasAccessibilityOptions&&t.image.isDecorative},r=t.classList.map((function(t){return{name:"classes",type:"selectbox",label:"Class",items:t}}));return C([[{name:"src",type:"urlinput",filetype:"image",label:"Source"}],e.toArray(),t.hasAccessibilityOptions&&t.hasDescription?[{type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]}]:[],t.hasDescription?[n]:[],t.hasImageTitle?[{name:"title",type:"input",label:"Image title"}]:[],t.hasDimensions?[{name:"dimensions",type:"sizeinput"}]:[],[{type:"grid",columns:2,items:C([r.toArray(),t.hasImageCaption?[{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[]])}]])},Pt=function(t){return{title:"General",name:"general",items:zt(t)}},Ft=zt,Bt=function(t){return{src:{value:t.src,meta:{}},images:t.src,alt:t.alt,title:t.title,dimensions:{width:t.width,height:t.height},classes:t.class,caption:t.caption,style:t.style,vspace:t.vspace,border:t.border,hspace:t.hspace,borderstyle:t.borderStyle,fileinput:[],isDecorative:t.isDecorative}},Lt=function(t){return{src:t.src.value,alt:t.alt,title:t.title,width:t.dimensions.width,height:t.dimensions.height,class:t.classes,style:t.style,caption:t.caption,hspace:t.hspace,vspace:t.vspace,border:t.border,borderStyle:t.borderstyle,isDecorative:t.isDecorative}},Ht=function(t,e,n,r){(function(t,e){var n=e.getData();(function(t,e){return/^(?:[a-zA-Z]+:)?\/\//.test(e)?m.none():t.prependURL.bind((function(t){return e.substring(0,t.length)!==t?m.some(t+e):m.none()}))})(t,n.src.value).each((function(t){e.setData({src:{value:t,meta:n.src.meta}})}))})(e,r),function(t,e){var n=e.getData(),r=n.src.meta;if(void 0!==r){var i=L({},n);!function(t,e,n){t.hasDescription&&g(n.alt)&&(e.alt=n.alt),t.hasAccessibilityOptions&&(e.isDecorative=n.isDecorative||e.isDecorative||!1),t.hasImageTitle&&g(n.title)&&(e.title=n.title),t.hasDimensions&&(g(n.width)&&(e.dimensions.width=n.width),g(n.height)&&(e.dimensions.height=n.height)),g(n.class)&&It(t.classList,n.class).each((function(t){e.classes=t.value})),t.hasImageCaption&&y(n.caption)&&(e.caption=n.caption),t.hasAdvTab&&(g(n.style)&&(e.style=n.style),g(n.vspace)&&(e.vspace=n.vspace),g(n.border)&&(e.border=n.border),g(n.hspace)&&(e.hspace=n.hspace),g(n.borderstyle)&&(e.borderstyle=n.borderstyle))}(t,i,r),e.setData(i)}}(e,r),function(t,e,n,r){var i=r.getData(),o=i.src.meta||{};o.width||o.height||!e.hasDimensions||t.imageSize(i.src.value).get((function(t){t.each((function(t){n.open&&r.setData({dimensions:t})}))}))}(t,e,n,r),function(t,e,n){var r=n.getData(),i=It(t.imageList,r.src.value);e.prevImage=i,n.setData({images:i.map((function(t){return t.value})).getOr("")})}(e,n,r)},Vt=function(e,n,r){return function(i,o){"src"===o.name?Ht(e,n,r,i):"images"===o.name?function(t,e,n,r){var i=r.getData(),o=It(e.imageList,i.images);o.each((function(t){var e=""===i.alt||n.prevImage.map((function(t){return t.text===i.alt})).getOr(!1);r.setData(e?""===t.value?{src:t,alt:n.prevAlt}:{src:t,alt:t.text}:{src:t})})),n.prevImage=o,Ht(t,e,n,r)}(e,n,r,i):"alt"===o.name?r.prevAlt=i.getData().alt:"style"===o.name?function(t,e){var n=e.getData(),r=function(t,e,n){var r=J(t(n.style)),i=L({},n);return i.vspace=function(t){return t["margin-top"]&&t["margin-bottom"]&&t["margin-top"]===t["margin-bottom"]?Z(String(t["margin-top"])):""}(r),i.hspace=function(t){return t["margin-right"]&&t["margin-left"]&&t["margin-right"]===t["margin-left"]?Z(String(t["margin-right"])):""}(r),i.border=function(t){return t["border-width"]?Z(String(t["border-width"])):""}(r),i.borderstyle=function(t){return t["border-style"]?String(t["border-style"]):""}(r),i.style=function(t,e,n){return e(t(e(n)))}(t,e,r),i}(t.parseStyle,t.serializeStyle,n);e.setData(r)}(e,i):"vspace"===o.name||"hspace"===o.name||"border"===o.name||"borderstyle"===o.name?function(e,n,r){var i=L(Bt(n.image),r.getData()),o=function(e,n){var r=t.document.createElement("img");return ut(r,"style",n.style),(nt(r)||""!==n.hspace)&&ft(r,n.hspace),(rt(r)||""!==n.vspace)&&ht(r,n.vspace),(it(r)||""!==n.border)&&mt(r,n.border),(function(t){return st(t,"borderStyle")}(r)||""!==n.borderStyle)&&pt(r,n.borderStyle),e(r.getAttribute("style"))}(e.normalizeCss,Lt(i));r.setData({style:o})}(e,n,i):"fileinput"===o.name?function(e,n,r,i){var o,a=i.getData();i.block("Uploading image"),(o=a.fileinput,0===o.length?m.none():m.some(o[0])).fold((function(){i.unblock()}),(function(o){var a,u,l,c=t.URL.createObjectURL(o),d=(a=Ot.extend({credentials:!1,handler:u=function(e,n,r,i){var o,s;(o=new t.XMLHttpRequest).open("POST",a.url),o.withCredentials=a.credentials,o.upload.onprogress=function(t){i(t.loaded/t.total*100)},o.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=function(){var t,e,i;o.status<200||o.status>=300?r("HTTP Error: "+o.status):(t=JSON.parse(o.responseText))&&"string"==typeof t.location?n((i=t.location,(e=a.basePath)?e.replace(/\/$/,"")+"/"+i.replace(/^\//,""):i)):r("Invalid JSON: "+o.responseText)},(s=new t.FormData).append("file",e.blob(),e.filename()),o.send(s)}},a={url:n.url,basePath:n.basePath,credentials:n.credentials,handler:n.handler}),{upload:function(t){return a.url||a.handler!==u?function(t,e){return new U((function(n,r){try{e(t,n,r,s)}catch(i){r(i.message)}}))}(t,a.handler):U.reject("Upload url missing from the settings.")}}),f=function(){i.unblock(),t.URL.revokeObjectURL(c)},h=function(t){i.setData({src:{value:t,meta:{}}}),i.showTab("general"),Ht(e,n,r,i)};(l=o,new U((function(e,n){var r=new t.FileReader;r.onload=function(){e(r.result)},r.onerror=function(){n(r.error.message)},r.readAsDataURL(l)}))).then((function(t){var r=e.createBlobCache(o,c,t);n.automaticUploads?d.upload(r).then((function(t){h(t),f()})).catch((function(t){f(),e.alertErr(i,t)})):(e.addToBlobCache(r),h(r.blobUri()),i.unblock())}))}))}(e,n,r,i):"isDecorative"===o.name&&(i.getData().isDecorative?i.disable("alt"):i.enable("alt"))}},jt=function(t){return function(){t.open=!1}},Ut=function(t){return t.hasAdvTab||t.hasUploadUrl||t.hasUploadHandler?{type:"tabpanel",tabs:C([[Pt(t)],t.hasAdvTab?[{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"selectbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}]:[],t.hasUploadTab&&(t.hasUploadUrl||t.hasUploadHandler)?[{title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]}]:[]])}:{type:"panel",items:Ft(t)}},$t=function(e){return function(n){return function(r){var i=L(Bt(n.image),r.getData());e.undoManager.transact((function(){!function(e,n,r){var i=kt(e);i?n.src?function(t,e,n){var r=kt(t);Ct((function(e){return St(t,e)}),e,r,n),function(t,e){t.dom.setAttrib(e,"src",e.getAttribute("src"))}(t,r),gt(r.parentNode)?(Et(t,r.parentNode),t.selection.select(r.parentNode)):(t.selection.select(r),function(t,e,n){var r=function(){n.onload=n.onerror=null,t.selection&&(t.selection.select(n),t.nodeChanged())};n.onload=function(){e.width||e.height||!G(t)||t.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)}),r()},n.onerror=r}(t,e,r))}(e,n,r):function(t,e){if(e){var n=t.dom.is(e.parentNode,"figure.image")?e.parentNode:e;t.dom.remove(n),t.focus(),t.nodeChanged(),t.dom.isEmpty(t.getBody())&&(t.setContent(""),t.selection.setCursorLocation())}}(e,i):n.src&&function(e,n,r){var i=function(e,n,r){var i=t.document.createElement("img");if(Ct(e,S(S({},n),{caption:!1}),i,r),wt(i,n.alt,n.isDecorative,r),n.caption){var o=et.create("figure",{class:"image"});return o.appendChild(i),o.appendChild(et.create("figcaption",{contentEditable:"true"},"Caption")),o.contentEditable="false",o}return i}((function(t){return St(e,t)}),n,r);e.dom.setAttrib(i,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(i.outerHTML);var o=e.dom.select('*[data-mce-id="__mcenew"]')[0];if(e.dom.setAttrib(o,"data-mce-id",null),gt(o)){var s=Et(e,o);e.selection.select(s)}else e.selection.select(o)}(e,n,r)}(e,Lt(i),n)})),e.editorUpload.uploadImagesAuto(),r.close()}}},Wt=function(e){return function(n){return F(I((function(r){!function(e,n){var i=t.document.createElement("img"),o=function(t){var e;i.parentNode&&i.parentNode.removeChild(i),e=t.map((function(t){return{width:String(t.width),height:String(t.height)}})),r(e)};i.onload=function(){var t=X(i.width,i.clientWidth),e=X(i.height,i.clientHeight);o(P.value({width:t,height:e}))},i.onerror=function(){o(P.error("Failed to get image dimensions for: "+e))};var s=i.style;s.visibility="hidden",s.position="fixed",s.bottom=s.left="0px",s.width=s.height="auto",t.document.body.appendChild(i),i.src=e}(e.documentBaseURI.toAbsolute(n))})))}},qt=function(t){return function(e,n,r){return t.editorUpload.blobCache.create({blob:e,blobUri:n,name:e.name?e.name.replace(/\.[^\.]+$/,""):null,base64:r.split(",")[1]})}},Gt=function(t){return function(e){t.editorUpload.blobCache.add(e)}},Yt=function(t){return function(e,n){t.windowManager.alert(n,e.close)}},Kt=function(t){return function(e){return St(t,e)}},Xt=function(t){return function(e){return t.dom.parseStyle(e)}},Zt=function(t){return function(e,n){return t.dom.serializeStyle(e,n)}},Qt=function(t){var e={onSubmit:$t(t),imageSize:Wt(t),addToBlobCache:Gt(t),createBlobCache:qt(t),alertErr:Yt(t),normalizeCss:Kt(t),parseStyle:Xt(t),serializeStyle:Zt(t)};return{open:function(){return Nt(t).map(function(t){return function(e){var n=function(t){return{prevImage:It(t.imageList,t.image.src),prevAlt:t.image.alt,open:!0}}(e);return{title:"Insert/Edit Image",size:"normal",body:Ut(e),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Bt(e.image),onSubmit:t.onSubmit(e),onChange:Vt(t,e,n),onClose:jt(n)}}}(e)).get((function(e){t.windowManager.open(e)}))}}},Jt=function(t){var e=t.attr("class");return e&&/\bimage\b/.test(e)},te=function(t){return function(e){for(var n=e.length,r=function(e){e.attr("contenteditable",t?"true":null)};n--;){var i=e[n];Jt(i)&&(i.attr("contenteditable",t?"false":null),Ot.each(i.getAll("figcaption"),r))}}};o.add("image",(function(t){(function(t){t.on("PreInit",(function(){t.parser.addNodeFilter("figure",te(!0)),t.serializer.addNodeFilter("figure",te(!1))}))})(t),function(t){t.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Qt(t).open,onSetup:function(e){return t.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",e.setActive).unbind}}),t.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Qt(t).open}),t.ui.registry.addContextMenu("image",{update:function(t){return gt(t)||"IMG"===t.nodeName&&!tt(t)?["image"]:[]}})}(t),function(t){t.addCommand("mceImage",Qt(t).open)}(t)}))}(window)}},[[0,0]]]);